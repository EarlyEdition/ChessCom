/*
window.chesscom=window.chesscom||{},window.chesscom.routes=window.chesscom.routes||{},Object.assign(window.chesscom.routes,{web_fcm_callback_register:{tokens:[["text","/callback/fcm/register"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]},web_fcm_callback_browser_permission_request:{tokens:[["text","/callback/fcm/browser-permission-request"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:["POST"],schemes:["https"]}}),(("undefined"!=typeof self?self:this).wpChessCom_Yybx=("undefined"!=typeof self?self:this).wpChessCom_Yybx||[]).push([[7992,1753],{41128:function(e,t,s){"use strict";s.d(t,{U:function(){return getAmplitude}});var n=s(35750);Object.create,Object.defineProperty,Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.getPrototypeOf,Object.prototype.hasOwnProperty;let o;function getAmplitude(){var e;return(null==(e=window.chesscom)?void 0:e.amplitude)?window.chesscom.amplitude:(o||(o=s.e(3790).then(s.t.bind(s,63790,23)).then((({default:e})=>{var t,s,o,i;const{user:r,amplitudeKey:a}=window.context||{},c=r&&!r.isGuest?r.id:null,l={includeUtm:!0,includeReferrer:!0,includeGclid:!0,saveParamsReferrerOncePerSession:!1};if(null==(s=null==(t=window.chesscom)?void 0:t.features)?void 0:s.includes("amplitude_domain_proxy")){["www.chess.com","www.chess-4.com"].includes(window.location.hostname)&&(l.apiEndpoint=window.location.hostname.replace("www","amplitude"))}if(e.getInstance().init(a,null,l),e.getInstance().setUserId(c),null==(i=null==(o=window.chesscom)?void 0:o.features)?void 0:i.includes("marketing_middleware_serverside_device_id_generation")){const t=(0,n.ej)("me");if(t){const s=JSON.parse(t);e.getInstance().setDeviceId(s.deviceId)}}return window.chesscom.amplitude=e,e}))),o)}},22163:function(e,t,s){"use strict";s.d(t,{t:function(){return incrementUserProperties}});var n=s(41128),o=s(50547);async function incrementUserProperties(e){const t=await(0,n.U)();if(null==e)return;const s=new t.Identify;(0,o.Z)(e,((e,t)=>{s.add(t,e)})),t.getInstance().identify(s)}},93989:function(e,t,s){"use strict";s.d(t,{K:function(){return logEvent}});var n=s(41128),o=s(22163),i=s(14300);async function logEvent(e,t,s,r){const a=await(0,n.U)();await(0,i.j)(s),await(0,o.t)(r),a.getInstance().logEvent(e,t||{})}},14300:function(e,t,s){"use strict";s.d(t,{j:function(){return logUserProperties}});var n=s(41128);async function logUserProperties(e){const t=await(0,n.U)();null!=e&&t.getInstance().setUserProperties(e)}},50547:function(e,t,s){"use strict";var n=s(92414);t.Z=n.Z},18131:function(e,t,s){"use strict";s.d(t,{N:function(){return createComponentConfig},o:function(){return mergePropsData}});const createComponentConfig=(e,t)=>{const s=document.querySelector(e),n=e.replace(/#|\./g,""),o={[`${n}`]:{}};return null!=s&&(o[n]=Object.assign({el:e},t(s))),o},mergePropsData=(e,t)=>(e.propsData=Object.assign({},e.propsData,t),e)},48204:function(e,t,s){"use strict";s.r(t),s.d(t,{requestHandler:function(){return requestHandler}});var n=s(5752),o=s(423),i=s(93989);var r=s(32793);const a={apiKey:"AIzaSyAoMkjy3zKkqAcPqb2tazB-IOe98QR9psc",authDomain:"chesscom.firebaseapp.com",databaseURL:"https://chesscom.firebaseio.com",projectId:"chesscom",storageBucket:"chesscom.appspot.com",messagingSenderId:"27129061667",appId:"1:27129061667:web:0099c30132ad07e0d22c96"},c="BD1OOymDvZcsnbr0x6yb4QQFP29QOC1e_UzFXNQ1Km5F1K-KinJjBZW86K6_huzwMklH0hJSVXOyoax3RiKULLM";var l=s(87074),u=s(90425);s(95928);let d=null,m="";function getMessagingToken(e=!0){d.getToken().then((e=>{e&&l.Z.post(u.Z.generate("web_fcm_callback_register"),{token:e,browser:`${(0,r.qs)().name}${(0,r.qs)().version}`})})).catch((()=>{e&&getMessagingToken(!1)}))}function requestPermission(){const e="default"===Notification.permission;Notification.requestPermission().then((t=>{const s="granted"===t;s&&getMessagingToken(),e&&"default"!==t&&async function logNotificationBrowserPromptClick(e){window.chesscom.features.includes("notification_modal_amplitude")&&await(0,i.K)("Notifs System Prompt Clicked",{buttonClicked:e?"allowNotifs":"blockNotifs"},{pushNotifsEnabled:e})}(s)}))}function customDialogShown(e){l.Z.post(u.Z.generate("web_fcm_callback_browser_permission_request"),{allowed:e})}function requestHandler(e){e===o.U3.NOTIFICATIONS_REQUEST_CONFIRM&&(customDialogShown(!0),requestPermission()),e===o.U3.NOTIFICATIONS_REQUEST_DECLINE&&customDialogShown(!1)}window.context.user&&async function boot(){const e=await function registerWorker(){const e=window.Config.pathToFCMWorker;if(e)return navigator.serviceWorker.register(e).catch((()=>!1))}();e&&(n.ZP.initializeApp(a),d=n.ZP.messaging(),d.usePublicVapidKey(c),d.useServiceWorker(e),o.zC&&o.zC.forEach((e=>{e.allowed&&requestPermission()})),d.onTokenRefresh((()=>{getMessagingToken()})),d.onMessage((({data:e})=>{if(void 0===e)return;const t=e.body+e.link;if(t===m)return;m=t;const s={body:e.body,icon:e.icon};new Notification(e.title,s).onclick=()=>{window.open(e.link,"_blank")}})))}()},41252:function(e,t,s){"use strict";var n=s(19958),o=s(52439),i=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,s)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__spreadValues=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&__defNormalProp(e,s,t[s]);if(c)for(var s of c(t))u.call(t,s)&&__defNormalProp(e,s,t[s]);return e};o.default.mixin(n.Z);const instantiate=e=>{return new o.default((t=__spreadValues({},e),s={el:e.el,render:t=>t(e.component,{props:e.propsData}),store:e.store},r(t,a(s))));var t,s};t.Z=(e={})=>{const t={},createInstance=(s,n={})=>e[s]&&Object.keys(e[s]).length?(t[s]=t[s]||instantiate(__spreadValues(__spreadValues({},e[s]),n)),t[s]):null;return{createInstance:createInstance,createInstances:e=>{e.forEach((e=>createInstance(e)))},instances:t}}},19958:function(e,t,s){"use strict";var n=s(32305);t.Z={methods:{$trans:n.dW,$transChoice:n.jn}}},805:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(41252),o=s(423),i=s(18131),r=s(86437),a=s(93989);async function logNotificationModalClick(e){window.chesscom.features.includes("notification_modal_amplitude")&&await(0,a.K)("Notifs Preprompt Clicked",{buttonClicked:e})}var c=s(86673),l=s(48204),u={name:"NotificationsRequest",components:{Modal:r.Modal,OutsideClose:r.OutsideClose,V5Button:r.V5Button},props:{username:{type:String,required:!0}},data:()=>({show:!1,translations:o.Iz}),mounted(){c.Z.on(o.U3.SHOW_CUSTOM_REQUEST,(()=>{this.show=!0}))},methods:{onConfirm(){(0,l.requestHandler)(o.U3.NOTIFICATIONS_REQUEST_CONFIRM),logNotificationModalClick("yes"),this.show=!1},onCancel(){this.hideNotification(),logNotificationModalClick("no")},onClose(){this.hideNotification(),logNotificationModalClick("close")},hideNotification(){(0,l.requestHandler)(o.U3.NOTIFICATIONS_REQUEST_DECLINE),this.show=!1}}},d={component:"notifications-request-component",header:"notifications-request-header",subheader:"notifications-request-subheader",msg:"notifications-request-msg","msg-preview":"notifications-request-msg-preview","msg-main":"notifications-request-msg-main","msg-header":"notifications-request-msg-header","msg-body":"notifications-request-msg-body","msg-extra":"notifications-request-msg-extra",list:"notifications-request-list","list-item":"notifications-request-list-item",actions:"notifications-request-actions",cancel:"notifications-request-cancel"};var m=(0,s(51900).Z)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("Modal",{ref:"modal",attrs:{"auto-show":"","modal-width":"sm","close-on-action":"",corners:"rounded-lg"},on:{"modal-did-hide":e.onClose}},[s("outside-close",{on:{click:e.onClose}}),e._v(" "),s("div",{class:e.$style.component},[s("h2",{class:e.$style.header,domProps:{textContent:e._s(e.$trans("Enable Notifications"))}}),e._v(" "),s("div",{class:e.$style.msg},[s("img",{class:e.$style["msg-preview"],attrs:{width:"32",height:"32",src:"/bundles/web/images/color-icons/globe.svg",alt:e.$trans("Globe")}}),e._v(" "),s("div",{class:e.$style["msg-main"]},[s("div",{class:e.$style["msg-header"],domProps:{textContent:e._s(e.$trans("Your Move!"))}}),e._v(" "),s("div",{class:e.$style["msg-body"],domProps:{textContent:e._s(e.$trans("Opponent played c4."))}})]),e._v(" "),s("div",{class:e.$style["msg-extra"]},[s("span",{domProps:{textContent:e._s(e.$trans("Just now"))}}),e._v(" "),s("img",{attrs:{width:"28",height:"28",src:"/bundles/web/images/color-icons/staff.svg",alt:e.$trans("Staff")}})])]),e._v(" "),s("h3",{class:e.$style.subheader,domProps:{textContent:e._s(e.$trans("Allow and get notified when:"))}}),e._v(" "),s("ul",{class:e.$style.list},[s("li",{class:e.$style["list-item"],domProps:{textContent:e._s(e.$trans("Itâ€™s your turn to move"))}}),e._v(" "),s("li",{class:e.$style["list-item"],domProps:{textContent:e._s(e.$trans("You receive a message"))}}),e._v(" "),s("li",{class:e.$style["list-item"],domProps:{textContent:e._s(e.$trans("You get challenged by a friend"))}})]),e._v(" "),s("div",{class:e.$style.actions},[s("v5-button",{attrs:{"full-width":"",size:"large",theme:"primary"},domProps:{textContent:e._s(e.$trans("Yes, Remind Me!"))},on:{click:e.onConfirm}}),e._v(" "),s("button",{class:e.$style.cancel,attrs:{type:"button"},domProps:{textContent:e._s(e.$trans("No, thanks"))},on:{click:e.onCancel}})],1)])],1):e._e()}),[],!1,(function injectStyles(e){this.$style=d.locals||d}),null,null).exports,f=(0,i.N)(`#${o.xL.NOTIFICATIONS_REQUEST}`,(e=>({component:m,propsData:{username:e.getAttribute("username")}})));const p=Object.assign({},f);var h=(0,n.Z)(p)},51900:function(e,t,s){"use strict";function normalizeComponent(e,t,s,n,o,i,r,a){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=s,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):o&&(c=a?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function renderWithStyleInjection(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}s.d(t,{Z:function(){return normalizeComponent}})},86437:function(e,t,s){e.exports=s(84474)(279)}}]);
*/
