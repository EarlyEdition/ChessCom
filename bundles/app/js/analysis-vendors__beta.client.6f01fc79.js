(("undefined" != typeof self ? self : this).wpJsonpChessCom_analysis = ("undefined" != typeof self ? self : this).wpJsonpChessCom_analysis || []).push([[216], {
    87757: function(e, t, n) {
        e.exports = n(35666)
    },
    67104: function(e, t, n) {
        "use strict";
        n.d(t, {
            iB: function() {
                return a.J
            },
            $l: function() {
                return l.B
            },
            QY: function() {
                return l.u
            },
            sH: function() {
                return l.f
            },
            lA: function() {
                return l.G
            },
            nl: function() {
                return l.ca
            },
            th: function() {
                return l.bo
            },
            Wc: function() {
                return l.bp
            },
            gb: function() {
                return l.bG
            },
            qU: function() {
                return l.bJ
            },
            Kh: function() {
                return l.bL
            },
            YP: function() {
                return l.bM
            },
            dz: function() {
                return l.b4
            },
            rF: function() {
                return l.b0
            },
            Mo: function() {
                return l.bR
            },
            KW: function() {
                return l.b$
            },
            q4: function() {
                return l.c0
            },
            NQ: function() {
                return l.b1
            },
            NE: function() {
                return l.c4
            },
            dR: function() {
                return l.Z
            },
            RS: function() {
                return l.h
            },
            jw: function() {
                return l.c7
            },
            SH: function() {
                return l.bb
            },
            UG: function() {
                return l.c8
            },
            P$: function() {
                return l.m
            },
            C8: function() {
                return l.bu
            },
            jd: function() {
                return l.a_
            },
            nT: function() {
                return l.bw
            },
            ZD: function() {
                return getPGNForDownload
            },
            n8: function() {
                return mergePlugins
            }
        });
        var a = n(95653)
          , l = n(12117)
          , f = Object.defineProperty
          , h = Object.defineProperties
          , p = Object.getOwnPropertyDescriptors
          , m = Object.getOwnPropertySymbols
          , g = Object.prototype.hasOwnProperty
          , v = Object.prototype.propertyIsEnumerable
          , __defNormalProp = (e,t,n)=>t in e ? f(e, t, {
            enumerable: !0,
            configurable: !0,
            writable: !0,
            value: n
        }) : e[t] = n
          , __spreadValues = (e,t)=>{
            for (var n in t || (t = {}))
                g.call(t, n) && __defNormalProp(e, n, t[n]);
            if (m)
                for (var n of m(t))
                    v.call(t, n) && __defNormalProp(e, n, t[n]);
            return e
        }
          , __spreadProps = (e,t)=>h(e, p(t));
        var y = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            highlights: {
                "8_bit": "#ffff00",
                bases: "#f5cc2a",
                blackwhite: "#5b91b3",
                blue: "#00a5ff",
                brown: "#ffff00",
                bubblegum: "#de5d6f",
                burled_wood: "#ee9016",
                dark_wood: "#cc9122",
                dash: "#eca722",
                default: "#ffff00",
                glass: "#5b91b3",
                graffiti: "#f39011",
                green: "#ffff00",
                grey: "#a4b8c4",
                icy_sea: "#5ed7f1",
                light: "#a4b8c4",
                lolz: "#a3becd",
                marble: "#f0db86",
                marbleblue: "#65daf7",
                marblebrown: "#f39011",
                marblegreen: "#f0db86",
                metal: "#a3becd",
                natural: "#f0e464",
                nature: "#eef396",
                neon: "#6d90a6",
                newspaper: "#99976e",
                orange: "#ffff00",
                overlay: "#0d9acf",
                parchment: "#d8cc66",
                pink: "#de5d6f",
                purple: "#7dacc9",
                red: "#f8f893",
                sand: "#e2bc87",
                sky: "#65daf7",
                stone: "#36525f",
                tan: "#f7d84a",
                tournament: "#a4c25b",
                translucent: "#5b91b3",
                walnut: "#d1a52d",
                winboard: "#a4c25b",
                wood: "#cc9122",
                wooddark: "#ee9016",
                woodlight: "#d8cc66",
                woodmid: "#cc9122",
                woodolive: "#a3becd"
            }
        });
        Symbol.toStringTag,
        l.aU,
        l.aV,
        l.aT,
        l.aW,
        l.r;
        l.b2.Plugin.Name,
        l.b3.Plugin.Name;
        function getPGNForDownload(e) {
            if (!e)
                return "";
            const t = e.lastIndexOf('"]') + 2;
            return `${e.slice(0, t).trim()}\n\n${function revertAnnotationType(e) {
                const t = Object.keys(l.bk).sort(((e,t)=>t.length - e.length))
                  , n = new Set(l.bl);
                let a = e;
                return t.forEach((e=>{
                    var t, f;
                    const h = "N" === e
                      , p = `[^=]\\${null != (t = l.bm[e]) ? t : e}`
                      , m = h ? p : `\\${null != (f = l.bm[e]) ? f : e}`
                      , g = n.has(e) || h ? ` ${l.bk[e]}` : l.bk[e];
                    a = a.replace(new RegExp(m,"gm"), g)
                }
                )),
                a
            }(e.slice(t).trim())}`
        }
        function mergePlugins(e, t) {
            const n = Object.values(e).map((e=>e.name));
            return t.reduce(((e,t)=>{
                const a = n.indexOf(t.name);
                return a > -1 ? e.splice(a, 1, t) : e.push(t),
                e
            }
            ), e)
        }
    },
    12117: function(e, t, n) {
        "use strict";
        n.d(t, {
            $: function() {
                return getPieceBaseURL
            },
            A: function() {
                return It
            },
            B: function() {
                return yt
            },
            C: function() {
                return ChessError
            },
            D: function() {
                return Kn
            },
            E: function() {
                return go
            },
            F: function() {
                return vu
            },
            G: function() {
                return Xn
            },
            H: function() {
                return vs
            },
            I: function() {
                return qs
            },
            J: function() {
                return Tc
            },
            K: function() {
                return calculateArrowLength
            },
            L: function() {
                return calculateArrowSlope
            },
            M: function() {
                return getKnightArrowRotation
            },
            N: function() {
                return calculateArrowRotation
            },
            O: function() {
                return Cs
            },
            P: function() {
                return Or
            },
            Q: function() {
                return string2hex
            },
            R: function() {
                return Ds
            },
            S: function() {
                return Wi
            },
            T: function() {
                return jt
            },
            U: function() {
                return qi
            },
            V: function() {
                return ru
            },
            W: function() {
                return Zt
            },
            X: function() {
                return he
            },
            Y: function() {
                return getTuckPosition
            },
            Z: function() {
                return getColorAsLetter
            },
            _: function() {
                return getBoardURL
            },
            a: function() {
                return easeInOutQuadratic
            },
            a0: function() {
                return Us
            },
            a1: function() {
                return ca
            },
            a2: function() {
                return removeItems
            },
            a3: function() {
                return Ws
            },
            a4: function() {
                return Vs
            },
            a5: function() {
                return fa
            },
            a6: function() {
                return autoDetectRenderer
            },
            a7: function() {
                return yu
            },
            a8: function() {
                return ys
            },
            a9: function() {
                return correctBlendMode
            },
            aA: function() {
                return Lc
            },
            aB: function() {
                return sign
            },
            aC: function() {
                return Es
            },
            aD: function() {
                return la
            },
            aE: function() {
                return hex2string
            },
            aF: function() {
                return trimCanvas
            },
            aG: function() {
                return getResolutionOfUrl
            },
            aH: function() {
                return ma
            },
            aI: function() {
                return premultiplyTintToRgba
            },
            aJ: function() {
                return Mu
            },
            aK: function() {
                return uid
            },
            aL: function() {
                return tc
            },
            aM: function() {
                return cc
            },
            aN: function() {
                return Hc
            },
            aO: function() {
                return Ks
            },
            aP: function() {
                return sc
            },
            aQ: function() {
                return xs
            },
            aR: function() {
                return rgb2hex
            },
            aS: function() {
                return Mt
            },
            aT: function() {
                return getPieceShortStringFromUrl
            },
            aU: function() {
                return getElementBackgroundImage
            },
            aV: function() {
                return getFileRankFromSan
            },
            aW: function() {
                return getSanFromFileRank$1
            },
            a_: function() {
                return Un
            },
            aa: function() {
                return premultiplyRgba
            },
            ab: function() {
                return premultiplyTint
            },
            ac: function() {
                return Ru
            },
            ad: function() {
                return Pu
            },
            ae: function() {
                return Na
            },
            af: function() {
                return Eu
            },
            ag: function() {
                return createIndicesForQuads
            },
            ah: function() {
                return ws
            },
            ai: function() {
                return rc
            },
            aj: function() {
                return ic
            },
            ak: function() {
                return bs
            },
            al: function() {
                return pa
            },
            am: function() {
                return deprecation
            },
            an: function() {
                return Fs
            },
            ao: function() {
                return As
            },
            ap: function() {
                return Hs
            },
            aq: function() {
                return Bs
            },
            ar: function() {
                return $s
            },
            as: function() {
                return hex2rgb
            },
            at: function() {
                return Iu
            },
            au: function() {
                return js
            },
            av: function() {
                return xa
            },
            aw: function() {
                return Ba
            },
            ax: function() {
                return Mc
            },
            ay: function() {
                return kc
            },
            az: function() {
                return Pa
            },
            b: function() {
                return easeOutQuadratic
            },
            b$: function() {
                return createRecorderPlugin
            },
            b0: function() {
                return createHandPiecesPlugin
            },
            b1: function() {
                return createStandardPlugins
            },
            b2: function() {
                return F
            },
            b3: function() {
                return Qe
            },
            b4: function() {
                return createGame
            },
            bG: function() {
                return createBoardImagesPlugin
            },
            bJ: function() {
                return createCustomItemsPlugin
            },
            bL: function() {
                return createEcoPlugin
            },
            bM: function() {
                return createEffectsPlugin
            },
            bR: function() {
                return createHorizontalMoveListPlugin
            },
            bb: function() {
                return getOppositeColor
            },
            bk: function() {
                return xo
            },
            bl: function() {
                return So
            },
            bm: function() {
                return Ao
            },
            bo: function() {
                return mt
            },
            bp: function() {
                return ei
            },
            bu: function() {
                return xi
            },
            bw: function() {
                return Pi
            },
            bx: function() {
                return Nt
            },
            c: function() {
                return $i
            },
            c0: function() {
                return createSoundsPlugin
            },
            c4: function() {
                return dr
            },
            c5: function() {
                return fr
            },
            c7: function() {
                return getDefaultOptions
            },
            c8: function() {
                return isNode
            },
            ca: function() {
                return Zo
            },
            cf: function() {
                return easeOutSinusoidal
            },
            cg: function() {
                return hr
            },
            ch: function() {
                return easeOutElastic
            },
            ci: function() {
                return easeLinear
            },
            cj: function() {
                return easeOutCircular
            },
            ck: function() {
                return easeOutCubic
            },
            cl: function() {
                return Ki
            },
            cm: function() {
                return zi
            },
            cn: function() {
                return Ft
            },
            co: function() {
                return lr
            },
            cp: function() {
                return createExternallyResolvablePromise
            },
            cq: function() {
                return we
            },
            cr: function() {
                return isEdgeSquare
            },
            cs: function() {
                return tuckMarking
            },
            ct: function() {
                return setPositionBySquare
            },
            cu: function() {
                return $
            },
            cv: function() {
                return createCollection
            },
            cw: function() {
                return getColorAsNumber
            },
            d: function() {
                return getSanFromFileRank
            },
            e: function() {
                return easeInOutQuartic
            },
            f: function() {
                return Ln
            },
            g: function() {
                return getFileRankFromSan$1
            },
            h: function() {
                return getColorAsWord
            },
            i: function() {
                return Vt
            },
            j: function() {
                return createAnimator
            },
            k: function() {
                return isCastle
            },
            l: function() {
                return limitNumberWithinRange
            },
            m: function() {
                return makeSvgIcon
            },
            n: function() {
                return isCapture
            },
            o: function() {
                return getUndoMoveDetails
            },
            p: function() {
                return getArrowColor
            },
            q: function() {
                return rgbaToOpacity
            },
            r: function() {
                return rgbToHex
            },
            s: function() {
                return setTestData
            },
            t: function() {
                return createCoreEvent
            },
            u: function() {
                return f
            },
            v: function() {
                return getXYFromEvent
            },
            w: function() {
                return isTouchEvent
            },
            x: function() {
                return isRightButton
            },
            y: function() {
                return Nr
            },
            z: function() {
                return Rr
            }
        });
        var a, l, f, h, p, m, g, v, y, b, _, C, A, S, x, w, P, T, M, k, I = n(95653), O = Object.defineProperty, N = Object.defineProperties, R = Object.getOwnPropertyDescriptors, L = Object.getOwnPropertySymbols, D = Object.prototype.hasOwnProperty, B = Object.prototype.propertyIsEnumerable, __defNormalProp = (e,t,n)=>t in e ? O(e, t, {
            enumerable: !0,
            configurable: !0,
            writable: !0,
            value: n
        }) : e[t] = n, __spreadValues = (e,t)=>{
            for (var n in t || (t = {}))
                D.call(t, n) && __defNormalProp(e, n, t[n]);
            if (L)
                for (var n of L(t))
                    B.call(t, n) && __defNormalProp(e, n, t[n]);
            return e
        }
        , __spreadProps = (e,t)=>N(e, R(t));
        function is$1(e) {
            return function isType2(t) {
                return e === t.type
            }
        }
        function createAccessibilityPlugin(e=a.DefaultRightClickModifierKey) {
            return {
                beforeState: [{
                    condition: is$1(f.UserEvents.PointerdownLeft),
                    handler: function convertToPointerdownRightIfModifierKeyPressed(t, n) {
                        const {api: a, queue: l, run: h} = n;
                        if (a.keys.isPressed(e))
                            return l.add(h, __spreadProps(__spreadValues({}, t), {
                                type: f.UserEvents.PointerdownRight
                            })),
                            !1;
                        return !0
                    }
                }],
                name: a.Plugin.Name,
                requires: ["keys"]
            }
        }
        function isOneOf(e) {
            const t = new Set(Array.isArray(e) ? e : Object.values(e));
            return function isType2(e) {
                return t.has(e.type)
            }
        }
        function createAnalysisOverlayPlugin() {
            let e;
            return {
                destroy: function destroy10() {
                    null == e || e.removeAnalysisOverlay()
                },
                match: [{
                    condition: isOneOf([f.APIEvents.Load, f.OptionsEvents.Update, f.InstanceEvents.ModeChanged, f.InstanceEvents.RendererSet]),
                    handler: function updateAnalysisOverlay(t, n) {
                        const {options: a, renderer: l} = n;
                        !e && l && (e = l);
                        a.overlayInAnalysisMode ? null == e || e.addAnalysisOverlay() : null == e || e.removeAnalysisOverlay()
                    }
                }],
                name: C.Plugin.Name
            }
        }
        (l = a || (a = {})).DefaultRightClickModifierKey = "a",
        (l.Plugin || (l.Plugin = {})).Name = "accessibility",
        h = f || (f = {}),
        (p = h.LogCodes || (h.LogCodes = {})).Event = "Event",
        p.State = "State",
        (m = h.State || (h.State = {})).DraggingPiece = "draggingPiece",
        m.HideHoverSquare = "hideHoverSquare",
        m.MachineState = "machineState",
        m.PromotionMove = "promotionMove",
        m.SoundPlayed = "soundPlayed",
        m.SelectedPiece = "selectedPiece",
        (g = h.APIEvents || (h.APIEvents = {})).AddMove = "AddMove",
        g.BlinkHighlight = "BlinkHighlight",
        g.ClearMarkings = "ClearMarkings",
        g.CreateContinuation = "CreateContinuation",
        g.CreateGame = "CreateGame",
        g.DeletePosition = "DeletePosition",
        g.DrawAgreed = "DrawAgreed",
        g.DrawClaimed = "DrawClaimed",
        g.GameResigned = "GameResigned",
        g.IllegalMove = "IllegalMove",
        g.LineCommentUpdated = "LineCommentUpdated",
        g.LineUpdated = "LineUpdated",
        g.Load = "Load",
        g.Mark = "Mark",
        g.Move = "Move",
        g.MoveBackward = "MoveBackward",
        g.MoveForward = "MoveForward",
        g.MoveVariation = "MoveVariation",
        g.NodeUpdated = "NodeUpdated",
        g.OutOfTime = "OutOfTime",
        g.PromoteVariation = "PromoteVariation",
        g.Reload = "Reload",
        g.ResetGame = "ResetGame",
        g.ResetToMainLine = "ResetToMainLine",
        g.SelectLineEnd = "SelectLineEnd",
        g.SelectNode = "SelectNode",
        g.SelectLineStart = "SelectLineStart",
        g.SetBoardPosition = "SetBoardPosition",
        g.SetPlayingAs = "SetPlayingAs",
        g.TurnSet = "TurnSet",
        g.Undo = "Undo",
        g.Unmark = "Unmark",
        g.UpdatePGNHeaders = "UpdatePGNHeaders",
        (v = h.BoardEvents || (h.BoardEvents = {})).PromotionAreaClosePointerdown = "PromotionAreaClosePointerdown",
        v.PromotionPiecePointerdown = "PromotionPiecePointerdown",
        (y = h.InstanceEvents || (h.InstanceEvents = {})).Create = "Create",
        y.Destroy = "Destroy",
        y.ModeChanged = "ModeChanged",
        y.RendererSet = "RendererSet",
        y.RendererSetFailed = "RendererSetFailed",
        (b = h.OptionsEvents || (h.OptionsEvents = {})).Update = "UpdateOptions",
        b.UpdateMode = "UpdateModeOptions",
        (h.SoundEvents || (h.SoundEvents = {})).Play = "PlaySound",
        (h.UIEvents || (h.UIEvents = {})).Resize = "Resize",
        (_ = h.UserEvents || (h.UserEvents = {})).MousedownLeft = "MousedownLeft",
        _.MousedownRight = "MousedownRight",
        _.PointerdownLeft = "PointerdownLeft",
        _.PointerdownRight = "PointerdownRight",
        _.Pointermove = "Pointermove",
        _.Pointerup = "Pointerup",
        _.Wheel = "Wheel",
        ((A = C || (C = {})).Plugin || (A.Plugin = {})).Name = "analysis-overlay",
        ((x = S || (S = {})).Plugin || (x.Plugin = {})).Name = "cheatDetection",
        (x.Events || (x.Events = {})).CheatDetectionError = "CheatDetectionError",
        P = w || (w = {}),
        (T = P.Units || (P.Units = {})).Milliseconds = "Milliseconds",
        T.Deciseconds = "Deciseconds",
        T.Seconds = "Seconds",
        ((k = M || (M = {})).Plugin || (k.Plugin = {})).Name = "highlights";
        const $ = "highlight";
        var F, H, j, U, V;
        ((H = F || (F = {})).Plugin || (H.Plugin = {})).Name = "arrowKeys",
        (j = H.Arrow || (H.Arrow = {})).Left = "arrowleft",
        j.Up = "arrowup",
        j.Right = "arrowright",
        j.Down = "arrowdown",
        ((V = U || (U = {})).Plugin || (V.Plugin = {})).Name = "arrows";
        const G = "arrow";
        var q, z, W, K, Z, X, Q, Y, J, ee, te, ne, re, oe, ie, ae, se, ue, ce, le, de;
        ((z = q || (q = {})).Plugin || (z.Plugin = {})).Name = "assets",
        ((K = W || (W = {})).Plugin || (K.Plugin = {})).Name = "blinking-highlight",
        ((X = Z || (Z = {})).Plugin || (X.Plugin = {})).Name = "blinking-highlight",
        ((Y = Q || (Q = {})).Plugin || (Y.Plugin = {})).Name = "board-size",
        (ee = J || (J = {})).DefaultKeyToOpenWindow = "e",
        (ee.Plugin || (ee.Plugin = {})).Name = "boardImages",
        ((ne = te || (te = {})).Plugin || (ne.Plugin = {})).Name = "bughouse-api",
        ((oe = re || (re = {})).Plugin || (oe.Plugin = {})).Name = "bughouse-sibling-board",
        ((ae = ie || (ie = {})).Plugin || (ae.Plugin = {})).Name = "clocks",
        (se = ae.TimeControlTypes || (ae.TimeControlTypes = {})).Blitz = "blitz",
        se.Bullet = "bullet",
        se.Rapid = "rapid",
        ((ce = ue || (ue = {})).Plugin || (ce.Plugin = {})).Name = "coordinates",
        ((de = le || (le = {})).Plugin || (de.Plugin = {})).Name = "custom-items",
        (de.Classes || (de.Classes = {})).Root = "custom-item";
        const fe = "customItem";
        var he, pe, me, ge, ve, ye, be, _e, Ce, Ee, Ae, Se, xe;
        pe = he || (he = {}),
        (me = pe.Targets || (pe.Targets = {})).Arrows = "arrows",
        me.Effects = "effects",
        me.Pieces = "pieces",
        (ge = pe.Positions || (pe.Positions = {})).Above = "above",
        ge.Below = "below",
        (ye = ve || (ve = {})).Image = "Image",
        ye.Star = "Star",
        ye.TextBox = "TextBox",
        ((_e = be || (be = {})).Plugin || (_e.Plugin = {})).Name = "debug",
        (Ee = Ce || (Ce = {})).Name = "eco",
        (Ee.Events || (Ee.Events = {})).Update = "UpdateECO",
        ((Ae = Ee.Config || (Ee.Config = {})).Codes || (Ae.Codes = {})).StartingPosition = "A00",
        Ae.InitialFen = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
        ((xe = Se || (Se = {})).Plugin || (xe.Plugin = {})).Name = "effects";
        const we = "effect";
        var Pe, Te, Me, ke, Ie, Oe, Ne, Re, Le, De, Be, $e, Fe, He, je, Ue, Ve, Ge, qe, ze, We, Ke, Ze, Xe, Qe, Ye, Je, et, tt, nt, rt, ot, it, at, st, ut, ct, lt, dt, ft;
        (Te = Pe || (Pe = {})).Alternative = "Alternative",
        Te.BestMove = "BestMove",
        Te.Blunder = "Blunder",
        Te.Book = "Book",
        Te.Brilliant = "Brilliant",
        Te.CheckmateBlack = "CheckmateBlack",
        Te.CheckmateWhite = "CheckmateWhite",
        Te.Correct = "Correct",
        Te.Critical = "Critical",
        Te.DrawBlack = "DrawBlack",
        Te.DrawWhite = "DrawWhite",
        Te.Excellent = "Excellent",
        Te.FastWin = "FastWin",
        Te.Forced = "Forced",
        Te.FreePiece = "FreePiece",
        Te.Gamechanger = "Gamechanger",
        Te.Good = "Good",
        Te.GreatFind = "GreatFind",
        Te.Inaccuracy = "Inaccuracy",
        Te.Incorrect = "Incorrect",
        Te.Mate = "Mate",
        Te.Miss = "Miss",
        Te.MissedWin = "MissedWin",
        Te.Mistake = "Mistake",
        Te.ResignBlack = "ResignBlack",
        Te.ResignWhite = "ResignWhite",
        Te.Sharp = "Sharp",
        Te.Takeback = "Takeback",
        Te.Threat = "Threat",
        Te.TimeoutBlack = "TimeoutBlack",
        Te.TimeoutWhite = "TimeoutWhite",
        Te.Undo = "Undo",
        Te.Winner = "Winner",
        Te.WinnerWhite = "WinnerWhite",
        Te.Interesting = "Interesting",
        Te.Warning = "Warning",
        Te.Equal = "Equal",
        ((ke = Me || (Me = {})).Plugin || (ke.Plugin = {})).Name = "fade-setup",
        ((Oe = Ie || (Ie = {})).Plugin || (Oe.Plugin = {})).Name = "handPieces",
        (Oe.Events || (Oe.Events = {})).SetHand = "SetHand",
        ((Re = Ne || (Ne = {})).Plugin || (Re.Plugin = {})).Name = "hml",
        ((De = Le || (Le = {})).Plugin || (De.Plugin = {})).Name = "hover-square",
        (($e = Be || (Be = {})).Plugin || ($e.Plugin = {})).Name = "move-hints",
        ((He = Fe || (Fe = {})).Plugin || (He.Plugin = {})).Name = "performanceMetrics",
        ((Ue = je || (je = {})).Plugin || (Ue.Plugin = {})).Name = "pieces",
        ((Ge = Ve || (Ve = {})).Plugin || (Ge.Plugin = {})).Name = "pregame",
        ((ze = qe || (qe = {})).Events || (ze.Events = {})).Premove = "Premove",
        (ze.Plugin || (ze.Plugin = {})).Name = "premoves",
        ((Ke = We || (We = {})).Plugin || (Ke.Plugin = {})).Name = "reporting",
        ((Xe = Ze || (Ze = {})).Plugin || (Xe.Plugin = {})).Name = "scroll-through-moves",
        ((Ye = Qe || (Qe = {})).Plugin || (Ye.Plugin = {})).Name = "sounds",
        (Je = Ye.BoardSounds || (Ye.BoardSounds = {})).GameStart = "game-start",
        Je.GameEnd = "game-end",
        Je.Capture = "capture",
        Je.Castle = "castle",
        Je.Premove = "premove",
        Je.MoveSelf = "move-self",
        Je.MoveCheck = "move-check",
        Je.MoveOpponent = "move-opponent",
        Je.Promote = "promote",
        Je.Notify = "notify",
        Je.TenSeconds = "tenseconds",
        Je.Illegal = "illegal",
        ((tt = et || (et = {})).Events || (tt.Events = {})).Updated = "ThreatsUpdated",
        (tt.Plugin || (tt.Plugin = {})).Name = "threats",
        ((rt = nt || (nt = {})).Plugin || (rt.Plugin = {})).Name = "timeControl",
        function(e) {
            e.Blitz = "blitz",
            e.Bullet = "bullet",
            e.Rapid = "rapid"
        }(rt.Types || (rt.Types = {})),
        (ot = rt.Header || (rt.Header = {})).Null = "-",
        ot.Separator = "+",
        ot.TimePerMove = "/",
        ot.Unset = "?",
        at = it || (it = {}),
        (st = at.Actions || (at.Actions = {})).Reset = "Reset",
        st.Start = "Start",
        st.Stop = "Stop",
        st.Tick = "Tick",
        (ut = at.Events || (at.Events = {})).End = "End",
        ut.Reset = "Reset",
        ut.Start = "Start",
        ut.Stop = "Stop",
        ut.Tick = "Tick",
        ut.TimeAdded = "TimeAdded",
        (ct = at.States || (at.States = {})).Ended = "Ended",
        ct.Going = "Going",
        ct.Initial = "Initial",
        ct.Stopped = "Stopped",
        function(e) {
            let t;
            (e.Plugin || (e.Plugin = {})).Name = "validate",
            (t = e.ErrorCodes || (e.ErrorCodes = {})).InvalidPosition = "InvalidPosition",
            e.ErrorMessages = {
                [t.InvalidPosition]: "Board position does not match the FEN from JCE"
            }
        }(lt || (lt = {})),
        function(e) {
            e.Ready = "Ready",
            e.ResultNodeSelected = "ResultNodeSelected",
            e.Updated = "Updated"
        }((ft = dt || (dt = {})).Events || (ft.Events = {})),
        (ft.Plugin || (ft.Plugin = {})).Name = "vml";
        var ht, pt, mt = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            get CheatDetection() {
                return S
            },
            get CustomTimestamps() {
                return w
            },
            get Highlights() {
                return M
            },
            get AnalysisOverlay() {
                return C
            },
            get ArrowKeys() {
                return F
            },
            get Arrows() {
                return U
            },
            get Assets() {
                return q
            },
            get BlinkingHighlight() {
                return W
            },
            get BlinkingSquare() {
                return Z
            },
            get BoardSize() {
                return Q
            },
            get BoardImages() {
                return J
            },
            get BughouseAPI() {
                return te
            },
            get BughouseSiblingBoard() {
                return re
            },
            get Clocks() {
                return ie
            },
            get Coordinates() {
                return ue
            },
            get CustomItems() {
                return le
            },
            get Debug() {
                return be
            },
            get ECO() {
                return Ce
            },
            get Effects() {
                return Se
            },
            get FadeSetup() {
                return Me
            },
            get HandPieces() {
                return Ie
            },
            get HML() {
                return Ne
            },
            get HoverSquare() {
                return Le
            },
            get MoveHints() {
                return Be
            },
            get PerformanceMetrics() {
                return Fe
            },
            get Pieces() {
                return je
            },
            get Pregame() {
                return Ve
            },
            get Premoves() {
                return qe
            },
            get Reporting() {
                return We
            },
            get ScrollThroughMoves() {
                return Ze
            },
            get Sounds() {
                return Qe
            },
            get Threats() {
                return et
            },
            get TimeControl() {
                return nt
            },
            get Timer() {
                return it
            },
            get Validate() {
                return lt
            },
            get VML() {
                return dt
            }
        });
        function createArrowKeysPlugin(e) {
            let t;
            return {
                api: ()=>({
                    setKeys: setKeys,
                    resetKeys: resetKeys
                }),
                create: function create3(n) {
                    t = n,
                    setKeys(e)
                },
                destroy: function destroy10() {
                    t.api.keys.removeOverrides([{
                        key: F.Arrow.Up
                    }, {
                        key: F.Arrow.Down
                    }, {
                        key: F.Arrow.Left
                    }, {
                        key: F.Arrow.Right
                    }])
                },
                name: F.Plugin.Name
            };
            function setKeys(e) {
                const n = getOverrides(e);
                t.api.keys.setOverrides(n)
            }
            function resetKeys() {
                const e = getOverrides();
                t.api.keys.setOverrides(e)
            }
            function getOverrides(e={}) {
                return [{
                    key: F.Arrow.Up,
                    callback: t=>{
                        var n;
                        return null != (n = e[F.Arrow.Up]) ? n : t.selectLineStart
                    }
                }, {
                    key: F.Arrow.Down,
                    callback: t=>{
                        var n;
                        return null != (n = e[F.Arrow.Down]) ? n : t.selectLineEnd
                    }
                }, {
                    key: F.Arrow.Left,
                    callback: t=>{
                        var n;
                        return null != (n = e[F.Arrow.Left]) ? n : t.moveBackward
                    }
                }, {
                    key: F.Arrow.Right,
                    callback: t=>{
                        var n;
                        return null != (n = e[F.Arrow.Right]) ? n : t.moveForward
                    }
                }]
            }
        }
        function createKeyedArrow({options: e, rawArrow: t}) {
            var n, a;
            const {data: {color: l, keyPressed: f, from: h, opacity: p, to: m}, key: g, type: v} = t;
            return {
                data: {
                    color: null != (a = null != (n = getArrowColor$1(f, e)) ? n : l) ? a : e.arrowColors.default,
                    from: h,
                    opacity: null != p ? p : e.analysisHighlightOpacity,
                    to: m
                },
                key: g,
                type: v
            }
        }
        function getArrowColor$1(e, t) {
            const {arrowColors: n} = t;
            switch (e) {
            case ht.Alt:
                return n.alt;
            case ht.Ctrl:
                return n.ctrl;
            case ht.Shift:
                return n.shift;
            case ht.None:
                return n.default;
            default:
                return
            }
        }
        function isMark(e) {
            return function isMarkingOfType(t) {
                var n, a;
                return is$1(f.APIEvents.Mark)(t) && (null == (a = (n = t.data).find) ? void 0 : a.call(n, (t=>t.type === e)))
            }
        }
        function isType(e) {
            return function markingIsType(t) {
                return t.type === e
            }
        }
        function isUnmark(e) {
            return function isMarkingOfType(t) {
                var n, a;
                return is$1(f.APIEvents.Unmark)(t) && (null == (a = (n = t.data).find) ? void 0 : a.call(n, (t=>t.type === e)))
            }
        }
        function createArrowsPlugin() {
            return {
                match: [{
                    condition: isMark(G),
                    handler: function markArrow(e, t) {
                        const {options: n, renderer: a} = t
                          , {data: l} = e
                          , f = l.filter(isType(G)).map((e=>createKeyedArrow({
                            rawArrow: e,
                            options: n
                        })));
                        null == a || a.addArrows(f, t)
                    }
                }, {
                    condition: isUnmark(G),
                    handler: function unmarkArrow(e, t) {
                        const {options: n, renderer: a} = t
                          , {data: l} = e
                          , f = l.filter(isType(G)).map((e=>createKeyedArrow({
                            rawArrow: e,
                            options: n
                        })));
                        null == a || a.removeArrows(f, t)
                    }
                }, {
                    condition: is$1(f.InstanceEvents.RendererSet),
                    handler: function init2(e, t) {
                        const {api: n, options: a, renderer: l} = t
                          , f = n.markings
                          , h = (a.allowMarkings ? f.getAllWhere({
                            types: [G]
                        }) : []).map((e=>createKeyedArrow({
                            rawArrow: e,
                            options: a
                        })));
                        null == l || l.addArrows(h, t)
                    }
                }],
                name: U.Plugin.Name
            }
        }
        function createAssetsPlugin() {
            let e, t;
            return {
                match: [{
                    condition: isOneOf([f.InstanceEvents.RendererSet, f.OptionsEvents.Update]),
                    handler: function updateAssets(n, a) {
                        const {options: l, renderer: f} = a;
                        if (!f)
                            return;
                        l.boardStyle !== e && (e = l.boardStyle,
                        f.updateBoardImage(a));
                        l.pieceStyle !== t && (t = l.pieceStyle,
                        f.updatePieceBaseImage(a))
                    }
                }],
                name: q.Plugin.Name
            }
        }
        function createBlinkingHighlightPlugin() {
            return {
                match: [{
                    condition: is$1(f.APIEvents.BlinkHighlight),
                    handler: function blinkHighlight(e, t) {
                        const {renderer: n} = t;
                        null == n || n.blinkHighlights(e.data, t)
                    }
                }],
                name: W.Plugin.Name
            }
        }
        (pt = ht || (ht = {})).Alt = "alt",
        pt.Ctrl = "ctrl",
        pt.None = "none",
        pt.Shift = "shift";
        var gt, vt, yt, bt, _t, Ct, Et, At, St, xt, wt, Pt, Tt, Mt, kt, It, Ot, Nt, Rt;
        function createBoardDisabledPlugin() {
            return {
                create: function create3(e) {
                    e.el.classList.toggle(Mt.Disabled, !e.options.enabled)
                },
                match: [{
                    condition: is$1(f.OptionsEvents.Update),
                    handler: function handleEnabledOption(e, t) {
                        const {data: n} = e
                          , {el: a, renderer: l} = t;
                        "enabled"in n && (a.classList.toggle(Mt.Disabled, !n.enabled),
                        null == l || l.setBoardEnabled(n.enabled))
                    }
                }],
                name: gt.Plugin.Name
            }
        }
        function createBoardSizePlugin() {
            return {
                match: [{
                    condition: isOneOf([f.UIEvents.Resize, f.InstanceEvents.RendererSet]),
                    handler: function resize3(e, t) {
                        const {renderer: n} = t;
                        null == n || n.resize(t)
                    }
                }],
                name: Q.Plugin.Name
            }
        }
        ((vt = gt || (gt = {})).Plugin || (vt.Plugin = {})).Name = "board-disabled",
        bt = yt || (yt = {}),
        function(e) {
            e.Arcade = "arcade",
            e.Default = "default",
            e.Fast = "fast",
            e.Natural = "natural",
            e.None = "none",
            e.Slow = "slow"
        }((_t = bt.Animation || (bt.Animation = {})).Types || (_t.Types = {})),
        (Ct = _t.Speeds || (_t.Speeds = {}))[Ct.Default = 180] = "Default",
        Ct[Ct.Fast = 100] = "Fast",
        Ct[Ct.Slow = 500] = "Slow",
        (Et = bt.HighlightColors || (bt.HighlightColors = {})).Selected = "#ffff00",
        Et.Blue = "#52b0dc",
        Et.Green = "#acce59",
        Et.Orange = "#ffaa00",
        Et.Red = "#eb6150",
        (At = bt.HighlightTypes || (bt.HighlightTypes = {})).Analysis = "analysis",
        At.Move = "move",
        At.Selected = "selected",
        (St = bt.HighlightedArrowColors || (bt.HighlightedArrowColors = {})).Blue = "rgba(72, 193, 249, 0.8)",
        St.Green = "rgba(159, 207, 63, 0.8)",
        St.Orange = "rgba(255, 170, 0, 0.8)",
        St.Red = "rgba(248, 85, 63, 0.8)",
        (xt = bt.CoordinatesPositions || (bt.CoordinatesPositions = {})).Inside = "inside",
        xt.Off = "off",
        xt.Outside = "outside",
        (wt = bt.MoveMethods || (bt.MoveMethods = {})).Click = "click",
        wt.Drag = "drag",
        wt.DragOnly = "drag-only",
        (Pt = bt.MoveListDisplayTypes || (bt.MoveListDisplayTypes = {})).Figurine = "figurine",
        Pt.Text = "text",
        (bt.BooleanOptions || (bt.BooleanOptions = {})).HoverSquareOutline = "hoverSquareOutline",
        (Tt = bt.SaveableOptions || (bt.SaveableOptions = {})).AnimationType = "animationType",
        Tt.BoardStyle = "boardStyle",
        Tt.Coordinates = "coordinates",
        Tt.DarkMode = "darkMode",
        Tt.EvaluationBarType = "evaluationBarType",
        Tt.HighlightLegalMoves = "highlightLegalMoves",
        Tt.HighlightMoves = "highlightMoves",
        Tt.MoveListDisplayType = "moveListDisplayType",
        Tt.PieceStyle = "pieceStyle",
        Tt.SoundTheme = "soundTheme",
        Tt.PlaySounds = "playSounds",
        (kt = Mt || (Mt = {})).Pseudo3d = "pseudo3d",
        kt.Disabled = "board-disabled",
        kt.Flipped = "flipped",
        (Ot = It || (It = {})).All = "All",
        Ot.Move = "Move",
        function(e) {
            e.Default = "default",
            e.WebGL2D = "webgl-2d",
            e.WebGL3D = "webgl-3d"
        }((Rt = Nt || (Nt = {})).Types || (Rt.Types = {})),
        Rt.TriggerOptions = [yt.SaveableOptions.AnimationType, yt.SaveableOptions.PieceStyle];
        const Lt = (0,
        I.c)({
            data: {
                chosenPiece: "",
                didChangePieces: !1,
                mouseCoords: [],
                moveHoldTimes: [],
                tentativeMouseCoords: {
                    x: 0,
                    y: 0
                }
            },
            initialState: "idle",
            states: {
                changedPiece: {
                    load: load,
                    move: ()=>({
                        data: {
                            chosenPiece: void 0,
                            didChangePieces: !0,
                            mouseCoords: [...Lt.getData().mouseCoords, Lt.getData().tentativeMouseCoords],
                            moveHoldTimes: [...Lt.getData().moveHoldTimes, Date.now() - Lt.getData().moveHoldTimeStart]
                        },
                        nextState: "idle"
                    })
                },
                chosenPiece: {
                    choosePiece: ({tentativeMouseCoords: e, moveHoldTimeStart: t})=>({
                        data: {
                            moveHoldTimeStart: t,
                            tentativeMouseCoords: e
                        },
                        nextState: "changedPiece"
                    }),
                    load: load,
                    move: ()=>({
                        data: {
                            chosenPiece: void 0,
                            mouseCoords: [...Lt.getData().mouseCoords, Lt.getData().tentativeMouseCoords],
                            moveHoldTimes: [...Lt.getData().moveHoldTimes, Date.now() - Lt.getData().moveHoldTimeStart]
                        },
                        nextState: "idle"
                    })
                },
                idle: {
                    choosePiece: ({chosenPiece: e, moveHoldTimeStart: t, tentativeMouseCoords: n})=>({
                        data: {
                            chosenPiece: e,
                            didChangePieces: !1,
                            moveHoldTimeStart: t,
                            tentativeMouseCoords: n
                        },
                        nextState: "chosenPiece"
                    }),
                    load: load
                }
            }
        });
        function load() {
            return {
                data: {
                    chosenPiece: "",
                    didChangePieces: !1,
                    mouseCoords: [],
                    moveHoldTimes: [],
                    tentativeMouseCoords: {
                        x: 0,
                        y: 0
                    }
                },
                nextState: "idle"
            }
        }
        var Dt, Bt, $t;
        function didUseCheatMouse(e) {
            const t = {}
              , n = e.mouseCoords.length / 2;
            return e.mouseCoords.some((e=>{
                if (!e)
                    return !1;
                const a = `${e.x}-${e.y}`;
                return void 0 === t[a] ? t[a] = 0 : t[a] += 1,
                t[a] >= n
            }
            ), {})
        }
        function createCheatDetectionPlugin() {
            return {
                api: ()=>function createCheatDetectionAPI({machine: e}) {
                    return {
                        get: function get2() {
                            const t = e.getData();
                            return {
                                didChangePieces: t.didChangePieces,
                                didUseCheatMouse: didUseCheatMouse(t),
                                moveHoldTimes: t.moveHoldTimes
                            }
                        }
                    }
                }({
                    machine: Lt
                }),
                match: [{
                    condition: isOneOf([f.UserEvents.PointerdownLeft, f.UserEvents.Pointerup]),
                    handler: function choosePiece(e, t) {
                        const {mode: n, state: a} = t;
                        if (a.get(f.State.MachineState) === Dt.States.PromotionAreaShowing || !e.data || !n.isAllowedToMove())
                            return;
                        const l = a.get(f.State.SelectedPiece) || a.get(f.State.DraggingPiece);
                        if (l && l !== Lt.getData().chosenPiece) {
                            if (!e.data.coordsInsideSquare)
                                return void t.run({
                                    type: S.Events.CheatDetectionError,
                                    data: {
                                        corePiece: l,
                                        cheatDetectionPiece: Lt.getData().chosenPiece,
                                        eventData: e.data,
                                        variant: t.api.getVariant()
                                    }
                                });
                            Lt.transition("choosePiece", {
                                chosenPiece: l,
                                moveHoldTimeStart: Date.now(),
                                tentativeMouseCoords: e.data.coordsInsideSquare
                            })
                        }
                    }
                }, {
                    condition: is$1(f.APIEvents.Load),
                    handler: function handleAPILoad() {
                        Lt.transition("load")
                    }
                }, {
                    condition: is$1(f.APIEvents.Move),
                    handler: function handleAPIMove() {
                        Lt.transition("move")
                    }
                }],
                name: S.Plugin.Name
            }
        }
        function createCoordinatesPlugin() {
            let e, t = !1;
            return {
                match: [{
                    condition: isOneOf([f.InstanceEvents.RendererSet, f.OptionsEvents.Update]),
                    handler: function updateCoordinates(n, a) {
                        const {options: l, renderer: h} = a;
                        if (!h)
                            return;
                        l.coordinates === e && l.flipped === t && n.type !== f.InstanceEvents.RendererSet || h.setCoordinates({
                            flipped: l.flipped,
                            position: l.coordinates
                        }, a);
                        e = l.coordinates,
                        t = l.flipped
                    }
                }],
                name: ue.Plugin.Name
            }
        }
        function createCustomItemsAPI(e) {
            return function createAPI2() {
                return function createCustomItems(e) {
                    return {
                        getDefaultStarColor: function getDefaultStarColor() {
                            return e
                        }
                    }
                }(e)
            }
        }
        (function(e) {
            e.AddingMarkings = "AddingMarkings",
            e.Idle = "Idle",
            e.PieceDragging = "PieceDragging",
            e.PieceSelected = "PieceSelected",
            e.PromotionAreaShowing = "PomotionAreaShowing"
        }
        )((Bt = Dt || (Dt = {})).States || (Bt.States = {})),
        ($t || ($t = {})).Name = "core";
        var Ft, Ht, jt, Ut, Vt, Gt;
        function easeLinear(e) {
            return e
        }
        function easeOutQuadratic(e) {
            return e * (2 - e)
        }
        function easeInOutQuadratic(e) {
            return (e *= 2) < 1 ? .5 * e * e : -.5 * (--e * (e - 2) - 1)
        }
        function easeOutCubic(e) {
            return --e * e * e + 1
        }
        function easeInOutQuartic(e) {
            return (e *= 2) < 1 ? .5 * e * e * e * e : -.5 * ((e -= 2) * e * e * e - 2)
        }
        function easeOutSinusoidal(e) {
            return Math.sin(e * Math.PI / 2)
        }
        function easeOutCircular(e) {
            return Math.sqrt(1 - --e * e)
        }
        function easeOutElastic(e) {
            return 0 === e ? 0 : 1 === e ? 1 : Math.pow(2, -10 * e) * Math.sin(5 * (e - .1) * Math.PI) + 1
        }
        function createAnimation(e) {
            const {data: t, keyframes: n, repeat: a, target: l, onEnd: f} = e
              , h = function getAnimatedProps(e) {
                if (!e)
                    return {};
                if (!e[0])
                    throw new Error("The animation keyframes must contain values at `0` percentage.");
                return __spreadValues({}, e[0])
            }(n)
              , p = function getAnimatedPropsKeyframes(e, t) {
                if (!t)
                    return {};
                const n = Object.keys(e)
                  , a = {};
                return n.forEach((e=>a[e] = [])),
                Object.keys(t).sort(((e,t)=>parseInt(e, 10) - parseInt(t, 10))).forEach((e=>{
                    n.forEach((n=>{
                        void 0 !== t[e][n] && a[n].push(parseInt(e, 10))
                    }
                    ))
                }
                )),
                a
            }(h, n)
              , m = {
                animatedProps: h,
                animatedPropsKeyframes: p,
                data: __spreadValues({}, t),
                endCallbacks: [],
                ended: !1,
                endTime: 0,
                forcedEnd: !1,
                frameInfo: {
                    deltaTime: 0,
                    elapsedInterval: 0,
                    elapsedPercentage: 0
                },
                isTargetHTMLElement: l instanceof HTMLElement,
                onEnd: e=>m.endCallbacks.push(e),
                params: e,
                repeatCount: a || 1,
                started: !1,
                startTime: 0,
                keptAlive: !1
            };
            return f && m.endCallbacks.push(f),
            m
        }
        function createAnimator(e=!1) {
            const t = [];
            let n = 0
              , a = 0;
            return {
                end: end,
                endAll: function endAll() {
                    [...t].forEach(end)
                },
                play: function play(l) {
                    const f = createAnimation(l);
                    t.push(f),
                    n || e || function startAnimationLoop() {
                        a = performance.now(),
                        n = requestAnimationFrame(animationLoop)
                    }();
                    return f
                },
                playingAnimationsCount: ()=>t.length,
                update: function update5(e) {
                    animationLoop(e)
                }
            };
            function animationLoop(l) {
                const f = .001 * (l - a);
                t.forEach((e=>{
                    if (e.startTime > l)
                        return;
                    const t = e.frameInfo;
                    t.deltaTime = f,
                    (e.started || function onAnimationStart(e, t) {
                        const {duration: n, delay: a, onStart: l} = e.params;
                        e.startTime || (e.startTime = t + (a || 0),
                        n && n !== 1 / 0 && (e.endTime = e.startTime + n));
                        if (e.startTime > t)
                            return !1;
                        return e.started = !0,
                        null == l || l(e),
                        !0
                    }(e, l)) && (e.endTime && (t.elapsedInterval = (l - e.startTime) / (e.endTime - e.startTime),
                    t.elapsedInterval > 1 && (t.elapsedInterval = 1),
                    t.elapsedPercentage = Math.round(100 * t.elapsedInterval)),
                    onAnimationUpdate(e),
                    e.endTime && e.endTime <= l && onAnimationEnd(e))
                }
                )),
                a = l,
                t.length && !e && (n = requestAnimationFrame(animationLoop))
            }
            function end(e) {
                e.ended || t.indexOf(e) < 0 || (e.frameInfo.elapsedInterval = 1,
                e.frameInfo.elapsedPercentage = 100,
                onAnimationUpdate(e),
                onAnimationEnd(e, !0))
            }
            function onAnimationEnd(a, l=!1) {
                const {duration: f, keepAlive: h, repeatDelay: p} = a.params;
                if (a.repeatCount--,
                a.forcedEnd = l,
                !l && a.repeatCount > 0 && f && f !== 1 / 0)
                    return a.startTime = a.endTime + (p || 0),
                    void (a.endTime = a.startTime + f);
                l || !h ? (a.ended = !0,
                a.endCallbacks.forEach((e=>e(a))),
                function removeAnimation(a) {
                    const l = t.indexOf(a);
                    l >= 0 && t.splice(l, 1);
                    t.length || e || function stopAnimationLoop() {
                        n && cancelAnimationFrame(n);
                        n = 0
                    }()
                }(a)) : a.keptAlive = !0
            }
            function onAnimationUpdate(e) {
                const {onUpdate: t} = e.params;
                !function updateAnimatedProperties(e) {
                    const {animatedProps: t, animatedPropsKeyframes: n, frameInfo: a, isTargetHTMLElement: l, params: f} = e
                      , {keyframes: h, target: p} = f
                      , {elapsedPercentage: m} = a
                      , g = f.easing || easeLinear;
                    if (!h)
                        return;
                    let v, y, b, _, C;
                    Object.keys(t).forEach((e=>{
                        for (let t = 1; t < n[e].length; t++)
                            if (b = n[e][t - 1],
                            _ = n[e][t],
                            m >= b && m <= _) {
                                v = h[b][e],
                                y = h[_][e];
                                break
                            }
                        C = (m - b) / (_ - b),
                        C = g(C),
                        t[e] = v + (y - v) * C,
                        p && !l && (p[e] = t[e])
                    }
                    ))
                }(e),
                null == t || t(e)
            }
        }
        function createCollection(e={}) {
            const t = e;
            return {
                deleteItem: function deleteItem(e) {
                    delete t[e]
                },
                get: function get2(e) {
                    if (void 0 === t[e])
                        throw new Error(`Requested object at key ${e} is undefined.`);
                    return t[e]
                },
                getCollection: function getCollection() {
                    return t
                },
                isDefined: function isDefined(e) {
                    return void 0 !== t[e]
                },
                keys: function keys() {
                    return Object.keys(t)
                },
                set: function set3(e, n) {
                    t[e] = n
                }
            }
        }
        function getFileRankFromSan$1(e) {
            return {
                file: e.toLowerCase().charCodeAt(0) - 96,
                rank: Number(e.charAt(1))
            }
        }
        function setPositionBySquare({square: e, el: t}) {
            const n = getFileRankFromSan$1(e);
            n && (t.className = function removeClassNamesStartingWith(e, t) {
                return e.split(" ").filter((e=>!e.startsWith(t))).join(" ").trim()
            }(t.className, "square-"),
            t.classList.add(`square-${n.file}${n.rank}`),
            t.style.transform = "")
        }
        function setTestData(e, t) {
            return !!e && (Object.entries(t).forEach((([t,n])=>{
                const a = `${t.charAt(0).toUpperCase()}${t.slice(1)}`;
                void 0 === n ? delete e.dataset[`test${a}`] : e.dataset[`test${a}`] = n
            }
            )),
            !0)
        }
        (Ht = Ft || (Ft = {})).Arrows = "arrows",
        Ht.BlinkingHighlights = "blinking-highlights",
        Ht.CaptureHints = "capture-hints",
        Ht.Coordinates = "coordinates",
        Ht.Effects = "effects",
        Ht.FadeSetup = "fade-setup",
        Ht.HoverSquare = "hover-square",
        Ht.MoveHints = "move-hints",
        Ht.Pieces = "pieces",
        Ht.PromotionWindow = "promotion-window",
        Ht.Squares = "squares",
        (Ut = jt || (jt = {})).Anchor = "anchor",
        Ut.Blinking = "blinking",
        Ut.Color = "color",
        Ut.Dragging = "dragging",
        Ut.Editable = "editable",
        Ut.Element = "element",
        Ut.EnPassant = "enPassant",
        Ut.File = "file",
        Ut.Figurine = "figurine",
        Ut.Flipped = "flipped",
        Ut.Inside = "inside",
        Ut.Interval = "interval",
        Ut.LeadingFigurine = "leadingFigurine",
        Ut.Opacity = "opacity",
        Ut.Outside = "outside",
        Ut.Position = "position",
        Ut.Rank = "rank",
        Ut.Selected = "selected",
        Ut.ShortString = "shortstring",
        Ut.Square = "square",
        Ut.Star = "star",
        Ut.TextColor = "textColor",
        Ut.TextValue = "textValue",
        Ut.Times = "times",
        Ut.TrailingFigurine = "trailingFigurine",
        Ut.Type = "type",
        Ut.WholeMoveNumber = "wholeMoveNumber",
        Ut.X = "x",
        Ut.Y = "y",
        (Gt = Vt || (Vt = {})).Arrow = "arrow",
        Gt.BlinkingHighlight = "blinking-highlight",
        Gt.Board = "board",
        Gt.CommentLink = "comment-link",
        Gt.Coordinates = "coordinates",
        Gt.CustomItem = "custom-item",
        Gt.Effect = "effect",
        Gt.FadeInOverlay = "fade-in-overlay",
        Gt.GameResult = "game-result",
        Gt.HalfMove = "half-move",
        Gt.Highlight = "highlight",
        Gt.Hint = "hint",
        Gt.HoverSquare = "hover-square",
        Gt.Move = "move",
        Gt.Piece = "piece",
        Gt.PotentialCapture = "capture-hint",
        Gt.PromotionCloseButton = "promotion-close-button",
        Gt.PromotionPiece = "promotion-piece",
        Gt.PromotionWindow = "promotion-window",
        Gt.Square = "square",
        Gt.SiblingBoard = "sibling-board";
        var qt, zt, Wt, Kt, Zt = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            Image: '\n<svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <image x="7.5" y="7.5" width="25" height="25" />\n</svg>\n',
            Star: '\n  <svg xmlns="http://www.w3.org/2000/svg" style="fill: #ffa704" viewBox="0 0 40 40">\n    <path\n      d="M23.12,17.84H16.4a1.11,1.11,0,0,1-1.06-1.43L18.7,5.21a1.11,1.11,0,0,1,2.13,0l3.36,11.2A1.11,1.11,0,0,1,23.12,17.84Z" />\n    <path\n      d="M27.21,34.11,4.35,16.88a1.11,1.11,0,0,1,.67-2l17.89,0a1.11,1.11,0,0,1,1.06.8l5,17.19A1.11,1.11,0,0,1,27.21,34.11Z" />\n    <path\n      d="M35.17,16.88,12.31,34.11a1.11,1.11,0,0,1-1.74-1.2l5-17.19a1.11,1.11,0,0,1,1.06-.8l17.89,0A1.11,1.11,0,0,1,35.17,16.88Z" />\n  </svg>\n',
            TextBox: '\n<svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <rect x="5" y="12.5" width="30" height="15" rx="3" fill="inherit" />\n  <text fill="#676767" font-size="0.8rem" x="20.5" y="20.5" dominant-baseline="middle" text-anchor="middle"></text>\n</svg>\n'
        });
        function createCustomItemsMethods({board: e, el: t, options: n}) {
            const a = createCollection()
              , l = createCollection()
              , f = createAnimator()
              , h = createCollection()
              , p = document.createComment("/Custom Items");
            return e.addToDom({
                el: p,
                insertAfter: !0,
                type: Ft.Pieces
            }),
            {
                addCustomItems: function addCustomItems(m) {
                    m.forEach((m=>{
                        const {data: {color: g, image: v, opacity: y, text: b, type: _, visualOrder: C, frame: A, removalClass: S, square: x}} = m;
                        l.isDefined(x) && function flushAnimatingCustomItem(e, t="captured") {
                            const n = a.get(e);
                            n && n.classList.contains(t) && (removeCustomItemElement(n, e),
                            clearTimeout(l.get(e)),
                            l.deleteItem(e))
                        }(x, S),
                        h.isDefined(x) && f.end(h.get(x));
                        const w = document.createElement("div");
                        if (w.classList.add(le.Classes.Root),
                        A) {
                            w.classList.add("custom-item__frame"),
                            A.imageAnimated && w.classList.add("custom-item__frame--animated");
                            const e = function createCustomItemFrame(e) {
                                if (!e)
                                    return;
                                const t = document.createElement("div")
                                  , {imageURL: n, imageAnimated: a, positionRatioX: l, positionRatioY: f, widthRatio: h, heightRatio: p} = e
                                  , m = l / h / (1 / h - 1) * 100
                                  , g = f / p / (1 / p - 1) * 100
                                  , v = a ? "auto 100%" : `${1 / h * 100}% ${1 / p * 100}%`;
                                return t.style.backgroundImage = `url(${n})`,
                                t.style.backgroundSize = v,
                                t.style.backgroundPositionX = `${m}%`,
                                t.style.backgroundPositionY = `${g}%`,
                                t
                            }(A);
                            e && w.appendChild(e)
                        } else
                            w.innerHTML = Zt[_],
                            function assignSVGAttributes() {
                                const e = w.querySelector("svg");
                                if (!e)
                                    return;
                                g && (e.style.fill = g);
                                y && (e.style.opacity = String(y));
                                if (v) {
                                    const t = e.querySelector("image");
                                    if (!t)
                                        return;
                                    if (t.setAttribute("href", v.url),
                                    v.percentOfSquare) {
                                        const {width: n} = e.viewBox.baseVal
                                          , a = n * v.percentOfSquare * .01
                                          , l = (n - a) / 2;
                                        Object.assign(t.style, {
                                            height: a,
                                            width: a,
                                            x: l,
                                            y: l
                                        })
                                    }
                                }
                                if (b) {
                                    const t = e.querySelector("text");
                                    if (!t)
                                        return;
                                    t.innerHTML = b.value,
                                    b.color && (t.style.fill = b.color)
                                }
                            }();
                        setPositionBySquare({
                            el: w,
                            square: x
                        }),
                        n.test && setTestData(w, {
                            [jt.Color]: g,
                            [jt.Element]: Vt.CustomItem,
                            [jt.Opacity]: y,
                            [jt.Square]: x,
                            [jt.Type]: _
                        });
                        const P = function getDOMTarget(e) {
                            if (!e)
                                return null;
                            const t = e.position === he.Positions.Below;
                            return e.target === he.Targets.Arrows ? {
                                insertBefore: t,
                                type: Ft.Arrows
                            } : e.target === he.Targets.Effects ? {
                                insertBefore: t,
                                type: Ft.Effects
                            } : e.target === he.Targets.Pieces ? {
                                insertBefore: !t,
                                type: t ? Ft.Effects : Ft.Pieces
                            } : null
                        }(C);
                        P ? e.addToDom(__spreadValues({
                            el: w
                        }, P)) : t.insertBefore(w, p),
                        a.set(x, w)
                    }
                    ))
                },
                removeCustomItems: function removeCustomItems(e) {
                    e.forEach((e=>{
                        const {data: t} = e
                          , {frame: n, removalClass: p="captured", removalTimeout: m=250, square: g} = t
                          , v = a.get(g);
                        v && ((null == n ? void 0 : n.imageAnimated) ? function animateCustomItemImage({customItemElement: e, imageURL: t, square: n, onAnimationEnd: a}) {
                            const l = e.querySelector("div");
                            if (!l)
                                return void a();
                            const p = new Image;
                            p.src = t,
                            p.onload = ()=>{
                                const t = e.clientHeight
                                  , m = Math.ceil(p.naturalWidth / p.naturalHeight)
                                  , g = 1 / m
                                  , v = f.play({
                                    duration: m / 24 * 1e3,
                                    data: {
                                        currentFrame: 1
                                    },
                                    onUpdate: ()=>{
                                        const {data: e, frameInfo: n} = v;
                                        g * e.currentFrame < n.elapsedInterval && (l.style.backgroundPositionX = `-${t * e.currentFrame}px`,
                                        e.currentFrame++)
                                    }
                                    ,
                                    onEnd: a
                                });
                                h.set(n, v)
                            }
                        }({
                            customItemElement: v,
                            imageURL: n.imageURL,
                            square: g,
                            onAnimationEnd: ()=>{
                                h.isDefined(g) && h.deleteItem(g),
                                removeCustomItemElement(v, g)
                            }
                        }) : (v.classList.add(p),
                        l.set(g, window.setTimeout((()=>{
                            l.isDefined(g) && l.deleteItem(g),
                            v && removeCustomItemElement(v, g)
                        }
                        ), m))))
                    }
                    ))
                }
            };
            function removeCustomItemElement(e, n) {
                t.removeChild(e),
                a.deleteItem(n)
            }
        }
        function init$2(e) {
            const {api: t, options: n, renderer: a} = e
              , l = t.markings;
            null == a || a.extendRenderer(createCustomItemsMethods);
            const f = n.allowMarkings ? l.getAllWhere({
                types: [fe]
            }) : [];
            null == a || a.addCustomItems(f, e)
        }
        function createCustomItemsEventHandlers() {
            return [{
                condition: isMark(fe),
                handler: function markCustomItem(e, t) {
                    const {api: n, renderer: a} = t
                      , l = n["custom-items"]
                      , f = e.data.filter(isType(fe)).map((e=>e.data.color ? e : function withDataProp(e, t, n) {
                        const a = __spreadValues({}, e);
                        return a.data[t] = n,
                        a
                    }(e, "color", l.getDefaultStarColor())));
                    null == a || a.addCustomItems(f, t)
                }
            }, {
                condition: isUnmark(fe),
                handler: function unmarkCustomItem(e, t) {
                    const {api: n, queue: a, renderer: l} = t
                      , f = e.data.filter(isType(fe));
                    f.forEach((e=>{
                        const t = e.data.removalSound;
                        t && a.add(n.playSound, t)
                    }
                    )),
                    null == l || l.removeCustomItems(f, t)
                }
            }, {
                condition: is$1(f.InstanceEvents.RendererSet),
                handler: (e,t)=>init$2(t)
            }]
        }
        function createCustomItemsPlugin({defaultStarColor: e=qt.DefaultSquareColor}={}) {
            return {
                create: init$2,
                api: createCustomItemsAPI(e),
                match: createCustomItemsEventHandlers(),
                name: le.Plugin.Name
            }
        }
        function createDebugPlugin() {
            let e, t;
            return {
                create: function create3(e) {
                    const {api: {logger: t}} = e;
                    t.on(zt.Events.EntryAdded, logToConsole)
                },
                name: be.Plugin.Name
            };
            function logToConsole(n) {
                void 0 === n.code || n.code === f.LogCodes.State && JSON.stringify(n.data) === e || n.code === f.LogCodes.Event && n.data.type === f.UserEvents.Pointermove && t === f.UserEvents.Pointermove || n.code === f.LogCodes.Event && n.data.type === f.UIEvents.Resize && t === f.UIEvents.Resize || (n.code === f.LogCodes.State && (e = JSON.stringify(n.data)),
                n.code === f.LogCodes.Event && (t = n.data.type),
                console.group(n.code),
                n.level === zt.Levels.Error ? console.error(n.data) : console.log(n.data),
                console.groupEnd())
            }
        }
        (qt || (qt = {})).DefaultSquareColor = "#ffa704",
        function(e) {
            e.EntryAdded = "EntryAdded"
        }((Wt = zt || (zt = {})).Events || (Wt.Events = {})),
        (Kt = Wt.Levels || (Wt.Levels = {})).Debug = "Debug",
        Kt.Error = "Error",
        Kt.None = "None";
        var Xt;
        function isEdgeSquare(e) {
            if (!e)
                return !1;
            let t = !1;
            return ["a", "h", "1", "8"].forEach((n=>{
                e.includes(n) && (t = !0)
            }
            )),
            t
        }
        !function(e) {
            var t;
            (t = e.ClassNames || (e.ClassNames = {})).Background = "icon-background",
            t.Component = "icon-component",
            t.ComponentShadow = "icon-component-shadow",
            t.Shadow = "icon-shadow"
        }(Xt || (Xt = {}));
        const Qt = `<g id="alternative">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g>\n      <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n        <path d="M14.57,4.71l-4.42.2a.2.2,0,0,0-.11,0A.16.16,0,0,0,10,5a.21.21,0,0,0,0,.11.31.31,0,0,0,0,.1l1.4,1.4L8.92,9.13,6.5,6.71,8,5.24a.19.19,0,0,0,0-.1A.14.14,0,0,0,8,5,.15.15,0,0,0,8,4.94a.21.21,0,0,0-.11,0L3.42,4.71l-.08,0-.06,0a.18.18,0,0,0,0,.07.19.19,0,0,0,0,.08l.19,4.42a.15.15,0,0,0,0,.11.18.18,0,0,0,.08.07.25.25,0,0,0,.12,0,.18.18,0,0,0,.09-.06L5.21,8l2.55,2.56v4.49a.29.29,0,0,0,0,.09l0,.07.08,0,.09,0H9.85l.09,0a.18.18,0,0,0,.07,0l.05-.07a.29.29,0,0,0,0-.09V10.57l2.63-2.63,1.55,1.54a.16.16,0,0,0,.09,0,.17.17,0,0,0,.12,0,.18.18,0,0,0,.08-.07.13.13,0,0,0,0-.1l.19-4.43a.19.19,0,0,0,0-.08.18.18,0,0,0,0-.07l-.07,0Z"></path>\n      </g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M14.57,4.21l-4.42.2a.2.2,0,0,0-.11,0,.16.16,0,0,0-.07.09.21.21,0,0,0,0,.11.31.31,0,0,0,0,.1l1.4,1.4L8.92,8.63,6.5,6.21,8,4.74a.19.19,0,0,0,0-.1.14.14,0,0,0,0-.11A.15.15,0,0,0,8,4.44a.21.21,0,0,0-.11,0L3.42,4.21l-.08,0-.06,0a.18.18,0,0,0,0,.07.19.19,0,0,0,0,.08l.19,4.42a.15.15,0,0,0,0,.11A.18.18,0,0,0,3.53,9a.25.25,0,0,0,.12,0A.18.18,0,0,0,3.74,9L5.21,7.51l2.55,2.56v4.49a.29.29,0,0,0,0,.09l0,.07.08,0,.09,0H9.85l.09,0a.18.18,0,0,0,.07,0l.05-.07a.29.29,0,0,0,0-.09V10.07l2.63-2.63L14.26,9a.16.16,0,0,0,.09,0,.17.17,0,0,0,.12,0A.18.18,0,0,0,14.55,9a.13.13,0,0,0,0-.1l.19-4.43a.19.19,0,0,0,0-.08.18.18,0,0,0,0-.07l-.07,0Z"></path>\n    </g>\n  </g>`
          , Yt = `<g id="best">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#96bc4b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <path class="${Xt.ClassNames.ComponentShadow}" opacity="0.2" d="M9,3.43a.5.5,0,0,0-.27.08.46.46,0,0,0-.17.22L7.24,7.17l-3.68.19a.52.52,0,0,0-.26.1.53.53,0,0,0-.16.23.45.45,0,0,0,0,.28.44.44,0,0,0,.15.23l2.86,2.32-1,3.56a.45.45,0,0,0,0,.28.46.46,0,0,0,.17.22.41.41,0,0,0,.26.09.43.43,0,0,0,.27-.08l3.09-2,3.09,2a.46.46,0,0,0,.53,0,.46.46,0,0,0,.17-.22.53.53,0,0,0,0-.28l-1-3.56L14.71,8.2A.44.44,0,0,0,14.86,8a.45.45,0,0,0,0-.28.53.53,0,0,0-.16-.23.52.52,0,0,0-.26-.1l-3.68-.2L9.44,3.73a.46.46,0,0,0-.17-.22A.5.5,0,0,0,9,3.43Z"></path>\n    <path class="${Xt.ClassNames.Component}" fill="#fff" d="M9,2.93A.5.5,0,0,0,8.73,3a.46.46,0,0,0-.17.22L7.24,6.67l-3.68.19A.52.52,0,0,0,3.3,7a.53.53,0,0,0-.16.23.45.45,0,0,0,0,.28.44.44,0,0,0,.15.23L6.15,10l-1,3.56a.45.45,0,0,0,0,.28.46.46,0,0,0,.17.22.41.41,0,0,0,.26.09.43.43,0,0,0,.27-.08l3.09-2,3.09,2a.46.46,0,0,0,.53,0,.46.46,0,0,0,.17-.22.53.53,0,0,0,0-.28l-1-3.56L14.71,7.7a.44.44,0,0,0,.15-.23.45.45,0,0,0,0-.28A.53.53,0,0,0,14.7,7a.52.52,0,0,0-.26-.1l-3.68-.2L9.44,3.23A.46.46,0,0,0,9.27,3,.5.5,0,0,0,9,2.93Z"></path>\n  </g>`
          , Jt = `<g id="blunder">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#ca3431" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M14.74,5.45A2.58,2.58,0,0,0,14,4.54,3.76,3.76,0,0,0,12.89,4a4.07,4.07,0,0,0-1.2-.19A3.92,3.92,0,0,0,10.51,4a5.87,5.87,0,0,0-.9.37,3,3,0,0,0-.32.2,3.46,3.46,0,0,1,.42.63,3.29,3.29,0,0,1,.36,1.47.31.31,0,0,0,.19-.06l.11-.08a2.9,2.9,0,0,1,.29-.19,3.89,3.89,0,0,1,.41-.17,1.55,1.55,0,0,1,.48-.07,1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26.8.8,0,0,1,.07.34,1,1,0,0,1-.25.67,7.71,7.71,0,0,1-.65.63,6.2,6.2,0,0,0-.48.43,2.93,2.93,0,0,0-.45.54,2.55,2.55,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83V11a.24.24,0,0,0,0,.12.35.35,0,0,0,.17.17l.12,0h1.71l.12,0a.23.23,0,0,0,.1-.07.21.21,0,0,0,.06-.1.27.27,0,0,0,0-.12V10.8a1,1,0,0,1,.26-.7q.27-.28.66-.63A5.79,5.79,0,0,0,14.05,9a4.51,4.51,0,0,0,.48-.6,2.56,2.56,0,0,0,.36-.72,2.81,2.81,0,0,0,.14-1A2.66,2.66,0,0,0,14.74,5.45Z"></path>\n      <path d="M12.38,12.65H10.5l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0h1.88a.24.24,0,0,0,.12,0,.26.26,0,0,0,.11-.07.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V13a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,12.38,12.65Z"></path>\n      <path d="M6.79,12.65H4.91l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0H6.79a.24.24,0,0,0,.12,0A.26.26,0,0,0,7,15a.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V13a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,6.79,12.65Z"></path>\n      <path d="M8.39,4.54A3.76,3.76,0,0,0,7.3,4a4.07,4.07,0,0,0-1.2-.19A3.92,3.92,0,0,0,4.92,4a5.87,5.87,0,0,0-.9.37,3.37,3.37,0,0,0-.55.38l-.21.19a.32.32,0,0,0,0,.41l1,1.2a.26.26,0,0,0,.2.12.48.48,0,0,0,.24-.06l.11-.08a2.9,2.9,0,0,1,.29-.19l.4-.17A1.66,1.66,0,0,1,6,6.06a1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26A.77.77,0,0,1,7,6.9a1,1,0,0,1-.26.67,7.6,7.6,0,0,1-.64.63,6.28,6.28,0,0,0-.49.43,2.93,2.93,0,0,0-.45.54,2.72,2.72,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83V11a.43.43,0,0,0,0,.12.39.39,0,0,0,.08.1.18.18,0,0,0,.1.07.21.21,0,0,0,.12,0H6.72l.12,0a.23.23,0,0,0,.1-.07.36.36,0,0,0,.07-.1A.5.5,0,0,0,7,11V10.8a1,1,0,0,1,.27-.7A8,8,0,0,1,8,9.47c.18-.15.35-.31.52-.48A7,7,0,0,0,9,8.39a3.23,3.23,0,0,0,.36-.72,3.07,3.07,0,0,0,.13-1,2.66,2.66,0,0,0-.29-1.27A2.58,2.58,0,0,0,8.39,4.54Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M14.74,5A2.58,2.58,0,0,0,14,4a3.76,3.76,0,0,0-1.09-.56,4.07,4.07,0,0,0-1.2-.19,3.92,3.92,0,0,0-1.18.17,5.87,5.87,0,0,0-.9.37,3,3,0,0,0-.32.2,3.46,3.46,0,0,1,.42.63,3.29,3.29,0,0,1,.36,1.47.31.31,0,0,0,.19-.06L10.37,6a2.9,2.9,0,0,1,.29-.19,3.89,3.89,0,0,1,.41-.17,1.55,1.55,0,0,1,.48-.07,1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26.8.8,0,0,1,.07.34,1,1,0,0,1-.25.67,7.71,7.71,0,0,1-.65.63,6.2,6.2,0,0,0-.48.43,2.93,2.93,0,0,0-.45.54,2.55,2.55,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83v.35a.24.24,0,0,0,0,.12.35.35,0,0,0,.17.17l.12,0h1.71l.12,0a.23.23,0,0,0,.1-.07.21.21,0,0,0,.06-.1.27.27,0,0,0,0-.12V10.3a1,1,0,0,1,.26-.7q.27-.28.66-.63a5.79,5.79,0,0,0,.51-.48,4.51,4.51,0,0,0,.48-.6,2.56,2.56,0,0,0,.36-.72,2.81,2.81,0,0,0,.14-1A2.66,2.66,0,0,0,14.74,5Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M12.38,12.15H10.5l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0h1.88a.24.24,0,0,0,.12,0,.26.26,0,0,0,.11-.07.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V12.46a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,12.38,12.15Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M6.79,12.15H4.91l-.12,0a.34.34,0,0,0-.18.29v1.82a.36.36,0,0,0,.08.23.23.23,0,0,0,.1.07l.12,0H6.79a.24.24,0,0,0,.12,0A.26.26,0,0,0,7,14.51a.36.36,0,0,0,.07-.1.28.28,0,0,0,0-.13V12.46a.27.27,0,0,0,0-.12.61.61,0,0,0-.07-.1A.32.32,0,0,0,6.79,12.15Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M8.39,4A3.76,3.76,0,0,0,7.3,3.48a4.07,4.07,0,0,0-1.2-.19,3.92,3.92,0,0,0-1.18.17,5.87,5.87,0,0,0-.9.37,3.37,3.37,0,0,0-.55.38l-.21.19a.32.32,0,0,0,0,.41l1,1.2a.26.26,0,0,0,.2.12.48.48,0,0,0,.24-.06L4.78,6a2.9,2.9,0,0,1,.29-.19l.4-.17A1.66,1.66,0,0,1,6,5.56a1.1,1.1,0,0,1,.72.24.72.72,0,0,1,.23.26A.77.77,0,0,1,7,6.4a1,1,0,0,1-.26.67,7.6,7.6,0,0,1-.64.63,6.28,6.28,0,0,0-.49.43,2.93,2.93,0,0,0-.45.54,2.72,2.72,0,0,0-.33.66,2.62,2.62,0,0,0-.13.83v.35a.43.43,0,0,0,0,.12.39.39,0,0,0,.08.1.18.18,0,0,0,.1.07.21.21,0,0,0,.12,0H6.72l.12,0a.23.23,0,0,0,.1-.07.36.36,0,0,0,.07-.1.5.5,0,0,0,0-.12V10.3a1,1,0,0,1,.27-.7A8,8,0,0,1,8,9c.18-.15.35-.31.52-.48A7,7,0,0,0,9,7.89a3.23,3.23,0,0,0,.36-.72,3.07,3.07,0,0,0,.13-1A2.66,2.66,0,0,0,9.15,5,2.58,2.58,0,0,0,8.39,4Z"></path>\n    </g>\n  </g>`
          , en = `<g id="book">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g>\n      <path class="${Xt.ClassNames.ComponentShadow}" opacity="0.3" isolation="isolate" d="M8.45,5.9c-1-.75-2.51-1.09-4.83-1.09H2.54v8.71H3.62a8.16,8.16,0,0,1,4.83,1.17Z"></path>\n      <path class="${Xt.ClassNames.ComponentShadow}" opacity="0.3" isolation="isolate" d="M9.54,14.69a8.14,8.14,0,0,1,4.84-1.17h1.08V4.81H14.38c-2.31,0-3.81.34-4.84,1.09Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M8.45,5.4c-1-.75-2.51-1.09-4.83-1.09H3V13h.58a8.09,8.09,0,0,1,4.83,1.17Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M9.54,14.19A8.14,8.14,0,0,1,14.38,13H15V4.31h-.58c-2.31,0-3.81.34-4.84,1.09Z"></path>\n    </g>\n  </g>`
          , tn = `<g id="Brilliant">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#1bada6" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M12.57,14.6a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0L10,14.84A.41.41,0,0,1,10,14.6V12.7a.32.32,0,0,1,.09-.23.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H10.35a.31.31,0,0,1-.34-.31L9.86,3.9A.36.36,0,0,1,10,3.66a.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H12.3a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>\n      <path d="M8.07,14.6a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.7a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13ZM8,10.67a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H5.85a.31.31,0,0,1-.34-.31L5.36,3.9a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H7.8a.35.35,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M12.57,14.1a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0L10,14.34A.41.41,0,0,1,10,14.1V12.2A.32.32,0,0,1,10,12a.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H10.35a.31.31,0,0,1-.34-.31L9.86,3.4A.36.36,0,0,1,10,3.16a.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H12.3a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M8.07,14.1a.51.51,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0h-2l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.2a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2A.31.31,0,0,1,8,12a.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13ZM8,10.17a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H5.85a.31.31,0,0,1-.34-.31L5.36,3.4a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0H7.8a.35.35,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>\n    </g>\n  </g>`
          , nn = `<g id="checkmate_black">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <path d="M11.44,8.41h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.86H8.31l.18-2.78H6.94L6.76,6.86H5l-.1,1.55H6.66l-.11,1.68H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.64H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,10.09l.1-1.68H9.89l-.1,1.68Z"></path>\n    <path class="${Xt.ClassNames.ComponentShadow}" fill="#fff" d="M11.44,7.91h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.36H8.31l.18-2.78H6.94L6.76,6.36H5l-.1,1.55H6.66L6.55,9.59H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.14H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,9.59l.1-1.68H9.89l-.1,1.68Z"></path>\n  </g>`
          , rn = `<g id="checkmate_white">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <circle class="${Xt.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>\n    <path class="${Xt.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <path d="M11.44,8.11h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.56H8.31l.18-2.78H6.94L6.76,6.56H5l-.1,1.55H6.66L6.55,9.79H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.34H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,9.79l.1-1.68H9.89l-.1,1.68Z"></path>\n  </g>`
          , an = `<g id="correct">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#96bc4b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.ComponentShadow}" opacity="0.2" d="M15.11,6.81,9.45,12.47,7.79,14.13a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.78a.39.39,0,0,1-.11-.28.39.39,0,0,1,.11-.27L4.28,7.85a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09l2.69,2.68,5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.81Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M15.11,6.31,9.45,12,7.79,13.63a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.28A.39.39,0,0,1,2.78,9a.39.39,0,0,1,.11-.27L4.28,7.35a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09L7.52,10l5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.31Z"></path>\n    </g>\n  </g>`
          , sn = `<g id="critical">\n    <g class="${Xt.ClassNames.Shadow}" opacity="0.3">\n      <path d="M17.68,5.2,11.06,16.67a2.37,2.37,0,0,1-4.11,0L.32,5.2A2.38,2.38,0,0,1,2.38,1.64H15.62A2.38,2.38,0,0,1,17.68,5.2Z"></path>\n    </g>\n    <path class="${Xt.ClassNames.Background}" fill="#ad5b8c" d="M17.68,4.7,11.06,16.17a2.37,2.37,0,0,1-4.11,0L.32,4.7A2.38,2.38,0,0,1,2.38,1.14H15.62A2.38,2.38,0,0,1,17.68,4.7Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M8.67,3.22,5.9,9.92V10a.14.14,0,0,0,0,.06l0,0,0,0H8.4a.1.1,0,0,1,.09,0,.09.09,0,0,1,0,.08l0,5c0,.11.17.17.21.07L12.1,8V7.92a.14.14,0,0,0,0-.06.09.09,0,0,0-.05,0l-.06,0H9.32a.11.11,0,0,1-.08,0,.12.12,0,0,1,0-.09l-.32-4.4C8.87,3.18,8.71,3.12,8.67,3.22Z"></path>\n    </g>\n    <path class="${Xt.ClassNames.Component}" fill="#fff" d="M8.67,2.72,5.9,9.42v.05a.14.14,0,0,0,0,.06l0,0,0,0H8.4a.1.1,0,0,1,.09,0,.09.09,0,0,1,0,.08l0,5c0,.11.17.17.21.07l3.4-7.24V7.42a.14.14,0,0,0,0-.06.09.09,0,0,0-.05,0l-.06,0H9.32a.11.11,0,0,1-.08,0,.12.12,0,0,1,0-.09l-.32-4.4C8.87,2.68,8.71,2.62,8.67,2.72Z"></path>\n  </g>`
          , un = `<g id="draw_black">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <path d="M2.92,7V5.84c.81,0,1.75-.28,1.8-1.22H6.14v5.5H4.34V7Zm8.87-2.39L7,13.88H5l4.8-9.26ZM9.85,13.88c-.08-1.54,1.38-2.19,2.57-2.89.33-.17.78-.4.78-.78a.66.66,0,0,0-.68-.7c-.69,0-.94.58-.92,1.16H10a2.17,2.17,0,0,1,.64-1.79,2.74,2.74,0,0,1,1.91-.62C14.1,8.26,15,8.78,15,10c0,1.82-2.66,2.18-2.66,2.5h2.73v1.38Z"></path>\n    <path class="${Xt.ClassNames.ComponentShadow}" fill="#fff" d="M2.92,6.51V5.34c.81,0,1.75-.28,1.8-1.22H6.14v5.5H4.34V6.51Zm8.87-2.39L7,13.38H5l4.8-9.26ZM9.85,13.38c-.08-1.54,1.38-2.19,2.57-2.89.33-.17.78-.4.78-.78a.66.66,0,0,0-.68-.7c-.69,0-.94.58-.92,1.16H10a2.17,2.17,0,0,1,.64-1.79,2.74,2.74,0,0,1,1.91-.62C14.1,7.76,15,8.28,15,9.5c0,1.82-2.66,2.18-2.66,2.5h2.73v1.38Z"></path>\n  </g>`
          , cn = `<g id="draw_white">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <circle class="${Xt.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>\n    <path class="${Xt.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <path d="M2.92,6.61V5.44c.81,0,1.75-.28,1.8-1.22H6.14v5.5H4.34V6.61Zm8.87-2.39L7,13.48H5l4.8-9.26ZM9.85,13.48c-.08-1.54,1.38-2.19,2.57-2.89.33-.17.78-.4.78-.78a.66.66,0,0,0-.68-.7c-.69,0-.94.58-.92,1.16H10a2.17,2.17,0,0,1,.64-1.79,2.74,2.74,0,0,1,1.91-.62C14.1,7.86,15,8.38,15,9.6c0,1.82-2.66,2.18-2.66,2.5h2.73v1.38Z"></path>\n  </g>`
          , ln = `<g id="excellent">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#96bc4b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M13.79,11.34c0-.2.4-.53.4-.94S14,9.72,14,9.58a2.06,2.06,0,0,0,.18-.83,1,1,0,0,0-.3-.69,1.13,1.13,0,0,0-.55-.2,10.29,10.29,0,0,1-2.07,0c-.37-.23,0-1.18.18-1.7S11.9,4,10.62,3.7c-.69-.17-.66.37-.78.9-.05.21-.09.43-.13.57A5,5,0,0,1,7.05,8.23a1.57,1.57,0,0,1-.42.18v4.94A7.23,7.23,0,0,1,8,13.53c.52.12.91.25,1.44.33A11.11,11.11,0,0,0,11,14a6.65,6.65,0,0,0,1.18,0,1.09,1.09,0,0,0,1-.59.66.66,0,0,0,.06-.2,1.63,1.63,0,0,1,.07-.3c.13-.28.37-.3.5-.68S13.74,11.53,13.79,11.34Z"></path>\n      <path d="M5.49,8.09H4.31a.5.5,0,0,0-.5.5v4.56a.5.5,0,0,0,.5.5H5.49a.5.5,0,0,0,.5-.5V8.59A.5.5,0,0,0,5.49,8.09Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M13.79,10.84c0-.2.4-.53.4-.94S14,9.22,14,9.08a2.06,2.06,0,0,0,.18-.83,1,1,0,0,0-.3-.69,1.13,1.13,0,0,0-.55-.2,10.29,10.29,0,0,1-2.07,0c-.37-.23,0-1.18.18-1.7s.51-2.12-.77-2.43c-.69-.17-.66.37-.78.9-.05.21-.09.43-.13.57A5,5,0,0,1,7.05,7.73a1.57,1.57,0,0,1-.42.18v4.94A7.23,7.23,0,0,1,8,13c.52.12.91.25,1.44.33a11.11,11.11,0,0,0,1.62.16,6.65,6.65,0,0,0,1.18,0,1.09,1.09,0,0,0,1-.59.66.66,0,0,0,.06-.2,1.63,1.63,0,0,1,.07-.3c.13-.28.37-.3.5-.68S13.74,11,13.79,10.84Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M5.49,7.59H4.31a.5.5,0,0,0-.5.5v4.56a.5.5,0,0,0,.5.5H5.49a.5.5,0,0,0,.5-.5V8.09A.5.5,0,0,0,5.49,7.59Z"></path>\n    </g>\n  </g>`
          , dn = `<g id="fast_win">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M4.85,4.7,9.67,9.19a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18l-.05.07L4.85,14a.24.24,0,0,1-.11.06.3.3,0,0,1-.13,0A.23.23,0,0,1,4.52,14a.28.28,0,0,1,0-.12v-9a.28.28,0,0,1,0-.12.23.23,0,0,1,.09-.08.3.3,0,0,1,.13,0A.24.24,0,0,1,4.85,4.7Z"></path>\n      <path d="M10,4.7l4.82,4.49a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18l-.05.07L10,14a.24.24,0,0,1-.11.06.27.27,0,0,1-.13,0A.18.18,0,0,1,9.7,14a.19.19,0,0,1,0-.12v-9a.19.19,0,0,1,0-.12.18.18,0,0,1,.09-.08.27.27,0,0,1,.13,0A.24.24,0,0,1,10,4.7Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M4.85,4.2,9.67,8.69a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18L9.67,9,4.85,13.5a.24.24,0,0,1-.11.06.3.3,0,0,1-.13,0,.23.23,0,0,1-.09-.08.28.28,0,0,1,0-.12v-9a.28.28,0,0,1,0-.12.23.23,0,0,1,.09-.08.3.3,0,0,1,.13,0A.24.24,0,0,1,4.85,4.2Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M10,4.2l4.82,4.49a.18.18,0,0,1,.05.07.21.21,0,0,1,0,.18L14.85,9,10,13.5a.24.24,0,0,1-.11.06.27.27,0,0,1-.13,0,.18.18,0,0,1-.09-.08.19.19,0,0,1,0-.12v-9a.19.19,0,0,1,0-.12.18.18,0,0,1,.09-.08.27.27,0,0,1,.13,0A.24.24,0,0,1,10,4.2Z"></path>\n    </g>\n  </g>`
          , fn = `<g id="free_piece">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#ec6250" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M9.76,9.66h3.89v4.19a.68.68,0,0,1-.68.68H9.76Z"></path>\n      <path d="M4.35,9.66H8.24v4.87H5a.58.58,0,0,1-.26-.06.6.6,0,0,1-.36-.36.58.58,0,0,1,0-.26V9.66Z"></path>\n      <path d="M13.39,7H10.13l2-1a.78.78,0,0,0,.29-.25.78.78,0,0,0,.13-.36A.82.82,0,0,0,12.53,5a.87.87,0,0,0-.23-.31l-1.15-1a.76.76,0,0,0-.34-.16.74.74,0,0,0-.39,0,.94.94,0,0,0-.33.2.84.84,0,0,0-.19.33L9.08,7H9l-.83-2.9A.73.73,0,0,0,8,3.81a.79.79,0,0,0-.33-.2.7.7,0,0,0-.38,0,.75.75,0,0,0-.35.16l-1.14,1A.87.87,0,0,0,5.54,5a.71.71,0,0,0,0,.38.78.78,0,0,0,.13.36A.71.71,0,0,0,5.91,6l2,1H4.61a.46.46,0,0,0-.49.44v.87a.47.47,0,0,0,.49.45h8.78a.47.47,0,0,0,.49-.45V7.48A.47.47,0,0,0,13.39,7Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M9.76,14H13a.71.71,0,0,0,.48-.19.72.72,0,0,0,.2-.48V9.16H9.76Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M4.36,13.35a.58.58,0,0,0,0,.26.6.6,0,0,0,.36.36A.58.58,0,0,0,5,14H8.24V9.16H4.36Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M13.39,6.54H10.13l2-1a.78.78,0,0,0,.29-.25.78.78,0,0,0,.13-.36.82.82,0,0,0-.05-.38.87.87,0,0,0-.23-.31l-1.15-1a.76.76,0,0,0-.34-.16.74.74,0,0,0-.39,0,.94.94,0,0,0-.33.2.84.84,0,0,0-.19.33l-.82,2.9H9l-.83-2.9A.73.73,0,0,0,8,3.31a.79.79,0,0,0-.33-.2.7.7,0,0,0-.38,0,.75.75,0,0,0-.35.16l-1.14,1a.87.87,0,0,0-.23.31.71.71,0,0,0,0,.38.78.78,0,0,0,.13.36.71.71,0,0,0,.29.25l2,1H4.61A.46.46,0,0,0,4.12,7v.87a.47.47,0,0,0,.49.45h8.78a.47.47,0,0,0,.49-.45V7A.47.47,0,0,0,13.39,6.54Z"></path>\n    </g>\n  </g>`
          , hn = `<path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n<path class="${Xt.ClassNames.Background}" fill="#7979a1" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n<g class="${Xt.ClassNames.ComponentShadow}" opacity="0.1">\n    <polygon points="11.29 11.34 11.29 8.56 7.79 11.3 7.79 11.34 5.39 11.34 9.54 16.5 13.73 11.34 11.29 11.34"></polygon>\n    <polygon points="7.83 7.51 7.83 10.32 11.33 7.58 11.33 7.5 13.73 7.5 9.58 2.35 5.39 7.51 7.83 7.51"></polygon>\n  </g>\n<g>\n    <polygon class="${Xt.ClassNames.Component}" fill="#fff" points="10.9 10.92 10.9 8.13 7.4 10.87 7.4 10.92 5 10.92 9.15 16.07 13.34 10.92 10.9 10.92"></polygon>\n    <polygon class="${Xt.ClassNames.Component}" fill="#fff" points="7.44 7.08 7.44 9.9 10.94 7.16 10.94 7.08 13.34 7.08 9.19 1.93 5 7.08 7.44 7.08"></polygon>\n  </g>`
          , pn = `<g id="great_find">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#5c8bb0" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g>\n      <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n        <path d="M10.32,14.6a.27.27,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0H8l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.7a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H8.1a.31.31,0,0,1-.34-.31L7.61,3.9a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0h2.11a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>\n      </g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M10.32,14.1a.27.27,0,0,1,0,.13.44.44,0,0,1-.08.11l-.11.08-.13,0H8l-.13,0-.11-.08a.41.41,0,0,1-.08-.24V12.2a.27.27,0,0,1,0-.13.36.36,0,0,1,.07-.1.39.39,0,0,1,.1-.08l.13,0h2a.31.31,0,0,1,.24.1.39.39,0,0,1,.08.1.51.51,0,0,1,0,.13Zm-.12-3.93a.17.17,0,0,1,0,.12.41.41,0,0,1-.07.11.4.4,0,0,1-.23.08H8.1a.31.31,0,0,1-.34-.31L7.61,3.4a.36.36,0,0,1,.09-.24.23.23,0,0,1,.11-.08.27.27,0,0,1,.13,0h2.11a.32.32,0,0,1,.25.1.36.36,0,0,1,.09.24Z"></path>\n    </g>\n  </g>`
          , mn = `<g id="forced">\n    <g id="fast_win">\n      <g>\n        <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n        <path class="${Xt.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n      </g>\n    </g>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M14.39,9.07,9,4.31a.31.31,0,0,0-.3,0,.32.32,0,0,0-.13.1.29.29,0,0,0,0,.16V7.42H3.9a.58.58,0,0,0-.19,0,.5.5,0,0,0-.17.11.91.91,0,0,0-.11.16.63.63,0,0,0,0,.19v3.41a.58.58,0,0,0,0,.19.64.64,0,0,0,.11.16.39.39,0,0,0,.17.11.41.41,0,0,0,.19,0H8.5v2.74a.26.26,0,0,0,.16.26.3.3,0,0,0,.16,0A.34.34,0,0,0,9,14.79L14.39,10a.69.69,0,0,0,.16-.22.7.7,0,0,0,0-.52A.69.69,0,0,0,14.39,9.07Z"></path>\n    </g>\n    <path class="${Xt.ClassNames.Component}" fill="#fff" d="M14.39,8.57,9,3.81a.31.31,0,0,0-.3,0,.32.32,0,0,0-.13.1A.29.29,0,0,0,8.5,4V6.92H3.9a.58.58,0,0,0-.19,0,.5.5,0,0,0-.17.11.91.91,0,0,0-.11.16.63.63,0,0,0,0,.19v3.41a.58.58,0,0,0,0,.19.64.64,0,0,0,.11.16.39.39,0,0,0,.17.11.41.41,0,0,0,.19,0H8.5v2.74a.26.26,0,0,0,.16.26.3.3,0,0,0,.16,0A.34.34,0,0,0,9,14.29l5.42-4.76a.69.69,0,0,0,.16-.22.7.7,0,0,0,0-.52A.69.69,0,0,0,14.39,8.57Z"></path>\n  </g>`
          , gn = `<g id="good">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.ComponentShadow}" opacity="0.2" d="M15.11,6.81,9.45,12.47,7.79,14.13a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.78a.39.39,0,0,1-.11-.28.39.39,0,0,1,.11-.27L4.28,7.85a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09l2.69,2.68,5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.81Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M15.11,6.31,9.45,12,7.79,13.63a.39.39,0,0,1-.28.11.39.39,0,0,1-.27-.11L2.89,9.28A.39.39,0,0,1,2.78,9a.39.39,0,0,1,.11-.27L4.28,7.35a.34.34,0,0,1,.12-.09l.15,0a.37.37,0,0,1,.15,0,.38.38,0,0,1,.13.09L7.52,10l5.65-5.65a.38.38,0,0,1,.13-.09.37.37,0,0,1,.15,0,.4.4,0,0,1,.15,0,.34.34,0,0,1,.12.09l1.39,1.38a.41.41,0,0,1,.08.13.33.33,0,0,1,0,.15.4.4,0,0,1,0,.15A.5.5,0,0,1,15.11,6.31Z"></path>\n    </g>\n  </g>`
          , vn = `<g id="inaccuracy">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#f7c045" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M13.66,14.8a.28.28,0,0,1,0,.13.23.23,0,0,1-.08.11.28.28,0,0,1-.11.08l-.12,0h-2l-.13,0a.27.27,0,0,1-.1-.08A.36.36,0,0,1,11,14.8V12.9a.59.59,0,0,1,0-.13.36.36,0,0,1,.07-.1l.1-.08.13,0h2a.33.33,0,0,1,.23.1.39.39,0,0,1,.08.1.28.28,0,0,1,0,.13Zm-.12-3.93a.31.31,0,0,1,0,.13.3.3,0,0,1-.07.1.3.3,0,0,1-.23.08H11.43a.31.31,0,0,1-.34-.31L10.94,4.1A.5.5,0,0,1,11,3.86l.11-.08.13,0h2.11a.35.35,0,0,1,.26.1.41.41,0,0,1,.08.24Z"></path>\n      <path d="M7.65,14.82a.27.27,0,0,1,0,.12.26.26,0,0,1-.07.11l-.1.07-.13,0H5.43a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08.31.31,0,0,1-.09-.22V13a.36.36,0,0,1,.09-.23l.1-.07.12,0H7.32a.32.32,0,0,1,.23.09.3.3,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73A5.58,5.58,0,0,1,9,9a4.85,4.85,0,0,1-.52.49,8,8,0,0,0-.65.63,1,1,0,0,0-.27.7V11a.21.21,0,0,1,0,.12.17.17,0,0,1-.06.1.23.23,0,0,1-.1.07l-.12,0H5.53a.21.21,0,0,1-.12,0,.18.18,0,0,1-.1-.07.2.2,0,0,1-.08-.1.37.37,0,0,1,0-.12v-.35a2.68,2.68,0,0,1,.13-.84,2.91,2.91,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.84,7.84,0,0,0,.65-.64,1,1,0,0,0,.25-.67.77.77,0,0,0-.07-.34.67.67,0,0,0-.23-.27A1.16,1.16,0,0,0,6.49,6,1.61,1.61,0,0,0,6,6.11a3,3,0,0,0-.41.18,1.75,1.75,0,0,0-.29.18l-.11.09A.5.5,0,0,1,5,6.62a.31.31,0,0,1-.21-.13l-1-1.21a.3.3,0,0,1,0-.4A1.36,1.36,0,0,1,4,4.68a3.07,3.07,0,0,1,.56-.38,5.49,5.49,0,0,1,.9-.37,3.69,3.69,0,0,1,1.19-.17,3.92,3.92,0,0,1,2.3.75,2.85,2.85,0,0,1,.77.92A2.82,2.82,0,0,1,10,6.71,3,3,0,0,1,9.85,7.65Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M13.66,14.3a.28.28,0,0,1,0,.13.23.23,0,0,1-.08.11.28.28,0,0,1-.11.08l-.12,0h-2l-.13,0a.27.27,0,0,1-.1-.08A.36.36,0,0,1,11,14.3V12.4a.59.59,0,0,1,0-.13.36.36,0,0,1,.07-.1l.1-.08.13,0h2a.33.33,0,0,1,.23.1.39.39,0,0,1,.08.1.28.28,0,0,1,0,.13Zm-.12-3.93a.31.31,0,0,1,0,.13.3.3,0,0,1-.07.1.3.3,0,0,1-.23.08H11.43a.31.31,0,0,1-.34-.31L10.94,3.6A.5.5,0,0,1,11,3.36l.11-.08.13,0h2.11a.35.35,0,0,1,.26.1.41.41,0,0,1,.08.24Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M7.65,14.32a.27.27,0,0,1,0,.12.26.26,0,0,1-.07.11l-.1.07-.13,0H5.43a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08.31.31,0,0,1-.09-.22V12.49a.36.36,0,0,1,.09-.23l.1-.07.12,0H7.32a.32.32,0,0,1,.23.09.3.3,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73,5.58,5.58,0,0,1-.49.6A4.85,4.85,0,0,1,8.48,9a8,8,0,0,0-.65.63,1,1,0,0,0-.27.7v.22a.21.21,0,0,1,0,.12.17.17,0,0,1-.06.1.23.23,0,0,1-.1.07l-.12,0H5.53a.21.21,0,0,1-.12,0,.18.18,0,0,1-.1-.07.2.2,0,0,1-.08-.1.37.37,0,0,1,0-.12v-.35a2.68,2.68,0,0,1,.13-.84,2.91,2.91,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.84,7.84,0,0,0,.65-.64,1,1,0,0,0,.25-.67.77.77,0,0,0-.07-.34.67.67,0,0,0-.23-.27,1.16,1.16,0,0,0-.72-.24A1.61,1.61,0,0,0,6,5.61a3,3,0,0,0-.41.18A1.75,1.75,0,0,0,5.3,6l-.11.09A.5.5,0,0,1,5,6.12.31.31,0,0,1,4.74,6l-1-1.21a.3.3,0,0,1,0-.4A1.36,1.36,0,0,1,4,4.18a3.07,3.07,0,0,1,.56-.38,5.49,5.49,0,0,1,.9-.37,3.69,3.69,0,0,1,1.19-.17A3.92,3.92,0,0,1,8.93,4a2.85,2.85,0,0,1,.77.92A2.82,2.82,0,0,1,10,6.21,3,3,0,0,1,9.85,7.15Z"></path>\n    </g>\n  </g>`
          , yn = `<g id="incorrect">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#ca3431" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M14,12.51a.57.57,0,0,1,.08.13.39.39,0,0,1,0,.3.5.5,0,0,1-.08.12l-1.38,1.38a.5.5,0,0,1-.12.08l-.15,0-.15,0a.57.57,0,0,1-.13-.08L9,11.37,5.94,14.44a.57.57,0,0,1-.13.08l-.15,0-.15,0a.36.36,0,0,1-.12-.08L4,13.06a.39.39,0,0,1-.11-.27A.41.41,0,0,1,4,12.51L7.07,9.45,4,6.39a.43.43,0,0,1-.11-.28A.39.39,0,0,1,4,5.84L5.39,4.46a.39.39,0,0,1,.27-.11.43.43,0,0,1,.28.11L9,7.52l3.06-3.06a.41.41,0,0,1,.28-.11.39.39,0,0,1,.27.11L14,5.84a.36.36,0,0,1,.08.12.39.39,0,0,1,0,.3.57.57,0,0,1-.08.13L10.92,9.45Z"></path>\n    </g>\n    <path class="${Xt.ClassNames.Component}" fill="#f1f2f2" d="M14,12a.57.57,0,0,1,.08.13.39.39,0,0,1,0,.3.5.5,0,0,1-.08.12l-1.38,1.38a.5.5,0,0,1-.12.08l-.15,0-.15,0a.57.57,0,0,1-.13-.08L9,10.87,5.94,13.94a.57.57,0,0,1-.13.08l-.15,0-.15,0a.36.36,0,0,1-.12-.08L4,12.56a.39.39,0,0,1-.11-.27A.41.41,0,0,1,4,12L7.07,9,4,5.89a.43.43,0,0,1-.11-.28A.39.39,0,0,1,4,5.34L5.39,4a.39.39,0,0,1,.27-.11A.43.43,0,0,1,5.94,4L9,7,12.06,4a.41.41,0,0,1,.28-.11.39.39,0,0,1,.27.11L14,5.34a.36.36,0,0,1,.08.12.39.39,0,0,1,0,.3.57.57,0,0,1-.08.13L10.92,9Z"></path>\n  </g>`
          , bn = `<g id="mate">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#ec6250" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g>\n      <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n        <path d="M11.44,8.61h1.74l.1-1.55H11.54l.18-2.78H10.17L10,7.06H8.31l.18-2.78H6.94L6.76,7.06H5l-.1,1.55H6.66l-.11,1.68H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.84H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,10.29l.1-1.68H9.89l-.1,1.68Z"></path>\n      </g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M11.44,8.11h1.74l.1-1.55H11.54l.18-2.78H10.17L10,6.56H8.31l.18-2.78H6.94L6.76,6.56H5l-.1,1.55H6.66L6.55,9.79H4.82l-.1,1.55H6.46l-.18,2.78H7.83L8,11.34H9.69l-.18,2.78h1.55l.18-2.78H13l.1-1.55H11.34ZM8.11,9.79l.1-1.68H9.89l-.1,1.68Z"></path>\n    </g>\n  </g>`
          , _n = `<g id="missed_win">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#dbac16" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g>\n      <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n        <rect x="2.74" y="8.1" width="12.51" height="3.11" rx="0.36"></rect>\n      </g>\n      <rect class="${Xt.ClassNames.Component}" fill="#fff" x="2.74" y="7.6" width="12.51" height="3.11" rx="0.36"></rect>\n    </g>\n  </g>`
          , Cn = `<g id="mistake">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#e58f2a" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g>\n      <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n        <path d="M9.92,15a.27.27,0,0,1,0,.12.41.41,0,0,1-.07.11.32.32,0,0,1-.23.09H7.7a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08A.31.31,0,0,1,7.39,15V13.19A.32.32,0,0,1,7.48,13l.1-.07.12,0H9.59a.32.32,0,0,1,.23.09.61.61,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73,5.58,5.58,0,0,1-.49.6,6,6,0,0,1-.52.49,8,8,0,0,0-.65.63,1,1,0,0,0-.27.7v.22a.24.24,0,0,1,0,.12.17.17,0,0,1-.06.1.3.3,0,0,1-.1.07l-.12,0H7.79l-.12,0a.3.3,0,0,1-.1-.07.26.26,0,0,1-.07-.1.37.37,0,0,1,0-.12v-.35A2.42,2.42,0,0,1,7.61,10a2.55,2.55,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.73,7.73,0,0,0,.64-.64,1,1,0,0,0,.26-.67.77.77,0,0,0-.07-.34.75.75,0,0,0-.23-.27,1.16,1.16,0,0,0-.72-.24,1.61,1.61,0,0,0-.49.07,3,3,0,0,0-.41.18,1.41,1.41,0,0,0-.29.18l-.11.09a.5.5,0,0,1-.24.06A.31.31,0,0,1,7,6.69L6,5.48a.29.29,0,0,1,0-.4,1.36,1.36,0,0,1,.21-.2,3.07,3.07,0,0,1,.56-.38,5.38,5.38,0,0,1,.89-.37A3.75,3.75,0,0,1,8.9,4a4.07,4.07,0,0,1,1.2.19,4,4,0,0,1,1.09.56,2.76,2.76,0,0,1,.78.92,2.82,2.82,0,0,1,.28,1.28A3,3,0,0,1,12.12,7.85Z"></path>\n      </g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M9.92,14.52a.27.27,0,0,1,0,.12.41.41,0,0,1-.07.11.32.32,0,0,1-.23.09H7.7a.25.25,0,0,1-.12,0,.27.27,0,0,1-.1-.08.31.31,0,0,1-.09-.22V12.69a.32.32,0,0,1,.09-.23l.1-.07.12,0H9.59a.32.32,0,0,1,.23.09.61.61,0,0,1,.07.1.28.28,0,0,1,0,.13Zm2.2-7.17a3.1,3.1,0,0,1-.36.73,5.58,5.58,0,0,1-.49.6,6,6,0,0,1-.52.49,8,8,0,0,0-.65.63,1,1,0,0,0-.27.7v.22a.24.24,0,0,1,0,.12.17.17,0,0,1-.06.1.3.3,0,0,1-.1.07l-.12,0H7.79l-.12,0a.3.3,0,0,1-.1-.07.26.26,0,0,1-.07-.1.37.37,0,0,1,0-.12v-.35a2.42,2.42,0,0,1,.13-.84,2.55,2.55,0,0,1,.33-.66,3.38,3.38,0,0,1,.45-.55c.16-.15.33-.29.49-.42a7.73,7.73,0,0,0,.64-.64,1,1,0,0,0,.26-.67.77.77,0,0,0-.07-.34A.75.75,0,0,0,9.48,6a1.16,1.16,0,0,0-.72-.24,1.61,1.61,0,0,0-.49.07A3,3,0,0,0,7.86,6a1.41,1.41,0,0,0-.29.18l-.11.09a.5.5,0,0,1-.24.06A.31.31,0,0,1,7,6.19L6,5a.29.29,0,0,1,0-.4,1.36,1.36,0,0,1,.21-.2A3.07,3.07,0,0,1,6.81,4a5.38,5.38,0,0,1,.89-.37,3.75,3.75,0,0,1,1.2-.17,4.07,4.07,0,0,1,1.2.19,4,4,0,0,1,1.09.56,2.76,2.76,0,0,1,.78.92,2.82,2.82,0,0,1,.28,1.28A3,3,0,0,1,12.12,7.35Z"></path>\n    </g>\n  </g>`
          , En = `<g id="resign_black">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g>\n      <path d="M4.94,6.34H4.89a.63.63,0,0,0-.44.77l2.16,8.09a.63.63,0,0,0,.77.45l0,0a.62.62,0,0,0,.44-.76L5.7,6.78A.62.62,0,0,0,4.94,6.34Z"></path>\n      <path d="M12.33,4.48c-2,2.29-3.83-.41-6,1.52a.54.54,0,0,0-.15.25.48.48,0,0,0,0,.29c.22.89.87,3.3,1.12,4.15a.15.15,0,0,0,.26.07c1.92-2.65,4,.27,6.11-1.69a.46.46,0,0,0,.12-.44c-.21-.78-.8-3-1.1-4.05C12.62,4.44,12.42,4.36,12.33,4.48Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.ComponentShadow}" fill="#fff" d="M4.94,5.74H4.89a.63.63,0,0,0-.44.77l2.16,8.09a.63.63,0,0,0,.77.45l0,0a.62.62,0,0,0,.44-.76L5.7,6.18A.62.62,0,0,0,4.94,5.74Z"></path>\n      <path class="${Xt.ClassNames.ComponentShadow}" fill="#fff" d="M12.33,3.88c-2,2.29-3.83-.41-6,1.52a.54.54,0,0,0-.15.25.48.48,0,0,0,0,.29c.22.89.87,3.3,1.12,4.15a.15.15,0,0,0,.26.07c1.92-2.65,4,.27,6.11-1.69A.46.46,0,0,0,13.76,8c-.21-.78-.8-3-1.1-4C12.62,3.84,12.42,3.76,12.33,3.88Z"></path>\n    </g>\n  </g>`
          , An = `<g id="resign_white">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <circle class="${Xt.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>\n      <g>\n        <path d="M4.94,5.74H4.89a.63.63,0,0,0-.44.77l2.16,8.09a.63.63,0,0,0,.77.45l0,0a.62.62,0,0,0,.44-.76L5.7,6.18A.62.62,0,0,0,4.94,5.74Z"></path>\n        <path d="M12.33,3.88c-2,2.29-3.83-.41-6,1.52a.54.54,0,0,0-.15.25.48.48,0,0,0,0,.29c.22.89.87,3.3,1.12,4.15a.15.15,0,0,0,.26.07c1.92-2.65,4,.27,6.11-1.69A.46.46,0,0,0,13.76,8c-.21-.78-.8-3-1.1-4C12.62,3.84,12.42,3.76,12.33,3.88Z"></path>\n      </g>\n    </g>\n    <path class="${Xt.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n  </g>`
          , Sn = `<g id="sharp">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#ad5b8c" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M13.37,11.74,9.25,2.81a.22.22,0,0,0-.1-.11.27.27,0,0,0-.28,0,.18.18,0,0,0-.1.11L4.63,11.74a.26.26,0,0,0,0,.15.25.25,0,0,0,.08.14l2.67,2.29.07.09a.3.3,0,0,1,0,.1v1.08a.25.25,0,0,0,.08.18.24.24,0,0,0,.18.07h2.57a.26.26,0,0,0,.18-.07.25.25,0,0,0,.08-.18V14.51a.16.16,0,0,1,0-.1.47.47,0,0,1,.06-.09L13.31,12a.25.25,0,0,0,.08-.14A.26.26,0,0,0,13.37,11.74ZM9,5v8.73a.24.24,0,0,1-.38.17L5.91,11.76a.3.3,0,0,1-.09-.13.22.22,0,0,1,0-.16L8.84,5a.08.08,0,0,1,0,0h.06A.09.09,0,0,1,9,5S9,5,9,5Z"></path>\n    </g>\n    <path class="${Xt.ClassNames.Component}" fill="#fff" d="M13.37,11.24,9.25,2.31a.22.22,0,0,0-.1-.11.26.26,0,0,0-.28,0,.18.18,0,0,0-.1.11L4.63,11.24a.26.26,0,0,0,0,.15.25.25,0,0,0,.08.14l2.67,2.29.07.09a.3.3,0,0,1,0,.1v1.08a.25.25,0,0,0,.08.18.24.24,0,0,0,.18.07h2.57a.26.26,0,0,0,.18-.07.25.25,0,0,0,.08-.18V14a.16.16,0,0,1,0-.1.47.47,0,0,1,.06-.09l2.67-2.29a.25.25,0,0,0,.08-.14A.26.26,0,0,0,13.37,11.24ZM9,4.51v8.73a.24.24,0,0,1-.38.17L5.91,11.26a.3.3,0,0,1-.09-.13.22.22,0,0,1,0-.16l3-6.49a.08.08,0,0,1,0,0h.06a.09.09,0,0,1,.05,0S9,4.49,9,4.51Z"></path>\n  </g>`
          , xn = `<g id="take_back">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#96af8b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M3.67,10.38a.25.25,0,0,1,.24-.31L5,9.93a.49.49,0,0,1,.2.05.26.26,0,0,1,.1.2,3.77,3.77,0,0,0,1.26,2.34,3.87,3.87,0,0,0,2.52.94,3.53,3.53,0,0,0,1.47-.31,3.72,3.72,0,0,0,1.22-.81,4.13,4.13,0,0,0,.82-1.2,3.74,3.74,0,0,0,0-3A3.94,3.94,0,0,0,11.77,7a3.72,3.72,0,0,0-1.22-.81,3.53,3.53,0,0,0-1.47-.31,3.43,3.43,0,0,0-1.23.22,3.07,3.07,0,0,0-1.09.6L7.85,7.75c.16.14.22.29.16.38s-.18.16-.4.16H4.45a.33.33,0,0,1-.19,0,1,1,0,0,1-.17-.1A.57.57,0,0,1,4,8a.46.46,0,0,1,0-.21V4.6a.4.4,0,0,1,.16-.38c.11,0,.26,0,.42.17L5.6,5.49a5.93,5.93,0,0,1,1.63-1,5.42,5.42,0,0,1,4,.11A5.17,5.17,0,0,1,12.93,5.8a5.48,5.48,0,0,1,1.16,1.73,5.17,5.17,0,0,1,.44,2.12,5,5,0,0,1-.44,2.12,5.54,5.54,0,0,1-2.88,2.91,5.77,5.77,0,0,1-2.13.42,5.39,5.39,0,0,1-1.94-.37,5.36,5.36,0,0,1-2.85-2.48A5.43,5.43,0,0,1,3.67,10.38Z"></path>\n    </g>\n    <path class="${Xt.ClassNames.Component}" fill="#fff" d="M3.67,9.88a.25.25,0,0,1,.24-.31L5,9.43a.49.49,0,0,1,.2.05.26.26,0,0,1,.1.2A3.77,3.77,0,0,0,6.56,12,3.87,3.87,0,0,0,9.08,13a3.53,3.53,0,0,0,1.47-.31,3.72,3.72,0,0,0,1.22-.81,4.13,4.13,0,0,0,.82-1.2,3.74,3.74,0,0,0,0-3,3.94,3.94,0,0,0-.82-1.2,3.72,3.72,0,0,0-1.22-.81,3.53,3.53,0,0,0-1.47-.31,3.43,3.43,0,0,0-1.23.22,3.07,3.07,0,0,0-1.09.6L7.85,7.25c.16.14.22.29.16.38s-.18.16-.4.16H4.45a.33.33,0,0,1-.19,0,1,1,0,0,1-.17-.1A.57.57,0,0,1,4,7.47a.46.46,0,0,1,0-.21V4.1a.4.4,0,0,1,.16-.38c.11-.05.26,0,.42.17L5.6,5A5.93,5.93,0,0,1,7.23,4a5.42,5.42,0,0,1,4,.11A5.17,5.17,0,0,1,12.93,5.3,5.48,5.48,0,0,1,14.09,7a5.17,5.17,0,0,1,.44,2.12,5,5,0,0,1-.44,2.12,5.54,5.54,0,0,1-2.88,2.91,5.77,5.77,0,0,1-2.13.42,5.39,5.39,0,0,1-1.94-.37,5.63,5.63,0,0,1-1.65-1,5.59,5.59,0,0,1-1.2-1.5A5.43,5.43,0,0,1,3.67,9.88Z"></path>\n  </g>`
          , wn = `<g id="threat">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n    <path class="${Xt.ClassNames.Background}" fill="#ec6250" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path d="M15.12,9.65a6.14,6.14,0,0,1-3.78,5.65,6.19,6.19,0,0,1-3.53.35A6.15,6.15,0,0,1,3,10.84,6.11,6.11,0,0,1,9,3.53a6.15,6.15,0,0,1,6.12,6.12ZM5,9.65a4,4,0,0,0,.67,2.22,4.09,4.09,0,0,0,1.79,1.47,4,4,0,0,0,5.22-5.22A4,4,0,0,0,5,9.65Z"></path>\n      <path d="M6.75,9.65a2.24,2.24,0,0,0,.38,1.25,2.27,2.27,0,0,0,1,.83,2.22,2.22,0,0,0,1.3.12,2.22,2.22,0,0,0,1.76-1.76,2.22,2.22,0,0,0-.13-1.3,2.25,2.25,0,0,0-4.32.86Z"></path>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M15.12,9.15a6.14,6.14,0,0,1-3.78,5.65,6.19,6.19,0,0,1-3.53.35A6.15,6.15,0,0,1,3,10.34,6.11,6.11,0,0,1,9,3a6.15,6.15,0,0,1,6.12,6.12ZM5,9.15a4,4,0,0,0,.67,2.22,4.09,4.09,0,0,0,1.79,1.47,4,4,0,0,0,5.22-5.22A4,4,0,0,0,5,9.15Z"></path>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M6.75,9.15a2.24,2.24,0,0,0,.38,1.25,2.27,2.27,0,0,0,1,.83,2.22,2.22,0,0,0,1.3.12A2.22,2.22,0,0,0,11.2,9.59a2.22,2.22,0,0,0-.13-1.3,2.25,2.25,0,0,0-4.32.86Z"></path>\n    </g>\n  </g>`
          , Pn = `<path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n<path class="${Xt.ClassNames.Background}" fill="#312e2b" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n<path d="M8.57,7.26,8.11,10l.89.86L9.89,10,9.45,7.26ZM9,12.86A3.35,3.35,0,1,1,12.36,9.5,3.34,3.34,0,0,1,9,12.86Zm.7-8.29V4.12h.82V2.79h-3V4.12H8.3v.45a5,5,0,1,0,1.4,0Z"></path>\n<path class="${Xt.ClassNames.ComponentShadow}" fill="#fff" d="M8.57,6.76,8.11,9.48l.89.86.89-.86L9.45,6.76ZM9,12.36A3.35,3.35,0,1,1,12.36,9,3.34,3.34,0,0,1,9,12.36Zm.7-8.29V3.62h.82V2.29h-3V3.62H8.3v.45a5,5,0,1,0,1.4,0Z"></path>`
          , Tn = `<path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n<circle class="${Xt.ClassNames.Background}" fill="#f8f8f8" cx="9" cy="9" r="8.5"></circle>\n<path class="${Xt.ClassNames.ComponentShadow}" fill="#e8e8e8" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n<path d="M8.57,6.76,8.11,9.48l.89.86.89-.86L9.45,6.76ZM9,12.36A3.35,3.35,0,1,1,12.36,9,3.34,3.34,0,0,1,9,12.36Zm.7-8.29V3.62h.82V2.29h-3V3.62H8.3v.45a5,5,0,1,0,1.4,0Z"></path>`
          , Mn = `\n  <path\n    class="${Xt.ClassNames.Shadow}"\n    d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"\n    opacity=".3"></path>\n  <path\n    class="${Xt.ClassNames.Background}"\n    d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"\n    fill="#8a8886"></path>\n  <path\n    d="M3.59,10.23a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,13.31,3.58,3.58,0,0,0,10.47,13a3.94,3.94,0,0,0,1.22-.81A4.09,4.09,0,0,0,12.5,11a3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2A3.94,3.94,0,0,0,10.47,6,3.65,3.65,0,0,0,9,5.69a3.61,3.61,0,0,0-1.23.21,3.23,3.23,0,0,0-1.09.6L7.77,7.59c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,8a.52.52,0,0,1-.17-.38V4.45c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,5.34a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,4.05a5.3,5.3,0,0,1,2.12.44,5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,7.38a5.23,5.23,0,0,1,.44,2.12A5.16,5.16,0,0,1,14,11.62a5.59,5.59,0,0,1-1.16,1.73,5.32,5.32,0,0,1-1.73,1.18A5.64,5.64,0,0,1,9,15a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,12.1,5.1,5.1,0,0,1,3.59,10.23Z"\n    class="${Xt.ClassNames.ComponentShadow}"\n    opacity=".3"></path>\n  <path\n    d="M3.59,9.73a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,12.81a3.58,3.58,0,0,0,1.47-.31,3.94,3.94,0,0,0,1.22-.81,4.09,4.09,0,0,0,.81-1.2,3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2,3.94,3.94,0,0,0-1.22-.81A3.65,3.65,0,0,0,9,5.19a3.61,3.61,0,0,0-1.23.21A3.23,3.23,0,0,0,6.68,6L7.77,7.09c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,7.49a.52.52,0,0,1-.17-.38V4c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,4.84a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,3.55,5.3,5.3,0,0,1,11.12,4a5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,6.88,5.23,5.23,0,0,1,14.45,9,5.16,5.16,0,0,1,14,11.12a5.59,5.59,0,0,1-1.16,1.73A5.32,5.32,0,0,1,11.12,14,5.64,5.64,0,0,1,9,14.45a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,11.6,5.1,5.1,0,0,1,3.59,9.73Z"\n    class="${Xt.ClassNames.Component}"\n    fill="#ffffff"></path>\n`
          , kn = `<g id="winner">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#dbac16" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path class="cls-4" d="M4.35,12.66,2.86,7.72a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,7.34a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21.05L6.27,9.15l.14,0h.14a.31.31,0,0,0,.13-.06A.48.48,0,0,0,6.77,9L8.69,5.54a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18L11.22,9a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21-.05.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.37.37,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.66Z"></path>\n    </g>\n    <path class="undefined" fill-rule="evenodd" d="M4.35,12.06,2.86,7.12a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,6.74a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21,0L6.27,8.55l.14,0h.14a.31.31,0,0,0,.13-.06.48.48,0,0,0,.09-.11L8.69,4.94a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18l1.91,3.48a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21,0,.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.38.38,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.06Z"></path>\n  </g>`
          , In = `<g id="winner-white" fill="#fff">\n    <g>\n      <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"></path>\n      <path class="${Xt.ClassNames.Background}" fill="#dbac16" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"></path>\n    </g>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n      <path class="cls-4" d="M4.35,12.66,2.86,7.72a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,7.34a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21.05L6.27,9.15l.14,0h.14a.31.31,0,0,0,.13-.06A.48.48,0,0,0,6.77,9L8.69,5.54a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18L11.22,9a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21-.05.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.37.37,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.66Z"></path>\n    </g>\n    <path class="undefined" fill-rule="evenodd" d="M4.35,12.06,2.86,7.12a.37.37,0,0,1,0-.21A.35.35,0,0,1,3,6.74a.31.31,0,0,1,.2-.07.3.3,0,0,1,.21,0L6.27,8.55l.14,0h.14a.31.31,0,0,0,.13-.06.48.48,0,0,0,.09-.11L8.69,4.94a.4.4,0,0,1,.13-.13.37.37,0,0,1,.18,0,.36.36,0,0,1,.31.18l1.91,3.48a.52.52,0,0,0,.1.11.31.31,0,0,0,.13.06h.14l.13,0,2.89-1.83a.3.3,0,0,1,.21,0,.31.31,0,0,1,.2.07.35.35,0,0,1,.12.17.38.38,0,0,1,0,.21l-1.49,4.94a.34.34,0,0,1-.13.18.31.31,0,0,1-.21.07H4.69a.31.31,0,0,1-.21-.07A.34.34,0,0,1,4.35,12.06Z"></path>\n  </g>`
          , On = `<g id="interesting">\n    <path class="${Xt.ClassNames.Shadow}" d="m9 .5a9 9 0 1 0 9 9 9 9 0 0 0 -9-9z" opacity="0.3"></path>\n    <path  class="${Xt.ClassNames.Background}" d="m0 9a9 9 0 1 0 9-9 9 9 0 0 0 -9 9z" fill="#7979a1"></path>\n    <g  class="${Xt.ClassNames.Component}" opacity=".2">\n      <path d="m4.75 12.9a.28.28 0 0 1 0-.13.25.25 0 0 1 .08-.1.33.33 0 0 1 .23-.1h2 .12l.11.08a.36.36 0 0 1 .07.1.59.59 0 0 1 0 .13v1.9a.36.36 0 0 1 -.09.24.27.27 0 0 1 -.1.08h-.13-2-.12a.44.44 0 0 1 -.19-.19.28.28 0 0 1 0-.13zm-.06-8.8a.41.41 0 0 1 .08-.24.35.35 0 0 1 .23-.1h2.14.13l.11.08a.5.5 0 0 1 .09.24l-.15 6.77c0 .21-.15.31-.34.31h-1.78a.3.3 0 0 1 -.2-.06.3.3 0 0 1 -.1-.1.31.31 0 0 1 0-.13z"/><path d="m12.39 14.82a.25.25 0 0 1 0 .12.28.28 0 0 1 -.08.11l-.1.07h-.12-1.91a.27.27 0 0 1 -.13 0 .39.39 0 0 1 -.05-.12.35.35 0 0 1 -.08-.22v-1.78a.32.32 0 0 1 .09-.23l.1-.07h.12 1.89a.33.33 0 0 1 .23.09.61.61 0 0 1 .07.1.27.27 0 0 1 0 .13zm2.2-7.17a2.49 2.49 0 0 1 -.36.73 4.51 4.51 0 0 1 -.48.6 6 6 0 0 1 -.52.49q-.39.34-.66.63a1 1 0 0 0 -.27.7v.2a.22.22 0 0 1 0 .12.35.35 0 0 1 -.17.17.2.2 0 0 1 -.11 0h-1.75-.12a.23.23 0 0 1 -.1-.07.26.26 0 0 1 -.07-.1.22.22 0 0 1 .02-.12v-.35a2.41 2.41 0 0 1 .12-.84 2.91 2.91 0 0 1 .33-.66 3.38 3.38 0 0 1 .45-.55l.49-.42a6.55 6.55 0 0 0 .61-.62 1 1 0 0 0 .26-.67.66.66 0 0 0 -.08-.34.64.64 0 0 0 -.18-.27 1.18 1.18 0 0 0 -.77-.28 1.66 1.66 0 0 0 -.49.07 3 3 0 0 0 -.41.18 2.29 2.29 0 0 0 -.29.18l-.1.09a.53.53 0 0 1 -.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.29.29 0 0 1 0-.4 1.36 1.36 0 0 1 .21-.2 3 3 0 0 1 .55-.38 5.87 5.87 0 0 1 .9-.37 3.75 3.75 0 0 1 1.2-.17 4.12 4.12 0 0 1 1.2.19 4 4 0 0 1 1.09.56 2.73 2.73 0 0 1 .77.92 2.7 2.7 0 0 1 .29 1.28 2.72 2.72 0 0 1 -.11.98z"/></g><g fill="#fff"><path d="m4.75 12.4a.28.28 0 0 1 0-.13.25.25 0 0 1 .08-.1.33.33 0 0 1 .23-.1h2 .12l.11.08a.36.36 0 0 1 .07.1.59.59 0 0 1 0 .13v1.9a.36.36 0 0 1 -.09.24.27.27 0 0 1 -.1.08h-.13-2-.12a.44.44 0 0 1 -.19-.19.28.28 0 0 1 0-.13zm-.06-8.8a.41.41 0 0 1 .08-.24.35.35 0 0 1 .23-.1h2.14.13l.11.08a.5.5 0 0 1 .09.24l-.15 6.77c0 .21-.15.31-.34.31h-1.78a.3.3 0 0 1 -.2-.06.3.3 0 0 1 -.07-.1.31.31 0 0 1 0-.13z"/><path d="m12.39 14.32a.25.25 0 0 1 0 .12.28.28 0 0 1 -.08.11l-.1.07h-.12-1.91a.27.27 0 0 1 -.13 0 .39.39 0 0 1 -.1-.08.35.35 0 0 1 -.08-.22v-1.83a.32.32 0 0 1 .09-.23l.1-.07h.12 1.89a.33.33 0 0 1 .23.09.61.61 0 0 1 .07.1.27.27 0 0 1 0 .13zm2.2-7.17a2.49 2.49 0 0 1 -.36.73 4.51 4.51 0 0 1 -.48.6 6 6 0 0 1 -.52.49q-.39.34-.66.63a1 1 0 0 0 -.27.7v.22a.22.22 0 0 1 0 .12.35.35 0 0 1 -.17.17.2.2 0 0 1 -.11 0h-1.75-.12a.23.23 0 0 1 -.1-.07.26.26 0 0 1 -.07-.1.22.22 0 0 1 0-.12v-.35a2.41 2.41 0 0 1 .12-.84 2.91 2.91 0 0 1 .33-.66 3.38 3.38 0 0 1 .45-.55l.49-.42a6.55 6.55 0 0 0 .63-.64 1 1 0 0 0 .26-.67.66.66 0 0 0 -.08-.34.64.64 0 0 0 -.18-.27 1.18 1.18 0 0 0 -.73-.24 1.66 1.66 0 0 0 -.49.07 3 3 0 0 0 -.41.18 2.29 2.29 0 0 0 -.37.21l-.1.09a.53.53 0 0 1 -.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.29.29 0 0 1 0-.4 1.36 1.36 0 0 1 .21-.2 3 3 0 0 1 .55-.38 5.87 5.87 0 0 1 .9-.37 3.75 3.75 0 0 1 1.2-.17 4.12 4.12 0 0 1 1.2.19 4 4 0 0 1 1.16.52 2.73 2.73 0 0 1 .77.92 2.7 2.7 0 0 1 .29 1.28 2.72 2.72 0 0 1 -.14.95z"/>\n    </g>\n  </g>`
          , Nn = `<g id="warning">\n    <g>\n      <g class="${Xt.ClassNames.Shadow}" opacity="0.3">\n        <path d="M.32,14.3,6.94,2.83a2.37,2.37,0,0,1,4.11,0L17.68,14.3a2.38,2.38,0,0,1-2.06,3.56H2.38A2.38,2.38,0,0,1,.32,14.3Z"></path>\n      </g>\n      <path class="${Xt.ClassNames.Background}" fill="#ec6250" d="M.32,13.8,6.94,2.33a2.37,2.37,0,0,1,4.11,0L17.68,13.8a2.38,2.38,0,0,1-2.06,3.56H2.38A2.38,2.38,0,0,1,.32,13.8Z"></path>\n    </g>\n    <g>\n      <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.2">\n        <path d="M10.21,15.19a.5.5,0,0,1,0,.12.26.26,0,0,1-.07.1.31.31,0,0,1-.22.09H8.1a.25.25,0,0,1-.12,0,.31.31,0,0,1-.09-.07.35.35,0,0,1-.08-.22V13.45a.29.29,0,0,1,.09-.21A.22.22,0,0,1,8,13.17l.11,0H9.9a.31.31,0,0,1,.22.09.27.27,0,0,1,.09.21ZM10.1,11.6a.22.22,0,0,1,0,.11.23.23,0,0,1-.07.1.27.27,0,0,1-.21.07H8.18a.29.29,0,0,1-.31-.28L7.73,5.41a.35.35,0,0,1,.08-.22.23.23,0,0,1,.1-.07A.25.25,0,0,1,8,5.1H10a.32.32,0,0,1,.23.09.35.35,0,0,1,.08.22Z"></path>\n      </g>\n      <path class="${Xt.ClassNames.Component}" fill="#fff" d="M10.21,14.69a.5.5,0,0,1,0,.12.26.26,0,0,1-.07.1A.31.31,0,0,1,9.9,15H8.1A.25.25,0,0,1,8,15a.31.31,0,0,1-.09-.07.35.35,0,0,1-.08-.22V13a.29.29,0,0,1,.09-.21A.22.22,0,0,1,8,12.67l.11,0H9.9a.31.31,0,0,1,.22.09.27.27,0,0,1,.09.21ZM10.1,11.1a.22.22,0,0,1,0,.11.23.23,0,0,1-.07.1.27.27,0,0,1-.21.07H8.18a.29.29,0,0,1-.31-.28L7.73,4.91a.35.35,0,0,1,.08-.22.23.23,0,0,1,.1-.07A.25.25,0,0,1,8,4.6H10a.32.32,0,0,1,.23.09.35.35,0,0,1,.08.22Z"></path>\n    </g>\n  </g>`
          , Rn = `<g id="equal">\n    <path class="${Xt.ClassNames.Shadow}" opacity="0.3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n    <path class="${Xt.ClassNames.Background}" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n    <g class="${Xt.ClassNames.ComponentShadow}" opacity="0.4">\n      <path d="M5.31,8.36l-.15,0A.57.57,0,0,1,5,8.25.57.57,0,0,1,5,8.12a.4.4,0,0,1,0-.15V6a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39V8a.4.4,0,0,1,0,.15.57.57,0,0,1-.08.13.57.57,0,0,1-.13.08l-.15,0Z"/>\n      <path d="M5.31,13.36l-.15,0A.57.57,0,0,1,5,13.25.57.57,0,0,1,5,13.12a.4.4,0,0,1,0-.15V11a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39V13a.4.4,0,0,1,0,.15.33.33,0,0,1-.21.21l-.15,0Z"/>\n    </g>\n    <g>\n      <path class="${Xt.ClassNames.Component}" fill="#f1f2f2" d="M5.31,7.86l-.15,0A.57.57,0,0,1,5,7.75.57.57,0,0,1,5,7.62a.4.4,0,0,1,0-.15V5.53a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39V7.47a.4.4,0,0,1,0,.15.57.57,0,0,1-.08.13.57.57,0,0,1-.13.08l-.15,0Z"/>\n      <path class="${Xt.ClassNames.Component}" fill="#f1f2f2" d="M5.31,12.86l-.15,0A.57.57,0,0,1,5,12.75.57.57,0,0,1,5,12.62a.4.4,0,0,1,0-.15V10.53a.38.38,0,0,1,.39-.39h7.38a.38.38,0,0,1,.39.39v1.94a.4.4,0,0,1,0,.15.33.33,0,0,1-.21.21l-.15,0Z"/>\n    </g>\n  </g>`
          , Ln = {
            [Pe.Alternative]: Qt,
            [Pe.BestMove]: Yt,
            [Pe.Blunder]: Jt,
            [Pe.Book]: en,
            [Pe.Brilliant]: tn,
            [Pe.CheckmateBlack]: nn,
            [Pe.CheckmateWhite]: rn,
            [Pe.Correct]: an,
            [Pe.Critical]: sn,
            [Pe.DrawBlack]: un,
            [Pe.DrawWhite]: cn,
            [Pe.Excellent]: ln,
            [Pe.FastWin]: dn,
            [Pe.Forced]: mn,
            [Pe.FreePiece]: fn,
            [Pe.Gamechanger]: hn,
            [Pe.Good]: gn,
            [Pe.GreatFind]: pn,
            [Pe.Inaccuracy]: vn,
            [Pe.Incorrect]: yn,
            [Pe.Mate]: bn,
            [Pe.Miss]: '<defs><style>.cls-1{fill:#fff;}.cls-2{fill:#ee6b55;}.cls-3{opacity:.2;}.cls-4{opacity:.3;}</style></defs><g id="threat"><path class="cls-4" d="M9,.5C4.03,.5,0,4.53,0,9.5s4.03,9,9,9,9-4.03,9-9S13.97,.5,9,.5Z"/><path class="cls-2" d="M9,0C4.03,0,0,4.03,0,9s4.03,9,9,9,9-4.03,9-9S13.97,0,9,0Z"/></g><path class="cls-3" d="M15,8.45c-.24-1.19-.82-2.28-1.67-3.13-1.15-1.15-2.7-1.79-4.32-1.79-1.62,0-3.18,.64-4.32,1.79-.86,.86-1.44,1.94-1.67,3.13s-.12,2.42,.35,3.53,1.25,2.07,2.25,2.74c1.01,.67,2.19,1.03,3.4,1.03,1.21,0,2.39-.36,3.4-1.03,1.01-.67,1.79-1.63,2.25-2.74,.46-1.12,.58-2.35,.35-3.53Zm-8.82-1.63c.56-.56,1.27-.94,2.04-1.09,.77-.15,1.58-.07,2.31,.23,.15,.06,.3,.14,.44,.22l-5.42,5.42c-.33-.59-.53-1.26-.53-1.95,0-1.06,.42-2.07,1.17-2.82Zm6.14,5.04c-.44,.66-1.06,1.17-1.79,1.47-.73,.3-1.53,.38-2.31,.23-.42-.08-.82-.24-1.19-.45l5.43-5.43c.34,.6,.53,1.27,.53,1.96,0,.79-.23,1.56-.67,2.22Z"/><path class="cls-1" d="M15,7.96c-.24-1.19-.82-2.28-1.67-3.13-1.15-1.15-2.7-1.79-4.32-1.79-1.62,0-3.18,.64-4.32,1.79-.86,.86-1.44,1.94-1.67,3.13s-.12,2.42,.35,3.53,1.25,2.07,2.25,2.74c1.01,.67,2.19,1.03,3.4,1.03,1.21,0,2.39-.36,3.4-1.03,1.01-.67,1.79-1.63,2.25-2.74,.46-1.12,.58-2.35,.35-3.53Zm-8.82-1.63c.56-.56,1.27-.94,2.04-1.09,.77-.15,1.58-.07,2.31,.23,.15,.06,.3,.14,.44,.22l-5.42,5.42c-.33-.59-.53-1.26-.53-1.95,0-1.06,.42-2.07,1.17-2.82Zm6.14,5.04c-.44,.66-1.06,1.17-1.79,1.47-.73,.3-1.53,.38-2.31,.23-.42-.08-.82-.24-1.19-.45l5.43-5.43c.34,.6,.53,1.27,.53,1.96,0,.79-.23,1.56-.67,2.22Z"/>',
            [Pe.MissedWin]: _n,
            [Pe.Mistake]: Cn,
            [Pe.ResignBlack]: En,
            [Pe.ResignWhite]: An,
            [Pe.Sharp]: Sn,
            [Pe.Takeback]: xn,
            [Pe.Threat]: wn,
            [Pe.TimeoutBlack]: Pn,
            [Pe.TimeoutWhite]: Tn,
            [Pe.Undo]: Mn,
            [Pe.Winner]: kn,
            [Pe.WinnerWhite]: In,
            [Pe.Interesting]: On,
            [Pe.Warning]: Nn,
            [Pe.Equal]: Rn
        };
        function makeSvgIcon({className: e="", path: t="", size: n="24", viewBox: a="0 0 18 19"}) {
            return `\n    <svg xmlns="http://www.w3.org/2000/svg" class="${e}" width="${n}" height="${n}" viewBox="${a}">\n      ${t}\n    </svg>\n  `
        }
        function tuckMarking({square: e, isFlipped: t, effectEl: n}) {
            const a = getTuckPosition(e, t);
            a.top && n.classList.add("tuck-top"),
            a.right && n.classList.add("tuck-right")
        }
        function getTuckPosition(e, t) {
            const n = {
                top: t ? "1" : "8",
                right: t ? "a" : "h"
            };
            return {
                top: e.includes(n.top),
                right: e.includes(n.right)
            }
        }
        function createEffectsMethods({board: e, el: t, options: n}) {
            const a = document.createComment("/Effects");
            e.addToDom({
                el: a,
                insertAfter: !0,
                type: Ft.HoverSquare
            });
            const l = new Map;
            return {
                addEffects: function addEffects(f) {
                    f.forEach((f=>{
                        const {data: {square: h, type: p}, key: m} = f
                          , g = document.createElement("div");
                        g.classList.add("effect"),
                        g.innerHTML = makeSvgIcon({
                            path: Ln[p],
                            size: "100%"
                        }),
                        setPositionBySquare({
                            el: g,
                            square: h
                        }),
                        n.test && setTestData(g, {
                            [jt.Element]: Vt.Effect,
                            [jt.Square]: h,
                            [jt.Type]: p
                        }),
                        isEdgeSquare(h) && tuckMarking({
                            square: h,
                            isFlipped: e.el.classList.contains("flipped"),
                            effectEl: g
                        });
                        const v = l.get(m);
                        v && e.el.removeChild(v),
                        t.insertBefore(g, a),
                        l.set(m, g)
                    }
                    ))
                },
                getEffectElements: function getEffectElements() {
                    return l
                },
                removeEffects: function removeEffects(t) {
                    t.forEach((t=>{
                        const {key: n} = t
                          , a = l.get(n);
                        a && (e.el.removeChild(a),
                        l.delete(n))
                    }
                    ))
                }
            }
        }
        function createEffectsPlugin() {
            return {
                create: e=>function init$1(e) {
                    const {api: t, options: n, renderer: a} = e
                      , l = t.markings;
                    null == a || a.extendRenderer(createEffectsMethods);
                    const f = n.allowMarkings ? l.getAllWhere({
                        types: [we]
                    }) : [];
                    null == a || a.addEffects(f, e)
                }(e),
                match: [{
                    condition: isMark(we),
                    handler: function markEffect(e, t) {
                        const {renderer: n} = t
                          , a = e.data.filter(isType(we));
                        null == n || n.addEffects(a, t)
                    }
                }, {
                    condition: isUnmark(we),
                    handler: function unmarkEffect(e, t) {
                        const {renderer: n} = t
                          , a = e.data.filter(isType(we));
                        null == n || n.removeEffects(a, t)
                    }
                }, {
                    condition: is$1(f.InstanceEvents.RendererSet),
                    handler: function init2(e, t) {
                        const {api: n, options: a, renderer: l} = t
                          , f = n.markings;
                        null == l || l.extendRenderer(createEffectsMethods);
                        const h = a.allowMarkings ? f.getAllWhere({
                            types: [we]
                        }) : [];
                        null == l || l.addEffects(h, t)
                    }
                }],
                name: Se.Plugin.Name
            }
        }
        function createFadeSetupPlugin() {
            return {
                match: [{
                    condition: isOneOf([f.InstanceEvents.RendererSet, f.APIEvents.Load]),
                    handler: function fadeSetup(e, t) {
                        var n;
                        null == (n = null == t ? void 0 : t.renderer) || n.fadeSetup(t)
                    }
                }],
                name: Me.Plugin.Name
            }
        }
        var Dn, Bn, $n, Fn, Hn, jn;
        function createFlipBoardPlugin(e=Dn.FlipBoardModifierKey) {
            let t;
            return {
                match: [{
                    condition: isOneOf([f.InstanceEvents.Create, f.InstanceEvents.RendererSet, f.OptionsEvents.Update]),
                    handler: function runFlipBoardPlugin(e, n) {
                        const {options: a, renderer: l, state: h} = n;
                        if (!l)
                            return;
                        if (a.flipped !== t) {
                            l.flipBoard(a.flipped, n);
                            const e = h.get(f.State.PromotionMove);
                            e && l.openPromotionWindow(e, n)
                        }
                        t = a.flipped
                    }
                }, {
                    condition: is$1($n.Events.Keydown),
                    handler: function onKeydown(t, n) {
                        const {api: a, options: l, queue: f} = n;
                        if (t.data !== e)
                            return;
                        f.add(a.setOptions, {
                            flipped: !l.flipped
                        })
                    }
                }],
                name: Dn.Plugin.Name
            }
        }
        function isObject(e) {
            return "[object Object]" === Object.prototype.toString.call(e)
        }
        function excludeIntersection(e, t, {isDuplicateWhen: n}={}) {
            const a = new Set(e);
            return t.forEach((t=>{
                if (isObject(t) && n) {
                    const l = e.find((e=>n(e, t)));
                    l && a.delete(l)
                } else
                    a.delete(t)
            }
            )),
            [...a]
        }
        function highlightsHaveSameKeyAndColor(e, t) {
            return e.key === t.key && e.data.color === t.data.color
        }
        function createHighlightsAPI(e) {
            return function createAPI2() {
                return function createHighlights(e) {
                    const t = new Set(e)
                      , n = new Map;
                    return __spreadProps(__spreadValues({}, t), {
                        addModule: function addModule(e) {
                            return t.add(e)
                        },
                        getModules: getAllModulesAsArray,
                        removeModule: function removeModule(e) {
                            return t.delete(e)
                        },
                        getAll: getAll,
                        update: function update5(...e) {
                            const t = getAll();
                            n.clear();
                            const a = Array.from(getAllModulesAsArray().reduce(((t,n)=>(n(...e).forEach((e=>{
                                t.set(e.data.square, e)
                            }
                            )),
                            t)), new Map).values());
                            a.forEach((e=>n.set(e.data.square, e)));
                            return {
                                toAdd: excludeIntersection(a, t, {
                                    isDuplicateWhen: highlightsHaveSameKeyAndColor
                                }),
                                toRemove: excludeIntersection(t, a, {
                                    isDuplicateWhen: highlightsHaveSameKeyAndColor
                                })
                            }
                        }
                    });
                    function getAll() {
                        return Array.from(n.values())
                    }
                    function getAllModulesAsArray() {
                        return Array.from(t)
                    }
                }(e)
            }
        }
        function isNot(e) {
            return function isType2(t) {
                return e !== t.type
            }
        }
        function createHighlightsPlugin(e) {
            return {
                api: createHighlightsAPI(e),
                destroy: function destroy10(e) {
                    const {api: t, renderer: n} = e
                      , a = t.highlights;
                    null == n || n.removeHighlights(a.getAll(), e)
                },
                match: [{
                    condition: isNot(f.UserEvents.Pointermove),
                    handler: function updateHighlights(e, t) {
                        const {api: n, renderer: a} = t;
                        if (!a)
                            return;
                        const l = n.highlights
                          , {toAdd: f, toRemove: h} = l.update(e, t);
                        a.removeHighlights(h, t),
                        a.addHighlights(f, t)
                    }
                }],
                name: M.Plugin.Name
            }
        }
        function isNotOneOf(e) {
            const t = new Set(Array.isArray(e) ? e : Object.values(e));
            return function isType2(e) {
                return !t.has(e.type)
            }
        }
        function pipeConditions(...e) {
            return function checkMultipleConditions(t, n) {
                return e.every((e=>e(t, n)))
            }
        }
        function createHoverSquarePlugin() {
            const e = (0,
            I.c)({
                data: {
                    square: void 0
                },
                initialState: "hidden",
                states: {
                    hidden: {
                        dragPiece: e=>({
                            data: {
                                square: e
                            },
                            nextState: "showing"
                        })
                    },
                    showing: {
                        dragPiece: e=>({
                            data: {
                                square: e
                            },
                            nextState: "showing"
                        }),
                        dropPiece: ()=>({
                            nextState: "hidden"
                        }),
                        setOptionToFalse: ()=>({
                            nextState: "hidden"
                        })
                    }
                }
            });
            return {
                match: [{
                    condition: pipeConditions((t = yt.BooleanOptions.HoverSquareOutline,
                    function optionValueIsTruthy(e, n) {
                        var a, l;
                        return Boolean(null == (l = null == (a = n.api) ? void 0 : a.getOptions) ? void 0 : l.call(a)[t])
                    }
                    ), isNotOneOf([f.APIEvents.ClearMarkings, it.Events.Tick])),
                    handler: function updateHoverSquare(t, n) {
                        const {options: a, renderer: l, state: h} = n
                          , p = !0 !== h.get(f.State.HideHoverSquare) && h.get(f.State.MachineState) !== Dt.States.PromotionAreaShowing && h.get(f.State.DraggingPiece)
                          , m = t.data && (t.data.square || t.data.squareInsideBoard || e.getData().square || p);
                        let g = !1;
                        g = a.highlightMoves ? p ? e.transition("dragPiece", m) : e.transition("dropPiece") : e.transition("setOptionToFalse");
                        if (!g || !l)
                            return;
                        "hidden" === e.getCurrentState() ? l.hideHoverSquare(n) : l.showHoverSquare(e.getData().square, n)
                    }
                }],
                name: Le.Plugin.Name
            };
            var t
        }
        function toArray(e) {
            return Array.isArray(e) ? e : [e]
        }
        function convertMarkingFromJCE(e) {
            var t;
            const {color: n, data: a, type: l} = e
              , f = function stringArrayToObject(e) {
                return e.reduce(((e,t,n,a)=>(n % 2 == 0 || (e[a[n - 1]] = t),
                e)), {})
            }(a);
            Object.keys(f).forEach((e=>{
                f[e] = decodeURIComponent(f[e])
            }
            ));
            const h = f
              , {persistent: p} = h
              , m = ((e,t)=>{
                var n = {};
                for (var a in e)
                    D.call(e, a) && t.indexOf(a) < 0 && (n[a] = e[a]);
                if (null != e && L)
                    for (var a of L(e))
                        t.indexOf(a) < 0 && B.call(e, a) && (n[a] = e[a]);
                return n
            }
            )(h, ["persistent"])
              , g = {
                key: fromJCEKey(e.key, e.type),
                node: !0,
                data: __spreadProps(__spreadValues({}, m), {
                    keyPressed: null != (t = m.keyPressed) ? t : fromJCEColor(n)
                }),
                type: l
            };
            return void 0 !== p && (g.persistent = "true" === p),
            g
        }
        function fromJCEKey(e, t) {
            return `${t}|${e}`
        }
        function fromJCEColor(e) {
            switch (e) {
            case Hn.Alt:
                return ht.Alt;
            case Hn.Default:
                return ht.None;
            case Hn.Shift:
                return ht.Shift;
            case Hn.Ctrl:
                return ht.Ctrl;
            default:
                return
            }
        }
        function getMarkingsFromJCE(e, t) {
            const n = []
              , a = null != t ? t : e.markings();
            return Object.values(a).forEach((e=>{
                Object.values(e).forEach((e=>{
                    n.push(convertMarkingFromJCE(e))
                }
                ))
            }
            )),
            n
        }
        function JCENodeHasMarking(e, t, n) {
            const {key: a} = t
              , l = e.ids()
              , f = t.node && "object" == typeof t.node
              , {move: h, line: p} = t.node;
            f && e.selectPosition(h, p);
            const m = getMarkingsFromJCE(e, n);
            return f && e.selectPosition(l.move, l.line),
            Boolean(m.find((e=>e.key === a)))
        }
        function convertMarkingToJCE(e) {
            const {data: t, persistent: n} = e
              , a = void 0 !== n ? __spreadProps(__spreadValues({}, t), {
                persistent: n
            }) : t
              , l = function toJCEColor(e) {
                switch (e) {
                case ht.Alt:
                    return Hn.Alt;
                case ht.None:
                    return Hn.Default;
                case ht.Shift:
                    return Hn.Shift;
                case ht.Ctrl:
                    return Hn.Ctrl;
                default:
                    return Hn.Custom
                }
            }(t.keyPressed)
              , f = l === Hn.Custom ? a : function omit(e, ...t) {
                const n = __spreadValues({}, e);
                return t.forEach((e=>{
                    delete n[e]
                }
                )),
                n
            }(a, "color");
            return Object.keys(f).forEach((e=>{
                f[e] = encodeURIComponent(f[e])
            }
            )),
            {
                color: l !== Hn.Custom ? l : void 0,
                data: (h = f,
                Object.entries(h).reduce(((e,[t,n])=>(void 0 === n || e.push(t, n.toString()),
                e)), [])),
                key: toJCEKey(e),
                type: e.type
            };
            var h
        }
        function toJCEKey(e) {
            const {data: {from: t, square: n, to: a}, key: l} = e;
            return n || (t && a ? `${t}${a}` : l)
        }
        function removeFromJCENode(e, t) {
            const n = convertMarkingToJCE(t)
              , a = e.ids()
              , l = t.node && "object" == typeof t.node;
            if (l) {
                const {move: n, line: a} = t.node;
                e.selectPosition(n, a)
            }
            e.mark(n, !0),
            l && e.selectPosition(a.move, a.line)
        }
        (Bn = Dn || (Dn = {})).FlipBoardModifierKey = "x",
        function(e) {
            e.Name = "flip-board"
        }(Bn.Plugin || (Bn.Plugin = {})),
        function(e) {
            e.Name = "keys"
        }((Fn = $n || ($n = {})).Plugin || (Fn.Plugin = {})),
        function(e) {
            e.Keydown = "Keydown",
            e.Keyup = "Keyup"
        }(Fn.Events || (Fn.Events = {})),
        (jn = Hn || (Hn = {})).Alt = "a",
        jn.Ctrl = "l",
        jn.Custom = "c",
        jn.Default = "d",
        jn.Shift = "s";
        const Un = [f.APIEvents.CreateGame, f.APIEvents.DeletePosition, f.APIEvents.Load, f.APIEvents.Move, f.APIEvents.MoveBackward, f.APIEvents.MoveForward, f.APIEvents.MoveVariation, f.APIEvents.PromoteVariation, f.APIEvents.SelectLineEnd, f.APIEvents.SelectLineStart, f.APIEvents.SelectNode, f.APIEvents.Reload, f.APIEvents.ResetToMainLine, f.APIEvents.Undo]
          , Vn = [{
            condition: isOneOf(Un),
            handler: function handlePositionChange(e, t) {
                const {api: n, queue: a} = t;
                if (0 === e.data.plyDiff && 0 === e.data.lineDiff)
                    return;
                a.add((function refreshMarkings() {
                    const {game: e} = n.getContext()
                      , t = n.markings
                      , a = getMarkingsFromJCE(e);
                    t.removeAllWhere({
                        node: !0
                    }),
                    a.length && t.addMany(a)
                }
                ))
            }
        }, {
            condition: is$1(f.APIEvents.Mark),
            handler: handleMark
        }, {
            condition: is$1(f.APIEvents.Unmark),
            handler: handleUnmark
        }];
        function handleMark(e, t) {
            const {api: n} = t
              , {data: a} = e
              , {game: l} = n.getContext();
            (Array.isArray(a) ? a : [a]).forEach((e=>{
                e.node && !JCENodeHasMarking(l, e) && function addToJCENode(e, t) {
                    const n = convertMarkingToJCE(t)
                      , a = e.ids()
                      , l = t.node && "object" == typeof t.node;
                    if (l) {
                        const {move: n, line: a} = t.node;
                        e.selectPosition(n, a)
                    }
                    e.mark(n),
                    l && e.selectPosition(a.move, a.line)
                }(l, e)
            }
            ))
        }
        function handleUnmark(e, t) {
            const {api: n} = t
              , {data: a} = e
              , {game: l} = n.getContext();
            (Array.isArray(a) ? a : [a]).forEach((e=>{
                e.node && JCENodeHasMarking(l, e) && removeFromJCENode(l, e)
            }
            ))
        }
        function intersection(...e) {
            if (1 === e.length)
                return e[0];
            const t = new Set;
            for (const n of e)
                for (const a of n)
                    e.every((e=>e.has(a))) && t.add(a);
            return t
        }
        function createTaggedMap({batchCallbacks: e=!0, onEntryAdded: t, onEntryRemoved: n, primaryKey: a="id"}={
            primaryKey: "id"
        }) {
            const l = new Map
              , f = new Map
              , {flush: h, isBatching: p, stack: m, startBatching: g} = function createStacks(e) {
                let t = !1;
                const n = new Map;
                return Object.entries(e).forEach((([e,t])=>{
                    t && n.set(e, {
                        callback: t,
                        entries: new Set
                    })
                }
                )),
                {
                    flush: function flushEntries() {
                        n.forEach((e=>{
                            var n;
                            const a = Array.from(e.entries.values());
                            a.length && (null == (n = e.callback) || n.call(e, a),
                            e.entries.clear()),
                            t = !1
                        }
                        ))
                    },
                    isBatching: ()=>t,
                    stack: function stackEntry(e) {
                        return function entryModified(t) {
                            var a;
                            null == (a = n.get(e)) || a.entries.add(t)
                        }
                    },
                    startBatching: function startBatchingEntries() {
                        t = !0
                    }
                }
            }({
                added: t,
                removed: n
            });
            function entryAddedCallback(n) {
                return e && p() ? m("added")(n) : null == t ? void 0 : t(n)
            }
            function entryRemovedCallback(t) {
                return e && p() ? m("removed")(t) : null == n ? void 0 : n(t)
            }
            return {
                addOne: addOne,
                addMany: batch((function addMany(e, t) {
                    return e.map(((e,n)=>addOne(e, null == t ? void 0 : t[n])))
                }
                )),
                batch: batch,
                getAll: function getAll() {
                    return Array.from(l.values())
                },
                getManyByTags: function getManyByTags(e, t={}) {
                    return getMatchingKeys(e, t).map((e=>l.get(e))).filter((e=>void 0 !== e))
                },
                getMatchingKeys: getMatchingKeys,
                getMap: function getMap() {
                    return l
                },
                getMany: function getMany(e) {
                    return e.map((e=>l.get(e))).filter((e=>void 0 !== e))
                },
                getOne: function getOne(e) {
                    return l.get(e)
                },
                removeAll: batch((function removeAll() {
                    for (const [e,t] of l.entries())
                        null == entryRemovedCallback || entryRemovedCallback(t);
                    return l.clear(),
                    f.clear(),
                    !0
                }
                )),
                removeMany: batch((function removeMany(e) {
                    return e.every(removeOne)
                }
                )),
                removeManyByTags: batch((function removeManyByTags(e, t={}) {
                    return getMatchingKeys(e, t).every((e=>removeOne(e)))
                }
                )),
                removeOne: removeOne
            };
            function batch(e) {
                return (...t)=>{
                    g();
                    const n = e(...t);
                    return h(),
                    n
                }
            }
            function addOne(e, t) {
                const n = e[a]
                  , h = l.get(n);
                return h && (l.delete(n),
                null == entryRemovedCallback || entryRemovedCallback(h)),
                null == t || t.forEach((e=>{
                    var t;
                    f.get(e) || f.set(e, new Set),
                    null == (t = f.get(e)) || t.add(n)
                }
                )),
                l.set(n, e),
                null == entryAddedCallback || entryAddedCallback(e),
                n
            }
            function getMatchingKeys(e, t={}) {
                const {matchAll: n} = t
                  , a = e.map((e=>f.get(e))).filter((e=>void 0 !== e));
                let l;
                return l = n ? Array.from(intersection(...a)) : Array.from(function union(...e) {
                    const t = new Set;
                    for (const n of e)
                        for (const e of n)
                            t.add(e);
                    return t
                }(...a)),
                l
            }
            function removeOne(e) {
                var t;
                const n = l.get(e);
                n && (l.delete(e),
                null == entryRemovedCallback || entryRemovedCallback(n));
                const a = f.entries();
                for (const [l,h] of a)
                    h.has(e) && h.delete(e),
                    0 === (null == (t = f.get(l)) ? void 0 : t.size) && f.delete(l);
                return !0
            }
        }
        function isBoardSquare(e) {
            return /^([a-h][1-8])$/.test(e)
        }
        function createMarkingsService({generateKey: e=generatePrimaryKey, onMarkingAdded: t, onMarkingRemoved: n}={}) {
            const a = createTaggedMap({
                batchCallbacks: !0,
                onEntryAdded: t,
                onEntryRemoved: n,
                primaryKey: "key"
            })
              , l = createTaggedMap({
                batchCallbacks: !0,
                onEntryAdded: t,
                onEntryRemoved: n,
                primaryKey: "id"
            });
            return {
                addOne: addOne,
                addMany: function addMany(e) {
                    return function addManyWithoutBatching(e) {
                        return e.map(addOne)
                    }(e)
                },
                getMany: a.getMany,
                getAll: a.getAll,
                getAllWhere: function getAllWhere(e={}) {
                    return getKeysWhere(e).map((e=>a.getMap().get(e))).filter(Boolean)
                },
                getOne: a.getOne,
                removeAll: a.removeAll,
                removeAllWhere: function removeAllWhere(e={}) {
                    var t;
                    0 === (null == (t = e.types) ? void 0 : t.length) && (e.types = void 0);
                    return a.removeMany(getKeysWhere(e))
                },
                removeOne: removeOne,
                removeMany: function removeMany(e) {
                    return e.every(removeOne)
                },
                toggleMany: function toggleMany(e) {
                    return e.map(toggleOne)
                },
                toggleOne: toggleOne
            };
            function addOne(e) {
                if (!function markingHasValidSquareOrFromTo(e) {
                    const {from: t, square: n, to: a} = e.data
                      , l = n ? [n] : [t, a];
                    for (const f of l)
                        if (!isBoardSquare(f))
                            return !1;
                    return !0
                }(e))
                    return null;
                const t = function getMarkingTags(e) {
                    const {node: t, persistent: n, tags: a=[], type: l} = e;
                    return [t ? "node" : "board", n ? "persistent" : "temporary", ...a, l]
                }(e);
                if (e.node && "object" == typeof e.node) {
                    const n = withKey(e)
                      , {move: a, line: f} = n.node;
                    return n.id = `${n.key}-${a}|${f}`,
                    l.addOne(n, t),
                    n.key
                }
                return a.addOne(withKey(e), t)
            }
            function removeOne(e, t) {
                if ("string" != typeof e && e.node && "object" == typeof e.node)
                    return removeOne(e.key, e.node),
                    !1;
                if (t && "object" == typeof t) {
                    const {move: n, line: a} = t;
                    l.removeOne(`${e}-${n}|${a}`)
                }
                return "string" == typeof e && a.removeOne(e)
            }
            function getKeysWhere(e={}) {
                const {node: t, persistent: n, tags: l, types: f} = e;
                let h, p;
                void 0 !== t && (h = t ? "node" : "board"),
                void 0 !== n && (p = n ? "persistent" : "temporary");
                const m = [h, p, l, f].filter((e=>void 0 !== e));
                if (!m.length)
                    return Array.from(a.getMap().keys());
                const g = m.map(toArray).map((e=>new Set(a.getMatchingKeys(e))));
                return Array.from(intersection(...g))
            }
            function toggleOne(e) {
                const t = withKey(e)
                  , n = a.getOne(t.key);
                return n && function objectsAreShallowEqual(e, t) {
                    const n = {
                        a: Object.getOwnPropertyNames(e),
                        b: Object.getOwnPropertyNames(t)
                    };
                    return n.a.length === n.b.length && n.a.every((n=>e[n] === t[n]))
                }(n.data, t.data) ? a.removeOne(t.key) : addOne(t)
            }
            function withKey(t) {
                return __spreadProps(__spreadValues({}, t), {
                    key: t.key || e(t)
                })
            }
        }
        function generatePrimaryKey(e) {
            const {data: {from: t, square: n, to: a}, type: l} = e;
            if (!(n || t && a))
                throw new Error('Markings that do not have a "square" property must provide a "from" and "to"');
            return `${l}|${n || `${t}${a}`}`
        }
        function markingsAPI(e) {
            const {respond: t} = e;
            return createMarkingsService({
                onMarkingAdded: e=>updateAndEmit("Mark", e),
                onMarkingRemoved: e=>updateAndEmit("Unmark", e)
            });
            function updateAndEmit(n, a) {
                const l = {
                    Mark: handleMark,
                    Unmark: handleUnmark
                }[n]
                  , h = e.api.getContext().game.ids()
                  , [p,m] = function partition(e, t) {
                    return e.reduce(((e,n)=>(e[+!t(n)].push(n),
                    e)), [[], []])
                }(toArray(a), (e=>isObject(e.node) && h !== e.node));
                p.length && l({
                    data: p
                }, e),
                m.length && t(f.APIEvents[n], m)
            }
        }
        var Gn, qn, zn, Wn;
        function createMarkingsPlugin() {
            return {
                api: markingsAPI,
                match: Vn,
                name: Gn.Plugin.Name
            }
        }
        function createMoveHintsPlugin() {
            let e = [];
            return {
                match: [{
                    condition: isNotOneOf([f.UserEvents.Pointermove, it.Events.Tick]),
                    handler: updateMoveHints
                }, {
                    condition: is$1(f.InstanceEvents.RendererSet),
                    handler: function resetMoveHints(t, n) {
                        e = [],
                        updateMoveHints(t, n)
                    }
                }],
                name: Be.Plugin.Name
            };
            function updateMoveHints(t, n) {
                const {renderer: a} = n;
                a && (e = function updateHints({addMoveHints: e, addCaptureHints: t, context: n, currentHints: a, getNextHints: l, removeHints: h}) {
                    let p = a;
                    const {api: m, mode: g, options: v, state: y} = n;
                    if (!v || !v.highlightLegalMoves || !g.isAllowedToMove())
                        return h([...a], n),
                        p.length = 0,
                        p;
                    const b = y.get(f.State.SelectedPiece) || y.get(f.State.DraggingPiece);
                    if (!b)
                        return p.length && (h(p, n),
                        p = []),
                        p;
                    const _ = y.get(f.State.MachineState) === Dt.States.PromotionAreaShowing ? [] : m.getLegalMovesForSquare(b)
                      , C = p.filter((e=>!_.includes(e)));
                    h(C, n);
                    const A = l(_)
                      , S = []
                      , x = []
                      , w = m.getPieces().keys();
                    return A.forEach((e=>{
                        t && w.includes(e) ? x.push(e) : S.push(e)
                    }
                    )),
                    S.length && e(S, n),
                    x.length && (null == t || t(x, n)),
                    p.filter((e=>!C.includes(e))).concat(A)
                }({
                    addMoveHints: a.addMoveHints,
                    addCaptureHints: a.addCaptureHints,
                    context: n,
                    currentHints: e,
                    getNextHints: t=>t.filter((t=>!e.includes(t))),
                    removeHints: a.removeHints
                }))
            }
        }
        function createPiecesPlugin() {
            return {
                match: [{
                    condition: isOneOf(f.APIEvents),
                    handler: function updatePieces(e, t) {
                        const {renderer: n} = t;
                        if (!n)
                            return;
                        if (e.type === f.APIEvents.IllegalMove)
                            return void n.illegalMove(!1, t);
                        const {plyDiff: a, move: l, pieces: h} = e.data;
                        if (h)
                            return void n.loadPieces({
                                pieces: h
                            }, t);
                        if (l && -1 === a)
                            return void ("--" !== l.san && n.undoMove(l, t));
                        l && n.makeMove(l, t)
                    }
                }, {
                    condition: is$1(f.InstanceEvents.RendererSet),
                    handler: function reloadPieces(e, t) {
                        const {api: n, renderer: a} = t;
                        null == a || a.loadPieces({
                            pieces: n.getPieces()
                        }, t)
                    }
                }],
                name: je.Plugin.Name
            }
        }
        (function(e) {
            e.Name = "markings"
        }
        )((qn = Gn || (Gn = {})).Plugin || (qn.Plugin = {})),
        ((Wn = zn || (zn = {})).ErrorCodes || (Wn.ErrorCodes = {})).StateDesynchronisation = "StateDesynchronisation",
        function(e) {
            e.Name = "rendererErrorCatcher"
        }(Wn.Plugin || (Wn.Plugin = {}));
        function createRendererErrorCatcherPlugin() {
            let e = {};
            return {
                create: create3,
                destroy: function destroy10(t) {
                    const {renderer: n} = t;
                    if (!n)
                        return;
                    Object.keys(e).forEach((t=>{
                        n[t] = e[t]
                    }
                    )),
                    e = {}
                },
                match: [{
                    condition: is$1(f.InstanceEvents.RendererSet),
                    handler: (e,t)=>create3(t)
                }],
                name: zn.Plugin.Name
            };
            function create3(t) {
                const {options: n, renderer: a} = t;
                a && !n.test && ["dragPiece", "dropPiece", "makeMove", "removePiece", "undoMove"].forEach((n=>{
                    const l = function reloadOnError({context: e, method: t}) {
                        return function wrappedRendererMethod(...n) {
                            try {
                                return t(...n)
                            } catch (a) {
                                const {api: t, renderer: n} = e;
                                console.error("Board position reloaded due to game and renderer state desynchronisation:\n", a),
                                t.logger.log({
                                    code: zn.ErrorCodes.StateDesynchronisation,
                                    data: a,
                                    level: zt.Levels.Error
                                }),
                                null == n || n.loadPieces({
                                    pieces: t.getPieces(),
                                    reloadAll: !0
                                }, e)
                            }
                        }
                    }({
                        context: t,
                        method: a[n]
                    });
                    e[n] = a[n],
                    a[n] = l
                }
                ))
            }
        }
        const Kn = {
            enPassant: "https://www.chess.com/article/view/how-to-capture-en-passant",
            soundsDefault: "https://www.chess.com/bundles/web/sounds",
            soundsTheme: "/chess-themes/sounds/",
            webglAssetPaths: "__CHESSCOM_WEBGL_ASSET_PATHS__",
            webglDataUrl: "https://www.chess.com/bundles/web/images/webgl_data",
            webglDataUrlDev: "static/webgl_data"
        };
        function getThemeUrls(e, t) {
            return ["webm", "ogg", "mp3", "wav"].map((n=>function getThemeUrl({theme: e="default", type: t, format: n}) {
                return `${Kn.soundsTheme}_${n.toUpperCase()}_/${e}/${t}.${n}`
            }({
                format: n,
                theme: e,
                type: t
            })))
        }
        const Zn = [Qe.BoardSounds.GameStart, Qe.BoardSounds.GameEnd, Qe.BoardSounds.Capture, Qe.BoardSounds.Castle, Qe.BoardSounds.Premove, Qe.BoardSounds.MoveSelf, Qe.BoardSounds.MoveCheck, Qe.BoardSounds.MoveOpponent, Qe.BoardSounds.Promote, Qe.BoardSounds.Notify, Qe.BoardSounds.TenSeconds, Qe.BoardSounds.Illegal];
        var Xn, Qn, Yn, Jn;
        function isCapture(e) {
            return void 0 !== e.flags && (Boolean(1 == (1 & e.flags)) || e.flags === Xn.Move.Flags.EPCapture)
        }
        function isCastle(e) {
            return e.flags === Xn.Move.Flags.AnyCastle || e.flags === Xn.Move.Flags.KingsideCastle || e.flags === Xn.Move.Flags.QueensideCastle
        }
        function isPromotion(e) {
            return e.flags === Xn.Move.Flags.Promotion || e.flags === Xn.Move.Flags.CapturePromotion
        }
        function createSoundsPlugin(e) {
            let t = e;
            return {
                api: ()=>({
                    getSoundsInstance: ()=>t
                }),
                match: [{
                    condition: isNot(f.UserEvents.Pointermove),
                    handler: function runPlaySoundPlugin(e, n) {
                        var a;
                        if (!t)
                            return;
                        const {api: l, options: h, state: p} = n;
                        if (e.type === f.OptionsEvents.Update && h.soundTheme !== t.getTheme())
                            return t.destroy(),
                            void t.load({
                                theme: h.soundTheme
                            });
                        if (e.type === f.SoundEvents.Play)
                            return t.play(e.data.sound),
                            void p.set({
                                soundPlayed: e.data.sound
                            });
                        if (!h.playSounds || !(null == (a = e.data) ? void 0 : a.plyDiff))
                            return;
                        let m = l.getSelectedNode();
                        e.type === f.APIEvents.MoveBackward && (m = e.data.move);
                        if (!m)
                            return;
                        const g = l.getPlayingAs()
                          , v = Boolean(g && g !== m.color)
                          , y = function getSoundType(e, t) {
                            if (!e || !e.san)
                                return null;
                            let n;
                            return n = function isCheck(e) {
                                return !(!e || !e.san) && ["+", "#"].includes(e.san.slice(-1))
                            }(e) ? Qe.BoardSounds.MoveCheck : e.isPremove ? Qe.BoardSounds.Premove : isPromotion(e) ? Qe.BoardSounds.Promote : isCapture(e) ? Qe.BoardSounds.Capture : isCastle(e) ? Qe.BoardSounds.Castle : t ? Qe.BoardSounds.MoveOpponent : Qe.BoardSounds.MoveSelf,
                            n
                        }(m, v);
                        y && (t.play(y),
                        p.set({
                            soundPlayed: y
                        }))
                    }
                }],
                name: Qe.Plugin.Name,
                create: function create3(e) {
                    t || (t = function createSounds(e) {
                        let t, n = Zn, a = "default";
                        e && (n = e.codes,
                        a = e.theme);
                        let l = a;
                        return load3({
                            codes: n,
                            theme: a
                        }),
                        {
                            destroy: function destroy10() {
                                Object.keys(t).forEach((e=>{
                                    t[e].unload()
                                }
                                ))
                            },
                            getSounds: function getSounds() {
                                return t
                            },
                            getTheme: getTheme2,
                            load: load3,
                            loadExtra: function loadExtra(e) {
                                const n = e.codes.reduce(((t,n)=>(t[n] = (0,
                                I.l)(function getExtraSoundUrls(e, t) {
                                    return ["webm", "ogg", "mp3", "wav"].map((n=>`${e}/${n}/${t}.${n}`))
                                }(e.baseURL, n)),
                                t)), {});
                                Object.keys(n).forEach((e=>{
                                    var a;
                                    null == (a = t[e]) || a.unload(),
                                    t[e] = n[e]
                                }
                                )),
                                (0,
                                I.e)()
                            },
                            play: function play(e) {
                                const n = t[e]
                                  , a = getTheme2();
                                if (!n)
                                    return a;
                                try {
                                    return (0,
                                    I.p)(n),
                                    a
                                } catch (l) {
                                    return a
                                }
                            }
                        };
                        function getTheme2() {
                            return l
                        }
                        function load3(e) {
                            l = e.theme,
                            t = (e.codes || Zn).reduce(((e,t)=>(e[t] = (0,
                            I.l)(getThemeUrls(l, t)),
                            e)), {}),
                            (0,
                            I.e)()
                        }
                    }({
                        theme: e.options.soundTheme
                    }))
                }
            }
        }
        !function(e) {
            var t;
            let n;
            var a, l, f, h, p, m, g, v, y, b, _, C, A, S, x, w, P;
            (t = e.ColorsAsNumbers || (e.ColorsAsNumbers = {}))[t.White = 1] = "White",
            t[t.Black = 2] = "Black",
            (a = n = e.Variants || (e.Variants = {})).Bughouse = "bughouse",
            a.Chess = "chess",
            a.Chess960 = "chess960",
            a.Crazyhouse = "crazyhouse",
            a.KingOfTheHill = "kingofthehill",
            a.ThreeCheck = "threecheck",
            e.JCEVariantTypes = {
                [n.Bughouse]: "Bughouse",
                [n.Chess]: "Chess",
                [n.Chess960]: "Chess960",
                [n.Crazyhouse]: "Crazyhouse",
                [n.ThreeCheck]: "3-check",
                [n.KingOfTheHill]: "King of the Hill"
            },
            (l = e.ColorsAsLetters || (e.ColorsAsLetters = {})).White = "w",
            l.Black = "b",
            (f = e.ColorsAsWords || (e.ColorsAsWords = {})).White = "white",
            f.Black = "black",
            e.DefaultTimeControl = 5,
            (h = e.EmptyPGNHeaders || (e.EmptyPGNHeaders = {})).Black = "?",
            h.Event = "?",
            h.Date = "????.??.??",
            h.Site = "?",
            h.Value = "?",
            h.Result = "*",
            h.Round = "?",
            h.White = "?",
            p = e.Move || (e.Move = {}),
            (m = p.Flags || (p.Flags = {}))[m.Capture = 1] = "Capture",
            m[m.BigPawn = 2] = "BigPawn",
            m[m.EPCapture = 4] = "EPCapture",
            m[m.AnyCapture = 5] = "AnyCapture",
            m[m.Promotion = 8] = "Promotion",
            m[m.CapturePromotion = 9] = "CapturePromotion",
            m[m.KingsideCastle = 16] = "KingsideCastle",
            m[m.QueensideCastle = 32] = "QueensideCastle",
            m[m.AnyCastle = 48] = "AnyCastle",
            m[m.Drop = 64] = "Drop",
            m[m.DropOrCapture = 69] = "DropOrCapture",
            m[m.DropOrPromote = 72] = "DropOrPromote",
            function(e) {
                e[e.Capture = 0] = "Capture",
                e[e.Castle = 1] = "Castle",
                e[e.Check = 2] = "Check",
                e[e.Checkmate = 3] = "Checkmate",
                e[e.Normal = 4] = "Normal",
                e[e.Premove = 5] = "Premove",
                e[e.Promotion = 6] = "Promotion"
            }(p.Types || (p.Types = {})),
            g = e.Node || (e.Node = {}),
            v = g.Marking || (g.Marking = {}),
            function(e) {
                !function(e) {
                    e.Arrows = "arrows",
                    e.Effects = "effects",
                    e.Pieces = "pieces"
                }(e.Targets || (e.Targets = {})),
                function(e) {
                    e.Above = "above",
                    e.Below = "below"
                }(e.Positions || (e.Positions = {}))
            }((y = v.CustomItem || (v.CustomItem = {})).VisualOrder || (y.VisualOrder = {})),
            (b = y.Types || (y.Types = {})).Image = "Image",
            b.Star = "Star",
            b.TextBox = "TextBox",
            (_ = v.ColorKeys || (v.ColorKeys = {})).alt = "a",
            _.custom = "c",
            _.default = "d",
            _.shift = "s",
            _.ctrl = "l",
            (C = v.JCEColorsMap || (v.JCEColorsMap = {})).a = "alt",
            C.c = "custom",
            C.d = "default",
            C.s = "shift",
            C.l = "ctrl",
            function(e) {
                e.Arrow = "arrow",
                e.Effect = "effect",
                e.Square = "square",
                e.CustomItem = "customItem"
            }(v.Types || (v.Types = {})),
            A = e.Piece || (e.Piece = {}),
            (S = A.Names || (A.Names = {})).p = "pawn",
            S.n = "knight",
            S.b = "bishop",
            S.r = "rook",
            S.q = "queen",
            S.k = "king",
            function(e) {
                e.Pawn = "p",
                e.Knight = "n",
                e.Bishop = "b",
                e.Rook = "r",
                e.Queen = "q",
                e.King = "k"
            }(A.Types || (A.Types = {})),
            x = e.Highlight || (e.Highlight = {}),
            (w = x.Defaults || (x.Defaults = {})).Color = "#ffff00",
            w[w.Opacity = .5] = "Opacity",
            function(e) {
                e.Analysis = "analysis",
                e.Move = "move",
                e.Premove = "premove",
                e.Selection = "selection"
            }(x.Types || (x.Types = {})),
            function(e) {
                e.Blitz = "blitz",
                e.Bullet = "bullet",
                e.Rapid = "rapid"
            }(e.TimeControlTypes || (e.TimeControlTypes = {})),
            (P = e.Results || (e.Results = {})).Black = "0-1",
            P.Draw = "1/2-1/2",
            P.None = "*",
            P.White = "1-0"
        }(Xn || (Xn = {})),
        Yn = Qn || (Qn = {}),
        (Jn = Yn.Modifiers || (Yn.Modifiers = {})).Shift = "Shift",
        Jn.Control = "Control",
        Jn.Alt = "Alt",
        Jn.Meta = "Meta";
        const er = ["Escape", "Tab", "Backspace", "Enter", "Backlash", "Period", "Slash", "Comma", "Space", "Delete", "Home", "End", "PageUp", "PageDown", "ArrowDown", "ArrowUp", "ArrowLeft", "ArrowRight"]
          , tr = [Qn.Modifiers.Meta.toLowerCase(), Qn.Modifiers.Alt.toLowerCase(), Qn.Modifiers.Control.toLowerCase()];
        function convertCodeToKey(e) {
            let t;
            if (e)
                return e.includes("Digit") ? t = e.replace("Digit", "") : e.includes("Numpad") ? t = e.replace("Numpad", "") : e.includes("Key") ? t = e.replace("Key", "") : e.includes(Qn.Modifiers.Control) ? t = Qn.Modifiers.Control : e.includes(Qn.Modifiers.Shift) ? t = Qn.Modifiers.Shift : e.includes(Qn.Modifiers.Alt) ? t = Qn.Modifiers.Alt : e.includes(Qn.Modifiers.Meta) ? t = Qn.Modifiers.Meta : er.includes(e) && (t = e),
                null == t ? void 0 : t.toLowerCase()
        }
        function createKeysService({onKeydown: e, onKeyup: t}={}) {
            let n = !0;
            const a = new Set;
            return document.addEventListener("keydown", onKeydownHandler),
            document.addEventListener("keyup", onKeyupHandler),
            window.addEventListener("blur", clearPressedKeys),
            window.addEventListener("contextmenu", clearPressedKeys),
            {
                isPressed: function isPressed(e) {
                    return a.has(e.toLowerCase())
                },
                getPressedKeys: function getPressedKeys() {
                    return [...a].sort()
                },
                disable: function disable() {
                    n = !1,
                    a.clear()
                },
                enable: function enable() {
                    n = !0
                },
                destroy: function destroy10() {
                    document.removeEventListener("keydown", onKeydownHandler),
                    document.removeEventListener("keyup", onKeyupHandler),
                    window.removeEventListener("blur", clearPressedKeys),
                    window.removeEventListener("contextmenu", clearPressedKeys),
                    a.clear()
                }
            };
            function onKeydownHandler(t) {
                const l = document.activeElement;
                if (!n || function isElementBlacklisted(e) {
                    return Boolean(!e || e.isContentEditable || ["INPUT", "TEXTAREA"].includes(e.tagName))
                }(l))
                    return;
                const f = convertCodeToKey(t.code);
                f && (a.add(f),
                null == e || e(f))
            }
            function onKeyupHandler(e) {
                const n = convertCodeToKey(e.code);
                n && (tr.includes(n) && a.clear(),
                a.delete(n),
                null == t || t(n))
            }
            function clearPressedKeys() {
                a.clear()
            }
        }
        function createCoreEvent(e, t) {
            return {
                data: t || {},
                type: e
            }
        }
        function createKeysPlugin() {
            let e;
            const t = createKeysService({
                onKeydown: createEmitter($n.Events.Keydown),
                onKeyup: createEmitter($n.Events.Keyup)
            })
              , n = {
                [$n.Events.Keydown]: {},
                [$n.Events.Keyup]: {}
            }
              , a = {
                isPressed: t.isPressed,
                getPressedKeys: t.getPressedKeys,
                setOverrides: function setOverrides(e) {
                    e.forEach((({key: e, callback: t, trigger: a=$n.Events.Keydown})=>{
                        n[a][e] = t
                    }
                    ))
                },
                removeOverrides: function removeOverrides(e) {
                    e.forEach((({trigger: e=$n.Events.Keydown, key: t})=>{
                        delete n[e][t]
                    }
                    ))
                }
            };
            return {
                api: ()=>a,
                create: function create3({run: t, options: n}) {
                    e = t,
                    toggleKeysService(n.enabled)
                },
                destroy: function destroy10() {
                    t.destroy()
                },
                match: [{
                    condition: is$1(f.OptionsEvents.Update),
                    handler: function updateKeysPlugin(e, t) {
                        const {options: n} = t;
                        toggleKeysService(n.captureKeyStrokes && n.enabled)
                    }
                }, {
                    condition: is$1($n.Events.Keydown),
                    handler: queueKeyCallback
                }, {
                    condition: is$1($n.Events.Keyup),
                    handler: queueKeyCallback
                }],
                name: $n.Plugin.Name
            };
            function createEmitter(t) {
                return function emit(n) {
                    null == e || e(createCoreEvent(t, n))
                }
            }
            function queueKeyCallback(e, t) {
                const {type: a, data: l} = e
                  , f = n[a][l];
                f && t.queue.add(f(t.api))
            }
            function toggleKeysService(e) {
                e ? t.enable() : t.disable()
            }
        }
        var nr, rr, ir, ar, sr;
        (rr = nr || (nr = {})).DefaultAcceptableFrequency = 1e3,
        function(e) {
            e.Name = "webgl-context-lost"
        }(rr.Plugin || (rr.Plugin = {})),
        function(e) {
            e.Name = "recorder"
        }((ar = ir || (ir = {})).Plugin || (ar.Plugin = {})),
        (sr = ar.Mode || (ar.Mode = {})).Idle = "Idle",
        sr.Playing = "Playing",
        sr.Recording = "Recording";
        const ur = [{
            name: "addMoveToEndOfLine"
        }, {
            name: "agreeDraw"
        }, {
            name: "blinkSquare"
        }, {
            name: "claimDraw"
        }, {
            name: "clearMarkings"
        }, {
            name: "createContinuation"
        }, {
            name: "createGame"
        }, {
            name: "setPlayingAs"
        }, {
            name: "usePlayingAs"
        }, {
            name: "deletePosition"
        }, {
            name: "load"
        }, {
            name: "mark"
        }, {
            name: "move"
        }, {
            name: "moveBackward"
        }, {
            name: "moveForward"
        }, {
            name: "moveVariation"
        }, {
            name: "outOfTime"
        }, {
            name: "promoteVariation"
        }, {
            name: "reload"
        }, {
            name: "resetGame"
        }, {
            name: "resetToMainLine"
        }, {
            name: "resign"
        }, {
            name: "selectLineEnd"
        }, {
            name: "selectLineStart"
        }, {
            name: "selectNode"
        }, {
            name: "setGameDetails"
        }, {
            name: "setResult"
        }, {
            name: "setTurn"
        }, {
            name: "toggleMarking"
        }, {
            name: "undo"
        }, {
            name: "unmark"
        }, {
            name: "updateLineComment"
        }, {
            name: "updateNode"
        }, {
            name: "setOptions"
        }, {
            name: "setMode"
        }, {
            name: "playSound"
        }, {
            namespace: "arrowKeys",
            name: "setKeys"
        }, {
            namespace: "arrowKeys",
            name: "resetKeys"
        }, {
            namespace: "boardImages",
            name: "mark"
        }, {
            namespace: "boardImages",
            name: "unmark"
        }, {
            namespace: "boardImages",
            name: "showWindow"
        }, {
            namespace: "boardImages",
            name: "hideWindow"
        }, {
            namespace: "clocks",
            name: "activate"
        }, {
            namespace: "clocks",
            name: "deactivate"
        }, {
            namespace: "clocks",
            name: "resetClocks"
        }, {
            namespace: "clocks",
            name: "stopClocks"
        }, {
            namespace: "hml",
            name: "addDiagramActions"
        }, {
            namespace: "hml",
            name: "addCommentLink"
        }, {
            namespace: "hml",
            name: "setScrollContainer"
        }, {
            namespace: "hml",
            name: "updateNodeLimits"
        }, {
            namespace: "keys",
            name: "setOverrides"
        }, {
            namespace: "keys",
            name: "removeOverrides"
        }, {
            namespace: "premoves",
            name: "cancel"
        }, {
            namespace: "premoves",
            name: "consumeNext"
        }, {
            namespace: "premoves",
            name: "loadQueue"
        }, {
            namespace: "premoves",
            name: "move"
        }, {
            namespace: "premoves",
            name: "reload"
        }, {
            namespace: "threats",
            name: "enable"
        }, {
            namespace: "threats",
            name: "onlyShowThreatsCreatedByColor"
        }, {
            namespace: "vml",
            name: "activate"
        }, {
            namespace: "vml",
            name: "deactivate"
        }, {
            namespace: "vml",
            name: "waitForVMLReady"
        }, {
            namespace: "markings",
            name: "addMany"
        }, {
            namespace: "markings",
            name: "addOne"
        }, {
            namespace: "markings",
            name: "removeAll"
        }, {
            namespace: "markings",
            name: "removeAllWhere"
        }, {
            namespace: "markings",
            name: "removeMany"
        }, {
            namespace: "markings",
            name: "removeOne"
        }, {
            namespace: "markings",
            name: "toggleMany"
        }, {
            namespace: "markings",
            name: "toggleOne"
        }];
        const cr = {
            mode: ir.Mode.Idle,
            recordEvents: !1,
            lastRecordedEventTime: 0,
            verbose: !1,
            playState: {
                playCounter: 0,
                initDirty: !1,
                playedEvents: []
            },
            recording: {
                events: [],
                pgn: "",
                modeName: "",
                variant: "",
                modeOptions: {},
                boardOptions: {},
                plugins: [],
                timestamp: ""
            }
        };
        function createRecorderPlugin() {
            return {
                api: e=>function createRecorderAPI(e, t) {
                    const {api: n} = e;
                    return {
                        record: function record(e=!0) {
                            clear5(),
                            t.recording = {
                                modeName: n.getMode().name,
                                variant: n.getVariant(),
                                modeOptions: n.getMode().getOptions(),
                                boardOptions: n.getOptions(),
                                pgn: n.getPGN(),
                                plugins: n.plugins.get().map((e=>e.name)),
                                timestamp: (new Date).toISOString(),
                                events: []
                            },
                            t.mode = ir.Mode.Recording,
                            t.recordEvents = e
                        },
                        play: function play({fixedDelay: e, skipEvents: n=!1, verbose: a=!0}={}) {
                            stop2(),
                            t.playState.initDirty && init2(),
                            t.mode = ir.Mode.Playing,
                            t.verbose = a,
                            t.verbose && console.log("Playing", t.recording.events.length - 1),
                            playEvent({
                                fixedDelay: e,
                                skipEvents: n,
                                autoContinue: !0
                            })
                        },
                        step: function step({fastForwardEvents: e=!1, skipEvents: n=!1, verbose: a=!0}={}) {
                            stop2(),
                            t.mode = ir.Mode.Playing,
                            t.verbose = a,
                            playEvent({
                                fixedDelay: 0,
                                skipEvents: n,
                                fastForwardEvents: e,
                                autoContinue: !1
                            })
                        },
                        forward: function forward({eventNumber: e, skipEvents: n=!1, verbose: a=!0}) {
                            stop2(),
                            (!t.playState.playCounter || t.playState.playCounter >= e || t.playState.playCounter === t.recording.events.length) && init2(),
                            t.mode = ir.Mode.Playing,
                            t.verbose = a,
                            playEvent({
                                fixedDelay: 0,
                                maxEventNumber: e,
                                skipEvents: n,
                                autoContinue: !0
                            })
                        },
                        stop: stop2,
                        init: init2,
                        clear: clear5,
                        get: ()=>t,
                        getJSON: function getJSON() {
                            return t.recording ? JSON.stringify(t.recording) : ""
                        },
                        load: function load3(e) {
                            const n = JSON.parse(e);
                            return clear5(),
                            t.recording = n,
                            init2()
                        }
                    };
                    function stop2() {
                        return t.mode = ir.Mode.Idle,
                        t.recording.events.length
                    }
                    function clear5() {
                        t.mode = ir.Mode.Idle,
                        t.lastRecordedEventTime = 0,
                        t.recording = {
                            events: [],
                            pgn: "",
                            modeName: "",
                            variant: "",
                            modeOptions: {},
                            boardOptions: {},
                            plugins: [],
                            timestamp: ""
                        },
                        t.playState = {
                            playCounter: 0,
                            initDirty: !1,
                            playedEvents: []
                        }
                    }
                    function init2() {
                        if (stop2(),
                        !t.recording)
                            return 0;
                        t.playState = {
                            playCounter: 0,
                            playedEvents: [],
                            initDirty: !1
                        };
                        const {pgn: n, events: a} = t.recording;
                        return e.api.load({
                            pgn: n
                        }),
                        e.api.markings.removeAll(),
                        "localhost" === window.location.hostname && e.api.boardImages && !e.api.boardImages.isInitialized() && e.api.boardImages.initDefault(),
                        t.playState.initDirty = !1,
                        a.length
                    }
                    function playEvent({maxEventNumber: e, fixedDelay: a, skipEvents: l, fastForwardEvents: f, autoContinue: h}) {
                        const p = t.recording.events[t.playState.playCounter];
                        if (!p)
                            return void (t.mode = ir.Mode.Idle);
                        const {name: m, args: g, namespace: v} = p;
                        v ? n[v][m](...g) : "event" === m ? l ? (t.playState.playCounter += 1,
                        t.playState.playedEvents.push(`skipped: ${g[0].type}`)) : n.emit(g[0].type, g[0]) : n[m](...g);
                        const y = t.recording.events[t.playState.playCounter];
                        if (t.mode !== ir.Mode.Playing || !y || !h && (!l || !f) || e && t.playState.playCounter >= e)
                            return t.mode = ir.Mode.Idle,
                            void (!y && t.verbose && console.log("Finished playing"));
                        let b = null != a ? a : y.time;
                        l && "event" === y.name && (b = 0),
                        (h || (l || f) && "event" === y.name) && setTimeout((()=>{
                            playEvent({
                                maxEventNumber: e,
                                fixedDelay: a,
                                skipEvents: l,
                                fastForwardEvents: f,
                                autoContinue: h
                            })
                        }
                        ), b)
                    }
                }(e, cr),
                create: e=>setTimeout((()=>function create3(e) {
                    const {api: t} = e;
                    addProxies(t);
                    const apply = (e,n,a)=>{
                        const l = (Array.isArray(a[0]) ? a[0] : a).map((e=>e.name))
                          , f = e(...a);
                        return l.forEach((e=>{
                            addProxies(t, e)
                        }
                        )),
                        f
                    }
                    ;
                    e.api.plugins.add = new Proxy(e.api.plugins.add,{
                        apply: apply
                    }),
                    e.api.plugins.addMany = new Proxy(e.api.plugins.addMany,{
                        apply: apply
                    })
                }(e))),
                match: [{
                    condition: ()=>cr.mode === ir.Mode.Recording && cr.recordEvents,
                    handler: e=>{
                        cr.recording.events.push({
                            name: "event",
                            args: [e],
                            time: getElapsedTime()
                        })
                    }
                }, {
                    condition: ()=>cr.mode === ir.Mode.Playing,
                    handler: e=>{
                        cr.verbose && console.log(`${cr.playState.playCounter} / ${cr.recording.events.length - 1}`, e),
                        cr.playState.playCounter += 1,
                        cr.playState.playedEvents.push(e)
                    }
                }],
                name: ir.Plugin.Name
            }
        }
        function addProxies(e, t) {
            (t ? ur.filter((e=>e.namespace === t)) : ur).forEach((({namespace: t, name: n})=>{
                if (!t && !e[n] || t && !e[t] || t && e[t] && !e[t][n])
                    return;
                const a = function getProxyApply(e, t) {
                    return function proxyApply(n, a, l) {
                        if (cr.playState.initDirty = !0,
                        cr.mode === ir.Mode.Recording) {
                            const n = getElapsedTime()
                              , a = t ? {
                                namespace: t
                            } : {};
                            cr.recording.events.push(__spreadValues({
                                name: e,
                                args: l,
                                time: n
                            }, a))
                        }
                        if (cr.mode === ir.Mode.Playing) {
                            const n = cr.recording.events[cr.playState.playCounter];
                            if (n && n.name === e && (!n.namespace || n.namespace === t) && JSON.stringify(n.args).substring(0, 50) === JSON.stringify(l).substring(0, 50)) {
                                if (cr.verbose) {
                                    const e = n.namespace ? `${n.namespace}.${n.name}` : n.name;
                                    console.log(`${cr.playState.playCounter} / ${cr.recording.events.length - 1}`, `${e}`, ...n.args)
                                }
                                cr.playState.playCounter += 1
                            }
                            const a = t ? {
                                namespace: t
                            } : {};
                            cr.playState.playedEvents.push(__spreadValues({
                                name: e,
                                args: l
                            }, a))
                        }
                        return n(...l)
                    }
                }(n, t);
                t ? e[t][n] = new Proxy(e[t][n],{
                    apply: a
                }) : e[n] = new Proxy(e[n],{
                    apply: a
                })
            }
            ))
        }
        function getElapsedTime() {
            const e = Date.now()
              , t = 0 === cr.lastRecordedEventTime ? 0 : e - cr.lastRecordedEventTime;
            return cr.lastRecordedEventTime = e,
            t
        }
        function createKeyedHighlight({color: e, type: t, opacity: n, square: a, turn: l}) {
            return {
                data: {
                    color: e,
                    opacity: n,
                    square: a,
                    turn: l,
                    type: t
                },
                key: `${t}|${a}`,
                type: "highlight"
            }
        }
        function getHighlightColorFromKeyPressed(e, t) {
            switch (e) {
            case ht.Alt:
                return t.analysisHighlightColors.alt;
            case ht.Ctrl:
                return t.analysisHighlightColors.ctrl;
            case ht.Shift:
                return t.analysisHighlightColors.shift;
            case ht.None:
                return t.analysisHighlightColors.default;
            default:
                return
            }
        }
        function getAnalysisHighlights(e, t) {
            const {api: n, options: a} = t;
            return a && a.allowMarkings ? n.markings.getAllWhere({
                types: [$]
            }).map((({data: {color: e, keyPressed: t, opacity: n, square: l}})=>{
                var f, h;
                return createKeyedHighlight({
                    color: null != (h = null != (f = getHighlightColorFromKeyPressed(t, a)) ? f : e) ? h : a.analysisHighlightColors.default,
                    opacity: null != n ? n : a.analysisHighlightOpacity,
                    square: l,
                    type: "analysis"
                })
            }
            )) : []
        }
        function isLine(e) {
            return void 0 !== e.id
        }
        const lr = ["wp", "wn", "wb", "wr", "wq", "wk", "bp", "bn", "bb", "br", "bq", "bk"]
          , dr = {
            "8_bit": ["#6a9b41", "#f3f3f4", "8_bit", ".png", "#ffff00"],
            bases: ["#c26b38", "#efcca1", "bases", ".jpg", "#f5cc2a"],
            blackwhite: ["#667188", "#282f3f", "translucent", ".png", "#5b91b3"],
            blue: ["#4D6D92", "#ECECD7", "blue", ".png", "#00a5ff"],
            brown: ["#B58863", "#F0D9B5", "brown", ".png", "#ffff00"],
            bubblegum: ["#f9cdd3", "#fff3f3", "bubblegum", ".png", "#de5d6f"],
            burled_wood: ["#895132", "#d9b088", "burled_wood", ".jpg", "#ee9016"],
            dark_wood: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            dash: ["#6b3a27", "#bd9257", "dash", ".jpg", "#eca722"],
            default: ["#779952", "#edeed1", "green", ".png", "#ffff00"],
            glass: ["#282f3f", "#667188", "glass", ".png", "#5b91b3"],
            graffiti: ["#b96f18", "#aeaeae", "graffiti", ".jpg", "#f39011"],
            green: ["#779952", "#edeed1", "green", ".png", "#ffff00"],
            grey: ["#aaaaaa", "#dcdcdc", "light", ".png", "#a4b8c4"],
            icy_sea: ["#7a9db2", "#c5d5dc", "icy_sea", ".jpg", "#5ed7f1"],
            light: ["#aaaaaa", "#dcdcdc", "light", ".png", "#a4b8c4"],
            lolz: ["#909898", "#e0e9e9", "lolz", ".jpg", "#a3becd"],
            marble: ["#706b66", "#c7bdaa", "marble", ".jpg", "#f0db86"],
            marbleblue: ["#c2d7e2", "#efefef", "marbleblue", ".jpg", "#65daf7"],
            marblebrown: ["#b96f18", "#aeaeae", "graffiti", ".jpg", "#f39011"],
            marblegreen: ["#706b66", "#c7bdaa", "marblegreen", ".jpg", "#f0db86"],
            metal: ["#6e6e6e", "#c9c9c9", "metal", ".jpg", "#a3becd"],
            natural: ["#D08B18", "#FCE4B2", "tan", ".png", "#f0e464"],
            nature: ["#8c976e", "#c3d1a4", "translucent", ".png", "#eef396"],
            neon: ["#636363", "#b9b9b9", "neon", ".png", "#6d90a6"],
            newspaper: ["#5a5956", "#5a5956", "newspaper", ".jpg", "#99976e"],
            orange: ["#D08B18", "#FCE4B2", "orange", ".png", "#ffff00"],
            overlay: ["#789ebd", "#4878a0", "overlay", ".png", "#0d9acf"],
            parchment: ["#B58863", "#F0D9B5", "parchment", ".jpg", "#d8cc66"],
            pink: ["#f9cdd3", "#fff3f3", "bubblegum", ".png", "#de5d6f"],
            purple: ["#8877B7", "#EFEFEF", "purple", ".png", "#7dacc9"],
            red: ["#BA5546", "#F0D8BF", "red", ".png", "#f8f893"],
            sand: ["#b8a590", "#e5d3c4", "sand", ".jpg", "#e2bc87"],
            sky: ["#c2d7e2", "#efefef", "sky", ".png", "#65daf7"],
            stone: ["#666463", "#c8c3bd", "stone", ".jpg", "#36525f"],
            tan: ["#D08B18", "#FCE4B2", "tan", ".png", "#f7d84a"],
            tournament: ["#316549", "#ebece8", "tournament", ".jpg", "#a4c25b"],
            translucent: ["#667188", "#282f3f", "translucent", ".png", "#5b91b3"],
            walnut: ["#835f42", "#c0a684", "walnut", ".jpg", "#d1a52d"],
            winboard: ["#316549", "#ebece8", "tournament", ".jpg", "#a4c25b"],
            wood: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            wooddark: ["#895132", "#d9b088", "burled_wood", ".jpg", "#ee9016"],
            woodlight: ["#B58863", "#F0D9B5", "parchment", ".jpg", "#d8cc66"],
            woodmid: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            woodolive: ["#6e6e6e", "#c9c9c9", "woodolive", ".jpg", "#a3becd"]
        }
          , fr = {
            "3d_staunton": {
                format: "png",
                isPseudo3d: !0,
                path: "3d_staunton"
            },
            "3dchesskid": {
                format: "png",
                isPseudo3d: !0,
                path: "3d_chesskid"
            },
            "3dplastic": {
                format: "png",
                isPseudo3d: !0,
                path: "3d_plastic"
            },
            "3dwood": {
                format: "png",
                isPseudo3d: !0,
                path: "3d_wood"
            },
            "8_bit": {
                format: "png",
                path: "8_bit"
            },
            alpha: {
                format: "png",
                path: "alpha"
            },
            bases: {
                format: "png",
                path: "bases"
            },
            blindfold: {
                format: "png",
                path: "blindfold"
            },
            book: {
                format: "png",
                path: "book"
            },
            bubblegum: {
                format: "png",
                path: "bubblegum"
            },
            cases: {
                format: "png",
                path: "cases"
            },
            classic: {
                format: "png",
                path: "classic"
            },
            club: {
                format: "png",
                path: "club"
            },
            condal: {
                format: "png",
                path: "condal"
            },
            dash: {
                format: "png",
                path: "dash"
            },
            game_room: {
                format: "png",
                path: "game_room"
            },
            glass: {
                format: "png",
                path: "glass"
            },
            gothic: {
                format: "png",
                path: "gothic"
            },
            graffiti: {
                format: "png",
                path: "graffiti"
            },
            icy_sea: {
                format: "png",
                path: "icy_sea"
            },
            light: {
                format: "png",
                path: "light"
            },
            lolz: {
                format: "png",
                path: "lolz"
            },
            marble: {
                format: "png",
                path: "marble"
            },
            maya: {
                format: "png",
                path: "maya"
            },
            metal: {
                format: "png",
                path: "metal"
            },
            modern2: {
                format: "png",
                path: "modern"
            },
            nature: {
                format: "png",
                path: "nature"
            },
            neo: {
                format: "png",
                path: "neo"
            },
            neo_wood: {
                format: "png",
                path: "neo_wood"
            },
            neon: {
                format: "png",
                path: "neon"
            },
            newspaper: {
                format: "png",
                path: "newspaper"
            },
            ocean: {
                format: "png",
                path: "ocean"
            },
            real3d: {
                format: "png",
                path: "neo"
            },
            sky: {
                format: "png",
                path: "sky"
            },
            space: {
                format: "png",
                path: "space"
            },
            tigers: {
                format: "png",
                path: "tigers"
            },
            tournament: {
                format: "png",
                path: "tournament"
            },
            vintage: {
                format: "png",
                path: "vintage"
            },
            wood: {
                format: "png",
                path: "wood"
            }
        };
        function getTheme(e) {
            const t = dr[e];
            if (!t)
                return null;
            const [n,a,l,f,h] = t;
            return {
                darkSquareColor: n,
                lightSquareColor: a,
                path: l,
                extension: f,
                highlightColor: h
            }
        }
        const hr = "move";
        function getMoveHighlights(e, t) {
            const {api: n, options: a} = t
              , l = [];
            if (!a || !a.highlightMoves)
                return l;
            const f = n.getSelectedNode();
            return !f || isLine(f) || [f.from, f.to].forEach((e=>{
                var t, n, h;
                if (!e)
                    return;
                const p = createKeyedHighlight({
                    color: null != (h = null != (n = a.highlightColor) ? n : null == (t = getTheme(a.boardStyle)) ? void 0 : t.highlightColor) ? h : yt.HighlightColors.Selected,
                    opacity: a.highlightOpacity,
                    square: e,
                    turn: f.color,
                    type: hr
                });
                l.push(p)
            }
            )),
            l
        }
        function getSelectionSquare(e, t) {
            var n, a;
            const {options: l, state: h} = t;
            if (!l || !l.highlightMoves)
                return [];
            const p = h.get(f.State.SelectedPiece) || h.get(f.State.DraggingPiece);
            if (!p)
                return [];
            return [createKeyedHighlight({
                color: null != (a = null == (n = getTheme(l.boardStyle)) ? void 0 : n.highlightColor) ? a : yt.HighlightColors.Selected,
                opacity: l.highlightOpacity,
                square: p,
                type: "SelectionHiglight"
            })]
        }
        let pr;
        const mr = "IS_POPULATED"
          , gr = "VERSION";
        function getDB() {
            return pr
        }
        async function initDB({ecoPath: e, http: t}) {
            const n = "e2992d839bbeb7eff7ae6145f8bdcdb3"
              , a = await async function storeIsPopulated() {
                return (0,
                I.g)(mr, pr).then(Boolean)
            }()
              , l = await async function getVersion() {
                return (0,
                I.g)(gr, pr).then(String)
            }();
            if (!a || !l || l !== n)
                return function setVersion(e) {
                    return (0,
                    I.s)(gr, e, pr)
                }(n),
                async function populateStore({ecoPath: e, http: t}) {
                    return t.get(e).then((e=>{
                        var t, n;
                        !function setMany(e, t) {
                            return t._withIDBStore("readwrite", (t=>{
                                e.forEach((e=>{
                                    t.put(e, e.f)
                                }
                                ))
                            }
                            ))
                        }(null != (n = (null == (t = null == e ? void 0 : e.data) ? void 0 : t.positions) ? e.data.positions : e.data) ? n : e, pr)
                    }
                    ))
                }({
                    ecoPath: e,
                    http: t
                }).then(setPopulated)
        }
        function setPopulated() {
            return (0,
            I.s)(mr, !0, pr)
        }
        async function getECO({ecoPath: e, fens: t, http: n}) {
            const a = function formatFENsForECOLookup(e) {
                return e.reverse().map((e=>e.split(" ").slice(0, 3).join(" ")))
            }(t);
            await initDB({
                ecoPath: e,
                http: n
            });
            return (await function getECOValuesFromDB(e) {
                return Promise.all(e.map((e=>(0,
                I.g)(e, getDB()))))
            }(a)).find(Boolean)
        }
        var vr, yr;
        (vr || (vr = {})).ECO = "chesscom_eco",
        (yr || (yr = {})).ECO = "eco";
        const br = {
            get: e=>fetch(e, {
                method: "GET"
            }).then((e=>e.json()))
        };
        function createEcoPlugin({ecoPath: e="", http: t=br, storeData: n={
            name: vr.ECO,
            table: yr.ECO
        }}={}) {
            if (!("indexedDB"in window))
                return {
                    name: Ce.Name
                };
            return {
                api: n=>function createECOAPI(e, t) {
                    let n;
                    return {
                        get: ()=>n,
                        update: async function update5() {
                            const {api: a, respond: l} = e;
                            n = await getECO(__spreadProps(__spreadValues({}, t), {
                                fens: a.getHistoryFENs()
                            })),
                            l(Ce.Events.Update, n)
                        }
                    }
                }(n, {
                    ecoPath: e,
                    http: t
                }),
                create: function create3(e) {
                    getDB() || function createDB({name: e, table: t}) {
                        pr = new I.S(e,t)
                    }(__spreadValues({}, n)),
                    updateECO(null, e)
                },
                match: [{
                    condition: isOneOf(Un),
                    handler: updateECO
                }],
                name: Ce.Name
            };
            function updateECO(e, t) {
                t.api.eco.update()
            }
        }
        function createCancelPremoves(e, t) {
            return function cancelPremoves(...n) {
                e.premoves.cancel(),
                t(...n)
            }
        }
        function createPremoveAPIOverrides() {
            return {
                agreeDraw: ({api: e})=>createCancelPremoves(e, e.agreeDraw),
                deletePosition: ({api: e})=>createCancelPremoves(e, e.deletePosition),
                getLegalMovesForSquare: ({api: e})=>function createGetLegalMovesForSquare$2(e) {
                    const t = e.getLegalMovesForSquare;
                    return function getLegalMovesForSquare(n) {
                        return e.getPlayingAs() !== e.getTurn() ? e.premoves.getLegalMovesForSquare(n) : t(n)
                    }
                }(e),
                getMove: ({api: e})=>function createGetMove$4(e) {
                    const t = e.getMove;
                    return function getMove(n) {
                        return e.getPlayingAs() !== e.getTurn() ? e.premoves.getMove(n) : t(n)
                    }
                }(e),
                getPieces: ({api: e})=>function createGetPieces$2(e) {
                    const t = e.getPieces;
                    return function getPieces() {
                        return e.premoves.getQueue().length ? e.premoves.getPieces() : t()
                    }
                }(e),
                load: ({api: e})=>function createReloadPremoves(e, t) {
                    return function reloadPremoves(...n) {
                        var a;
                        e.premoves.cancel();
                        const l = null == (a = n[0]) ? void 0 : a.premoves;
                        if (l) {
                            const t = e.getContext().game;
                            l.forEach((e=>{
                                t.premove.move(e)
                            }
                            )),
                            e.premoves.loadQueue(l),
                            n[0].pieces = e.premoves.getPieces()
                        }
                        t(...n)
                    }
                }(e, e.load),
                move: ({api: e})=>function createMove$9(e) {
                    const t = e.move;
                    return function move(n) {
                        const {respond: a} = e.getContext();
                        if (e.getPlayingAs() === e.getTurn())
                            return t(n);
                        if (n.userGenerated)
                            return e.premoves.move(n);
                        const l = e.premoves.getQueue().length > 0;
                        l && e.premoves.reload();
                        const h = t(n);
                        return l && a(f.APIEvents.SetBoardPosition, {
                            pieces: e.premoves.getPieces(),
                            holdSelectedPiece: !0
                        }),
                        h
                    }
                }(e),
                moveBackward: ({api: e})=>createCancelPremoves(e, e.moveBackward),
                moveForward: ({api: e})=>createCancelPremoves(e, e.moveForward),
                outOfTime: ({api: e})=>createCancelPremoves(e, e.outOfTime),
                resign: ({api: e})=>createCancelPremoves(e, e.resign),
                selectLineEnd: ({api: e})=>createCancelPremoves(e, e.selectLineEnd),
                selectLineStart: ({api: e})=>createCancelPremoves(e, e.selectLineStart),
                selectNode: ({api: e})=>createCancelPremoves(e, e.selectNode),
                undo: ({api: e})=>createCancelPremoves(e, e.undo)
            }
        }
        function isAllowedToMoveInPlayingMode({api: e, canMoveWhenNotPlayerTurn: t, modeOptions: n}) {
            const {canAddMovesToMainLine: a, canMoveWhenGameIsOver: l, canModifyExistingMovesOnMainLine: f} = n;
            return Boolean((l || !e.isGameOver()) && (a && e.isAtEndOfLine() || f) && (t || e.getPlayingAs() === e.getTurn()))
        }
        function createIsAllowedToMove(e, t) {
            return function isAllowedToMove() {
                return isAllowedToMoveInPlayingMode({
                    api: t,
                    canMoveWhenNotPlayerTurn: !0,
                    modeOptions: e.getOptions()
                })
            }
        }
        function createCancel(e) {
            return function cancel() {
                const {api: t, game: n} = e;
                return t.premoves.getQueue().length ? (n.premove.cancel(),
                t.reload()) : null
            }
        }
        function setTimestampOnNode({api: e, node: t, timestamp: n}) {
            var a;
            const {game: l, respond: h} = e.getContext()
              , {line: p, move: m} = t.ids;
            if (null === n)
                return (null == (a = t.commands) ? void 0 : a.timestamp) && delete t.commands.timestamp,
                h(f.APIEvents.NodeUpdated, {
                    changes: {
                        timestamp: n,
                        node: t
                    }
                });
            t.commands || (t.commands = {}),
            l.updateNode({
                commands: Object.assign(t.commands, {
                    timestamp: `${n}`
                })
            }, m, p)
        }
        function millisecondsToDeciseconds(e) {
            return Math.round(e / 100)
        }
        function isNode(e) {
            return void 0 !== (null == e ? void 0 : e.ids)
        }
        function getPreviousNodeOfSameColor({api: e, node: t}) {
            const n = e.getNodeByIds({
                move: t.ids.move - 2,
                line: t.ids.line
            });
            return isNode(n) ? n : null
        }
        function addTimeToConsumedPremove({api: e, timeControl: t}) {
            const n = e.getLine(0);
            if (!n)
                return null;
            const a = n[n.length - 1]
              , l = getPreviousNodeOfSameColor({
                api: e,
                node: a
            })
              , {baseTime: f, increment: h} = t
              , p = function getGameTimeLeft({baseTime: e, increment: t, lastNodeTime: n}) {
                return getStartingTime() - 1;
                function getStartingTime() {
                    return n ? n + t : e
                }
            }({
                baseTime: millisecondsToDeciseconds(f),
                increment: millisecondsToDeciseconds(h),
                lastNodeTime: null == l ? void 0 : l.time
            });
            return p && a && (a.time = p),
            p
        }
        function createConsumeNext(e) {
            return function consumeNext() {
                const {api: t, game: n, mutateGame: a} = e;
                if (!t.premoves.getQueue().length)
                    return null;
                if (t.isGameOver())
                    return t.premoves.cancel();
                t.premoves.reload();
                const l = a((function consume() {
                    n.premove.consume()
                }
                ));
                if (!l || 0 === l.plyDiff)
                    return null;
                if (l.consumedPremove = !0,
                t.premoves.getQueue().length && (l.pieces = t.premoves.getPieces()),
                l.move) {
                    const e = t.timeControl.get();
                    e && (addTimeToConsumedPremove({
                        api: t,
                        timeControl: e
                    }),
                    setTimestampOnNode({
                        api: t,
                        node: l.move,
                        timestamp: 1
                    })),
                    Object.assign(l.move, {
                        animate: !1,
                        userGenerated: !0
                    })
                }
                return l.result && t.setResult(l.result),
                l
            }
        }
        function createGetLegalMovesForSquare$1(e) {
            return function getLegalMovesForSquare(t) {
                const {game: n} = e
                  , a = n.premove.moves(t);
                return a ? a.filter((e=>void 0 === t || e.from === t)).map((e=>e.to)).filter(((e,t,n)=>n.indexOf(e) === t)) : []
            }
        }
        function createGetMove$3(e) {
            return function getMove(t) {
                const {game: n} = e
                  , a = n.premove.moves(t.from)
                  , l = a ? a.find((e=>e.to === t.to)) : null;
                return l ? n.moveDetails(__spreadValues({}, l)) : null
            }
        }
        function createGetPieces$1(e) {
            return function getPieces() {
                const {game: t} = e;
                return createCollection(t.premove.getPieces(!0))
            }
        }
        function createGetQueue(e) {
            return function getQueue() {
                const {game: t} = e;
                return t.premove.queue
            }
        }
        function createIsLegalMove$1(e) {
            return function isLegalMove(t) {
                const {game: n} = e;
                return !!n.premove.move(t) && (n.undo(),
                !0)
            }
        }
        function createLoadQueue(e) {
            return function loadQueue(t) {
                const {game: n} = e;
                n.premove.queue.length = 0,
                n.premove.queue.push(...t)
            }
        }
        function createMove$8(e) {
            return function move(t) {
                const {api: n, game: a, respond: l} = e;
                return a.premove.move(t) ? (n.getOptions().playSounds && l(f.SoundEvents.Play, {
                    sound: Qe.BoardSounds.Premove
                }),
                l(f.APIEvents.SetBoardPosition, {
                    pieces: n.premoves.getPieces()
                })) : null
            }
        }
        function createReload$1(e) {
            return function reload() {
                const {api: t} = e;
                if (t.premoves.getQueue().length) {
                    const e = [...t.premoves.getQueue()];
                    t.reload(),
                    t.premoves.loadQueue(e)
                } else
                    t.reload()
            }
        }
        const _r = "premove";
        function getPremoveHighlights(e, t) {
            var n;
            const {api: a, options: l} = t
              , f = null == (n = a.premoves) ? void 0 : n.getQueue();
            if (!l || !l.allowMarkings || !f.length)
                return [];
            const h = [];
            return f.forEach((e=>{
                if (e.from) {
                    const t = createKeyedHighlight({
                        color: l.premoveHighlightColor,
                        opacity: l.premoveHighlightOpacity,
                        square: e.from,
                        type: _r
                    });
                    h.push(t)
                }
                const t = createKeyedHighlight({
                    color: l.premoveHighlightColor,
                    opacity: l.premoveHighlightOpacity,
                    square: e.kingTo || e.to,
                    type: _r
                });
                h.push(t)
            }
            )),
            h
        }
        const noop = ()=>{}
        ;
        function createQueue(e=!0) {
            const t = [];
            let n = !1;
            return {
                add: function add2(a, ...l) {
                    let f = noop
                      , h = noop;
                    const p = new Promise(((e,t)=>{
                        h = e,
                        f = t
                    }
                    ));
                    t.push({
                        fn: a,
                        params: l,
                        reject: f,
                        resolve: h
                    }),
                    e && !1 === n && flush2();
                    return p
                },
                clear: function clear5() {
                    n = !1,
                    t.length = 0
                },
                flush: flush2,
                getEntries: function getEntries() {
                    return t
                }
            };
            async function flush2() {
                const e = t.shift();
                if (e) {
                    n = !0;
                    try {
                        const t = await e.fn(...e.params);
                        return e.resolve(t),
                        flush2()
                    } catch (a) {
                        e.reject(a)
                    }
                } else
                    n = !1
            }
        }
        function createExternallyResolvablePromise() {
            let e, t;
            return {
                promise: new Promise(((n,a)=>{
                    e = n,
                    t = a
                }
                )),
                reject: t,
                resolve: e
            }
        }
        var Cr, Er, Ar, Sr, xr, wr, Pr, Tr, Mr, kr, Ir;
        function addCustomColor(e, t) {
            Object.values(Cr.CssVariables).forEach((function setVariable(n) {
                !function setCSSVariable({el: e, value: t, variable: n}) {
                    if (void 0 !== t)
                        return e.style.setProperty(n, t);
                    e.style.removeProperty(n)
                }({
                    el: e,
                    value: t,
                    variable: n
                })
            }
            ))
        }
        Er = Cr || (Cr = {}),
        (Ar = Er.Classes || (Er.Classes = {})).EnPassant = "circle-info",
        Ar.MoveInfoIcon = "move-info-icon",
        Ar.ThreeFoldIcon = "redo",
        Ar.IconFont = "icon-font-chess",
        Ar.MoveList = "move-list",
        (Er.Tags || (Er.Tags = {})).EnPassantIcon = "span",
        (Er.CssVariables || (Er.CssVariables = {})).Color = "--nodeCustomColor",
        xr = Sr || (Sr = {}),
        function(e) {
            e.ClearAllAnalysis = "Clear All Analysis",
            e.DeleteCommentAfter = "Delete Comment After",
            e.DeleteCommentBefore = "Delete Comment Before",
            e.DeleteLine = "Delete Entire Variation",
            e.DeleteMove = "Delete Move",
            e.InsertCommentAfter = "Comment After",
            e.InsertCommentBefore = "Comment Before",
            e.InsertContinuation = "Insert Continuation",
            e.MoveVariationDown = "Move Variation Down",
            e.MoveVariationUp = "Move Variation Up",
            e.Promote = "Promote",
            e.RemoveAnnotation = "Remove Annotation",
            e.RemoveBegin = "Remove Begin",
            e.RemoveEnd = "Remove End",
            e.RemoveEvaluationAnnotation = "Remove Evaluation Annotation",
            e.RemoveFocus = "Remove Focus",
            e.SetBegin = "Set Begin",
            e.SetEnd = "Set End",
            e.SetFocus = "Set Focus"
        }((wr = xr.Translation || (xr.Translation = {})).Actions || (wr.Actions = {})),
        (Pr = wr.Annotations || (wr.Annotations = {})).BadMove = "Bad move",
        Pr.BlackHasDecisiveAdvantage = "Black has a decisive advantage",
        Pr.BlackHasModerateAdvantage = "Black has a moderate advantage",
        Pr.BlackHasSlightAdvantage = "Black has a slight advantage",
        Pr.Blunder = "Blunder",
        Pr.Drawish = "Drawish",
        Pr.DubiousMove = "Dubious move",
        Pr.ExcellentMove = "Excellent move",
        Pr.GoodMove = "Good move",
        Pr.Miss = "Miss",
        Pr.Novelty = "Novelty",
        Pr.Unclear = "Unclear",
        Pr.PositionInZuqZwang = "The position is in zugzwang",
        Pr.SpeculativeMove = "Speculative move",
        Pr.WhiteHasSlightAdvantage = "White has a slight advantage",
        Pr.WhiteHasModerateAdvantage = "White has a moderate advantage",
        Pr.WhiteHasDecisiveAdvantage = "White has a decisive advantage",
        Pr.WithInitiative = "With initiative",
        Pr.WithCompensation = "With compensation",
        Pr.WithAttack = "With an attack",
        function(e) {
            e.B = "B",
            e.K = "K",
            e.N = "N",
            e.P = "P",
            e.Q = "Q",
            e.R = "R"
        }(wr.Pieces || (wr.Pieces = {})),
        (Tr = wr.Plural || (wr.Plural = {})).NumberOfDays = "numberOfDays",
        Tr.NumberOfHours = "numberOfHours",
        Tr.NumberOfMinutes = "numberOfMinutes",
        (wr.Prompt || (wr.Prompt = {})).AddComment = "Add Comment...",
        (Mr = wr.Tooltips || (wr.Tooltips = {})).EnPassant = "En passant is a special pawn move by which a pawn captures another pawn that has advanced two squares.",
        Mr.ThreeFoldRepetition = "This game ended in a draw because the same position was repeated three times.",
        function(e) {
            e.HML = "hml",
            e.VML = "vml"
        }(xr.Types || (xr.Types = {})),
        (Ir = kr || (kr = {})).Mousedown = "mousedown",
        Ir.MouseMove = "mousemove",
        Ir.Mouseup = "mouseup",
        Ir.PointerDown = "pointerdown",
        Ir.PointerMove = "pointermove",
        Ir.PointerUp = "pointerup",
        Ir.Touchstart = "touchstart",
        Ir.Touchmove = "touchmove",
        Ir.Touchend = "touchend";
        const {Pointerdown: Or, Pointermove: Nr, Pointerup: Rr} = function getPointerEvents() {
            const e = "onpointerdown"in window
              , t = "ontouchstart"in window;
            let n, a, l;
            e ? (n = kr.PointerDown,
            a = kr.PointerMove,
            l = kr.PointerUp) : t ? (n = kr.Touchstart,
            a = kr.Touchmove,
            l = kr.Touchend) : (n = kr.Mousedown,
            a = kr.MouseMove,
            l = kr.Mouseup);
            return {
                Pointerdown: n,
                Pointermove: a,
                Pointerup: l
            }
        }();
        function toFigurine(e, t) {
            return e.toUpperCase() === e ? function getFigurineHTML(e, t) {
                return `<span class="icon-font-chess ${function getPieceName(e) {
                    return Xn.Piece.Names[e.toLowerCase()]
                }(e)}-${t}" data-figurine="${e}"></span>`
            }(e, t) : e
        }
        function formatText({color: e, moveListDisplayType: t, san: n, translations: a}) {
            return n.split("").map((n=>"NBRQK".includes(n) ? t === yt.MoveListDisplayTypes.Figurine ? toFigurine(n, e) : a[n]() : n)).join("")
        }
        function getColorAsWord(e) {
            return e === Xn.ColorsAsNumbers.Black ? Xn.ColorsAsWords.Black : Xn.ColorsAsWords.White
        }
        function isEPCapture(e) {
            return e === Xn.Move.Flags.EPCapture
        }
        function toClassString(e) {
            return `.${e}`
        }
        var Lr;
        function scrollToNode$1({containerEl: e, moveListEl: t, nodeEl: n}) {
            if (!t || !n)
                return;
            const a = e || t
              , l = a.getBoundingClientRect()
              , f = n.getBoundingClientRect()
              , h = (l.bottom - l.top) / 2
              , p = l.top - f.top + h;
            a.scrollTop -= p
        }
        function createVMLDOM(e) {
            const {el: t, resultNodeIsSelectable: n, toggleTimestamps: a} = e;
            let l = !1;
            const f = []
              , h = function createState(e={}) {
                const t = __spreadValues({}, e);
                return {
                    get: function get2() {
                        return t
                    },
                    set: function set3(e) {
                        Object.assign(t, e)
                    }
                }
            }(e);
            return {
                addMove: addMove,
                addNode: function addNode(e) {
                    const {color: t, flags: n, ids: a, ply: l, san: f, wholeMoveNumber: h} = e;
                    if (!t || !l || !f || !h || getNodeElement(l))
                        return;
                    let p = getMoveElement2(h);
                    p || (p = addMove(h));
                    const m = createNodeElement({
                        color: getColorAsWord(t),
                        moveId: a.move,
                        isEPCapture: !!n && isEPCapture(n),
                        ply: l,
                        san: f
                    });
                    if (!m)
                        return;
                    e.ply && Object.prototype.hasOwnProperty.call(e, "customColor") && addCustomColor(m, e.customColor);
                    return p.appendChild(m)
                },
                addTimestamp: function addTimestamp({baseTime: e, node: t, timestamp: n, title: a, value: l}) {
                    const {color: f, ply: h, wholeMoveNumber: p} = t;
                    if (!f || !h || !p)
                        return;
                    const m = getMoveElement2(p);
                    if (!m)
                        return;
                    const g = getTimestampElement(h);
                    g && m.removeChild(g);
                    const v = function createTimestampElement(e) {
                        const t = document.createElement("div");
                        return t.setAttribute(Lr.DOM.Attributes.Ply, e.toString()),
                        t.setAttribute(Lr.DOM.Attributes.VMLElement, Lr.DOM.ElementTypes.Timestamp),
                        t
                    }(h);
                    a && function setTimestampElementTitle(e, t) {
                        t.title = e
                    }(a, v);
                    return setTimestampElementColor(f, v),
                    setTimestampValue({
                        baseTime: e,
                        ply: h,
                        timestamp: n,
                        value: l
                    }, v),
                    m.appendChild(v),
                    v
                },
                clearList: function clearList() {
                    destroyList(),
                    createList()
                },
                createList: createList,
                deselectNode: function deselectNode(e) {
                    const t = e ? getNodeElement(e) : getSelectedNodeElement();
                    if (!t)
                        return;
                    deselectNodeElement(t)
                },
                destroyList: destroyList,
                enableColors: function enableColors(e) {
                    const {colorsEnabled: n} = h.get();
                    if (n === e)
                        return;
                    h.set({
                        colorsEnabled: e
                    }),
                    t.classList[e ? "add" : "remove"](Lr.DOM.ClassNames.ColorsEnabled)
                },
                getLastPly: getLastPly,
                getParams: h.get,
                getResult: function getResult() {
                    const e = getResultNodeElement();
                    if (!e)
                        return Xn.Results.None;
                    return e.innerText
                },
                getResultNodeElement: getResultNodeElement,
                getTimestamp: function getTimestamp2(e) {
                    const t = getTimestampElement(e);
                    if (!t)
                        return null;
                    const n = t.getAttribute(Lr.DOM.Attributes.Time);
                    if (0 === (null == n ? void 0 : n.length))
                        return null;
                    return parseFloat(n)
                },
                hasResultNode: function hasResultNode() {
                    return Boolean(t.querySelector(toClassString(Lr.DOM.ClassNames.GameResult)))
                },
                addThreeFoldMoveIcons: function addThreeFoldMoveIcons(e) {
                    const t = function getThreeFoldElements(e, t) {
                        if (!e)
                            return;
                        return function findThreeFoldMoves(e) {
                            return e.reduceRight(((e,t,n,a)=>(3 === (t === a[a.length - 1] ? e.push(n) : e.length) && (a.length = 0),
                            e)), [])
                        }(e.map((({fen: e})=>e.split(" ").slice(0, 2).join(" ")))).map((e=>t[e]))
                    }(e, getNodeElements());
                    if (!t || 3 !== t.length)
                        return;
                    t.forEach((e=>{
                        e.querySelector(toClassString(Cr.Classes.MoveInfoIcon)) || e.appendChild(function createThreeFoldIconElement() {
                            const {translations: e} = h.get()
                              , t = document.createElement("div")
                              , n = document.createElement("span");
                            return t.appendChild(n),
                            t.classList.add(Cr.Classes.MoveInfoIcon),
                            n.classList.add(Cr.Classes.IconFont, Cr.Classes.ThreeFoldIcon),
                            t.dataset.tooltip = e[Sr.Translation.Tooltips.ThreeFoldRepetition](),
                            t.addEventListener("mouseover", positionTooltip),
                            t;
                            function positionTooltip() {
                                const e = t.getBoundingClientRect().y;
                                t.style.setProperty("--tooltip-top", `${e}px`)
                            }
                        }())
                    }
                    ))
                },
                isResultNodeSelected: function isResultNodeSelected() {
                    return l
                },
                removeTimestamp: function removeTimestamp(e) {
                    const t = getTimestampElement(e);
                    if (!t)
                        return;
                    t.parentNode.removeChild(t)
                },
                scrollToSelectedNode: function scrollToSelectedNode() {
                    const {scrollContainer: e} = h.get()
                      , n = getSelectedNodeElement()
                      , a = e || t;
                    if (!n)
                        return void (a.scrollTop = 0);
                    scrollToNode$1({
                        containerEl: a,
                        moveListEl: t,
                        nodeEl: n
                    })
                },
                selectNode: function selectNode2(e) {
                    const t = getNodeElement(e);
                    if (!t)
                        return;
                    selectNodeElement(t)
                },
                selectNodeElement: selectNodeElement,
                selectResultNode: function selectResultNode() {
                    const e = getResultNodeElement();
                    e && (selectNodeElement(e, !0),
                    t.dispatchEvent(new CustomEvent(Lr.Events.SelectResultNode)))
                },
                setResultNode: function setResultNode(e) {
                    const a = getResultNodeElement();
                    if (null !== a) {
                        const e = a.parentNode;
                        if (!e)
                            return;
                        e.removeChild(a),
                        0 === e.childNodes.length && e.parentNode.removeChild(e)
                    }
                    if (e === Xn.Results.None)
                        return;
                    const l = getNodeElements().slice(-1)[0]
                      , f = l && function getNodeElementColor(e) {
                        return e.classList.contains(Xn.ColorsAsWords.Black) ? Xn.ColorsAsNumbers.Black : Xn.ColorsAsNumbers.White
                    }(l) !== Xn.ColorsAsNumbers.Black ? Xn.ColorsAsWords.Black : Xn.ColorsAsWords.White
                      , h = f === Xn.ColorsAsWords.White ? addMove() : function getMoveElements() {
                        return Array.from(t.querySelectorAll(`${toClassString(Lr.DOM.ClassNames.Move)}`))
                    }().slice(-1)[0];
                    let p;
                    if (n) {
                        const t = getLastPly() || 2;
                        p = createNodeElement({
                            color: f,
                            isEPCapture: !1,
                            moveId: getNodeElements().length - 1,
                            ply: t,
                            san: e,
                            isResultNode: !0
                        }),
                        p.classList.add(f, Lr.DOM.ClassNames.GameResult)
                    } else
                        p = function createResultNodeElement(e, t) {
                            const n = document.createElement("span");
                            return n.innerHTML = e,
                            n.classList.add(t, Lr.DOM.ClassNames.GameResult),
                            n
                        }(e, f);
                    h.appendChild(p)
                },
                setTimestampValue: setTimestampValue,
                setParams: h.set,
                updateNodeColor: function updateNodeColor(e, t) {
                    const n = getNodeElement(e);
                    if (!n)
                        return;
                    addCustomColor(n, t)
                }
            };
            function addMove(e) {
                const n = document.createElement("div");
                return n.classList.add(Lr.DOM.ClassNames.Move),
                e && (n.setAttribute(Lr.DOM.Attributes.WholeMoveNumber, `${e}`),
                n.innerHTML = `${e}.`),
                t.appendChild(n),
                n
            }
            function createList() {
                destroyList(),
                t.classList.add(Lr.DOM.ClassNames.List),
                a && t.classList.add(Lr.DOM.ClassNames.ToggleTimestamps)
            }
            function createNodeElement({color: e, isEPCapture: n, isResultNode: a, moveId: l, ply: p, san: m}) {
                const {EPIconInfoPath: g, moveListDisplayType: v, translations: y} = h.get()
                  , b = document.createElement("div");
                if (b.setAttribute(Lr.DOM.Attributes.Ply, p.toString()),
                b.classList.add(e, Lr.DOM.ClassNames.Node),
                b.innerHTML = formatText({
                    color: e,
                    moveListDisplayType: v,
                    san: m,
                    translations: y
                }),
                n) {
                    const {el: e, listener: t} = function createEnPassantIcon(e, t) {
                        const n = document.createElement("div")
                          , a = document.createElement(Cr.Tags.EnPassantIcon);
                        return n.appendChild(a),
                        n.classList.add(Cr.Classes.MoveInfoIcon),
                        a.classList.add(Cr.Classes.IconFont, Cr.Classes.EnPassant),
                        n.addEventListener(Or, EPIconPointerdownHandler),
                        n.addEventListener("mouseover", (function positionTooltip() {
                            const e = n.getBoundingClientRect().y;
                            n.style.setProperty("--tooltip-top", `${e}px`)
                        }
                        )),
                        n.dataset.tooltip = t[Sr.Translation.Tooltips.EnPassant](),
                        {
                            el: n,
                            listener: {
                                el: n,
                                eventName: Or,
                                handler: EPIconPointerdownHandler
                            }
                        };
                        function EPIconPointerdownHandler(t) {
                            t.stopPropagation(),
                            window.open(e, "_blank")
                        }
                    }(g, y);
                    b.appendChild(e),
                    f.push({
                        el: e,
                        eventName: Or,
                        handler: t.handler
                    })
                }
                return b.addEventListener(Or, halfMovePointerdownHandler),
                f.push({
                    eventName: Or,
                    handler: halfMovePointerdownHandler
                }),
                b;
                function halfMovePointerdownHandler() {
                    t.dispatchEvent(new CustomEvent(Lr.Events.SelectNode,{
                        detail: {
                            ids: {
                                move: l,
                                line: 0
                            },
                            ply: p,
                            isResultNode: a
                        }
                    }))
                }
            }
            function deselectNodeElement(e) {
                e.classList.remove(Lr.DOM.ClassNames.Selected)
            }
            function destroyList() {
                f.forEach((e=>{
                    t.removeEventListener(e.eventName, e.handler)
                }
                )),
                t.classList.remove(Lr.DOM.ClassNames.List),
                t.innerHTML = ""
            }
            function getLastPly() {
                const e = getNodeElements();
                if (!e.length)
                    return;
                const t = function getNodeElementPly(e) {
                    const t = e.getAttribute(Lr.DOM.Attributes.Ply);
                    return t ? parseInt(t, 10) : null
                }(e[e.length - 1]);
                return t || void 0
            }
            function getMoveElement2(e) {
                return t.querySelector(`[${Lr.DOM.Attributes.WholeMoveNumber}="${e}"]`)
            }
            function getNodeElement(e) {
                return t.querySelector(`${toClassString(Lr.DOM.ClassNames.Node)}[${Lr.DOM.Attributes.Ply}="${e}"]`)
            }
            function getNodeElements() {
                return Array.from(t.querySelectorAll(`${toClassString(Lr.DOM.ClassNames.Node)}`))
            }
            function getResultNodeElement() {
                return t.querySelector(toClassString(Lr.DOM.ClassNames.GameResult))
            }
            function getTimestampElement(e) {
                return t.querySelector(`[${Lr.DOM.Attributes.VMLElement}="${Lr.DOM.ElementTypes.Timestamp}"][${Lr.DOM.Attributes.Ply}="${e}"]`)
            }
            function getSelectedNodeElement() {
                return t.querySelector(toClassString(Lr.DOM.ClassNames.Selected))
            }
            function selectNodeElement(e, t=!1) {
                l = t;
                const n = getSelectedNodeElement();
                e !== n && (n && deselectNodeElement(n),
                e.classList.add(Lr.DOM.ClassNames.Selected))
            }
            function setMaxMoveTimeTaken(e) {
                null !== e ? t.style.setProperty(Lr.DOM.CSSVariables.MaxMoveTimeTaken, e.toString()) : t.style.removeProperty(Lr.DOM.CSSVariables.MaxMoveTimeTaken)
            }
            function setTimestampElementColor(e, t) {
                t.classList.add(function getTimestampClass(e) {
                    return `time-${e}`
                }(getColorAsWord(e)))
            }
            function setTimestampValue({baseTime: e, ply: n, value: a, timestamp: l}, f) {
                const h = f || getTimestampElement(n);
                if (!h)
                    return;
                const p = function getTimestampWidth() {
                    const e = t.style.getPropertyValue(Lr.DOM.CSSVariables.TimestampWidth);
                    return e.length ? parseFloat(e) : null
                }()
                  , m = function getMaxMoveTimeTaken() {
                    const e = t.style.getPropertyValue(Lr.DOM.CSSVariables.MaxMoveTimeTaken);
                    return e.length ? parseFloat(e) : null
                }();
                if (h.setAttribute(Lr.DOM.Attributes.Time, l.toString()),
                h.style.setProperty(Lr.DOM.CSSVariables.TimeValue, l.toString()),
                h.innerHTML = a,
                (!p || 7 * a.length > p) && function setTimestampWidth(e) {
                    const n = 7 * e;
                    t.style.setProperty(Lr.DOM.CSSVariables.TimestampWidth, `${n}px`)
                }(a.length),
                e) {
                    const n = function getBarWidth(e, t) {
                        const n = e / (t / 40);
                        return 130 / Math.PI * Math.atan(n / 3)
                    }(l, millisecondsToDeciseconds(e));
                    return h.style.setProperty(Lr.DOM.CSSVariables.TimeBarWidth, `${n}px`),
                    t.classList.add(Lr.DOM.ClassNames.WithBaseTime),
                    void (m && setMaxMoveTimeTaken(null))
                }
                t.classList.remove(Lr.DOM.ClassNames.WithBaseTime),
                (!m || l > m) && setMaxMoveTimeTaken(l)
            }
        }
        !function(e) {
            var t, n, a, l;
            t = e.DOM || (e.DOM = {}),
            (n = t.Attributes || (t.Attributes = {})).Ply = "data-ply",
            n.Time = "data-time",
            n.WholeMoveNumber = "data-whole-move-number",
            n.VMLElement = "data-vml-element",
            (a = t.CSSVariables || (t.CSSVariables = {})).TimeBarWidth = "--timeBarWidth",
            a.TimeValue = "--timeValue",
            a.MaxMoveTimeTaken = "--timeMaxValue",
            a.TimestampWidth = "--timestampWidth",
            (l = t.ClassNames || (t.ClassNames = {})).ColorsEnabled = "movelist-colored",
            l.List = "vertical-move-list",
            l.GameResult = "game-result",
            l.Move = "move",
            l.Node = "node",
            l.Selected = "selected",
            l.WithBaseTime = "timestamps-with-base-time",
            l.ToggleTimestamps = "toggle-timestamps",
            (t.ElementTypes || (t.ElementTypes = {})).Timestamp = "timestamp",
            function(e) {
                e.SelectNode = "SelectNode",
                e.SelectResultNode = "SelectResultNode"
            }(e.Events || (e.Events = {}))
        }(Lr || (Lr = {}));
        const Dr = {
            [Sr.Translation.Prompt.AddComment]: ()=>Sr.Translation.Prompt.AddComment,
            [Sr.Translation.Annotations.BadMove]: ()=>Sr.Translation.Annotations.BadMove,
            [Sr.Translation.Annotations.BlackHasDecisiveAdvantage]: ()=>Sr.Translation.Annotations.BlackHasDecisiveAdvantage,
            [Sr.Translation.Annotations.BlackHasModerateAdvantage]: ()=>Sr.Translation.Annotations.BlackHasModerateAdvantage,
            [Sr.Translation.Annotations.BlackHasSlightAdvantage]: ()=>Sr.Translation.Annotations.BlackHasSlightAdvantage,
            [Sr.Translation.Annotations.Blunder]: ()=>Sr.Translation.Annotations.Blunder,
            [Sr.Translation.Actions.ClearAllAnalysis]: ()=>Sr.Translation.Actions.ClearAllAnalysis,
            [Sr.Translation.Actions.DeleteCommentAfter]: ()=>Sr.Translation.Actions.DeleteCommentAfter,
            [Sr.Translation.Actions.DeleteCommentBefore]: ()=>Sr.Translation.Actions.DeleteCommentBefore,
            [Sr.Translation.Actions.DeleteLine]: ()=>Sr.Translation.Actions.DeleteLine,
            [Sr.Translation.Actions.DeleteMove]: ()=>Sr.Translation.Actions.DeleteMove,
            [Sr.Translation.Annotations.Drawish]: ()=>Sr.Translation.Annotations.Drawish,
            [Sr.Translation.Annotations.DubiousMove]: ()=>Sr.Translation.Annotations.DubiousMove,
            [Sr.Translation.Annotations.ExcellentMove]: ()=>Sr.Translation.Annotations.ExcellentMove,
            [Sr.Translation.Tooltips.EnPassant]: ()=>Sr.Translation.Tooltips.EnPassant,
            [Sr.Translation.Annotations.GoodMove]: ()=>Sr.Translation.Annotations.GoodMove,
            [Sr.Translation.Actions.InsertCommentAfter]: ()=>Sr.Translation.Actions.InsertCommentAfter,
            [Sr.Translation.Actions.InsertCommentBefore]: ()=>Sr.Translation.Actions.InsertCommentBefore,
            [Sr.Translation.Actions.InsertContinuation]: ()=>Sr.Translation.Actions.InsertContinuation,
            [Sr.Translation.Annotations.Miss]: ()=>Sr.Translation.Annotations.Miss,
            [Sr.Translation.Actions.MoveVariationDown]: ()=>Sr.Translation.Actions.MoveVariationDown,
            [Sr.Translation.Actions.MoveVariationUp]: ()=>Sr.Translation.Actions.MoveVariationUp,
            [Sr.Translation.Annotations.Novelty]: ()=>Sr.Translation.Annotations.Novelty,
            [Sr.Translation.Pieces.B]: ()=>Sr.Translation.Pieces.B,
            [Sr.Translation.Pieces.K]: ()=>Sr.Translation.Pieces.K,
            [Sr.Translation.Pieces.N]: ()=>Sr.Translation.Pieces.N,
            [Sr.Translation.Pieces.P]: ()=>Sr.Translation.Pieces.P,
            [Sr.Translation.Pieces.Q]: ()=>Sr.Translation.Pieces.Q,
            [Sr.Translation.Pieces.R]: ()=>Sr.Translation.Pieces.R,
            [Sr.Translation.Actions.Promote]: ()=>Sr.Translation.Actions.Promote,
            [Sr.Translation.Actions.RemoveAnnotation]: ()=>Sr.Translation.Actions.RemoveAnnotation,
            [Sr.Translation.Actions.RemoveBegin]: ()=>Sr.Translation.Actions.RemoveBegin,
            [Sr.Translation.Actions.RemoveEnd]: ()=>Sr.Translation.Actions.RemoveEnd,
            [Sr.Translation.Actions.RemoveEvaluationAnnotation]: ()=>Sr.Translation.Actions.RemoveEvaluationAnnotation,
            [Sr.Translation.Actions.RemoveFocus]: ()=>Sr.Translation.Actions.RemoveFocus,
            [Sr.Translation.Actions.SetBegin]: ()=>Sr.Translation.Actions.SetBegin,
            [Sr.Translation.Actions.SetEnd]: ()=>Sr.Translation.Actions.SetEnd,
            [Sr.Translation.Actions.SetFocus]: ()=>Sr.Translation.Actions.SetFocus,
            [Sr.Translation.Annotations.SpeculativeMove]: ()=>Sr.Translation.Annotations.SpeculativeMove,
            [Sr.Translation.Tooltips.ThreeFoldRepetition]: ()=>Sr.Translation.Tooltips.ThreeFoldRepetition,
            [Sr.Translation.Annotations.PositionInZuqZwang]: ()=>Sr.Translation.Annotations.PositionInZuqZwang,
            [Sr.Translation.Annotations.Unclear]: ()=>Sr.Translation.Annotations.Unclear,
            [Sr.Translation.Annotations.WhiteHasDecisiveAdvantage]: ()=>Sr.Translation.Annotations.WhiteHasDecisiveAdvantage,
            [Sr.Translation.Annotations.WhiteHasModerateAdvantage]: ()=>Sr.Translation.Annotations.WhiteHasModerateAdvantage,
            [Sr.Translation.Annotations.WhiteHasSlightAdvantage]: ()=>Sr.Translation.Annotations.WhiteHasSlightAdvantage,
            [Sr.Translation.Annotations.WithAttack]: ()=>Sr.Translation.Annotations.WithAttack,
            [Sr.Translation.Annotations.WithCompensation]: ()=>Sr.Translation.Annotations.WithCompensation,
            [Sr.Translation.Annotations.WithInitiative]: ()=>Sr.Translation.Annotations.WithInitiative,
            [Sr.Translation.Plural.NumberOfDays]: e=>1 === e ? `${e} day` : `${e} days`,
            [Sr.Translation.Plural.NumberOfHours]: e=>1 === e ? `${e} hr` : `${e} hrs`,
            [Sr.Translation.Plural.NumberOfMinutes]: e=>1 === e ? `${e} min` : `${e} mins`
        };
        var Br, $r, Fr, Hr, jr, Ur, Vr, Gr, qr;
        function decisecondsToDaysHoursMinutesObject(e) {
            const t = Math.ceil(e / 10);
            let n = Math.floor(t / 86400)
              , a = Math.floor(t % 86400 / 3600)
              , l = Math.ceil(t % 3600 / 60);
            return 60 === l && (l = 0,
            a += 1),
            24 === a && (a = 0,
            n += 1),
            {
                days: n,
                hours: a,
                minutes: l
            }
        }
        function decisecondsToDaysHoursMinutesString(e, t) {
            const {days: n, hours: a, minutes: l} = decisecondsToDaysHoursMinutesObject(e)
              , f = a > 0 || l > 0 ? ", " : ""
              , h = l > 0 ? ", " : "";
            return `${n > 0 ? `${t[Sr.Translation.Plural.NumberOfDays](n)}${f}` : ""}${a > 0 ? `${t[Sr.Translation.Plural.NumberOfHours](a)}${h}` : ""}${l > 0 ? `${t[Sr.Translation.Plural.NumberOfMinutes](l)}` : ""}`
        }
        function decisecondsToHumanReadableFormat(e, t) {
            const {days: n, hours: a, minutes: l} = decisecondsToDaysHoursMinutesObject(e);
            return n ? n > 0 ? `${t[Sr.Translation.Plural.NumberOfDays](n)}` : "" : a ? a > 0 ? `${t[Sr.Translation.Plural.NumberOfHours](a)}` : "" : l > 0 ? `${t[Sr.Translation.Plural.NumberOfMinutes](l)}` : ""
        }
        function formatDecisecondsAsClockString(e) {
            const t = Math.floor(e / 600)
              , n = ((e - 600 * t) / 10).toFixed(1);
            if (0 === t)
                return n;
            return `${t}:${`0${n}`.substr(-4)}`
        }
        function getTimestampElementParameters({formatTimestampAsHumanReadable: e, timestamp: t, translations: n}) {
            return {
                title: e ? decisecondsToDaysHoursMinutesString(t, n) : void 0,
                value: e ? decisecondsToHumanReadableFormat(t, n) : formatDecisecondsAsClockString(t)
            }
        }
        function getTimestampFromNode(e) {
            var t;
            return (null == (t = e.commands) ? void 0 : t.timestamp) ? parseInt(e.commands.timestamp, 10) : null
        }
        function createVMLAPIOverrides({resultNodeIsSelectable: e}) {
            return {
                moveBackward: ({api: e})=>function createMoveBackward$2({api: e}) {
                    const t = e.moveBackward;
                    return function moveBackward() {
                        e.vml.getMoveList().isResultNodeSelected() ? e.selectLineEnd(0) : t()
                    }
                }({
                    api: e
                }),
                moveForward: ({api: t})=>function createMoveForward$2({api: e, resultNodeIsSelectable: t}) {
                    const n = e.moveForward;
                    return function moveForward(...a) {
                        var l;
                        if (!t)
                            return void n(...a);
                        const f = e.vml.getMoveList()
                          , h = e.getFEN()
                          , p = null == (l = e.getLastMove()) ? void 0 : l.fen;
                        f.isResultNodeSelected() || (p === h ? f.selectResultNode() : n(...a))
                    }
                }({
                    api: t,
                    resultNodeIsSelectable: e
                })
            }
        }
        function selectNode({node: e, lines: t}) {
            return function getMachineStateForSelectedNode(e, t) {
                return !e || isLine(e) ? qr.StartingPosition : e.ids.move === Object.keys(t[e.ids.line]).length - 1 ? qr.EndOfLineSelected : qr.MiddleOfLineSelected
            }(e, t)
        }
        function createHMLStateMachine() {
            return (0,
            I.c)(function getStateMachine$1() {
                return {
                    initialState: qr.StartingPosition,
                    states: {
                        [qr.StartingPosition]: {
                            [f.APIEvents.SelectNode]: selectNode,
                            [f.APIEvents.Move]: function makeMove({component: e, event: t}) {
                                const {api: n, dom: a} = e;
                                return n.getMoveNode({
                                    line: t.ids.line,
                                    move: t.ids.move
                                }) ? (n.selectNode({
                                    line: t.ids.line,
                                    move: t.ids.move
                                }),
                                qr.MiddleOfLineSelected) : 0 !== t.ids.line ? (a.insertVariation({
                                    node: t
                                }),
                                qr.EndOfLineSelected) : (a.insertNode({
                                    node: t
                                }),
                                qr.EndOfLineSelected)
                            }
                        },
                        [qr.EndOfLineSelected]: {
                            [f.APIEvents.SelectNode]: selectNode,
                            [f.APIEvents.Move]: function makeMove({component: e, event: t}) {
                                const {api: n, dom: a} = e;
                                return a.insertNode({
                                    node: t,
                                    nodeToInsertAfter: n.getSelectedNode()
                                }),
                                qr.EndOfLineSelected
                            }
                        },
                        [qr.MiddleOfLineSelected]: {
                            [f.APIEvents.SelectNode]: selectNode,
                            [f.APIEvents.Move]: function makeMove({component: e, event: t}) {
                                const {api: n, dom: a} = e;
                                return n.getMoveNode({
                                    line: t.ids.line,
                                    move: t.ids.move
                                }) ? (n.selectNode({
                                    line: t.ids.line,
                                    move: t.ids.move
                                }),
                                qr.MiddleOfLineSelected) : (a.insertVariation({
                                    node: t
                                }),
                                qr.EndOfLineSelected)
                            }
                        }
                    }
                }
            }())
        }
        (function(e) {
            e.AddMove = "AddMove",
            e.AnalysisEnd = "AnalysisEnd",
            e.AnalysisStart = "AnalysisStart"
        }
        )(($r = Br || (Br = {})).APIEvents || ($r.APIEvents = {})),
        function(e) {
            e.Name = "observing"
        }($r.Plugin || ($r.Plugin = {})),
        Hr = Fr || (Fr = {}),
        (jr = Hr.Placeholders || (Hr.Placeholders = {})).GameResult = "game-result",
        jr.Moves = "moves",
        (Ur = Hr.ClassNames || (Hr.ClassNames = {})).Component = "horizontal-move-list",
        Ur.MainLine = "main",
        Ur.Variation = "variation",
        Hr.ComponentIdentifier = "data-id",
        function(e) {
            e.Copy = "copy",
            e.UpdateNodeLimit = "UpdateNodeLimit"
        }(Hr.Events || (Hr.Events = {})),
        (Vr = Hr.VariationParenthesis || (Hr.VariationParenthesis = {})).Before = "(",
        Vr.After = ")",
        (Gr = Hr.NodeLimitTypes || (Hr.NodeLimitTypes = {})).Begin = "begin",
        Gr.Focus = "focus",
        Gr.End = "end",
        function(e) {
            e.EndOfLineSelected = "EndOfLineSelected",
            e.MiddleOfLineSelected = "MiddleOfLineSelected",
            e.StartingPosition = "StartingPosition"
        }(qr || (qr = {}));
        const zr = {
            condition: function condition$a({event: e}) {
                return function match2() {
                    return e.type === f.APIEvents.AddMove
                }
            },
            handler: function handler$a({context: e, event: t}) {
                const {moveList: n} = e
                  , {listMove: a} = t.data;
                if (!(null == a ? void 0 : a.ids))
                    return;
                const l = n.api.getMoveNode({
                    line: 0,
                    move: a.ids.move - 1
                });
                n.dom.insertNode({
                    node: a,
                    nodeToInsertAfter: l
                })
            }
        };
        const Wr = {
            condition: function condition$9({event: e}) {
                return function match2() {
                    return e.type === f.APIEvents.CreateContinuation
                }
            },
            handler: function handler$9({context: e, event: t, selectedNode: n}) {
                const {moveList: a, methods: {selectCurrentPosition: l}} = e;
                if (a.dom.insertVariation({
                    node: t.data.node
                }),
                a.api.getMoveNode(t.data.node.ids))
                    return void a.api.selectNode(t.data.node.ids);
                l(n)
            }
        };
        const Kr = {
            condition: function condition$8({event: e}) {
                return function match2() {
                    return f.APIEvents.UpdatePGNHeaders === e.type && e.data.Result
                }
            },
            handler: function handler$8({context: e, coreContext: t}) {
                const {moveList: n} = e;
                n.dom.setResultNode(t.api.getResult())
            }
        };
        var Zr, Xr;
        function isEditingComment(e) {
            return Boolean(e.getElement().querySelector((0,
            I.t)(Zr.Classes.Component)))
        }
        (function(e) {
            e.FocusOut = "comment-field-focus-out",
            e.CommentChanged = "comment-has-changed"
        }
        )((Xr = Zr || (Zr = {})).Events || (Xr.Events = {})),
        function(e) {
            e.Component = "editable-comment"
        }(Xr.Classes || (Xr.Classes = {})),
        function(e) {
            e[e.CommentUpdateDelay = 500] = "CommentUpdateDelay"
        }(Xr.Constants || (Xr.Constants = {}));
        const Qr = {
            condition: function condition$7({event: e}) {
                return function match2() {
                    return e.type === f.APIEvents.LineCommentUpdated
                }
            },
            handler: function handler$7({context: e, event: t}) {
                const {moveList: n} = e
                  , {data: a} = t;
                if (isEditingComment(n.dom))
                    return;
                n.dom.updateLineComponent(a.lineId, {
                    initComment: a.comment
                })
            }
        };
        const Yr = {
            condition: function condition$6({event: e}) {
                return function match2() {
                    return [f.APIEvents.CreateGame, f.APIEvents.CreateContinuation, f.APIEvents.DeletePosition, f.APIEvents.Load, f.APIEvents.MoveVariation, f.APIEvents.PromoteVariation, f.APIEvents.ResetToMainLine].includes(e.type) || e.data.linesReordered
                }
            },
            handler: function handler$6({context: e, coreContext: t}) {
                const {moveList: n, methods: {destroyContextMenu: a}, queue: l} = e
                  , {api: f} = t;
                a(),
                l.flush(),
                n.dom.load(),
                n.dom.setResultNode(f.getResult())
            }
        };
        const Jr = {
            condition: function condition$5({event: e}) {
                return function match2() {
                    return e.type === f.APIEvents.Move
                }
            },
            handler: function handler$5({context: e, event: t, selectedNode: n}) {
                const {moveList: a, stateMachine: l, methods: {selectCurrentPosition: h}} = e;
                if (a.api.getMoveNode(t.data.move.ids))
                    return void a.api.selectNode(t.data.move.ids);
                l.transition(f.APIEvents.Move, {
                    component: a,
                    event: t.data.move,
                    selectedNode: n
                }),
                h(n)
            }
        };
        const eo = {
            condition: function condition$4({event: e}) {
                return function match2() {
                    return e.type === f.APIEvents.NodeUpdated
                }
            },
            handler: function handler$4({context: e, event: t}) {
                const {moveList: n} = e
                  , {data: a} = t;
                if (isEditingComment(n.dom))
                    return;
                if (!a.ids)
                    return;
                n.dom.updateMoveNodeComponent(a.ids, a.changes)
            }
        };
        const to = {
            condition: function condition$3({event: e}) {
                return function match2() {
                    return [f.APIEvents.ResetToMainLine].includes(e.type)
                }
            },
            handler: function handler$3({context: e}) {
                const {moveList: t} = e;
                t.dom.load()
            }
        };
        const ro = {
            condition: function condition$2({event: e}) {
                return function match2() {
                    return e.type === f.OptionsEvents.Update
                }
            },
            handler: function handler$2({coreContext: e, context: t, event: n}) {
                const {el: a, moveList: l, methods: {destroyContextMenu: f}} = t
                  , h = e.api.getOptions();
                l.api.setOptions(n.data),
                h.test && setTestData(a, {
                    [jt.Editable]: n.data.moveListContextMenuEnabled
                });
                !1 === n.data.moveListContextMenuEnabled && f()
            }
        };
        const oo = {
            condition: function condition$1({event: e}) {
                return function match2() {
                    return e.type === f.APIEvents.MoveForward || e.type === f.APIEvents.MoveBackward || e.type === f.APIEvents.SelectLineEnd || e.type === f.APIEvents.SelectLineStart || e.type === f.APIEvents.SelectNode || e.type === f.APIEvents.ResetToMainLine
                }
            },
            handler: function handler$1({context: e, selectedNode: t}) {
                const {methods: {selectCurrentPosition: n}} = e;
                n(t)
            }
        };
        var io, ao, so, uo, co, lo, fo, ho, po, mo, go, vo, yo, bo;
        (function(e) {
            e.ClearAnalysis = "ClearAnalysis",
            e.DeleteComment = "DeleteComment",
            e.DeleteCommentBefore = "DeleteCommentBefore",
            e.DeleteMove = "DeleteMove",
            e.DeleteVariation = "DeleteVariation",
            e.InsertComment = "InsertComment",
            e.InsertCommentBefore = "InsertCommentBefore",
            e.InsertContinuation = "InsertContinuation",
            e.MoveVariationDown = "MoveVariationDown",
            e.MoveVariationUp = "MoveVariationUp",
            e.PromoteVariation = "PromoteVariation",
            e.RemoveAnnotation = "RemoveAnnotation",
            e.RemoveBegin = "RemoveBegin",
            e.RemoveEnd = "RemoveEnd",
            e.RemoveAdditionalAnnotation = "RemoveAdditionalAnnotation",
            e.RemoveFocus = "RemoveFocus",
            e.SetBegin = "SetBegin",
            e.SetEnd = "SetEnd",
            e.SetFocus = "SetFocus"
        }
        )((ao = io || (io = {})).Actions || (ao.Actions = {})),
        (so = ao.AnnotationActions || (ao.AnnotationActions = {})).AddAnnotation = "AddAnnotation",
        so.AddAdditionalAnnotation = "AddAdditionalAnnotation",
        function(e) {
            e.Actions = "actions",
            e.Translations = "translations"
        }(ao.Keys || (ao.Keys = {})),
        function(e) {
            e.ActionClicked = "action-clicked",
            e.AnnotationClicked = "annotation-clicked",
            e.Close = "close-context-menu"
        }(ao.Events || (ao.Events = {})),
        function(e) {
            e.Name = "contextMenu"
        }(ao.Plugin || (ao.Plugin = {})),
        function(e) {
            e.ActionName = "action-name",
            e.Annotation = "annotation",
            e.AnnotationsContainer = "annotations-container",
            e.Component = "move-node-context-menu",
            e.Divider = "divider"
        }((co = uo || (uo = {})).Classes || (co.Classes = {})),
        function(e) {
            e.Annotation = "annotation",
            e.CustomColor = "customColor",
            e.id = "id",
            e.MoveNumber = "moveNumber",
            e.San = "san",
            e.Selected = "selected"
        }((fo = lo || (lo = {})).Keys || (fo.Keys = {})),
        (ho = fo.TouchableKeys || (fo.TouchableKeys = {})).Annotation = "annotation",
        ho.CustomColor = "customColor",
        ho.MoveNumber = "moveNumber",
        ho.San = "san",
        function(e) {
            e.Comment = "comment",
            e.GameResultNode = "game-result-node",
            e.IconFont = "icon-font-chess",
            e.MoveNode = "move-node",
            e.MoveNumber = "move-number",
            e.MoveText = "move-text",
            e.Selected = "selected",
            e.StaticComment = "static-comment"
        }((mo = po || (po = {})).Classes || (mo.Classes = {})),
        function(e) {
            e[e.TouchDelay = 500] = "TouchDelay"
        }(mo.Constants || (mo.Constants = {})),
        function(e) {
            e.Click = "click",
            e.OpenContextMenu = "contextmenu"
        }(mo.Events || (mo.Events = {}));
        class ChessError extends Error {
            constructor({code: e, message: t, data: n}) {
                super(t),
                this.code = e,
                this.data = n,
                this.message = t,
                this.name = "ChessError"
            }
        }
        (vo = go || (go = {})).BadData = "Bad Data",
        vo.BeforeStateHooksConflict = "Before State hooks conflict",
        vo.DOMDoesNotMatchJCE = "DOM Does Not Match JCE",
        vo.ElementAlreadyExists = "Element Already Exists",
        vo.ElementNotFound = "Element Not Found",
        vo.IllegalJCECall = "Illegal JCE Call",
        vo.IncorrectMode = "Incorrect Mode",
        vo.InvalidStateMachine = "Invalid State Machine",
        vo.MissingPluginDependency = "Missing Plugin Dependency",
        (bo = yo || (yo = {}))[bo.MainLine = 0] = "MainLine",
        bo[bo.MainLineChild = -1] = "MainLineChild",
        bo[bo.Parent = 1] = "Parent";
        const _o = {
            [io.Actions.InsertCommentBefore]: function createInsertCommentBeforeAction() {
                return {
                    action: io.Actions.InsertCommentBefore,
                    handler: function handler2(e, {moveList: t, context: n}) {
                        const {game: a} = n;
                        let l = e;
                        const f = a.getLine(e.ids.line);
                        l = 0 === e.ids.move && f ? f : a.getNodeByIds(e.previous);
                        t.dom.insertEditableComment(l)
                    },
                    isVisible: function isVisible({api: e, node: t}) {
                        if (0 === t.ids.move) {
                            const n = e.getLine(t.ids.line);
                            return !n || !n.initComment
                        }
                        const n = e.getNodeByIds(t.previous);
                        return isNode(n) && !n.comment
                    },
                    name: Sr.Translation.Actions.InsertCommentBefore
                }
            }(),
            [io.Actions.InsertComment]: function createInsertCommentAction() {
                return {
                    action: io.Actions.InsertComment,
                    handler: function handler2(e, {moveList: t}) {
                        t.dom.insertEditableComment(e)
                    },
                    isVisible: function isVisible({node: e}) {
                        return void 0 === e.comment
                    },
                    name: Sr.Translation.Actions.InsertCommentAfter
                }
            }(),
            [io.Actions.DeleteCommentBefore]: function createDeleteCommentBeforeAction() {
                return {
                    action: io.Actions.DeleteCommentBefore,
                    handler: function handler2(e, {context: {game: t}, moveList: n, moveNodeComponent: a}) {
                        let l = e;
                        const f = t.getLine(e.ids.line);
                        f && 0 === e.ids.move ? (l = f,
                        t.updateLineComment(void 0, f.id)) : (l = t.getNodeByIds(e.previous),
                        t.updateNode(l.ids, {
                            comment: void 0
                        }),
                        a.touch(lo.TouchableKeys.MoveNumber));
                        n.dom.removeComment(l)
                    },
                    isVisible: function isVisible({api: e, node: t}) {
                        if (0 === t.ids.move) {
                            const n = e.getLine(t.ids.line);
                            return Boolean(n && n.initComment)
                        }
                        const n = e.getNodeByIds(t.previous);
                        return isNode(n) && Boolean(n.comment)
                    },
                    name: Sr.Translation.Actions.DeleteCommentBefore
                }
            }(),
            [io.Actions.DeleteComment]: function createDeleteCommentAction() {
                return {
                    action: io.Actions.DeleteComment,
                    handler: function handler2(e, {context: {game: t}, moveList: n, moveNodeComponent: a}) {
                        t.updateNode(e.ids, {
                            comment: void 0
                        }),
                        n.dom.removeComment(e),
                        a.touchNextNode()
                    },
                    isVisible: function isVisible({node: e}) {
                        return "string" == typeof e.comment
                    },
                    name: Sr.Translation.Actions.DeleteCommentAfter
                }
            }(),
            [io.Actions.RemoveAnnotation]: function createRemoveAnnotationAction() {
                return {
                    action: io.Actions.RemoveAnnotation,
                    handler: function handler2(e, {context: {game: t}, moveNodeComponent: n}) {
                        t.updateNode(e.ids, {
                            annotation: void 0
                        }),
                        n.touch(lo.TouchableKeys.Annotation)
                    },
                    isVisible: function isVisible({node: e}) {
                        return Boolean(e.annotation)
                    },
                    name: Sr.Translation.Actions.RemoveAnnotation
                }
            }(),
            [io.Actions.RemoveAdditionalAnnotation]: function createRemoveAdditionalAnnotationAction() {
                return {
                    action: io.Actions.RemoveAdditionalAnnotation,
                    handler: function handler2(e, {context: {game: t}, moveNodeComponent: n}) {
                        t.updateNode(e.ids, {
                            additionalAnnotation: void 0
                        }),
                        n.touch(lo.TouchableKeys.Annotation)
                    },
                    isVisible: function isVisible({node: e}) {
                        return Boolean(e.additionalAnnotation && e.additionalAnnotation.length > 0)
                    },
                    name: Sr.Translation.Actions.RemoveEvaluationAnnotation
                }
            }(),
            [io.Actions.DeleteVariation]: function createDeleteVariationAction() {
                return {
                    action: io.Actions.DeleteVariation,
                    handler: function handler2(e, {context: {game: t}, moveList: n}) {
                        t.deletePosition(-1, e.ids.line),
                        n.dom.load()
                    },
                    isVisible: function isVisible({node: e}) {
                        return 0 !== e.ids.line
                    },
                    name: Sr.Translation.Actions.DeleteLine
                }
            }(),
            [io.Actions.DeleteMove]: function createDeleteMoveAction() {
                return {
                    action: io.Actions.DeleteMove,
                    handler: function handler2(e, {context: {game: t}}) {
                        t.deletePosition(e.ids.move, e.ids.line)
                    },
                    isVisible: function isVisible({api: e, node: t}) {
                        if (0 === t.ids.line)
                            return e.getMode().getOptions().canModifyExistingMovesOnMainLine;
                        return !0
                    },
                    name: Sr.Translation.Actions.DeleteMove
                }
            }(),
            [io.Actions.PromoteVariation]: function createPromoteVariationAction() {
                return {
                    action: io.Actions.PromoteVariation,
                    handler: function handler2(e, {context: {game: t}}) {
                        t.promoteVariation(e.ids.line, yo.Parent)
                    },
                    isVisible: function isVisible({api: e, node: t}) {
                        const n = t.ids.line;
                        if (0 === n)
                            return !1;
                        const a = e.getLine(n);
                        if (!a)
                            return !1;
                        if (0 === a.parentId) {
                            const {canAddMovesToMainLine: t, canModifyExistingMovesOnMainLine: n} = e.getMode().getOptions();
                            return t && n
                        }
                        return !0
                    },
                    name: Sr.Translation.Actions.Promote
                }
            }(),
            [io.Actions.MoveVariationDown]: function createMoveVariationDownAction() {
                return {
                    action: io.Actions.MoveVariationDown,
                    handler: function handler2(e, {context: {game: t}}) {
                        t.moveVariation(e.ids.line, !1)
                    },
                    isVisible: function isVisible({api: e, node: t}) {
                        if (0 === t.ids.line)
                            return !1;
                        const n = e.getLine(t.ids.line);
                        if (!n)
                            return !1;
                        const a = e.getNodeByIds({
                            line: n.parentId,
                            move: n.atMoveNode
                        });
                        if (a.lines && a.lines.length > 1)
                            return !function isOnLastLineOfParentNode(e, t) {
                                return !!t.lines && e.ids.line === t.lines[t.lines.length - 1]
                            }(t, a);
                        return !1
                    },
                    name: Sr.Translation.Actions.MoveVariationDown
                }
            }(),
            [io.Actions.MoveVariationUp]: function createMoveVariationUpAction() {
                return {
                    action: io.Actions.MoveVariationUp,
                    handler: function handler2(e, {context: {game: t}}) {
                        t.moveVariation(e.ids.line, !0)
                    },
                    isVisible: function isVisible({api: e, node: t}) {
                        if (0 === t.ids.line)
                            return !1;
                        const n = e.getLine(t.ids.line);
                        if (!n)
                            return !1;
                        const a = e.getNodeByIds({
                            line: n.parentId,
                            move: n.atMoveNode
                        });
                        if (a.lines && a.lines.length > 1)
                            return !function isOnFirstLineOfParentNode(e, t) {
                                return !!t.lines && e.ids.line === t.lines[0]
                            }(t, a);
                        return !1
                    },
                    name: Sr.Translation.Actions.MoveVariationUp
                }
            }(),
            [io.Actions.InsertContinuation]: function createInsertContinuationAction() {
                return {
                    action: io.Actions.InsertContinuation,
                    handler: function handler2(e, {context: {game: t}}) {
                        t.createContinuation()
                    },
                    isVisible: function isVisible({api: e, node: t}) {
                        const n = e.getRawLines();
                        return t.ids.move === n[t.ids.line].length - 1
                    },
                    name: Sr.Translation.Actions.InsertContinuation
                }
            }(),
            [io.Actions.ClearAnalysis]: function createClearAnalysisAction() {
                return {
                    action: io.Actions.ClearAnalysis,
                    handler: function handler2(e, {context: {game: t}, event: n, moveList: a}) {
                        t.hml.contextMenu.requestConfirmation({
                            action: function onConfirmation() {
                                const n = Object.keys(a.api.getNodes())
                                  , l = t.getLine(0);
                                if (!l)
                                    return;
                                const f = {};
                                if (n.length > 1)
                                    for (let e = n.length - 1; e > 0; e--) {
                                        const n = t.getLine(e);
                                        if (!n)
                                            return;
                                        a.dom.removeLine(n),
                                        0 === n.parentId && (f[n.atMoveNode] = !0)
                                    }
                                Object.keys(a.api.getComments()).forEach((e=>{
                                    a.api.getComments()[e].destroy()
                                }
                                )),
                                t.resetToMainLine(),
                                l.forEach((n=>{
                                    var l, h;
                                    const p = [];
                                    let m = !1;
                                    if (f[n.ids.move] && p.push(lo.TouchableKeys.MoveNumber),
                                    (n.annotation || n.additionalAnnotation) && p.push(lo.TouchableKeys.Annotation),
                                    n.comment && n.color === Xn.ColorsAsNumbers.White && (m = !0),
                                    t.updateNode(n.ids, {
                                        additionalAnnotation: void 0,
                                        annotation: void 0,
                                        comment: void 0
                                    }),
                                    null == (l = e.commands) || delete l.href,
                                    null == (h = e.commands) || delete h.text,
                                    Object.keys(p).length > 0 || m) {
                                        const t = a.api.getMoveNode(n.ids);
                                        if (!t)
                                            throw new ChessError({
                                                code: go.ElementNotFound,
                                                data: e,
                                                message: "No move node found."
                                            });
                                        p.forEach((e=>{
                                            t.touch(e)
                                        }
                                        )),
                                        t.touchNextNode()
                                    }
                                }
                                )),
                                l.initComment && t.updateLineComment(void 0, l.id)
                            },
                            data: {
                                event: n
                            },
                            text: "Are you sure you want to clear all analysis?",
                            type: io.Actions.ClearAnalysis
                        })
                    },
                    isVisible: ()=>!0,
                    name: Sr.Translation.Actions.ClearAllAnalysis
                }
            }()
        };
        function createContextMenuAPI(e) {
            return function createConfirmations(e) {
                const t = new Map;
                let n = e;
                return {
                    cancelConfirmation: cancelConfirmation,
                    cancelAllConfirmations: function cancelAllConfirmations() {
                        t.clear()
                    },
                    confirmAction: confirmAction,
                    registerConfirmationCallback: function registerConfirmationCallback(e) {
                        n = e
                    },
                    requestConfirmation: async function requestConfirmation(e) {
                        const {action: a, data: l, text: f, type: h} = e;
                        return t.set(h, a),
                        n ? await n({
                            data: l,
                            text: f,
                            type: h
                        }) ? confirmAction(h) : cancelConfirmation(h) : window.confirm(f) ? confirmAction(h) : void cancelConfirmation(h)
                    }
                };
                function cancelConfirmation(e) {
                    t.delete(e)
                }
                function confirmAction(e) {
                    var n;
                    null == (n = t.get(e)) || n(),
                    t.delete(e)
                }
            }(e)
        }
        function createContextMenuPlugin(e) {
            return {
                api: ()=>createContextMenuAPI(e),
                destroy: function destroy10(e) {
                    if (!e)
                        return;
                    e.game.hml.contextMenu.cancelAllConfirmations()
                },
                name: io.Plugin.Name
            }
        }
        function createGetContextMenuActions(e) {
            return function getContextMenuActions(t) {
                const {contextMenuActions: n, game: a} = e
                  , l = a.getNodeByIds(t);
                if (!isNode(l))
                    throw new ChessError({
                        code: go.BadData,
                        data: t,
                        message: "No move node found"
                    });
                const f = [];
                return Object.values(n).forEach((t=>{
                    if (!t)
                        return;
                    t.isVisible({
                        api: a,
                        node: l,
                        options: a.getOptions(),
                        state: e.state
                    }) && f.push(t)
                }
                )),
                f
            }
        }
        function createGetMoveNodeMethod(e) {
            return function getMoveNode({line: t, move: n}) {
                const {state: a} = e;
                return a.nodes[t] && e.state.nodes[t][n]
            }
        }
        function createResetSelectedNode(e) {
            return function resetSelectedNode() {
                const {state: t} = e;
                t.selectedNode && (t.selectedNode.set({
                    [lo.Keys.Selected]: !1
                }),
                t.selectedNode = void 0)
            }
        }
        function createSelectLineStart$1(e) {
            return function selectLineStart(t) {
                const {api: n, stateMachine: a} = e;
                n.resetSelectedNode(),
                a.transition(f.APIEvents.SelectNode, {
                    lines: n.getNodes(),
                    node: t
                })
            }
        }
        function getLineElement(e, t) {
            return t.querySelector(`[${Fr.ComponentIdentifier}="line-${e}"]`)
        }
        function forceNextFrame(e, t=[]) {
            requestAnimationFrame((()=>{
                requestAnimationFrame((()=>{
                    e(...t)
                }
                ))
            }
            ))
        }
        function createSelectNodeMethod(e) {
            return function selectNode2({line: t, move: n}) {
                const {api: a, el: l, scrollContainer: h, state: p, stateMachine: m} = e;
                if (void 0 === t || void 0 === n)
                    return;
                a.resetSelectedNode();
                const g = a.getMoveNode({
                    line: t,
                    move: n
                });
                g && (g.set({
                    [lo.Keys.Selected]: !0
                }),
                p.selectedNode = g,
                m.transition(f.APIEvents.SelectNode, {
                    lines: a.getNodes(),
                    node: p.selectedNode.getNodeData()
                }),
                forceNextFrame((()=>{
                    l.classList.contains(Fr.ClassNames.Component) && (0 === g.ids.line || getLineElement(g.ids.line, l)) && function scrollToNode({containerEl: e, moveNode: t, moveListEl: n}) {
                        let a;
                        try {
                            a = t.getElement()
                        } catch (l) {}
                        a && scrollToNode$1({
                            containerEl: e,
                            moveListEl: n,
                            nodeEl: a
                        })
                    }({
                        containerEl: h,
                        moveListEl: l,
                        moveNode: g
                    })
                }
                )))
            }
        }
        function setMoveListDisplayType(e) {
            !function forEachNode(e, t) {
                Object.keys(e).forEach((n=>{
                    (Object.keys(e[n]) || []).forEach((a=>{
                        t(e[n][a])
                    }
                    ))
                }
                ))
            }(e.api.getNodes(), (function touchSan2(e) {
                e.touch(lo.TouchableKeys.San)
            }
            ))
        }
        function setMoveListContextMenuEnabled(e) {
            const t = e.state.comments;
            Object.keys(t).forEach((n=>{
                t[n][e.options.moveListContextMenuEnabled ? "registerClickListeners" : "deregisterClickListeners"]()
            }
            ))
        }
        function createSetOptionsMethod(e) {
            const t = {
                moveListContextMenuEnabled: setMoveListContextMenuEnabled,
                moveListDisplayType: setMoveListDisplayType
            };
            return function setOptions(n) {
                Object.keys(e.options).forEach((a=>{
                    if (!(a in n))
                        return;
                    const l = e.options[a] !== n[a];
                    e.options[a] = n[a],
                    l && t[a] && t[a](e)
                }
                ))
            }
        }
        var Co;
        function create_if_block$1(e) {
            let t, n, a;
            return {
                c() {
                    t = (0,
                    I.f)("span"),
                    n = (0,
                    I.h)(e[2]),
                    (0,
                    I.j)(t, "class", a = (0,
                    I.n)(po.Classes.MoveNumber) + " svelte-nkpmj2")
                },
                m(e, a) {
                    (0,
                    I.k)(e, t, a),
                    (0,
                    I.m)(t, n)
                },
                p(e, t) {
                    4 & t && (0,
                    I.o)(n, e[2])
                },
                d(e) {
                    e && (0,
                    I.q)(t)
                }
            }
        }
        function create_fragment$3(e) {
            let t, n, a, l, f, h, p, m, g = (e[4] || "") + "", v = e[2] && create_if_block$1(e);
            return {
                c() {
                    t = (0,
                    I.f)("span"),
                    v && v.c(),
                    n = (0,
                    I.r)(),
                    a = (0,
                    I.f)("span"),
                    l = new I.H,
                    f = (0,
                    I.u)(),
                    h = new I.H,
                    l.a = f,
                    h.a = null,
                    (0,
                    I.j)(a, "class", (0,
                    I.n)(po.Classes.MoveText) + " svelte-nkpmj2"),
                    (0,
                    I.j)(t, "data-id", e[1]),
                    (0,
                    I.j)(t, "class", (0,
                    I.n)(po.Classes.MoveNode) + " svelte-nkpmj2"),
                    (0,
                    I.v)(t, "customColor", e[0]),
                    (0,
                    I.v)(t, "selected", e[5])
                },
                m(y, b) {
                    (0,
                    I.k)(y, t, b),
                    v && v.m(t, null),
                    (0,
                    I.m)(t, n),
                    (0,
                    I.m)(t, a),
                    l.m(e[3], a),
                    (0,
                    I.m)(a, f),
                    h.m(g, a),
                    p || (m = [(0,
                    I.w)(t, "click", e[7]), (0,
                    I.w)(t, "contextmenu", e[6]), (0,
                    I.w)(t, "touchstart", e[8]), (0,
                    I.w)(t, "touchend", e[9], {
                        passive: !0
                    })],
                    p = !0)
                },
                p(e, [a]) {
                    e[2] ? v ? v.p(e, a) : (v = create_if_block$1(e),
                    v.c(),
                    v.m(t, n)) : v && (v.d(1),
                    v = null),
                    8 & a && l.p(e[3]),
                    16 & a && g !== (g = (e[4] || "") + "") && h.p(g),
                    2 & a && (0,
                    I.j)(t, "data-id", e[1]),
                    1 & a && (0,
                    I.v)(t, "customColor", e[0]),
                    32 & a && (0,
                    I.v)(t, "selected", e[5])
                },
                i: I.x,
                o: I.x,
                d(e) {
                    e && (0,
                    I.q)(t),
                    v && v.d(),
                    p = !1,
                    (0,
                    I.y)(m)
                }
            }
        }
        function instance$3(e, t, n) {
            const a = (0,
            I.z)();
            let l, {customColor: f} = t, {id: h} = t, {moveListEl: p} = t, {moveNumber: m} = t, {san: g} = t, {annotation: v} = t, {selected: y} = t;
            function dispatchContextMenu(e) {
                e.preventDefault(),
                a(po.Events.OpenContextMenu)
            }
            function handleNodeClick(e) {
                a(po.Events.Click)
            }
            return e.$$set = e=>{
                "customColor"in e && n(0, f = e.customColor),
                "id"in e && n(1, h = e.id),
                "moveListEl"in e && n(10, p = e.moveListEl),
                "moveNumber"in e && n(2, m = e.moveNumber),
                "san"in e && n(3, g = e.san),
                "annotation"in e && n(4, v = e.annotation),
                "selected"in e && n(5, y = e.selected)
            }
            ,
            e.$$.update = ()=>{
                1 & e.$$.dirty && function updateNodeColorVariables(e) {
                    const t = p.querySelector(`[${Fr.ComponentIdentifier}="${h}"]`);
                    t && addCustomColor(t, e)
                }(f)
            }
            ,
            [f, h, m, g, v, y, dispatchContextMenu, handleNodeClick, function handleTouchStart(e) {
                handleNodeClick(),
                l = setTimeout((()=>{
                    dispatchContextMenu(e),
                    l = null
                }
                ), po.Constants.TouchDelay)
            }
            , function handleTouchEnd() {
                l && clearTimeout(l)
            }
            , p]
        }
        class Move_node extends I.b {
            constructor(e) {
                super(),
                (0,
                I.i)(this, e, instance$3, create_fragment$3, I.d, {
                    customColor: 0,
                    id: 1,
                    moveListEl: 10,
                    moveNumber: 2,
                    san: 3,
                    annotation: 4,
                    selected: 5
                })
            }
        }
        function createSvelteComponent({ComponentType: e, methods: t, options: n, replaceContainer: a=!0}) {
            const l = a ? function replaceContainer(e, t) {
                const n = document.createDocumentFragment()
                  , a = new e(Object.assign({}, t, {
                    target: n
                }));
                return t.target.replaceWith(n),
                a
            }(e, n) : new e(n)
              , f = {
                destroy: function destroy10() {
                    l.$destroy()
                },
                el: n.target,
                get: function get2(e) {
                    if ("string" == typeof e)
                        return l.$$.ctx[e];
                    return (0,
                    I.A)(l.$$.ctx, e)
                },
                instance: l,
                on: function on(e, t) {
                    l.$on(e, t)
                },
                set: function set3(e) {
                    l.$set(e)
                }
            };
            return t && t.length && t.forEach((e=>{
                f[e] = l[e]
            }
            )),
            f
        }
        function isNagFormat(e) {
            return Boolean(e && "$" === e.charAt(0))
        }
        !function(e) {
            var t, n;
            (t = e.Nags || (e.Nags = {})).$1 = "$1",
            t.$2 = "$2",
            t.$3 = "$3",
            t.$4 = "$4",
            t.$5 = "$5",
            t.$6 = "$6",
            t.$9 = "$9",
            t.$10 = "$10",
            t.$11 = "$11",
            t.$12 = "$12",
            t.$13 = "$13",
            t.$14 = "$14",
            t.$15 = "$15",
            t.$16 = "$16",
            t.$17 = "$17",
            t.$18 = "$18",
            t.$19 = "$19",
            t.$22 = "$22",
            t.$36 = "$36",
            t.$40 = "$40",
            t.$146 = "$146",
            t.$256 = "$256",
            (n = e.Values || (e.Values = {})).$1 = "!",
            n.$2 = "?",
            n.$3 = "!!",
            n.$4 = "??",
            n.$5 = "!?",
            n.$6 = "?!",
            n.$9 = "Ã˜",
            n.$10 = "=",
            n.$11 = "=",
            n.$12 = "=",
            n.$13 = "âˆž",
            n.$14 = "â©²",
            n.$15 = "â©±",
            n.$16 = "Â±",
            n.$17 = "âˆ“",
            n.$18 = "+-",
            n.$19 = "-+",
            n.$22 = "â¨€",
            n.$40 = "â†‘",
            n.$146 = "N",
            n.$256 = "=/âˆž"
        }(Co || (Co = {}));
        const Eo = {
            $1: "!",
            $2: "?",
            $3: "!!",
            $4: "??",
            $5: "!?",
            $6: "?!",
            $9: "Ã˜",
            $10: "=",
            $11: "=",
            $12: "=",
            $13: "âˆž",
            $14: "â©²",
            $15: "â©±",
            $16: "Â±",
            $17: "âˆ“",
            $18: "+-",
            $19: "-+",
            $22: "â¨€",
            $23: "â¨€",
            $32: "âŸ³",
            $33: "âŸ³",
            $36: "â†’",
            $37: "â†’",
            $40: "â†‘",
            $41: "â†‘",
            $44: "âˆž/=",
            $45: "=/âˆž",
            $132: "â‡†",
            $133: "â‡†",
            $146: "N",
            $256: "=/âˆž"
        }
          , Ao = {
            "??": "?\\?",
            "!?": "!\\?",
            "-+": "-\\+",
            "âˆž/=": "âˆž\\/\\=",
            "=/âˆž": "=\\/\\âˆž",
            "=": "s=",
            N: "N\\b"
        }
          , So = ["!", "?", "!!", "??", "!?", "?!", "="]
          , xo = (0,
        I.B)(Eo)
          , wo = [{
            action: io.AnnotationActions.AddAnnotation,
            code: Co.Nags.$1,
            display: Eo.$1,
            meaning: Sr.Translation.Annotations.GoodMove
        }, {
            action: io.AnnotationActions.AddAnnotation,
            code: Co.Nags.$2,
            display: Eo.$2,
            meaning: Sr.Translation.Annotations.BadMove
        }, {
            action: io.AnnotationActions.AddAnnotation,
            code: Co.Nags.$3,
            display: Eo.$3,
            meaning: Sr.Translation.Annotations.ExcellentMove
        }, {
            action: io.AnnotationActions.AddAnnotation,
            code: Co.Nags.$4,
            display: Eo.$4,
            meaning: Sr.Translation.Annotations.Blunder
        }, {
            action: io.AnnotationActions.AddAnnotation,
            code: Co.Nags.$5,
            display: Eo.$5,
            meaning: Sr.Translation.Annotations.SpeculativeMove
        }, {
            action: io.AnnotationActions.AddAnnotation,
            code: Co.Nags.$6,
            display: Eo.$6,
            meaning: Sr.Translation.Annotations.DubiousMove
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$9,
            display: Eo.$9,
            meaning: Sr.Translation.Annotations.Miss
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$10,
            display: Eo.$10,
            meaning: Sr.Translation.Annotations.Drawish
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$13,
            display: Eo.$13,
            meaning: Sr.Translation.Annotations.Unclear
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$14,
            display: Eo.$14,
            meaning: Sr.Translation.Annotations.WhiteHasSlightAdvantage
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$15,
            display: Eo.$15,
            meaning: Sr.Translation.Annotations.BlackHasSlightAdvantage
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$16,
            display: Eo.$16,
            meaning: Sr.Translation.Annotations.WhiteHasModerateAdvantage
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$17,
            display: Eo.$17,
            meaning: Sr.Translation.Annotations.BlackHasModerateAdvantage
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$18,
            display: Eo.$18,
            meaning: Sr.Translation.Annotations.WhiteHasDecisiveAdvantage
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$19,
            display: Eo.$19,
            meaning: Sr.Translation.Annotations.BlackHasDecisiveAdvantage
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$22,
            display: Eo.$22,
            meaning: Sr.Translation.Annotations.PositionInZuqZwang
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$36,
            display: Eo.$36,
            meaning: Sr.Translation.Annotations.WithInitiative
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$40,
            display: Eo.$40,
            meaning: Sr.Translation.Annotations.WithCompensation
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$146,
            display: Eo.$146,
            meaning: Sr.Translation.Annotations.Novelty
        }, {
            action: io.AnnotationActions.AddAdditionalAnnotation,
            code: Co.Nags.$256,
            display: Eo.$256,
            meaning: Sr.Translation.Annotations.WithAttack
        }];
        function normalizeAnnotation(e) {
            return e && (Object.prototype.hasOwnProperty.call(Eo, e) || Object.prototype.hasOwnProperty.call(xo, e)) ? isNagFormat(e) ? Eo[e] : normalizeAnnotation(xo[e]) : e || ""
        }
        function generateAnnotationString(e) {
            let t = "";
            return e.annotation && (t = `${t}${normalizeAnnotation(e.annotation)}`),
            e.additionalAnnotation && e.additionalAnnotation[0] && (t = `${t}&nbsp;${normalizeAnnotation(e.additionalAnnotation[0])}`),
            t
        }
        function getNodeDisplayNumber({node: e, previous: t, startingMoveNumber: n=1}) {
            let a = "";
            if (!e)
                return a;
            const l = function getMoveNumber$1({color: e, ply: t, startingMoveNumber: n=1}) {
                let a;
                return a = e === Xn.ColorsAsNumbers.White ? Math.ceil(t / 2 + 1) : Math.floor(t / 2 + 1),
                a + (n - 1)
            }({
                color: e.color,
                ply: e.moveNumber,
                startingMoveNumber: n
            });
            return function shouldShowDisplayNumber(e, t) {
                return Boolean(e.color === Xn.ColorsAsNumbers.White || e.ids && 0 === e.ids.move || t && "string" == typeof t.comment || t && t.lines && t.lines.length)
            }(e, t) && (a += `${l}.`,
            function shouldShowEllipsisOnBlackMoveNumber(e, t) {
                return Boolean(e.color === Xn.ColorsAsNumbers.Black && (t && "string" == typeof t.comment || t && t.lines && t.lines.length || e.ids && 0 === e.ids.move))
            }(e, t) && (a += "..")),
            a
        }
        const Po = {
            [lo.Keys.MoveNumber]: function touchMoveNumber({game: e, node: t}) {
                return getNodeDisplayNumber({
                    node: t,
                    previous: (null == t ? void 0 : t.previous) ? e.getNodeByIds(t.previous) : void 0,
                    startingMoveNumber: e.getStartingMoveNumber()
                })
            },
            [lo.Keys.Annotation]: function touchAnnotations({node: e}) {
                return generateAnnotationString(e)
            },
            [lo.Keys.CustomColor]: function touchCustomColor({node: e}) {
                return e.customColor
            },
            [lo.Keys.San]: function touchSan({moveList: e, node: t, translations: n}) {
                return formatText({
                    color: getColorAsWord(null == t ? void 0 : t.color),
                    moveListDisplayType: e.getOptions().moveListDisplayType,
                    san: null == t ? void 0 : t.san,
                    translations: n
                })
            }
        };
        function createMoveNode({moveList: e, game: t, node: n, options: a, emitter: l, translations: f}) {
            if (isLine(n))
                throw new ChessError({
                    code: go.BadData,
                    data: n,
                    message: "Invalid move ids."
                });
            const h = function createMoveNodeComponent(e, {anchor: t, props: n}) {
                return createSvelteComponent({
                    ComponentType: Move_node,
                    options: {
                        anchor: t,
                        props: n,
                        target: e
                    },
                    replaceContainer: !1
                })
            }(a.target, {
                anchor: a.anchor,
                props: {
                    annotation: generateAnnotationString(n),
                    id: getId(),
                    moveListEl: e.dom.getElement(),
                    moveNumber: Po[lo.Keys.MoveNumber](createTouchContext()),
                    san: Po[lo.Keys.San](createTouchContext()),
                    selected: !1
                }
            })
              , p = {
                addNodeStyles: function addNodeStyles(e) {
                    const t = getElement();
                    e && Object.assign(t.style, e)
                },
                destroy: h.destroy,
                getElement: getElement,
                getId: getId,
                getNodeData: getNodeData,
                ids: n.ids,
                insertBeforeNode: function insertBeforeNode(e) {
                    const t = getElement();
                    t.parentNode && t.parentNode.insertBefore(e, t)
                },
                insertAfterNode: function insertAfterNode(t) {
                    const n = e.dom.getElement()
                      , a = getElement();
                    a.nextElementSibling ? n.insertBefore(t, a.nextElementSibling) : n.appendChild(t)
                },
                removeNodeStyles: function removeNodeStyles() {
                    getElement().removeAttribute("style")
                },
                set: h.set,
                touch: function touch(e) {
                    h.set({
                        [e]: Po[e](createTouchContext())
                    })
                },
                touchNextNode: function touchNextNode(t=[lo.TouchableKeys.MoveNumber]) {
                    const a = e.api.getMoveNode({
                        line: n.ids.line,
                        move: n.ids.move + 1
                    });
                    a && t.forEach((e=>a.touch(e)))
                }
            };
            return function registerComponentListeners() {
                h.on(po.Events.Click, (function selectNode2() {
                    e.api.getOptions().enabled && t.selectNode(n.ids.line, n.ids.move)
                }
                )),
                h.on(po.Events.OpenContextMenu, (function emitContextMenuOpen() {
                    e.api.getOptions().moveListContextMenuEnabled && (t.selectNode(n.ids.line, n.ids.move),
                    l.emit(po.Events.OpenContextMenu, {
                        node: n
                    }))
                }
                ))
            }(),
            p;
            function createTouchContext() {
                return {
                    game: {
                        getNodeByIds: t.getNodeByIds,
                        getStartingMoveNumber: t.getStartingMoveNumber
                    },
                    moveList: {
                        getOptions: e.api.getOptions
                    },
                    node: getNodeData(),
                    translations: f
                }
            }
            function getElement() {
                var t;
                const a = e.dom.getElement()
                  , l = `[${Fr.ComponentIdentifier}="${getId()}"]`
                  , f = null != (t = a.querySelector(l)) ? t : h.el.querySelector(l);
                if (!f)
                    throw new ChessError({
                        code: go.ElementNotFound,
                        data: n.ids,
                        message: `Move node element was not found for ${n.ids.line}-${n.ids.move}.`
                    });
                return f
            }
            function getId() {
                const e = n.ids;
                return `move-node-${e.line}-${e.move}`
            }
            function getNodeData() {
                return t.getNodeByIds(n.ids)
            }
        }
        function createAddNodeMethod(e) {
            return function addNode(t, n) {
                var a;
                const {game: l, getComponent: f, state: h, stateMachine: p, translations: m} = e
                  , g = t.ids;
                return void 0 === h.nodes[g.line] && (h.nodes[g.line] = {}),
                void 0 !== h.nodes[g.line][g.move] && h.nodes[g.line][g.move].destroy(),
                h.nodes[g.line][g.move] = createMoveNode({
                    emitter: p,
                    game: l,
                    moveList: null != (a = f()) ? a : e.el,
                    node: t,
                    options: n,
                    translations: m
                }),
                h.nodes[g.line][g.move]
            }
        }
        function disableContextMenu(e) {
            e.preventDefault()
        }
        function createDestroyMethod(e) {
            return function destroy10() {
                const {dom: t, el: n, queue: a} = e;
                n.classList.remove(Fr.ClassNames.Component),
                n.removeEventListener("contextmenu", disableContextMenu),
                t.reset(),
                a.clear()
            }
        }
        function stripHTMLTags(e, t) {
            if (t) {
                const t = ["br"]
                  , n = t.map((e=>`\\/${e}`))
                  , a = t.concat(n).join("|")
                  , l = new RegExp(`<(?!${a}s*/?)[^>]+>`,"g");
                return e.replace(l, "")
            }
            return e.replace(/<\/?[^>]+(>|$)/g, "")
        }
        function cleanCommentString(e) {
            let t;
            return t = function decodeHTMLEntities(e) {
                const t = document.createElement("textarea");
                return t.innerHTML = e.replace(/&nbsp;/g, " "),
                t.value
            }(stripHTMLTags(e)),
            " " === t && (t = ""),
            t
        }
        function create_fragment$2(e) {
            let t, n, a, l, f;
            return {
                c() {
                    t = (0,
                    I.f)("span"),
                    n = (0,
                    I.h)(e[2]),
                    (0,
                    I.j)(t, "class", (0,
                    I.n)(Zr.Classes.Component) + " svelte-17mydln"),
                    (0,
                    I.j)(t, "contenteditable", "true"),
                    (0,
                    I.j)(t, "placeholder", a = e[0]["Add Comment..."]())
                },
                m(a, h) {
                    (0,
                    I.k)(a, t, h),
                    (0,
                    I.m)(t, n),
                    e[7](t),
                    l || (f = [(0,
                    I.w)(t, "focusin", e[3]), (0,
                    I.w)(t, "focusout", e[4]), (0,
                    I.w)(t, "input", e[5])],
                    l = !0)
                },
                p(e, [l]) {
                    4 & l && (0,
                    I.o)(n, e[2]),
                    1 & l && a !== (a = e[0]["Add Comment..."]()) && (0,
                    I.j)(t, "placeholder", a)
                },
                i: I.x,
                o: I.x,
                d(n) {
                    n && (0,
                    I.q)(t),
                    e[7](null),
                    l = !1,
                    (0,
                    I.y)(f)
                }
            }
        }
        function instance$2(e, t, n) {
            let a;
            const l = (0,
            I.z)();
            let f, {comment: h=""} = t, {translations: p} = t;
            return (0,
            I.C)((()=>{
                f.focus()
            }
            )),
            e.$$set = e=>{
                "comment"in e && n(6, h = e.comment),
                "translations"in e && n(0, p = e.translations)
            }
            ,
            e.$$.update = ()=>{
                64 & e.$$.dirty && n(2, a = h || "")
            }
            ,
            [p, f, a, function selectCommentText() {
                h && document.execCommand("selectAll", !1, null)
            }
            , function handleFocusOut() {
                l(Zr.Events.FocusOut, f.innerHTML)
            }
            , function handleInput() {
                l(Zr.Events.CommentChanged, f.innerHTML)
            }
            , h, function span_binding(e) {
                I.D[e ? "unshift" : "push"]((()=>{
                    f = e,
                    n(1, f)
                }
                ))
            }
            ]
        }
        class Editable_comment extends I.b {
            constructor(e) {
                super(),
                (0,
                I.i)(this, e, instance$2, create_fragment$2, I.d, {
                    comment: 6,
                    translations: 0
                })
            }
        }
        function getLineEditableCommentConfig(e, {moveList: t, api: n}) {
            let a, l;
            l = 0 === e.id ? t.dom.getElement() : getLineElement(e.id, t.dom.getElement());
            const f = t.api.getMoveNode({
                line: e.id,
                move: 0
            });
            return f && (a = f.getElement()),
            {
                anchor: a,
                comment: e.initComment,
                element: l,
                handler: function saveComment(a, l) {
                    !function updateLineComment(e, {api: t, comment: n, moveList: a, noUIUpdates: l}) {
                        t.updateLineComment("string" == typeof n && n.length > 0 ? n : void 0, e.id),
                        !l && e.initComment && (0 === e.id ? a.dom.getElement() : getLineElement(e.id, a.dom.getElement())).prepend(a.dom.addComment(e))
                    }(e, {
                        api: n,
                        comment: a,
                        moveList: t,
                        noUIUpdates: l
                    })
                }
            }
        }
        function createInsertEditableCommentMethod(e) {
            return function insertEditableComment(t) {
                const {dom: n, game: a, getComponent: l, translations: f} = e;
                let h, p;
                if (isNode(t))
                    h = function getNodeEditableCommentConfig(e, {moveList: t, api: n}) {
                        const a = t.api.getMoveNode(e.ids);
                        if (!a)
                            throw new ChessError({
                                code: go.ElementNotFound,
                                data: e,
                                message: "No move node found."
                            });
                        return {
                            comment: e.comment,
                            element: a.getElement(),
                            handler: function saveComment(e, l) {
                                !function updateNodeComment(e, {api: t, comment: n, moveList: a, noUIUpdates: l}) {
                                    t.updateNode(e.ids, {
                                        comment: "string" == typeof n && n.length > 0 ? n : void 0
                                    }),
                                    l || (e.getNodeData().comment && e.getElement().appendChild(a.dom.addComment(e.getNodeData())),
                                    e.touchNextNode())
                                }(a, {
                                    api: n,
                                    comment: e,
                                    moveList: t,
                                    noUIUpdates: l
                                })
                            }
                        }
                    }(t, {
                        api: a,
                        moveList: l()
                    });
                else {
                    if (!isLine(t))
                        throw new ChessError({
                            code: go.BadData,
                            data: t,
                            message: "No line or node found"
                        });
                    h = getLineEditableCommentConfig(t, {
                        api: a,
                        moveList: l()
                    })
                }
                n.removeEditableComment(),
                e.editableCommentComponent = function createEditableCommentComponent(e, {anchor: t, props: n}) {
                    return createSvelteComponent({
                        ComponentType: Editable_comment,
                        options: {
                            anchor: t,
                            props: n,
                            target: e
                        },
                        replaceContainer: !1
                    })
                }(h.element, {
                    anchor: h.anchor,
                    props: {
                        comment: h.comment,
                        translations: f
                    }
                }),
                e.editableCommentComponent.on(Zr.Events.CommentChanged, (function handleCommentChange({detail: e}) {
                    clearTimeout(p),
                    p = window.setTimeout((()=>{
                        !function saveComment(e="") {
                            const t = cleanCommentString(e);
                            h.handler(t, !0)
                        }(e)
                    }
                    ), Zr.Constants.CommentUpdateDelay)
                }
                )),
                e.editableCommentComponent.on(Zr.Events.FocusOut, (function saveAndDestroy({detail: t}) {
                    clearTimeout(p);
                    const n = cleanCommentString(t);
                    h.handler(n),
                    e.dom.removeEditableComment()
                }
                ))
            }
        }
        var To, Mo, ko, Io;
        function getCommentElementId(e) {
            if (isLine(e))
                return `line-comment-${e.id}`;
            if (isNode(e))
                return `move-node-comment-${e.ids.line}-${e.ids.move}`;
            throw new ChessError({
                code: go.BadData,
                data: e,
                message: "No line or node found"
            })
        }
        function convertCommentNagsToAnnotation(e) {
            return e.split(" ").map((e=>isNagFormat(e) ? normalizeAnnotation(e) : e)).join(" ")
        }
        function createAddCommentMethod(e) {
            return function addComment(t, n=!0, a) {
                const {dom: l, options: f, state: h, stateMachine: p} = e
                  , m = Boolean("isCommentEnabled"in t ? t.isCommentEnabled : n)
                  , g = function createCommentComponent({commentLinkData: e, lineOrNode: t, context: n}) {
                    const a = getCommentElementId(t);
                    let l, f, h, p = !1;
                    if (isLine(t))
                        l = convertCommentNagsToAnnotation(t.initComment),
                        h = {
                            line: t.id,
                            move: 0
                        };
                    else {
                        if (!isNode(t))
                            throw new ChessError({
                                code: go.BadData,
                                data: t,
                                message: "No line or node found"
                            });
                        l = t.comment ? convertCommentNagsToAnnotation(t.comment) : t.comment,
                        h = t.ids
                    }
                    return function createElement() {
                        var t;
                        const h = e ? "a" : "span";
                        f = document.createElement(h),
                        f.setAttribute(Fr.ComponentIdentifier, a),
                        f.innerHTML = stripHTMLTags((null != (t = null == e ? void 0 : e.text) ? t : l) || "", !0),
                        f.classList.add(po.Classes.Comment, po.Classes.StaticComment),
                        e && (f.setAttribute("href", e.href),
                        f.setAttribute("target", "_blank")),
                        n.editingEnabled && !e && registerClickListeners()
                    }(),
                    {
                        deregisterClickListeners: deregisterClickListeners,
                        destroy: destroy10,
                        getElement: ()=>f,
                        getId: ()=>a,
                        registerClickListeners: registerClickListeners
                    };
                    function destroy10() {
                        deregisterClickListeners(),
                        n.removeCommentFromMoveList(a)
                    }
                    function registerClickListeners() {
                        p || (f.addEventListener("click", handleCommentClick, {
                            once: !0
                        }),
                        f.addEventListener("contextmenu", handleContextMenuClick),
                        p = !0)
                    }
                    function deregisterClickListeners() {
                        f.removeEventListener("click", handleCommentClick),
                        f.removeEventListener("contextmenu", handleContextMenuClick),
                        p = !1
                    }
                    function handleCommentClick() {
                        destroy10(),
                        n.emitter.emit(To.Events.Click, t)
                    }
                    function handleContextMenuClick(e) {
                        e.preventDefault(),
                        n.emitter.emit(po.Events.OpenContextMenu, {
                            node: {
                                ids: h
                            }
                        })
                    }
                }({
                    commentLinkData: null != a ? a : null,
                    lineOrNode: t,
                    context: {
                        editingEnabled: f.moveListContextMenuEnabled && m,
                        emitter: p,
                        removeCommentFromMoveList() {
                            l.removeComment(t)
                        }
                    }
                });
                return h.comments[g.getId()] && l.removeComment(t),
                h.comments[g.getId()] = g,
                g.getElement()
            }
        }
        function isMainLine(e) {
            return 0 === e
        }
        function createInsertNodeMethod(e) {
            return function insertNode2({node: t, nodeToInsertAfter: n}) {
                const {dom: a, el: l, placeholders: f} = e
                  , h = f[Fr.Placeholders.Moves]
                  , p = isMainLine(t.ids.line) ? h : void 0;
                let m = l;
                if (n) {
                    const e = n.getElement();
                    if (!e)
                        throw new ChessError({
                            code: go.ElementNotFound,
                            message: "Node element does not exist."
                        });
                    m = e.parentNode
                }
                a.addNode(t, {
                    anchor: p,
                    target: m
                })
            }
        }
        function createLineElement(e, ...t) {
            const n = document.createElement("span");
            return n.setAttribute(Fr.ComponentIdentifier, `line-${e}`),
            n.classList.add(...t),
            n
        }
        function createInsertVariationMethod(e) {
            return function insertVariation({node: t}) {
                const {api: n, dom: a, el: l, game: f} = e
                  , h = t.ids
                  , p = f.getRawLines()[h.line]
                  , m = {
                    line: p.parentId,
                    move: p.atMoveNode
                }
                  , g = n.getMoveNode({
                    line: m.line,
                    move: m.move + 1
                })
                  , v = f.getNodeByIds(m);
                if (!v || isLine(v))
                    throw new ChessError({
                        code: go.ElementNotFound,
                        message: "Anchor node element for variation not found."
                    });
                let y = l;
                const b = createLineElement(p.id, Fr.ClassNames.Variation);
                if (0 === v.ids.line && b.classList.add(Fr.ClassNames.MainLine),
                a.addNode(t, {
                    target: b
                }),
                v.lines && v.lines.length > 1)
                    y = getLineElement(v.lines[v.lines.length - 2], l);
                else {
                    const e = n.getMoveNode(v.ids);
                    e && (y = e.getElement())
                }
                y && y.after(b),
                void 0 !== g && g.touch(lo.TouchableKeys.MoveNumber)
            }
        }
        function getVariations(e, t) {
            return t.lines ? t.lines.reduce(((t,n)=>(t.push(e[n]),
            t)), []) : []
        }
        function createLineVariationElements({api: e, depth: t, parentLineEl: n, lines: a, line: l}) {
            let f;
            f = 1 === t ? document.createDocumentFragment() : createLineElement(l.id, Fr.ClassNames.Variation),
            l.initComment && f.appendChild(e.addComment(l)),
            l.forEach((n=>{
                const l = e.addNode(n, {
                    target: f
                });
                n.comment && l.getElement().appendChild(e.addComment(n)),
                n.lines && getVariations(a, n).forEach((n=>{
                    createLineVariationElements({
                        api: e,
                        depth: t + 1,
                        line: n,
                        lines: a,
                        parentLineEl: f
                    })
                }
                ))
            }
            )),
            n.appendChild(f)
        }
        function createLoadMethod(e) {
            return function load3() {
                const {api: t, dom: n, el: a, game: l, placeholders: f} = e
                  , h = f[Fr.Placeholders.Moves];
                n.reset();
                const p = l.getRawLines();
                p[0].initComment && a.insertBefore(n.addComment(p[0]), h),
                p[0].forEach((e=>{
                    var t, f;
                    const m = n.addNode(e, {
                        anchor: h,
                        target: a
                    });
                    if (e.comment && m.getElement().appendChild(n.addComment(e)),
                    (null == (t = e.commands) ? void 0 : t.text) && (null == (f = e.commands) ? void 0 : f.href)) {
                        const {text: t, href: n} = e.commands;
                        l.hml.addCommentLink({
                            node: e,
                            text: t,
                            href: n
                        })
                    }
                    e.lines && getVariations(p, e).forEach((e=>{
                        const t = createLineElement(e.id, Fr.ClassNames.Variation, Fr.ClassNames.MainLine);
                        createLineVariationElements({
                            api: {
                                addComment: n.addComment,
                                addNode: n.addNode
                            },
                            depth: 1,
                            line: e,
                            lines: p,
                            parentLineEl: t
                        }),
                        a.insertBefore(t, h)
                    }
                    ))
                }
                ));
                const m = l.getSelectedNode();
                m && t.selectNode(m.ids),
                function restoreCustomColorsData({dom: e, game: t}) {
                    t.getRawLines().forEach((n=>{
                        n.forEach((n=>{
                            const a = t.getNodeByIds(n.ids);
                            if (!isNode(a))
                                return;
                            const l = a.customColor;
                            l && e.updateMoveNodeComponent(n.ids, {
                                customColor: l
                            })
                        }
                        ))
                    }
                    ))
                }(e),
                e.state.nodeLimit && e.game.hml.updateNodeLimits(e.state.nodeLimit)
            }
        }
        function createRemoveCommentMethod(e) {
            return function removeComment(t) {
                const {state: n} = e
                  , a = getCommentElementId(t)
                  , l = e.el;
                n.comments[a] && (!function removeCommentElement(e, t) {
                    const n = t.querySelector(`[${Fr.ComponentIdentifier}="${getCommentElementId(e)}"`);
                    n && n.parentNode && n.parentNode.removeChild(n)
                }(t, l),
                delete n.comments[a])
            }
        }
        function createRemoveEditableCommentMethod(e) {
            return function removeEditableComment() {
                if (void 0 !== e.editableCommentComponent) {
                    try {
                        e.editableCommentComponent.destroy()
                    } catch (t) {}
                    e.editableCommentComponent = void 0
                }
            }
        }
        function createRemoveLineMethod(e) {
            return function removeLine(t) {
                const {api: n, dom: a, el: l, state: f} = e
                  , h = t.id;
                if (void 0 === f.nodes[h])
                    throw new ChessError({
                        code: go.BadData,
                        data: t,
                        message: `No line with id ${h} found`
                    });
                f.nodes[h][0] && a.removeNode({
                    line: h,
                    move: 0
                });
                const p = getLineElement(h, l);
                let m;
                p && p.parentNode.removeChild(p),
                delete f.nodes[h],
                void 0 !== t.atMoveNode && void 0 !== t.parentId && (m = n.getMoveNode({
                    line: t.parentId,
                    move: t.atMoveNode + 1
                })),
                m && m.touch(lo.TouchableKeys.MoveNumber)
            }
        }
        function createRemoveNodeMethod(e) {
            return function removeNode2({line: t, move: n}) {
                const {api: a, state: l} = e
                  , f = a.getMoveNode({
                    line: t,
                    move: n
                });
                if (!f)
                    return;
                const h = Object.keys(l.nodes[f.ids.line]).length - 1;
                if (l.nodes[f.ids.line][f.ids.move] !== l.nodes[f.ids.line][h])
                    for (let e = h; e > f.ids.move; e--)
                        l.nodes[f.ids.line][e].destroy(),
                        delete l.nodes[f.ids.line][e];
                f.destroy(),
                delete l.nodes[f.ids.line][f.ids.move],
                function removeOrphanedElements({el: e, game: t, state: n}) {
                    const a = t.getRawLines();
                    Object.keys(n.nodes).forEach((t=>{
                        var l;
                        a[t] || (Object.values(n.nodes[t]).forEach((e=>e.destroy())),
                        null == (l = getLineElement(Number(t), e)) || l.remove(),
                        delete n.nodes[t])
                    }
                    ))
                }(e);
                const p = a.getMoveNode({
                    line: f.ids.line,
                    move: f.ids.move + 1
                });
                p && p.touch(lo.TouchableKeys.MoveNumber)
            }
        }
        function createResetMethod(e) {
            return function reset2() {
                const {dom: t, el: n, state: a, placeholders: l} = e;
                t.removeEditableComment(),
                n.innerHTML = "",
                a.comments = {},
                a.nodes = {},
                a.selectedNode = void 0,
                n.appendChild(l[Fr.Placeholders.Moves]),
                n.appendChild(l[Fr.Placeholders.GameResult])
            }
        }
        function createSetResultNodeMethod(e) {
            return function setResultNode(t) {
                var n;
                const {el: a} = e
                  , l = a.querySelector(`.${po.Classes.GameResultNode}`)
                  , f = e.placeholders[Fr.Placeholders.GameResult];
                if (l && (null == (n = l.parentElement) || n.removeChild(l)),
                t === Xn.Results.None)
                    return;
                const h = document.createElement("span");
                h.classList.add(po.Classes.GameResultNode),
                h.innerText = t,
                a.insertBefore(h, f)
            }
        }
        function createUpdateLineComponent(e) {
            return function updateLineComponent(t, n) {
                var a;
                const {dom: l, game: f} = e
                  , h = f.getLine(t);
                if (!h)
                    return;
                const {initComment: p} = n;
                if (void 0 !== p) {
                    const t = 0 === h.id ? null != (a = null == l ? void 0 : l.getElement()) ? a : e.el : getLineElement(h.id, e.el);
                    null == t || t.prepend(l.addComment(h))
                }
            }
        }
        function createUpdateMoveNodeComponent(e) {
            return function updateMoveNodeComponent(t, n) {
                const {api: a, dom: l, game: f} = e
                  , h = f.getNodeByIds(t)
                  , p = a.getMoveNode(t);
                if (!h || isLine(h) || !p)
                    return;
                const m = null == p ? void 0 : p.getElement()
                  , g = []
                  , {additionalAnnotation: v, annotation: y, comment: b, customColor: _, isCommentEnabled: C} = n;
                if (void 0 === v && void 0 === y || g.push(lo.TouchableKeys.Annotation),
                void 0 !== b)
                    if ("" === b)
                        l.removeComment(h);
                    else {
                        const e = p.getNodeData()
                          , t = l.addComment(e, null == C || C);
                        m.appendChild(t)
                    }
                void 0 !== _ && g.push(lo.TouchableKeys.CustomColor),
                g.forEach((e=>p.touch(e)))
            }
        }
        function createPluginsAPI(e=[], t, n=(0,
        I.a)()) {
            const a = new Map;
            let l = t;
            return addMany(e),
            __spreadProps(__spreadValues({
                add: addPlugin,
                addMany: addMany,
                destroy: function destroy10() {
                    a.forEach((e=>remove(e.name)))
                }
            }, n), {
                getAll: function getAll() {
                    return [...a.values()]
                },
                getContext: function getContext() {
                    return l
                },
                getOne: function getOne(e) {
                    return a.get(e)
                },
                has: a.has.bind(a),
                remove: remove,
                setContext: function setContext(e) {
                    l = e,
                    n.emit(ko.Events.ContextSet, l)
                }
            });
            function addPlugin(e) {
                var t;
                return !!e.name && (a.has(e.name) && remove(e.name),
                a.set(e.name, e),
                null == (t = e.create) || t.call(e, l),
                n.emit(ko.Events.PluginAdded, e),
                !0)
            }
            function addMany(e) {
                if (!e || 0 === e.length)
                    return !1;
                return (Array.isArray(e) ? e : [e]).reduce((function pluginsAddedSuccessfully(e, t) {
                    return addPlugin(t) || (e = !1),
                    e
                }
                ), !0)
            }
            function remove(e) {
                var t;
                const f = a.get(e);
                return !!f && (null == (t = f.destroy) || t.call(f, l),
                a.delete(e),
                n.emit(ko.Events.PluginRemoved, f),
                !0)
            }
        }
        function createHMLPluginsAPI(e, t) {
            return function withAPI(e, t, n) {
                const a = function createExtendAPI$1(e, t) {
                    return function extendAPI(n, a) {
                        const l = e[n];
                        return e[n] = a(t),
                        function destroyOverride() {
                            var t, a;
                            null == (a = (t = e[n]).destroy) || a.call(t),
                            e[n] = l
                        }
                    }
                }(t, n)
                  , l = new Map;
                return e.on(ko.Events.PluginAdded, (function pluginAddedEventHandler(e) {
                    if (e.api) {
                        const t = a(e.name, e.api);
                        t && l.set(e.name, t)
                    }
                }
                )),
                e.on(ko.Events.PluginRemoved, (function pluginRemovedEventHandler(e) {
                    const t = l.get(e.name);
                    null == t || t(),
                    l.delete(e.name)
                }
                )),
                e
            }(createPluginsAPI([], t), e, t)
        }
        function createHorizontalMoveList({el: e, game: t, nodeLimit: n, options: a, plugins: l=[createContextMenuPlugin()], stateMachineListeners: f, stateMachine: h, queue: p, placeholders: m, scrollContainer: g, translations: v=Dr}) {
            const y = {}
              , b = {
                api: y,
                contextMenuActions: _o,
                dom: {
                    getElement: ()=>e
                },
                editableCommentComponent: void 0,
                el: e,
                game: t,
                getComponent: function getComponent() {
                    return S
                },
                options: a,
                queue: p,
                placeholders: m,
                scrollContainer: g,
                state: {
                    comments: {},
                    nodes: {},
                    nodeLimit: n,
                    selectedNode: void 0
                },
                stateMachine: h,
                stateMachineListeners: f,
                translations: v
            }
              , {dom: _, game: C} = b
              , A = createHMLPluginsAPI(C.hml, b);
            A.addMany(l),
            Object.assign(y, __spreadValues({}, function createHMLComponentAPI(e) {
                return {
                    getComments: ()=>e.state.comments,
                    getContext: ()=>e,
                    getContextMenuActions: createGetContextMenuActions(e),
                    getMoveNode: createGetMoveNodeMethod(e),
                    getNodes: ()=>e.state.nodes,
                    getOptions: ()=>e.options,
                    getSelectedNode: ()=>e.state.selectedNode,
                    resetSelectedNode: createResetSelectedNode(e),
                    selectLineStart: createSelectLineStart$1(e),
                    selectNode: createSelectNodeMethod(e),
                    setOptions: createSetOptionsMethod(e)
                }
            }(b))),
            Object.assign(_, __spreadValues({}, function createHMLDOMService(e) {
                const {el: t, placeholders: n} = e;
                return t.classList.add(Fr.ClassNames.Component),
                t.addEventListener("contextmenu", disableContextMenu),
                t.appendChild(n[Fr.Placeholders.Moves]),
                t.appendChild(n[Fr.Placeholders.GameResult]),
                {
                    addComment: createAddCommentMethod(e),
                    addNode: createAddNodeMethod(e),
                    destroy: createDestroyMethod(e),
                    getElement: ()=>t,
                    insertEditableComment: createInsertEditableCommentMethod(e),
                    insertNode: createInsertNodeMethod(e),
                    insertVariation: createInsertVariationMethod(e),
                    load: createLoadMethod(e),
                    removeComment: createRemoveCommentMethod(e),
                    removeEditableComment: createRemoveEditableCommentMethod(e),
                    removeLine: createRemoveLineMethod(e),
                    removeNode: createRemoveNodeMethod(e),
                    reset: createResetMethod(e),
                    setResultNode: createSetResultNodeMethod(e),
                    setScrollContainer: t=>e.scrollContainer = t,
                    updateLineComponent: createUpdateLineComponent(e),
                    updateMoveNodeComponent: createUpdateMoveNodeComponent(e)
                }
            }(b))),
            C.extendAPI(Ne.Plugin.Name, {
                addContextMenuActions: ()=>function createAddContextMenuActions(e) {
                    return function addContextMenuActions(t) {
                        Object.keys(t).forEach((n=>{
                            e.contextMenuActions[n] = t[n]
                        }
                        ))
                    }
                }(b)
            });
            const S = {
                api: y,
                destroy: function destroy10() {
                    A.destroy()
                },
                dom: _,
                plugins: A
            };
            return S
        }
        function initializeMoveList({context: e, coreContext: t}) {
            var n, a;
            const {el: l, nodeLimit: f, scrollContainer: h, translations: p} = e
              , {api: m} = t
              , g = m.getOptions();
            null == (a = null == (n = e.moveList) ? void 0 : n.destroy) || a.call(n),
            e.methods.destroy(),
            e.stateMachineListeners.push([To.Events.Click, e.methods.handleCommentClick]),
            e.stateMachine.on(To.Events.Click, e.methods.handleCommentClick),
            e.moveList = createHorizontalMoveList({
                el: l,
                game: m,
                nodeLimit: f,
                options: {
                    enabled: g.enabled,
                    moveListContextMenuEnabled: g.moveListContextMenuEnabled,
                    moveListDisplayType: g.moveListDisplayType
                },
                queue: e.queue,
                placeholders: e.placeholders,
                scrollContainer: h,
                stateMachine: e.stateMachine,
                stateMachineListeners: e.stateMachineListeners,
                translations: p
            }),
            e.moveList.dom.load(),
            e.moveList.dom.setResultNode(m.getResult())
        }
        (function(e) {
            e.Click = "click"
        }
        )((Mo = To || (To = {})).Events || (Mo.Events = {})),
        function(e) {
            e.PluginAdded = "PluginAdded",
            e.PluginRemoved = "PluginRemoved",
            e.ContextSet = "ContextSet"
        }((Io = ko || (ko = {})).Events || (Io.Events = {}));
        function get_each_context$1(e, t, n) {
            const a = e.slice();
            return a[9] = t[n],
            a
        }
        function get_each_context_1(e, t, n) {
            const a = e.slice();
            return a[12] = t[n],
            a
        }
        function create_each_block_1(e) {
            let t, n, a, l, f, h = (e[1][e[12].name] ? e[1][e[12].name]() : e[12].name) + "";
            function click_handler(...t) {
                return e[6](e[12], ...t)
            }
            return {
                c() {
                    t = (0,
                    I.f)("span"),
                    n = (0,
                    I.h)(h),
                    (0,
                    I.j)(t, "class", a = (0,
                    I.n)(uo.Classes.ActionName) + " svelte-1hoe0fe")
                },
                m(e, a) {
                    (0,
                    I.k)(e, t, a),
                    (0,
                    I.m)(t, n),
                    l || (f = (0,
                    I.w)(t, "click", click_handler),
                    l = !0)
                },
                p(t, a) {
                    e = t,
                    3 & a && h !== (h = (e[1][e[12].name] ? e[1][e[12].name]() : e[12].name) + "") && (0,
                    I.o)(n, h)
                },
                d(e) {
                    e && (0,
                    I.q)(t),
                    l = !1,
                    f()
                }
            }
        }
        function create_each_block$1(e) {
            let t, n, a, l, f, h, p, m = e[9].display + "";
            function click_handler_1() {
                return e[7](e[9])
            }
            return {
                c() {
                    t = (0,
                    I.f)("span"),
                    n = (0,
                    I.h)(m),
                    a = (0,
                    I.r)(),
                    (0,
                    I.j)(t, "alt", l = e[1][e[9].meaning]()),
                    (0,
                    I.j)(t, "class", f = (0,
                    I.n)(uo.Classes.Annotation) + " svelte-1hoe0fe")
                },
                m(e, l) {
                    (0,
                    I.k)(e, t, l),
                    (0,
                    I.m)(t, n),
                    (0,
                    I.m)(t, a),
                    h || (p = (0,
                    I.w)(t, "click", click_handler_1),
                    h = !0)
                },
                p(n, a) {
                    e = n,
                    2 & a && l !== (l = e[1][e[9].meaning]()) && (0,
                    I.j)(t, "alt", l)
                },
                d(e) {
                    e && (0,
                    I.q)(t),
                    h = !1,
                    p()
                }
            }
        }
        function create_fragment$1(e) {
            let t, n, a, l, f, h, p, m, g = e[0], v = [];
            for (let _ = 0; _ < g.length; _ += 1)
                v[_] = create_each_block_1(get_each_context_1(e, g, _));
            let y = wo
              , b = [];
            for (let _ = 0; _ < y.length; _ += 1)
                b[_] = create_each_block$1(get_each_context$1(e, y, _));
            return {
                c() {
                    t = (0,
                    I.f)("div");
                    for (let e = 0; e < v.length; e += 1)
                        v[e].c();
                    n = (0,
                    I.r)(),
                    a = (0,
                    I.f)("div"),
                    l = (0,
                    I.r)(),
                    f = (0,
                    I.f)("div");
                    for (let e = 0; e < b.length; e += 1)
                        b[e].c();
                    h = (0,
                    I.r)(),
                    (0,
                    I.j)(a, "class", (0,
                    I.n)(uo.Classes.Divider) + " svelte-1hoe0fe"),
                    (0,
                    I.j)(f, "class", (0,
                    I.n)(uo.Classes.AnnotationsContainer) + " svelte-1hoe0fe"),
                    (0,
                    I.j)(t, "class", (0,
                    I.n)(uo.Classes.Component) + " svelte-1hoe0fe")
                },
                m(g, y) {
                    (0,
                    I.k)(g, t, y);
                    for (let e = 0; e < v.length; e += 1)
                        v[e].m(t, null);
                    (0,
                    I.m)(t, n),
                    (0,
                    I.m)(t, a),
                    (0,
                    I.m)(t, l),
                    (0,
                    I.m)(t, f);
                    for (let e = 0; e < b.length; e += 1)
                        b[e].m(f, null);
                    (0,
                    I.m)(t, h),
                    e[8](t),
                    p || (m = (0,
                    I.w)(document.body, "click", e[4]),
                    p = !0)
                },
                p(e, [a]) {
                    if (11 & a) {
                        let l;
                        for (g = e[0],
                        l = 0; l < g.length; l += 1) {
                            const f = get_each_context_1(e, g, l);
                            v[l] ? v[l].p(f, a) : (v[l] = create_each_block_1(f),
                            v[l].c(),
                            v[l].m(t, n))
                        }
                        for (; l < v.length; l += 1)
                            v[l].d(1);
                        v.length = g.length
                    }
                    if (10 & a) {
                        let t;
                        for (y = wo,
                        t = 0; t < y.length; t += 1) {
                            const n = get_each_context$1(e, y, t);
                            b[t] ? b[t].p(n, a) : (b[t] = create_each_block$1(n),
                            b[t].c(),
                            b[t].m(f, null))
                        }
                        for (; t < b.length; t += 1)
                            b[t].d(1);
                        b.length = y.length
                    }
                },
                i: I.x,
                o: I.x,
                d(n) {
                    n && (0,
                    I.q)(t),
                    (0,
                    I.E)(v, n),
                    (0,
                    I.E)(b, n),
                    e[8](null),
                    p = !1,
                    m()
                }
            }
        }
        function instance$1(e, t, n) {
            let {actions: a} = t
              , {translations: l} = t;
            const f = (0,
            I.z)();
            let h;
            return e.$$set = e=>{
                "actions"in e && n(0, a = e.actions),
                "translations"in e && n(1, l = e.translations)
            }
            ,
            [a, l, h, f, function handleDocumentClick(e) {
                e.target.classList.contains(uo.Classes.Component) || f(io.Events.Close)
            }
            , function getElement() {
                return h
            }
            , (e,t)=>f(io.Events.ActionClicked, {
                action: e,
                event: t
            }), e=>f(io.Events.AnnotationClicked, {
                action: e.action,
                data: e.code
            }), function div2_binding(e) {
                I.D[e ? "unshift" : "push"]((()=>{
                    h = e,
                    n(2, h)
                }
                ))
            }
            ]
        }
        class Context_menu extends I.b {
            constructor(e) {
                super(),
                (0,
                I.i)(this, e, instance$1, create_fragment$1, I.d, {
                    actions: 0,
                    translations: 1,
                    getElement: 5
                })
            }
            get getElement() {
                return this.$$.ctx[5]
            }
        }
        function createContextMenu({actions: e, el: t, moveNode: n, emitter: a, translations: l}) {
            const f = null == n ? void 0 : n.getElement()
              , h = function createContextMenuComponent(e, {anchor: t, props: n}) {
                return createSvelteComponent({
                    ComponentType: Context_menu,
                    methods: ["getElement"],
                    options: {
                        anchor: t,
                        props: n,
                        target: e
                    },
                    replaceContainer: !1
                })
            }((null == f ? void 0 : f.parentElement) || t, {
                anchor: f,
                props: {
                    actions: e,
                    translations: l
                }
            });
            return setPosition(),
            function registerListeners() {
                h.on(io.Events.ActionClicked, createEventHandler(io.Events.ActionClicked)),
                h.on(io.Events.AnnotationClicked, createEventHandler(io.Events.AnnotationClicked)),
                h.on(io.Events.Close, (()=>a.emit(io.Events.Close))),
                t.addEventListener("scroll", function debounce(e, t) {
                    let n;
                    return function run2(...a) {
                        clearTimeout(n),
                        n = setTimeout((()=>{
                            n = null,
                            e(...a)
                        }
                        ), t)
                    }
                }(setPosition, 50))
            }(),
            {
                destroy: h.destroy
            };
            function createEventHandler(e) {
                return function handleEvent({detail: t}) {
                    a.emit(e, {
                        action: t.action,
                        data: t.data,
                        event: t.event,
                        moveNode: n.getNodeData()
                    })
                }
            }
            function setPosition() {
                const e = null == h ? void 0 : h.getElement();
                if (!e)
                    return;
                const {left: n, top: a} = function getContextMenuPosition({contextMenu: e, moveNode: t, padding: n={
                    x: 10,
                    y: 20
                }}) {
                    const a = t.y + n.y - window.pageYOffset
                      , l = window.innerHeight - e.height
                      , f = {
                        left: 0,
                        top: 0
                    };
                    return f.top = Math.min(a, l),
                    f.bottom = f.top + e.height,
                    t.x > window.innerWidth - e.width ? f.left = t.x + t.width - e.width : (a < l && (n.x = 0),
                    f.left = t.x + n.x),
                    f
                }({
                    contextMenu: e.getBoundingClientRect(),
                    moveNode: (null == f ? void 0 : f.getBoundingClientRect()) || t.getBoundingClientRect()
                });
                e.style.left = `${n}px`,
                e.style.top = `${a}px`
            }
        }
        function initializeContextMenu(e) {
            const {el: t, moveList: n, stateMachine: a, methods: {destroyContextMenu: l}, translations: f} = e;
            function handleContextMenuAction(e) {
                l();
                const t = function createContextMenuActionHandler(e, t) {
                    return function handleContextMenuAction({action: n, data: a, event: l, moveNode: f}) {
                        const h = t.api.getMoveNode(f.ids);
                        if (!h)
                            throw new ChessError({
                                code: go.BadData,
                                data: f.ids,
                                message: "No move node found."
                            });
                        n.handler(f, {
                            context: e,
                            data: a,
                            moveList: t,
                            moveNodeComponent: h,
                            event: l
                        }),
                        e.queue.flush()
                    }
                }(n.api.getContext(), n);
                t(e)
            }
            function handleAnnotationAction({action: e, data: t, moveNode: a}) {
                l();
                const f = n.api.getMoveNode(a.ids);
                if (!f)
                    throw new ChessError({
                        code: go.BadData,
                        data: a.ids,
                        message: "No move node found."
                    });
                const h = {
                    data: t,
                    game: n.api.getContext().game,
                    moveNodeComponent: f,
                    node: a
                };
                e === io.AnnotationActions.AddAnnotation ? function addAnnotation({node: e, game: t, data: n, moveNodeComponent: a}) {
                    const l = normalizeAnnotation(n)
                      , f = a.getNodeData().annotation === l ? void 0 : l;
                    t.updateNode(e.ids, {
                        annotation: f
                    }),
                    a.touch(lo.TouchableKeys.Annotation)
                }(h) : e === io.AnnotationActions.AddAdditionalAnnotation && function addAdditionalAnnotation({node: e, game: t, data: n, moveNodeComponent: a}) {
                    const l = normalizeAnnotation(n)
                      , f = a.getNodeData().additionalAnnotation
                      , h = (null == f ? void 0 : f[0]) === l ? void 0 : [l];
                    t.updateNode(e.ids, {
                        additionalAnnotation: h
                    }),
                    a.touch(lo.TouchableKeys.Annotation)
                }(h)
            }
            function createOpenContextMenuHandler(h) {
                var p;
                n.api.selectNode(h.node.ids);
                const m = n.api.getContextMenuActions(h.node.ids);
                l(),
                e.contextMenu = createContextMenu({
                    actions: m,
                    el: null != (p = e.scrollContainer) ? p : t,
                    emitter: a,
                    moveNode: n.api.getMoveNode(h.node.ids),
                    translations: f
                })
            }
            e.stateMachineListeners.push([io.Events.ActionClicked, handleContextMenuAction], [io.Events.AnnotationClicked, handleAnnotationAction], [io.Events.Close, l], [po.Events.OpenContextMenu, createOpenContextMenuHandler]),
            a.on(io.Events.Close, l),
            a.on(io.Events.ActionClicked, handleContextMenuAction),
            a.on(io.Events.AnnotationClicked, handleAnnotationAction),
            a.on(po.Events.OpenContextMenu, createOpenContextMenuHandler)
        }
        const Oo = {
            condition: function condition({context: e, event: t}) {
                return function match2() {
                    return t.type === f.InstanceEvents.Create || t.type === f.InstanceEvents.ModeChanged || !e.moveList || 0 === Object.entries(e.moveList).length
                }
            },
            handler: function handler({context: e, coreContext: t}) {
                initializeMoveList({
                    context: e,
                    coreContext: t
                }),
                e.enableContextMenu && initializeContextMenu(e)
            }
        };
        function createQueuedEventHandler(e, t) {
            return function queuedEvent(n) {
                n.selectedNode = __spreadValues({}, n.coreContext.api.getRelativeNode()),
                e.add(t, n)
            }
        }
        const No = Fr.VariationParenthesis.Before
          , Ro = Fr.VariationParenthesis.After;
        function copyMoveListContentToClipboard({api: e, el: t, win: n=window}) {
            const a = n.getSelection()
              , l = null == a ? void 0 : a.anchorNode
              , f = null == a ? void 0 : a.focusNode;
            if (!l || !f)
                return null;
            const h = e.getPGN()
              , p = getPosition({
                moveList: t,
                node: l,
                pgn: h
            })
              , m = getPosition({
                moveList: t,
                node: f,
                pgn: h
            });
            if (null === p || null === m)
                return null;
            const g = Math.min(p, m)
              , v = Math.max(p, m)
              , y = getMoveText(getMoveElement(p < m ? f : l)).length
              , b = v + y - g;
            let _ = h.substr(g, b);
            return _ = function addClosingParentheses({lastIndex: e, pgn: t, pgnPiece: n}) {
                const a = new RegExp(`\\${No}`,"g")
                  , l = (n.match(a) || []).length;
                let f = n;
                for (let h = 0; h < l && t[e + h] === Ro; h++)
                    f += Ro;
                return f
            }({
                lastIndex: v + y,
                pgn: h,
                pgnPiece: _
            }),
            function copyStringToClipboard(e) {
                const t = document.createElement("textarea");
                document.body.append(t),
                t.value = e,
                t.focus(),
                t.select(),
                document.execCommand("cut"),
                t.remove()
            }(_),
            _
        }
        function getPosition({moveList: e, pgn: t, node: n}) {
            const a = getMoveElement(n)
              , l = getMoveText(a);
            let f = function getMoveOrder(e, t) {
                const n = Array.from(e.querySelectorAll(`.${po.Classes.MoveNode}`));
                return n.filter((e=>e.textContent === t.textContent)).findIndex((e=>e === t))
            }(e, a) || 0;
            return t.split("").findIndex(((e,n)=>{
                if (t.substr(n, l.length) === l) {
                    if (0 === f)
                        return n;
                    f--
                }
                return !1
            }
            ))
        }
        function getMoveElement(e) {
            var t;
            return !e.parentNode || (null == (t = null == e ? void 0 : e.classList) ? void 0 : t.contains(po.Classes.MoveNode)) ? e : getMoveElement(e.parentNode)
        }
        function getMoveText(e) {
            const t = e.querySelector(`.${po.Classes.MoveNumber}`)
              , n = e.querySelector(`.${po.Classes.MoveText}`)
              , a = e.querySelector(`.${po.Classes.Comment}`);
            let l = "";
            return t && (l += `${t.textContent} `),
            n && (l += n.textContent),
            a && (l += ` {${a.textContent}}`),
            l
        }
        function createDiagramAction({action: e, nodeLimit: t}) {
            const n = e.includes("Set");
            return {
                action: io.Actions[e],
                handler: function handler2(e, {moveList: a, moveNodeComponent: l}) {
                    diagramActionHandler({
                        limitType: t,
                        isSettingNodeLimits: n,
                        moveList: a,
                        moveNodeComponent: l,
                        node: e
                    })
                },
                isVisible: function isVisible({state: e}) {
                    var a, l;
                    const f = null == (a = e.nodeLimit) ? void 0 : a[t]
                      , h = Boolean((null == f ? void 0 : f.move) === (null == (l = e.selectedNode) ? void 0 : l.getNodeData().move));
                    return n ? Boolean(!f || !h) : Boolean(f && h)
                },
                name: Sr.Translation.Actions[e]
            }
        }
        const Lo = {
            [io.Actions.SetBegin]: createDiagramAction({
                action: io.Actions.SetBegin,
                nodeLimit: Fr.NodeLimitTypes.Begin
            }),
            [io.Actions.SetFocus]: createDiagramAction({
                action: io.Actions.SetFocus,
                nodeLimit: Fr.NodeLimitTypes.Focus
            }),
            [io.Actions.SetEnd]: createDiagramAction({
                action: io.Actions.SetEnd,
                nodeLimit: Fr.NodeLimitTypes.End
            }),
            [io.Actions.RemoveBegin]: createDiagramAction({
                action: io.Actions.RemoveBegin,
                nodeLimit: Fr.NodeLimitTypes.Begin
            }),
            [io.Actions.RemoveFocus]: createDiagramAction({
                action: io.Actions.RemoveFocus,
                nodeLimit: Fr.NodeLimitTypes.Focus
            }),
            [io.Actions.RemoveEnd]: createDiagramAction({
                action: io.Actions.RemoveEnd,
                nodeLimit: Fr.NodeLimitTypes.End
            })
        };
        function createAddDiagramActions(e, t) {
            const {api: n} = e;
            return function addDiagramActions() {
                n.addContextMenuActions(Lo),
                createDestroyDiagramActions(e, t)
            }
        }
        function diagramActionHandler({limitType: e, isSettingNodeLimits: t, moveList: n, moveNodeComponent: a, node: l}) {
            var f, h;
            const p = n.api.getContext()
              , m = null == (f = p.state.nodeLimit) ? void 0 : f[e]
              , {respond: g} = p.game.getContext();
            let v;
            m && (v = n.api.getMoveNode({
                line: m.ids.line,
                move: m.ids.move
            })),
            t ? function setNodeLimits({limitType: e, moveList: t, moveNodeComponent: n, node: a}) {
                const l = t.api.getContext();
                l.state.nodeLimit && (l.state.nodeLimit[e] = a);
                if (e === Fr.NodeLimitTypes.Focus)
                    return void n.addNodeStyles({
                        fontStyle: "italic"
                    });
                const f = document.createElement("span")
                  , h = `diagram-${e}`
                  , p = e === Fr.NodeLimitTypes.Begin ? "[[" : "]]";
                f.classList.add(h),
                f.innerHTML = p,
                e === Fr.NodeLimitTypes.Begin ? n.insertBeforeNode(f) : e === Fr.NodeLimitTypes.End && n.insertAfterNode(f)
            }({
                limitType: e,
                moveList: n,
                moveNodeComponent: a,
                node: l
            }) : (null == (h = p.state.nodeLimit) || delete h[e],
            removeNodeLimits({
                limitType: e,
                moveList: n,
                moveNodeComponent: a
            })),
            v && removeNodeLimits({
                limitType: e,
                moveList: n,
                moveNodeComponent: v
            }),
            g(Fr.Events.UpdateNodeLimit, {
                isSettingNodeLimits: t,
                limitType: e,
                node: l
            })
        }
        function removeNodeLimits({limitType: e, moveList: t, moveNodeComponent: n}) {
            const a = t.dom.getElement().querySelector(`.diagram-${e}`);
            a ? a.remove() : n.removeNodeStyles()
        }
        function createUpdateNodeLimits(e, t) {
            return function updateNodeLimits(n) {
                const {moveList: a} = t;
                e.api.getDiagramNodeLimits || createDestroyDiagramActions(e, t),
                Object.entries(n).forEach((([e,t])=>{
                    const n = a.api.getMoveNode({
                        line: t.ids.line,
                        move: t.ids.move
                    });
                    diagramActionHandler({
                        limitType: e,
                        isSettingNodeLimits: !0,
                        moveList: a,
                        moveNodeComponent: n,
                        node: t
                    })
                }
                ))
            }
        }
        function createDestroyDiagramActions(e, t) {
            var n;
            const a = t.moveList.api.getContext();
            a.state.nodeLimit = null != (n = e.api.getDiagramNodeLimits) ? n : {},
            t.methods.destroyDiagramActions = e.api.extendAPI(Ne.Plugin.Name, {
                getDiagramNodeLimits() {
                    var e;
                    return null != (e = null == a ? void 0 : a.state.nodeLimit) ? e : {}
                }
            })
        }
        function createAddCommentLink(e, t) {
            return function addCommentLink({node: n, text: a, href: l}) {
                var f, h;
                const p = t.moveList.dom.addComment(n, !1, {
                    text: a,
                    href: l
                });
                e.api.getOptions().test && setTestData(p, {
                    [jt.Element]: Vt.CommentLink
                }),
                n.commands || (n.commands = {}),
                e.api.updateNode(n.ids, {
                    commands: Object.assign(n.commands, {
                        href: `${l}`,
                        text: `${a}`
                    })
                }),
                0 === n.ids.line ? null == (f = t.moveList.api.getMoveNode(n.ids)) || f.getElement().appendChild(p) : null == (h = getLineElement(n.ids.line, t.el)) || h.append(p)
            }
        }
        function createSetScrollContainer(e) {
            return function setScrollContainer(t) {
                e.scrollContainer = t,
                e.moveList.dom.setScrollContainer(t)
            }
        }
        function createHorizontalMoveListPlugin({el: e, enableContextMenu: t=!0, nodeLimit: n, scrollContainer: a, translations: l=Dr}) {
            const h = {
                [Fr.Placeholders.GameResult]: document.createComment("/Game Result"),
                [Fr.Placeholders.Moves]: document.createComment("/Moves")
            }
              , p = {
                contextMenu: void 0,
                el: e,
                enableContextMenu: t,
                methods: {
                    destroy: noop,
                    destroyContextMenu: noop,
                    destroyDiagramActions: noop,
                    handleCommentClick: noop,
                    handleCopy: noop,
                    selectCurrentPosition: noop
                },
                moveList: {},
                nodeLimit: n,
                queue: createQueue(!1),
                placeholders: h,
                scrollContainer: a || e,
                stateMachine: createHMLStateMachine(),
                stateMachineListeners: [],
                translations: l
            };
            return {
                api: e=>function createHMLAPI(e, t) {
                    return {
                        addDiagramActions: createAddDiagramActions(e, t),
                        addCommentLink: createAddCommentLink(e, t),
                        setScrollContainer: createSetScrollContainer(t),
                        updateNodeLimits: createUpdateNodeLimits(e, t)
                    }
                }(e, p),
                create: function create3(e) {
                    destroy10(),
                    registerMethods(e),
                    registerListeners(),
                    runHorizontalMoveListPlugin({
                        data: null,
                        type: f.APIEvents.Load
                    }, e)
                },
                destroy: destroy10,
                match: [{
                    condition: isOneOf([f.APIEvents.AddMove, f.APIEvents.CreateContinuation, f.APIEvents.CreateGame, f.APIEvents.DeletePosition, f.APIEvents.LineCommentUpdated, f.APIEvents.Load, f.APIEvents.Move, f.APIEvents.MoveBackward, f.APIEvents.MoveForward, f.APIEvents.MoveVariation, f.APIEvents.NodeUpdated, f.APIEvents.PromoteVariation, f.APIEvents.ResetToMainLine, f.APIEvents.SelectLineEnd, f.APIEvents.SelectLineStart, f.APIEvents.SelectNode, f.APIEvents.Undo, f.APIEvents.UpdatePGNHeaders, f.InstanceEvents.Create, f.OptionsEvents.Update]),
                    handler: runHorizontalMoveListPlugin
                }, {
                    condition: is$1(f.InstanceEvents.ModeChanged),
                    handler: function modeChanged(e, t) {
                        destroy10(),
                        registerMethods(t),
                        registerListeners(),
                        runHorizontalMoveListPlugin({
                            data: null,
                            type: f.InstanceEvents.ModeChanged
                        }, t)
                    }
                }],
                name: Ne.Plugin.Name
            };
            function destroy10() {
                var t, n;
                p.queue.clear(),
                p.methods.destroy(),
                null == (n = (t = p.methods).destroyDiagramActions) || n.call(t),
                e.removeEventListener(Fr.Events.Copy, p.methods.handleCopy)
            }
            function registerListeners() {
                e.addEventListener(Fr.Events.Copy, p.methods.handleCopy)
            }
            function registerMethods(t) {
                p.methods.destroy = function createDestroy$1(e) {
                    return function destroy10() {
                        var t, n;
                        e.stateMachineListeners.forEach((([t,n])=>{
                            e.stateMachine.off({
                                handler: n,
                                type: t
                            })
                        }
                        )),
                        e.stateMachineListeners = [],
                        e.moveList && (null == (n = null == (t = e.moveList) ? void 0 : t.dom) ? void 0 : n.destroy) && (e.moveList.dom.destroy(),
                        e.moveList.plugins.destroy())
                    }
                }(p),
                p.methods.destroyContextMenu = function createDestroyContextMenu(e) {
                    return function destroyContextMenu() {
                        e.contextMenu && (e.contextMenu.destroy(),
                        e.contextMenu = void 0)
                    }
                }(p),
                p.methods.handleCommentClick = function createCommentClickHandler(e) {
                    return function commentClickHandler(t) {
                        e.moveList.dom.insertEditableComment(t)
                    }
                }(p),
                p.methods.handleCopy = function createCopyEventHandler({context: e, el: t}) {
                    return function copyEventHandler(n) {
                        var a;
                        (null == (a = n.target.classList) ? void 0 : a.contains(Zr.Classes.Component)) || copyMoveListContentToClipboard({
                            api: e.api,
                            el: t
                        }) && n.preventDefault()
                    }
                }({
                    context: t,
                    el: e
                }),
                p.methods.selectCurrentPosition = function createSelectCurrentPosition(e) {
                    return function selectCurrentPosition(t) {
                        t && (isLine(t) ? e.moveList.api.selectLineStart(t) : isNode(t) && e.moveList.api.selectNode(t.ids))
                    }
                }(p)
            }
            function runHorizontalMoveListPlugin(e, t) {
                !function runPatternMatcher({conditionParams: e, handlerContext: t}) {
                    const {queue: n} = t.context;
                    !function matchPattern(e, t) {
                        const n = e.find((e=>e[0](t)));
                        if (n)
                            n[1](t)
                    }([zr, Wr, Kr, Oo, Qr, Yr, Jr, eo, to, oo, ro].map((({condition: t, handler: a})=>[t(e), createQueuedEventHandler(n, a)])), t),
                    forceNextFrame((function flushHorizontalMoveListQueue() {
                        n.flush()
                    }
                    ))
                }({
                    conditionParams: {
                        context: p,
                        event: e
                    },
                    handlerContext: {
                        context: p,
                        coreContext: t,
                        event: e
                    }
                })
            }
        }
        function createMarkingShortcutsFromFrame(e) {
            const {id: t, itemsPerRow: n, rows: a, itemsConfiguration: l=[]} = e;
            return [...Array(n * a)].map(((e,a)=>{
                const f = l[a]
                  , {name: h, animatedImageURL: p, removalSoundBaseURL: m} = "object" == typeof f ? f : {
                    name: null != f ? f : `${t}-${a}`
                }
                  , g = a % n
                  , v = Math.floor(a / n);
                return {
                    name: h,
                    frameId: t,
                    xIndex: g,
                    yIndex: v,
                    animatedImageURL: p,
                    removalSoundBaseURL: m
                }
            }
            ))
        }
        function preloadImage(e) {
            const t = new Image;
            return t.src = e,
            t
        }
        function createSetFrames({api: e, framesMap: t, shortcuts: n}) {
            return function setFrames(a=[]) {
                t.clear(),
                n.clear(),
                a.forEach((e=>{
                    t.set(e.id, e),
                    preloadImage(e.imageURL)
                }
                )),
                a.map(createMarkingShortcutsFromFrame).forEach((e=>{
                    e.forEach((e=>{
                        n.set(e),
                        e.animatedImageURL && preloadImage(e.animatedImageURL)
                    }
                    ))
                }
                )),
                function loadRemovalSounds() {
                    const t = n.getAsArray().filter((e=>e.removalSoundBaseURL));
                    if (!t.length)
                        return;
                    const a = t.reduce(((e,t)=>{
                        var n;
                        const {name: a, removalSoundBaseURL: l=""} = t
                          , f = null != (n = e[l]) ? n : [];
                        return f.push(a),
                        e[l] = f,
                        e
                    }
                    ), {})
                      , l = Object.keys(a);
                    if (l.length) {
                        const t = e.sounds.getSoundsInstance();
                        l.forEach((e=>{
                            t.loadExtra({
                                baseURL: e,
                                codes: a[e]
                            })
                        }
                        ))
                    }
                }()
            }
        }
        function getShortcutId({xIndex: e, yIndex: t, frameId: n}) {
            return `frameId=${n}, xIndex=${e}, yIndex=${t}`
        }
        function getFrameNotFoundError(e, t) {
            return `Frame: '${e}' not found (frames available: ${t.join(", ")})`
        }
        function getResultMarkingData({markings: e, framesMap: t, shortcuts: n}) {
            const a = []
              , l = [];
            return e.forEach((e=>{
                const {model: f} = e;
                (Array.isArray(e.square) ? e.square : [e.square]).forEach((h=>{
                    if ("string" == typeof f) {
                        const t = {
                            data: {
                                square: h,
                                type: Pe[f]
                            },
                            type: "effect",
                            persistent: !0,
                            node: !0
                        };
                        return void a.push({
                            square: h,
                            input: e,
                            marking: t
                        })
                    }
                    const {customMarking: p, itemDisappears: m} = function createCustomMarkingWithFrame({model: e, shortcuts: t, framesMap: n, square: a}) {
                        var l;
                        const f = t.find(e);
                        if (!f)
                            throw new Error(function getMarkingShortcutNotFoundError(e) {
                                if ("xIndex"in e) {
                                    const {xIndex: t, yIndex: n, frameId: a} = e;
                                    return `Marking shortcut: '${getShortcutId({
                                        xIndex: t,
                                        yIndex: n,
                                        frameId: a
                                    })}' not found`
                                }
                                return `Marking shortcut: '${e.name}' not found`
                            }(e));
                        const h = n.get(f.frameId);
                        if (!h)
                            throw new Error(getFrameNotFoundError(f.frameId, [...n.keys()]));
                        const {xIndex: p, yIndex: m, animatedImageURL: g, removalSoundBaseURL: v, name: y} = f
                          , {itemsPerRow: b, rows: _, imageURL: C} = h
                          , A = g ? {
                            imageAnimated: !0,
                            imageURL: g,
                            positionRatioX: 0,
                            positionRatioY: 0,
                            widthRatio: 1,
                            heightRatio: 1
                        } : {
                            imageURL: C,
                            positionRatioX: p / b,
                            positionRatioY: m / _,
                            widthRatio: 1 / b,
                            heightRatio: 1 / _
                        };
                        return {
                            customMarking: {
                                data: {
                                    square: a,
                                    type: ve.Image,
                                    removalTimeout: 2e3,
                                    removalClass: g ? void 0 : "custom-item__frame--disappear",
                                    removalSound: v ? y : void 0,
                                    frame: A
                                },
                                type: "customItem",
                                persistent: !0
                            },
                            itemDisappears: null != (l = e.autoRemove) && l
                        }
                    }({
                        model: f,
                        shortcuts: n,
                        framesMap: t,
                        square: h
                    });
                    a.push({
                        square: h,
                        input: e,
                        marking: p
                    }),
                    m && l.push(h)
                }
                ))
            }
            )),
            {
                resultMarkings: a,
                disappearingMarkingSquares: l
            }
        }
        function createMark$1({api: e, markedSquares: t, framesMap: n, shortcuts: a}) {
            return function mark(l) {
                const f = Array.isArray(l) ? l : [l]
                  , {resultMarkings: h, disappearingMarkingSquares: p} = getResultMarkingData({
                    markings: f,
                    framesMap: n,
                    shortcuts: a
                });
                let m;
                h.length && (m = function markModels(t) {
                    var n;
                    if (!t.length)
                        return [];
                    if (t.length > 1) {
                        return e.markings.addMany(t).map((e=>null != e ? e : ""))
                    }
                    return [null != (n = e.markings.addOne(t[0])) ? n : ""]
                }(h.map((e=>e.marking)))),
                h.forEach(((e,n)=>{
                    var a;
                    const {input: l, marking: f, square: h} = e
                      , p = null != (a = null == m ? void 0 : m[n]) ? a : "";
                    p.length && "effect" !== f.type && t.set(h, {
                        input: l,
                        marking: __spreadProps(__spreadValues({}, f), {
                            key: p
                        })
                    })
                }
                )),
                p.length && setTimeout((()=>{
                    e.boardImages.unmark(p)
                }
                ), 1500)
            }
        }
        function createSetWindow$1({boardImagesDOM: e, framesMap: t, windowState: n, hotkeysMap: a, shortcuts: l, showCloseButton: f, api: h}) {
            return function setWindow(t) {
                var a, l;
                n.window = t,
                e.clearElement(),
                t && (e.setSize(t.widthPercent / (null != (a = t.boardContainerAspectRatio) ? a : 1), t.heightPercent),
                e.setWindow({
                    elements: getDOMWindowElements(null != (l = t.elements) ? l : []),
                    elementClickedCallback: t.paletteMode ? selectOrUnselectMarking : defaultMarkFunction,
                    closeButtonCallback: f ? h.boardImages.hideWindow : void 0,
                    addTitleElement: !t.paletteMode,
                    addHoverElement: t.paletteMode
                }))
            }
            ;
            function getDOMWindowElements(e) {
                const n = new Map
                  , getTitle = e=>[...e, "left click"].join(" + ");
                return [...a.values()].forEach((e=>{
                    const {keys: t, model: a} = e;
                    if ("string" == typeof a)
                        n.set(a, getTitle(t));
                    else {
                        const e = l.find(a);
                        if (e) {
                            const {xIndex: a, yIndex: l, frameId: f} = e;
                            n.set(getShortcutId({
                                xIndex: a,
                                yIndex: l,
                                frameId: f
                            }), getTitle(t))
                        }
                    }
                }
                )),
                e.map((e=>{
                    if ("frameId"in e)
                        return function mapFrameToDOMFrame(e, n) {
                            const a = t.get(e.frameId);
                            if (!a) {
                                const n = getFrameNotFoundError(e.frameId, [...t.keys()]);
                                throw new Error(n)
                            }
                            const {frameId: l, emptyItemsPerRow: f, itemsAutoRemove: h} = e
                              , {itemsPerRow: p, rows: m, imageURL: g} = a;
                            return {
                                id: l,
                                emptyItemsPerRow: f,
                                itemsPerRow: p,
                                rows: m,
                                imageURL: g,
                                itemsAutoRemove: h,
                                titles: getTitlesForDOMFrame(a, n)
                            }
                        }(e, n);
                    {
                        const {effects: t, id: a, emptyItemsPerRow: l, itemsPerRow: f} = e;
                        return {
                            id: a,
                            emptyItemsPerRow: l,
                            itemsPerRow: f,
                            effects: t.map((e=>{
                                if ("string" == typeof e) {
                                    const t = n.get(e);
                                    return t ? {
                                        title: t,
                                        type: e
                                    } : e
                                }
                                return e
                            }
                            ))
                        }
                    }
                }
                ))
            }
            function getTitlesForDOMFrame(e, t) {
                const {itemsPerRow: n, rows: a, id: l} = e;
                return [...Array(n * a)].map(((e,a)=>{
                    var f;
                    const h = getShortcutId({
                        xIndex: a % n,
                        yIndex: Math.floor(a / n),
                        frameId: l
                    });
                    return null != (f = t.get(h)) ? f : ""
                }
                ))
            }
            function defaultMarkFunction(e) {
                n.windowPosition && ("type"in e ? h.boardImages.mark({
                    square: n.windowPosition,
                    model: e.type
                }) : h.boardImages.mark({
                    square: n.windowPosition,
                    model: e
                }),
                h.boardImages.hideWindow())
            }
            function selectOrUnselectMarking(e) {
                const t = h.boardImages.getSelectedMarking();
                if ("type"in e)
                    e.type === t ? h.boardImages.selectMarking() : h.boardImages.selectMarking(e.type);
                else {
                    const n = t;
                    e.frameId === (null == n ? void 0 : n.frameId) && e.yIndex === (null == n ? void 0 : n.yIndex) && e.xIndex === (null == n ? void 0 : n.xIndex) ? h.boardImages.selectMarking() : h.boardImages.selectMarking(e)
                }
            }
        }
        function limitNumberWithinRange(e, t) {
            return Math.min(Math.max(e, t.min), t.max)
        }
        function createShowWindow$1({windowState: e, api: t, boardImagesDOM: n}) {
            return function showWindow(a) {
                var l;
                const {window: f, windowPosition: h} = e;
                if (!f)
                    return;
                if (!a)
                    return void n.showWindow();
                const {square: p, squareCoords: m, allowWindowOverflow: g=!1} = a;
                if (h) {
                    const e = t.markings.getAllWhere({
                        types: [$]
                    }).find((e=>e.data.square === h));
                    e && t.markings.removeOne(e.key)
                }
                e.windowPosition = p,
                t.markings.addOne({
                    data: {
                        square: p,
                        color: yt.HighlightColors.Selected,
                        opacity: .5
                    },
                    persistent: !0,
                    type: $
                });
                const {top: v, left: y, overflows: b} = function calculateTopLeftForWindowInSquare({squareCoords: e, heightInPercent: t, widthInPercent: n, allowOverflow: a}) {
                    let l = !1
                      , f = e.x
                      , h = e.y;
                    a || (h + t > 100 && (h = limitNumberWithinRange(100 - t, {
                        min: 0,
                        max: 100
                    })),
                    f + n > 100 && (f = limitNumberWithinRange(f - n - (e.centered ? 0 : 12.5), {
                        min: 0,
                        max: 100
                    }),
                    l = !0));
                    return {
                        top: h,
                        left: f,
                        overflows: l
                    }
                }({
                    squareCoords: m,
                    heightInPercent: f.heightPercent,
                    widthInPercent: f.widthPercent / (null != (l = f.boardContainerAspectRatio) ? l : 1),
                    allowOverflow: g
                });
                n.setPosition(v, y, b),
                n.showWindow()
            }
        }
        function createInitDefault({api: e, boardImagesDOM: t, imagesBaseURL: n, soundsBaseURL: a, paletteContainer: l}) {
            return function initDefault(f={}) {
                var h, p, m, g, v;
                const y = window.location.href.replace(window.location.search, "")
                  , b = Boolean(l)
                  , {defaultFrames: _, defaultWindow: C, defaultHotkeys: A} = function getDefaultValues({imagesBaseURL: e, soundsBaseURL: t, paletteMode: n, boardContainerAspectRatio: a}) {
                    const l = {
                        heightPercent: n ? 100 : 50,
                        widthPercent: n ? 100 : 40,
                        boardContainerAspectRatio: a,
                        paletteMode: n,
                        elements: [{
                            id: "effects",
                            itemsPerRow: 5,
                            effects: [Pe.Brilliant, Pe.GreatFind, Pe.BestMove, Pe.Excellent, Pe.Correct, Pe.Equal, Pe.Interesting, Pe.Inaccuracy, Pe.Mistake, Pe.Blunder, Pe.Incorrect, Pe.Book, Pe.Warning, Pe.WinnerWhite, Pe.MissedWin]
                        }, {
                            frameId: "objective-markers"
                        }, {
                            frameId: "emotive-markers",
                            itemsAutoRemove: !0
                        }]
                    }
                      , f = `${e}/animated-images`
                      , h = [{
                        id: "objective-markers",
                        imageURL: `${e}/objective-markers.png`,
                        rows: 1,
                        itemsPerRow: 5,
                        itemsConfiguration: [{
                            name: "star",
                            animatedImageURL: `${f}/star.png`,
                            removalSoundBaseURL: t
                        }, {
                            name: "coin",
                            animatedImageURL: `${f}/coin.png`,
                            removalSoundBaseURL: t
                        }, {
                            name: "target",
                            animatedImageURL: `${f}/target.png`,
                            removalSoundBaseURL: t
                        }, {
                            name: "skull",
                            animatedImageURL: `${f}/skull.png`,
                            removalSoundBaseURL: t
                        }, {
                            name: "bomb",
                            animatedImageURL: `${f}/bomb.png`,
                            removalSoundBaseURL: t
                        }]
                    }, {
                        id: "emotive-markers",
                        imageURL: `${e}/emotive-markers.png`,
                        rows: 17,
                        itemsPerRow: 5,
                        itemsConfiguration: ["happy", "sad", "wut", "wink", "cry", "cheeky", "meh", "bigsmile", "cringe", "mad", "blush", "shock", "dead", "sleepy", "tongue", "lol", "crying", "horror", "love", "nerd", "glasses", "mustache", "kisses", "mindblow", "stareyes", "sick", "devil", "ghost", "scream", "facepalm", "thumbsup", "thumbsdown", "worship", "wave", "clap", "knuckles", "muscle", "donkey", "clock", "fire", "troll", "donut", "earth", "panda", "unicorn", "shakehands", "resign", "gameover", "bullet", "blitz", "skewer", "fork", "pin", "fish", "trophy", "arena", "puzzle", "computer", "scc", "tt", "tilt", "960", "doubleexclam", "doublequestion", "10", "1", "12", "hype", "gg", "rip", "present", "gold", "stockfish", "lc0", "komodo", "danny", "omg", "robert", "hikaru", "anna", "alexandra", "andrea", "levy", "eric", "aman"]
                    }]
                      , p = [{
                        keys: ["B"],
                        model: Pe.Brilliant
                    }, {
                        keys: ["G"],
                        model: Pe.GreatFind
                    }, {
                        keys: ["B", "E"],
                        model: Pe.BestMove
                    }, {
                        keys: ["G", "D"],
                        model: Pe.Excellent
                    }, {
                        keys: ["K"],
                        model: Pe.Correct
                    }, {
                        keys: ["E", "Q"],
                        model: Pe.Equal
                    }, {
                        keys: ["I"],
                        model: Pe.Interesting
                    }, {
                        keys: ["D"],
                        model: Pe.Inaccuracy
                    }, {
                        keys: ["M"],
                        model: Pe.Mistake
                    }, {
                        keys: ["L"],
                        model: Pe.Blunder
                    }, {
                        keys: ["W"],
                        model: Pe.Incorrect
                    }, {
                        keys: ["O"],
                        model: Pe.Book
                    }, {
                        keys: ["H"],
                        model: Pe.Warning
                    }, {
                        keys: ["shift", "8"],
                        model: Pe.WinnerWhite
                    }, {
                        keys: ["S"],
                        model: {
                            name: "star"
                        }
                    }, {
                        keys: ["C"],
                        model: {
                            name: "coin"
                        }
                    }, {
                        keys: ["T"],
                        model: {
                            name: "target"
                        }
                    }, {
                        keys: ["S", "K"],
                        model: {
                            name: "skull"
                        }
                    }, {
                        keys: ["F"],
                        model: {
                            name: "bomb"
                        }
                    }, {
                        keys: ["0"],
                        model: {
                            name: "happy",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "S"],
                        model: {
                            name: "sad",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "W"],
                        model: {
                            name: "wut",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "0"],
                        model: {
                            name: "wink",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "R"],
                        model: {
                            name: "cry",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "Q"],
                        model: {
                            name: "cheeky",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "E"],
                        model: {
                            name: "meh",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "B"],
                        model: {
                            name: "bigsmile",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "C"],
                        model: {
                            name: "cringe",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "1"],
                        model: {
                            name: "mad",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "U"],
                        model: {
                            name: "blush",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "O"],
                        model: {
                            name: "shock",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "D"],
                        model: {
                            name: "dead",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["S", "E"],
                        model: {
                            name: "sleepy",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "P"],
                        model: {
                            name: "tongue",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "L"],
                        model: {
                            name: "lol",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "I"],
                        model: {
                            name: "crying",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "H"],
                        model: {
                            name: "horror",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "V"],
                        model: {
                            name: "love",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "N"],
                        model: {
                            name: "nerd",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "G"],
                        model: {
                            name: "glasses",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "T"],
                        model: {
                            name: "mustache",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "K"],
                        model: {
                            name: "kisses",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "M"],
                        model: {
                            name: "mindblow",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "Y"],
                        model: {
                            name: "stareyes",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["S", "I"],
                        model: {
                            name: "sick",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["D", "V"],
                        model: {
                            name: "devil",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["G", "H"],
                        model: {
                            name: "ghost",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "J"],
                        model: {
                            name: "scream",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["shift", "F"],
                        model: {
                            name: "facepalm",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["arrowup"],
                        model: {
                            name: "thumbsup",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["arrowdown"],
                        model: {
                            name: "thumbsdown",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["I", "P"],
                        model: {
                            name: "worship",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["W", "V"],
                        model: {
                            name: "wave",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["L", "P"],
                        model: {
                            name: "clap",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["K", "N"],
                        model: {
                            name: "knuckles",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["M", "U"],
                        model: {
                            name: "muscle",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["D", "K"],
                        model: {
                            name: "donkey",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["L", "K"],
                        model: {
                            name: "clock",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["F", "R"],
                        model: {
                            name: "fire",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["T", "R"],
                        model: {
                            name: "troll",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["N", "T"],
                        model: {
                            name: "donut",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["E", "T"],
                        model: {
                            name: "earth",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["P", "N"],
                        model: {
                            name: "panda",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["U", "I"],
                        model: {
                            name: "unicorn",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["S", "H"],
                        model: {
                            name: "shakehands",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["R", "E"],
                        model: {
                            name: "resign",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["G", "M"],
                        model: {
                            name: "gameover",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["B", "U"],
                        model: {
                            name: "bullet",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["B", "T"],
                        model: {
                            name: "blitz",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["W", "E"],
                        model: {
                            name: "skewer",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["R", "R"],
                        model: {
                            name: "fork",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["I", "N"],
                        model: {
                            name: "pin",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["H", "I"],
                        model: {
                            name: "fish",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["H", "Y"],
                        model: {
                            name: "trophy",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["A", "R"],
                        model: {
                            name: "arena",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["U", "L"],
                        model: {
                            name: "puzzle",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["M", "P"],
                        model: {
                            name: "computer",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["S", "C"],
                        model: {
                            name: "scc",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["T", "Y"],
                        model: {
                            name: "tt",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["T", "L"],
                        model: {
                            name: "tilt",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["9"],
                        model: {
                            name: "960",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["2"],
                        model: {
                            name: "doubleexclam",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["3"],
                        model: {
                            name: "doublequestion",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["J"],
                        model: {
                            name: "10",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["Q"],
                        model: {
                            name: "1",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["V"],
                        model: {
                            name: "12",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["Y"],
                        model: {
                            name: "hype",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["G", "E"],
                        model: {
                            name: "gg",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["R", "I"],
                        model: {
                            name: "rip",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["P"],
                        model: {
                            name: "present",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["G", "L"],
                        model: {
                            name: "gold",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["S", "T"],
                        model: {
                            name: "stockfish",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["L", "0"],
                        model: {
                            name: "lc0",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["K", "O"],
                        model: {
                            name: "komodo",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["D", "N"],
                        model: {
                            name: "danny",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["O", "M"],
                        model: {
                            name: "omg",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["R", "B"],
                        model: {
                            name: "robert",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["H", "K"],
                        model: {
                            name: "hikaru",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["N", "R"],
                        model: {
                            name: "anna",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["D", "R"],
                        model: {
                            name: "alexandra",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["E", "A"],
                        model: {
                            name: "andrea",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["L", "Y"],
                        model: {
                            name: "levy",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["E", "C"],
                        model: {
                            name: "eric",
                            autoRemove: !0
                        }
                    }, {
                        keys: ["M", "N"],
                        model: {
                            name: "aman",
                            autoRemove: !0
                        }
                    }];
                    return {
                        defaultFrames: h,
                        defaultWindow: l,
                        defaultHotkeys: n ? [] : p
                    }
                }({
                    imagesBaseURL: null != (p = null != (h = f.imagesBaseURL) ? h : n) ? p : `${y}/static/test`,
                    soundsBaseURL: null != (g = null != (m = f.soundsBaseURL) ? m : a) ? g : `${y}/static/test/sounds`,
                    paletteMode: b,
                    boardContainerAspectRatio: null != (v = f.boardContainerAspectRatio) ? v : 1
                });
                e.boardImages.reset(),
                e.boardImages.setFrames(_),
                e.boardImages.setWindow(C),
                e.boardImages.setHotkeys(A),
                l && (t.resetBoardElement(l),
                t.showWindow())
            }
        }
        function getHotkeyId(e) {
            return [...e.map((e=>e.toLowerCase()))].sort().join("-")
        }
        function createGetElement(e) {
            return function getElement() {
                return e
            }
        }
        function initDOMElements({element: e, elements: t, addCloseButton: n, addTitleElement: a, addHoverElement: l}) {
            const f = document.createElement("div");
            f.className = "board-images__window";
            const h = document.createElement("div");
            h.className = "board-images__window-body";
            const p = document.createElement("div");
            p.className = "board-images__close-button";
            const m = document.createElement("div");
            m.innerHTML = '\n<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 19">\n  <defs>\n    <style>\n      .cls-1 {\n        opacity: 0.3;\n      }\n\n      .cls-2 {\n        fill: #f8f8f8;\n      }\n\n      .cls-3 {\n        fill: #8a8886;\n      }\n    </style>\n  </defs>\n  <g>\n    <path class="cls-1" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n    <circle class="cls-2" cx="9" cy="9" r="8.5"/>\n    <path class="cls-2" d="M9,1A8,8,0,1,1,1,9,8,8,0,0,1,9,1M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n    <path class="cls-3" d="M13.37,12a.53.53,0,0,1,0,.78l-.59.61a.56.56,0,0,1-.4.17.54.54,0,0,1-.4-.17l-3-3-3,3a.58.58,0,0,1-.4.17.54.54,0,0,1-.39-.17l-.59-.59a.54.54,0,0,1-.17-.4.52.52,0,0,1,.17-.4l3-3-3-3a.52.52,0,0,1-.17-.4.54.54,0,0,1,.17-.4l.59-.59a.56.56,0,0,1,.8,0l3,3,3-3a.58.58,0,0,1,.4-.17.56.56,0,0,1,.4.17l.59.59a.54.54,0,0,1,.17.41.5.5,0,0,1-.17.39l-3,3,3,3Z"/>\n  </g>\n</svg>\n',
            p.appendChild(m);
            const g = document.createElement("div");
            g.className = "board-images__title";
            const v = t.map((e=>"effects"in e ? function createElementsForDOMEffects(e) {
                const {id: t, effects: n, itemsPerRow: a, emptyItemsPerRow: l=0} = e
                  , f = a + l
                  , h = document.createElement("div");
                h.className = "board-images__effects-container";
                const p = n.map(((e,t)=>{
                    const n = "string" == typeof e ? e : e.type
                      , p = document.createElement("div");
                    if (p.className = "board-images__effect",
                    "object" == typeof e && e.title && p.setAttribute("custom-title", e.title),
                    p.style.width = 100 / f + "%",
                    p.innerHTML = makeSvgIcon({
                        path: Ln[n],
                        size: "100%"
                    }),
                    l > 0 && t / a > 0 && t % a == 0) {
                        const e = document.createElement("div");
                        e.className = "board-images__break",
                        e.style.width = l / f * 100 + "%",
                        h.append(e)
                    }
                    return h.append(p),
                    {
                        container: p,
                        type: n
                    }
                }
                ));
                return {
                    id: t,
                    container: h,
                    domEffects: p
                }
            }(e) : function createElementsForDOMFrame(e, t) {
                const {id: n, itemsPerRow: a, rows: l, imageURL: f, emptyItemsPerRow: h=0, itemsAutoRemove: p, titles: m} = e
                  , g = a + h
                  , v = document.createElement("div");
                v.className = "board-images__hover-container",
                v.style.width = a / g * 100 + "%";
                const y = document.createElement("div");
                y.className = "board-images__hover",
                y.style.width = 100 / a + "%",
                y.style.height = 100 / l + "%",
                y.style.display = "none";
                const b = document.createElement("img");
                b.className = "board-images__image",
                b.src = f,
                b.draggable = !1,
                v.appendChild(b),
                t && v.appendChild(y);
                return {
                    id: n,
                    container: v,
                    imageElement: b,
                    hoverElement: y,
                    itemsPerRow: a,
                    rows: l,
                    itemsAutoRemove: p,
                    titles: m
                }
            }(e, l)));
            return v.forEach((e=>{
                h.appendChild(e.container)
            }
            )),
            f.appendChild(h),
            e.appendChild(f),
            a && e.appendChild(g),
            n && e.appendChild(p),
            {
                closeButton: n ? p : void 0,
                titleElement: g,
                domElements: v,
                windowElement: f
            }
        }
        let Do = -1
          , Bo = -1;
        function getXYFromEvent({clientX: e, clientY: t, pointer: n, type: a, touches: l}) {
            return (a === kr.Touchmove || a === kr.Touchstart) && l.length > 0 && (Do = l[0].clientX,
            Bo = l[0].clientY),
            a === kr.Touchend ? {
                x: Do,
                y: Bo
            } : n ? {
                x: n.x,
                y: n.y
            } : l && l.length > 0 ? {
                x: l[0].clientX,
                y: l[0].clientY
            } : {
                x: null != e ? e : -1,
                y: null != t ? t : -1
            }
        }
        function translateEventToIndex({itemsPerRow: e, rows: t, imageElement: n, event: a}) {
            const {width: l, height: f} = n;
            let h, p;
            if ("offsetX"in a)
                h = a.offsetX,
                p = a.offsetY;
            else {
                const {x: e, y: t} = getXYFromEvent(a);
                h = e,
                p = t
            }
            return function translateCoordinatesToIndex({offsetX: e, offsetY: t, itemsPerRow: n, rows: a, width: l, height: f}) {
                const h = l / n
                  , p = f / a
                  , m = limitNumberWithinRange(e, {
                    min: 0,
                    max: l
                })
                  , g = limitNumberWithinRange(t, {
                    min: 0,
                    max: f
                });
                return {
                    xIndex: limitNumberWithinRange(Math.floor(m / h), {
                        min: 0,
                        max: n - 1
                    }),
                    yIndex: limitNumberWithinRange(Math.floor(g / p), {
                        min: 0,
                        max: a - 1
                    })
                }
            }({
                offsetX: h,
                offsetY: p,
                itemsPerRow: e,
                rows: t,
                width: l,
                height: f
            })
        }
        function addEventListeners({windowElement: e, titleElement: t, domElements: n, elementClickedCallback: a, allowToggling: l, closeButton: f, closeButtonCallback: h}) {
            var p;
            let m;
            e.addEventListener("contextmenu", (e=>(e.stopPropagation(),
            e.preventDefault(),
            !1))),
            null == (p = null == f ? void 0 : f.firstChild) || p.addEventListener(Or, (e=>{
                e.stopPropagation(),
                null == h || h()
            }
            ));
            const toggleEmoji = e=>(m = l && (null == m ? void 0 : m.xIndex) === e.xIndex && (null == m ? void 0 : m.yIndex) === e.yIndex && (null == m ? void 0 : m.frameId) === e.frameId ? void 0 : e,
            m)
              , clearSelection = ()=>{
                n.filter((e=>"hoverElement"in e)).map((e=>e.hoverElement)).forEach((e=>{
                    e && (e.style.display = "none")
                }
                )),
                n.filter((e=>"domEffects"in e)).map((e=>e.domEffects)).forEach((e=>{
                    e.forEach((e=>e.container.classList.remove("selected")))
                }
                ))
            }
              , hideTitle = ()=>{
                t.style.display = "none",
                t.innerHTML = ""
            }
            ;
            n.forEach((e=>{
                "domEffects"in e ? function addEventListenersToEffectsDOMElement({domElement: e, titleElement: t, hideTitle: n, clearSelection: a, elementClickedCallback: l, allowToggling: f}) {
                    const {domEffects: h, id: p} = e;
                    h.forEach(((e,h)=>{
                        const {container: m, type: g} = e
                          , v = m.getAttribute("custom-title");
                        m.addEventListener(Or, (e=>{
                            if (e.stopPropagation(),
                            f) {
                                const e = m.classList.contains("selected");
                                a(),
                                m.classList.toggle("selected", !e)
                            }
                            l({
                                effectsId: p,
                                index: h,
                                type: g
                            })
                        }
                        )),
                        v && (m.addEventListener(Nr, (()=>{
                            t.innerHTML = v,
                            t.style.display = ""
                        }
                        )),
                        m.addEventListener("pointerout", n))
                    }
                    ))
                }({
                    domElement: e,
                    titleElement: t,
                    hideTitle: hideTitle,
                    clearSelection: clearSelection,
                    elementClickedCallback: a,
                    allowToggling: l
                }) : function addEventListenersToFrameDOMElement({domElement: e, titleElement: t, hideTitle: n, clearSelection: a, elementClickedCallback: l, toggleEmoji: f}) {
                    const {container: h, imageElement: p, hoverElement: m, id: g, itemsPerRow: v, rows: y, itemsAutoRemove: b, titles: _=[]} = e;
                    h.addEventListener(Or, (e=>{
                        e.stopPropagation();
                        const {xIndex: t, yIndex: n} = translateEventToIndex({
                            itemsPerRow: v,
                            rows: y,
                            imageElement: p,
                            event: e
                        });
                        if (l({
                            frameId: g,
                            xIndex: t,
                            yIndex: n,
                            autoRemove: b
                        }),
                        m) {
                            const e = f({
                                xIndex: t,
                                yIndex: n,
                                frameId: g
                            });
                            a(),
                            e && (m.style.display = "block",
                            m.style.left = t / v * 100 + "%",
                            m.style.top = n / y * 100 + "%")
                        }
                    }
                    )),
                    p.addEventListener(Nr, (e=>{
                        var a;
                        n();
                        const {xIndex: l, yIndex: f} = translateEventToIndex({
                            itemsPerRow: v,
                            rows: y,
                            imageElement: p,
                            event: e
                        });
                        t.innerHTML = null != (a = _[l + f * v]) ? a : "",
                        t.style.display = ""
                    }
                    )),
                    p.addEventListener("pointerout", n)
                }({
                    domElement: e,
                    titleElement: t,
                    hideTitle: hideTitle,
                    clearSelection: clearSelection,
                    elementClickedCallback: a,
                    toggleEmoji: toggleEmoji
                })
            }
            ))
        }
        function createSetWindow(e) {
            return function setWindow(t) {
                const {elements: n, elementClickedCallback: a, closeButtonCallback: l, addTitleElement: f=!0, addHoverElement: h=!1} = t
                  , {closeButton: p, titleElement: m, domElements: g, windowElement: v} = initDOMElements({
                    element: e,
                    elements: n,
                    addCloseButton: Boolean(l),
                    addTitleElement: f,
                    addHoverElement: h
                });
                addEventListeners({
                    windowElement: v,
                    titleElement: m,
                    domElements: g,
                    elementClickedCallback: a,
                    allowToggling: h,
                    closeButton: p,
                    closeButtonCallback: l
                })
            }
        }
        function createShowWindow(e) {
            return function showWindow() {
                e.classList.remove("board-images--hidden")
            }
        }
        function createHideWindow(e) {
            return function hideWindow2() {
                e.classList.add("board-images--hidden")
            }
        }
        function createSetSize(e) {
            return function setSize(t, n) {
                e.style.width = t ? `${t}%` : "",
                e.style.height = n ? `${n}%` : ""
            }
        }
        function createSetPosition(e) {
            const t = "horizontal-overflow";
            return function setPosition(n, a, l) {
                e.classList.contains(t) && e.classList.remove(t),
                e.style.top = n ? `${n}%` : "",
                e.style.left = a ? `${a}%` : "",
                l && e.classList.add(t)
            }
        }
        function createClearElement(e) {
            return function clearElement() {
                e.innerHTML = ""
            }
        }
        function createResetBoardElement(e) {
            return function resetBoardElement(t) {
                e.remove(),
                t.appendChild(e)
            }
        }
        function createIsVisible(e) {
            return function isVisible() {
                return !e.classList.contains("board-images--hidden")
            }
        }
        function createClearSelection(e) {
            return function clearSelection() {
                e.querySelectorAll(".board-images__hover").forEach((e=>{
                    e.style.display = "none"
                }
                )),
                e.querySelectorAll(".board-images__effect.selected").forEach((e=>{
                    e.classList.remove("selected")
                }
                ))
            }
        }
        function createBoardImagesAPI({context: e, imagesBaseURL: t, soundsBaseURL: n, showCloseButton: a, paletteContainer: l}) {
            const f = e.api
              , h = new Map
              , p = new Map
              , m = new Map
              , g = function createKeyedSet({items: e=[], keys: t=[], createKey: n}={}) {
                if (!n && !t.length)
                    throw new Error("Need to specify at least one key or createKey function");
                const a = !t.includes("id") && n ? ["id", ...t] : t
                  , l = a.map((()=>new Map));
                function set3(e) {
                    a.forEach(((t,a)=>{
                        var f;
                        const h = null != (f = e[t]) ? f : null == n ? void 0 : n(e);
                        h && l[a].set(h, e)
                    }
                    ))
                }
                return e.forEach((e=>{
                    set3(e)
                }
                )),
                {
                    find: function find(e) {
                        let t;
                        const f = l.find((l=>{
                            let f = !1;
                            const h = a.find((t=>{
                                const n = e[t];
                                return n && (f = !0),
                                n && l.has(n)
                            }
                            ));
                            if (h)
                                return t = e[h],
                                !0;
                            const p = null == n ? void 0 : n(e);
                            if (!f && !p)
                                throw new Error("Could not find a key or create a key with passed in parameter");
                            return !(!p || !l.has(p) || (t = p,
                            0))
                        }
                        ));
                        return t && (null == f ? void 0 : f.get(t))
                    },
                    set: set3,
                    getAsArray: function getAsArray() {
                        var e;
                        return [...null == (e = l[0]) ? void 0 : e.values()]
                    },
                    clear: function clear5() {
                        l.forEach((e=>e.clear()))
                    }
                }
            }({
                keys: ["id", "name"],
                createKey: getShortcutId
            })
              , v = {
                windowPosition: void 0,
                window: void 0
            }
              , y = function createBoardImagesDOMService(e) {
                const t = function createBoardImagesElement() {
                    const t = document.createElement("div");
                    return t.className = "board-images",
                    t.classList.add("board-images--hidden"),
                    e && t.classList.add("board-images--palette"),
                    t.addEventListener("pointerdown", (e=>{
                        e.stopPropagation()
                    }
                    )),
                    t.addEventListener("wheel", (e=>{
                        e.stopPropagation()
                    }
                    )),
                    t
                }();
                return {
                    showWindow: createShowWindow(t),
                    hideWindow: createHideWindow(t),
                    setWindow: createSetWindow(t),
                    setSize: createSetSize(t),
                    setPosition: createSetPosition(t),
                    getElement: createGetElement(t),
                    clearElement: createClearElement(t),
                    resetBoardElement: createResetBoardElement(t),
                    isVisible: createIsVisible(t),
                    clearSelection: createClearSelection(t)
                }
            }(Boolean(l))
              , b = {
                framesMap: h,
                markedSquares: p,
                hotkeysMap: m,
                shortcuts: g,
                windowState: v
            };
            return function createAPIFunctions(e) {
                const _ = function createGetHotkey(e) {
                    return function getHotkey(t) {
                        return e.get(getHotkeyId(t))
                    }
                }(m)
                  , C = function createGetHotkeys(e) {
                    return function getHotkeys() {
                        return [...e.values()]
                    }
                }(m)
                  , A = function createGetFrames(e) {
                    return function getFrames() {
                        return [...e.values()]
                    }
                }(h)
                  , S = createSetFrames({
                    api: f,
                    framesMap: h,
                    shortcuts: g
                })
                  , x = function createGetAllMarkingShortcuts(e) {
                    return function getAllMarkingShortcuts() {
                        return e.getAsArray()
                    }
                }(g)
                  , w = function createGetMarkingShortcut(e) {
                    return function getMarkingShortcut(t) {
                        return e.find({
                            name: t
                        })
                    }
                }(g)
                  , P = function createUnmark$1(e, t) {
                    return function unmark(n) {
                        const a = Array.isArray(n) ? n : [n]
                          , l = [];
                        a.forEach((e=>{
                            const n = t.get(e);
                            n && (l.push(n.marking.key),
                            t.delete(e))
                        }
                        )),
                        l.length && (l.length > 1 ? e.markings.removeMany(l) : e.markings.removeOne(l[0]))
                    }
                }(f, p)
                  , T = createMark$1({
                    api: f,
                    markedSquares: p,
                    framesMap: h,
                    shortcuts: g
                })
                  , M = function createIsMarked(e) {
                    return function isMarked(t) {
                        return e.has(t)
                    }
                }(p)
                  , k = function createGetMarkings$1(e) {
                    return function getMarkings2() {
                        return [...e.values()].map((e=>e.input))
                    }
                }(p)
                  , I = function createClearMarkings$1(e, t) {
                    return function clearMarkings() {
                        const n = [...e.keys()];
                        n.length && t.boardImages.unmark(n)
                    }
                }(p, f)
                  , O = function createGetWindow(e) {
                    return function getWindow() {
                        return e.window
                    }
                }(v)
                  , N = function createHideWindow$1({state: e, api: t, boardImagesDOM: n}) {
                    return function hideWindow2() {
                        const {window: a, windowPosition: l} = e.windowState;
                        if (a) {
                            if (l) {
                                const a = t.markings.getAllWhere({
                                    types: [$]
                                }).find((e=>e.data.square === l));
                                a && t.markings.removeOne(a.key),
                                e.windowState.windowPosition = void 0,
                                n.setPosition()
                            }
                            e.selectedMarking && t.boardImages.selectMarking(),
                            n.hideWindow()
                        }
                    }
                }({
                    state: b,
                    api: f,
                    boardImagesDOM: e
                })
                  , R = function createIsInitialized(e) {
                    return function isInitialized() {
                        return e.boardImages.getFrames().length > 0
                    }
                }(f)
                  , L = createSetWindow$1({
                    boardImagesDOM: e,
                    framesMap: h,
                    windowState: v,
                    hotkeysMap: m,
                    shortcuts: g,
                    showCloseButton: a,
                    api: f
                })
                  , D = function createSetHotkeys({hotkeysMap: e, windowState: t, api: n}) {
                    return function setHotkeys(a=[]) {
                        e.clear(),
                        a.forEach((t=>{
                            const n = getHotkeyId(t.keys);
                            if (e.has(n))
                                throw new Error(function getHotkeyError(e) {
                                    return `Hotkey combination already in use: ${e.join(", ")})`
                                }(t.keys));
                            e.set(n, t)
                        }
                        )),
                        n.boardImages.setWindow(t.window)
                    }
                }({
                    windowState: v,
                    hotkeysMap: m,
                    api: f
                })
                  , B = createShowWindow$1({
                    windowState: v,
                    api: f,
                    boardImagesDOM: e
                })
                  , F = function createGetWindowPosition(e) {
                    return function getWindowPosition() {
                        const {window: t, windowPosition: n} = e;
                        if (t && !t.paletteMode)
                            return n
                    }
                }(v)
                  , H = function createToggleWindow(e, t) {
                    return function toggleWindow2(n) {
                        const a = t.isVisible();
                        if (!n)
                            return void (a ? e.boardImages.hideWindow() : e.boardImages.showWindow());
                        const {square: l, squareCoords: f, allowWindowOverflow: h=!1} = n;
                        l === e.boardImages.getWindowPosition() ? e.boardImages.hideWindow() : e.boardImages.showWindow({
                            square: l,
                            squareCoords: f,
                            allowWindowOverflow: h
                        })
                    }
                }(f, e)
                  , j = function createReset(e) {
                    return function reset2() {
                        e.boardImages.setFrames(),
                        e.boardImages.clearMarkings(),
                        e.boardImages.hideWindow(),
                        e.boardImages.setWindow(),
                        e.boardImages.setHotkeys()
                    }
                }(f)
                  , U = createInitDefault({
                    api: f,
                    boardImagesDOM: y,
                    imagesBaseURL: t,
                    soundsBaseURL: n,
                    paletteContainer: l
                })
                  , V = function createDestroy(e, t) {
                    return function destroy10() {
                        e.boardImages.reset(),
                        t.getElement().remove()
                    }
                }(f, e)
                  , G = function createSelectMarking(e, t) {
                    return function selectMarking(n) {
                        e.selectedMarking = n,
                        n || t.clearSelection()
                    }
                }(b, e)
                  , q = function createGetSelectedMarking(e) {
                    return function getSelectedMarking2() {
                        return e.selectedMarking
                    }
                }(b);
                return {
                    initDefault: U,
                    reset: j,
                    destroy: V,
                    isInitialized: R,
                    getFrames: A,
                    setFrames: S,
                    getAllMarkingShortcuts: x,
                    getMarkingShortcut: w,
                    setHotkeys: D,
                    getHotkeys: C,
                    getHotkey: _,
                    mark: T,
                    unmark: P,
                    isMarked: M,
                    getMarkings: k,
                    clearMarkings: I,
                    selectMarking: G,
                    getSelectedMarking: q,
                    getWindow: O,
                    setWindow: L,
                    showWindow: B,
                    hideWindow: N,
                    toggleWindow: H,
                    getWindowPosition: F,
                    dom: e
                }
            }(y)
        }
        function or(...e) {
            return function checkConditions(t, n) {
                return Boolean(e.find((e=>e(t, n))))
            }
        }
        function eventIncludes(e) {
            return function eventIncludesData(t, n) {
                return e in t.data && void 0 !== t.data[e] && null !== t.data[e]
            }
        }
        function keyIsPressed(e) {
            return function checkIfKeyIsPressed(t, n) {
                return n.api.keys.getPressedKeys().includes(e)
            }
        }
        function getMarkings({context: e, squares: t=[], whereOptions: n}) {
            const a = e.api
              , l = Array.isArray(t) ? t : [t]
              , f = n ? a.markings.getAllWhere(n) : a.markings.getAll();
            return l.length > 0 ? f.filter((e=>l.includes(e.data.square))) : f
        }
        function markingsPresent({getSquares: e, whereOptions: t}) {
            return function markingsPresentOnSquare(n, a) {
                return getMarkings({
                    context: a,
                    squares: null == e ? void 0 : e(n, a),
                    whereOptions: t
                }).length > 0
            }
        }
        function noMarkingsPresent({getSquares: e, whereOptions: t}) {
            return function markingsPresentOnSquare(n, a) {
                return 0 === getMarkings({
                    context: a,
                    squares: null == e ? void 0 : e(n, a),
                    whereOptions: t
                }).length
            }
        }
        function emojisPresent({getSquares: e}) {
            return function emojisPresentOnSquares(t, n) {
                const a = e(t, n);
                if (!a)
                    return !1;
                const l = Array.isArray(a) ? a : [a]
                  , f = n.api;
                return Boolean(l.find((e=>f.boardImages.isMarked(e))))
            }
        }
        function anyKeyIsPressed(e, t) {
            return t.api.keys.getPressedKeys().length > 0
        }
        function noKeysArePressed(e, t) {
            return !anyKeyIsPressed(0, t)
        }
        function boardImagesHotkeyIsPressed(e, t) {
            const n = t.api
              , a = n.keys.getPressedKeys();
            return Boolean(n.boardImages.getHotkey(a))
        }
        function boardImagesWindowPositionPresent(e, t) {
            const n = t.api;
            return Boolean(n.boardImages.getWindowPosition())
        }
        function boardImagesNotInitialized(e, t) {
            return !t.api.boardImages.isInitialized()
        }
        function boardImagesInitialized(e, t) {
            return t.api.boardImages.isInitialized()
        }
        function boardImagesMarkingSelected(e, t) {
            const n = t.api;
            return Boolean(n.boardImages.getSelectedMarking())
        }
        function valueChanged({getValue: e, ignoreFirstValue: t=!1}) {
            let n, a = !1;
            return function checkIfValueChanged(l, f) {
                const h = e(l, f);
                if (t && !a)
                    return a = !0,
                    n = h,
                    !1;
                const p = n !== h;
                return n = h,
                p
            }
        }
        function hideWindow(e, t) {
            const {queue: n} = t
              , a = t.api;
            return n.add(a.boardImages.hideWindow),
            !1
        }
        function getSquareCoordinates({square: e, el: t, renderer: n, boardFlipped: a=!1}) {
            if (!n)
                return {
                    x: 0,
                    y: 0
                };
            const l = n.getCoordsFromSquare(e, a);
            return n.name === Nt.Types.WebGL2D ? {
                x: l.x / t.clientWidth * 100 + 6.25,
                y: l.y / t.clientHeight * 100 - 6.25
            } : n.name === Nt.Types.WebGL3D ? {
                x: l.x / t.clientWidth * 100,
                y: l.y / t.clientHeight * 100,
                centered: !0
            } : {
                x: (l.x + 100) / 800 * 100,
                y: l.y / 800 * 100
            }
        }
        function refreshWindowPosition({getContainer: e}) {
            return function refreshPosition(t, n) {
                const a = e(t, n);
                if (!a)
                    return;
                const {queue: l, renderer: f, options: h} = n
                  , p = n.api
                  , m = p.boardImages.getWindowPosition();
                if (!m)
                    return;
                const g = getSquareCoordinates({
                    square: m,
                    el: a,
                    renderer: f,
                    boardFlipped: h.flipped
                });
                l.add(p.boardImages.showWindow, {
                    square: m,
                    squareCoords: g
                })
            }
        }
        function initializeBoardImages({getContainer: e}) {
            return function initBoardImages(t, n) {
                const a = e(t, n);
                if (!a)
                    return !0;
                const {renderer: l} = n
                  , f = n.api;
                return f.boardImages.initDefault({
                    boardContainerAspectRatio: null == l ? void 0 : l.getBoardContainerAspectRatio()
                }),
                f.boardImages.dom.resetBoardElement(a),
                !0
            }
        }
        function unmarkEmojis({getSquares: e}) {
            return function unmarkEmojisOnSquares(t, n) {
                const a = null == e ? void 0 : e(t, n)
                  , {queue: l} = n
                  , f = n.api;
                return a ? l.add(f.boardImages.unmark, a) : l.add(f.boardImages.clearMarkings),
                !1
            }
        }
        function addHotkeyMarking({getSquare: e}) {
            return function addHotkeyMarkingOnSquare(t, n) {
                const a = e(t, n);
                if (!a)
                    return !0;
                const {queue: l} = n
                  , f = n.api
                  , h = f.keys.getPressedKeys()
                  , p = f.boardImages.getHotkey(h);
                return !p || (l.add(f.boardImages.mark, {
                    square: a,
                    model: p.model
                }),
                !1)
            }
        }
        function removeMarkings({getSquares: e, whereOptions: t}) {
            return function removeMarkingsOnSquare(n, a) {
                const l = null == e ? void 0 : e(n, a)
                  , {queue: f} = a
                  , h = a.api
                  , p = t ? h.markings.getAllWhere(t) : h.markings.getAll()
                  , m = Array.isArray(l) ? l : [l]
                  , g = (l ? p.filter((e=>m.includes(e.data.square))) : p).map((e=>e.key));
                return !g.length || (1 === g.length ? f.add(h.markings.removeOne, g[0]) : g.length > 1 && f.add(h.markings.removeMany, g),
                !1)
            }
        }
        function toggleWindow({getContainer: e, getSquare: t}) {
            return function toggleEmojiWindow(n, a) {
                const l = e(n, a)
                  , f = t(n, a);
                if (!l || !f)
                    return !0;
                const {queue: h, renderer: p, options: m} = a
                  , g = a.api
                  , v = getSquareCoordinates({
                    square: f,
                    el: l,
                    renderer: p,
                    boardFlipped: m.flipped
                });
                return h.add(g.boardImages.toggleWindow, {
                    square: f,
                    squareCoords: v
                }),
                !1
            }
        }
        function boardImagesMark({getSquares: e, getMarking: t}) {
            return function boardImagesMarkOnSquares(n, a) {
                const l = e(n, a)
                  , f = t(n, a);
                if (!l || !f)
                    return !0;
                const {queue: h} = a
                  , p = a.api
                  , m = {
                    model: f,
                    square: l
                };
                return h.add(p.boardImages.mark, m),
                !1
            }
        }
        function removeSelectedMarking(e, t) {
            const {queue: n} = t
              , a = t.api;
            return n.add(a.boardImages.selectMarking),
            !1
        }
        function getEventData(e, t) {
            return e.data
        }
        function getFromEvent(...e) {
            return function getDataFromEvent(t, n) {
                const a = e.map((e=>e.includes(".") ? e.split(".").reduce(((e,t)=>null == e ? void 0 : e[t]), t.data) : e.length > 0 ? t.data[e] : t.data)).filter((e=>void 0 !== e));
                return 0 === a.length ? void 0 : a.length > 1 ? a : a[0]
            }
        }
        function getBoardImagesElement(e) {
            return function getDOMElement(t, n) {
                return null != e ? e : n.el
            }
        }
        const $o = "square"
          , Fo = "move.to"
          , Ho = "move.rookTo";
        function createWindowEventHandlers(e) {
            return [{
                condition: pipeConditions(is$1(f.OptionsEvents.Update), eventIncludes("flipped"), boardImagesInitialized, boardImagesWindowPositionPresent),
                handler: refreshWindowPosition({
                    getContainer: getBoardImagesElement(e)
                })
            }]
        }
        function createWindowBeforeStateEventHandlers({keyToOpenWindow: e, useLeftClick: t, container: n}) {
            const a = t ? f.UserEvents.PointerdownLeft : f.UserEvents.PointerdownRight;
            return [{
                condition: pipeConditions(is$1(a), anyKeyIsPressed, eventIncludes($o), boardImagesNotInitialized),
                handler: initializeBoardImages({
                    getContainer: getBoardImagesElement(n)
                })
            }, {
                condition: pipeConditions(is$1(a), anyKeyIsPressed, eventIncludes($o), boardImagesInitialized, noMarkingsPresent({
                    getSquares: getFromEvent($o),
                    whereOptions: {
                        persistent: !0,
                        types: [we, fe]
                    }
                }), keyIsPressed(e)),
                handler: toggleWindow({
                    getContainer: getBoardImagesElement(n),
                    getSquare: getFromEvent($o)
                })
            }, {
                condition: pipeConditions(isOneOf([f.UserEvents.PointerdownLeft, f.UserEvents.PointerdownRight]), noKeysArePressed, boardImagesInitialized, boardImagesWindowPositionPresent),
                handler: hideWindow
            }]
        }
        function createCommonBeforeStateEventHandlers({keyToOpenWindow: e, useLeftClick: t}) {
            const n = t ? f.UserEvents.PointerdownLeft : f.UserEvents.PointerdownRight;
            return [{
                condition: pipeConditions(is$1(n), anyKeyIsPressed, eventIncludes($o), boardImagesInitialized, noMarkingsPresent({
                    getSquares: getFromEvent($o),
                    whereOptions: {
                        persistent: !0,
                        types: [we, fe]
                    }
                }), boardImagesHotkeyIsPressed),
                handler: addHotkeyMarking({
                    getSquare: getFromEvent($o)
                })
            }, {
                condition: pipeConditions(is$1(n), anyKeyIsPressed, eventIncludes($o), boardImagesInitialized, emojisPresent({
                    getSquares: getFromEvent($o)
                }), or(keyIsPressed(e), boardImagesHotkeyIsPressed)),
                handler: unmarkEmojis({
                    getSquares: getFromEvent($o)
                })
            }, {
                condition: pipeConditions(is$1(n), anyKeyIsPressed, eventIncludes($o), boardImagesInitialized, markingsPresent({
                    getSquares: getFromEvent($o),
                    whereOptions: {
                        persistent: !0,
                        types: [we]
                    }
                }), or(keyIsPressed(e), boardImagesHotkeyIsPressed)),
                handler: removeMarkings({
                    getSquares: getFromEvent($o),
                    whereOptions: {
                        persistent: !0,
                        types: [we]
                    }
                })
            }]
        }
        function createPaletteModeBeforeStateEventHandlers(e) {
            const t = e ? f.UserEvents.PointerdownLeft : f.UserEvents.PointerdownRight;
            return [{
                condition: pipeConditions(is$1(e ? f.UserEvents.PointerdownRight : f.UserEvents.PointerdownLeft), boardImagesInitialized, boardImagesMarkingSelected),
                handler: removeSelectedMarking
            }, {
                condition: pipeConditions(is$1(t), eventIncludes($o), noKeysArePressed, boardImagesInitialized, noMarkingsPresent({
                    getSquares: getFromEvent($o),
                    whereOptions: {
                        persistent: !0,
                        types: [we, fe]
                    }
                }), boardImagesMarkingSelected),
                handler: boardImagesMark({
                    getSquares: getFromEvent($o),
                    getMarking: function getBoardImagesSelectedMarking(e, t) {
                        return t.api.boardImages.getSelectedMarking()
                    }
                })
            }, {
                condition: pipeConditions(is$1(t), eventIncludes($o), noKeysArePressed, boardImagesInitialized, emojisPresent({
                    getSquares: getFromEvent($o)
                }), boardImagesMarkingSelected),
                handler: unmarkEmojis({
                    getSquares: getFromEvent($o)
                })
            }, {
                condition: pipeConditions(is$1(t), eventIncludes($o), noKeysArePressed, boardImagesInitialized, markingsPresent({
                    getSquares: getFromEvent($o),
                    whereOptions: {
                        persistent: !0,
                        types: [we]
                    }
                }), boardImagesMarkingSelected),
                handler: removeMarkings({
                    getSquares: getFromEvent($o),
                    whereOptions: {
                        persistent: !0,
                        types: [we]
                    }
                })
            }]
        }
        function createBoardImagesPlugin({keyToOpenWindow: e=J.DefaultKeyToOpenWindow, imagesBaseURL: t, soundsBaseURL: n, useLeftClick: a=!0, paletteContainer: l}={}) {
            const {commonBeforeHandlers: h, windowBeforeHandlers: p, commonHandlers: m, windowHandlers: g, paletteModeBeforeHandlers: v} = function initHandlers() {
                return {
                    commonBeforeHandlers: createCommonBeforeStateEventHandlers({
                        keyToOpenWindow: e,
                        useLeftClick: a
                    }),
                    windowBeforeHandlers: createWindowBeforeStateEventHandlers({
                        keyToOpenWindow: e,
                        useLeftClick: a,
                        container: l
                    }),
                    commonHandlers: (t = l,
                    [{
                        condition: pipeConditions(isOneOf(Un), eventIncludes("move"), boardImagesInitialized, emojisPresent({
                            getSquares: getFromEvent(Fo, Ho)
                        })),
                        handler: unmarkEmojis({
                            getSquares: getFromEvent(Fo, Ho)
                        })
                    }, {
                        condition: pipeConditions(is$1(f.InstanceEvents.RendererSet), valueChanged({
                            getValue: getEventData,
                            ignoreFirstValue: !0
                        }), boardImagesInitialized),
                        handler: initializeBoardImages({
                            getContainer: getBoardImagesElement(t)
                        })
                    }]),
                    windowHandlers: createWindowEventHandlers(l),
                    paletteModeBeforeHandlers: createPaletteModeBeforeStateEventHandlers(a)
                };
                var t
            }()
              , y = Boolean(l);
            return {
                api: e=>createBoardImagesAPI({
                    context: e,
                    imagesBaseURL: t,
                    soundsBaseURL: n,
                    showCloseButton: !y,
                    paletteContainer: l
                }),
                beforeState: [...y ? v : p, ...h],
                match: [...y ? [] : g, ...m],
                name: J.Plugin.Name,
                requires: ["keys", "custom-items", "effects", "sounds"],
                create: function create3(e) {
                    e.api.boardImages.dom.resetBoardElement(null != l ? l : e.el)
                },
                destroy: function destroy10(e) {
                    e.api.boardImages.destroy()
                }
            }
        }
        function createMinimalPlugins() {
            return [createAssetsPlugin(), createBoardSizePlugin(), createPiecesPlugin(), createRendererErrorCatcherPlugin()]
        }
        function createStandardPlugins({exclude: e}={}) {
            const t = {
                [$n.Plugin.Name]: createKeysPlugin,
                [a.Plugin.Name]: createAccessibilityPlugin,
                [F.Plugin.Name]: createArrowKeysPlugin,
                [U.Plugin.Name]: createArrowsPlugin,
                [W.Plugin.Name]: createBlinkingHighlightPlugin,
                [ue.Plugin.Name]: createCoordinatesPlugin,
                [Dn.Plugin.Name]: createFlipBoardPlugin,
                [M.Plugin.Name]: createHighlightsPlugin,
                [Le.Plugin.Name]: createHoverSquarePlugin,
                [Gn.Plugin.Name]: createMarkingsPlugin,
                [gt.Plugin.Name]: createBoardDisabledPlugin,
                [Be.Plugin.Name]: createMoveHintsPlugin,
                [Qe.Plugin.Name]: createSoundsPlugin
            };
            e && e.forEach((e=>{
                delete t[e]
            }
            ));
            const n = [getSelectionSquare, getMoveHighlights, getAnalysisHighlights]
              , l = [...createMinimalPlugins()];
            return Object.keys(t).forEach((e=>e === M.Plugin.Name ? l.push(t[e](n)) : l.push(t[e]()))),
            l
        }
        function createPremiumPlugins() {
            return [...createStandardPlugins(), createFadeSetupPlugin(), createEffectsPlugin(), createCustomItemsPlugin(), createCheatDetectionPlugin()]
        }
        Symbol.toStringTag;
        const jo = /^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*((\d|\.)+))?\)$/;
        function rgbToHex(e) {
            if (-1 === e.search("rgb"))
                return e;
            const t = e.match(jo);
            return `#${hexValue(t[1])}${hexValue(t[2])}${hexValue(t[3])}`
        }
        function rgbaToOpacity(e) {
            return -1 === e.search("rgba") ? 1 : parseFloat(e.match(jo)[4])
        }
        function hexValue(e) {
            return `0${parseInt(e, 10).toString(16)}`.slice(-2)
        }
        function getElementBackgroundImage(e, t) {
            return window.getComputedStyle(e, t).backgroundImage
        }
        function getPieceShortStringFromUrl(e) {
            const [t,n] = e.split("/").pop().split(".")[0];
            return "w" === t ? n.toUpperCase() : n
        }
        function getFileRankFromSan(e) {
            return {
                file: e.toLowerCase().charCodeAt(0) - 96,
                rank: Number(e.charAt(1))
            }
        }
        function getSanFromFileRank$1(e) {
            if (!(!e || !e.file || !e.rank || e.file > 8 || e.rank > 8))
                return `${String.fromCharCode(96 + e.file)}${e.rank.toString()}`
        }
        function buildMode({base: e, initialOptions: t}) {
            return function getBoundMode(n) {
                const a = Object.keys(t).reduce(((e,n)=>(e[n] = t[n].default,
                e)), {})
                  , l = e({
                    api: n,
                    options: a
                })
                  , h = function createExtendMode(e, t) {
                    return function extendMode(n) {
                        const a = Object.entries(n).map((([n,a])=>{
                            var l;
                            if (!a || !(null == (l = e.overridableMethods) ? void 0 : l.includes(n)))
                                return;
                            const f = e[n];
                            return e[n] = a(e, t),
                            function destroyOverride() {
                                e[n] = f
                            }
                        }
                        ));
                        return function destroyOverride() {
                            a.map((e=>null == e ? void 0 : e()))
                        }
                    }
                }(l, n);
                return Object.assign(l, {
                    extendMode: h,
                    getOptions: function getOptions() {
                        return a
                    },
                    setOption: function setOption(e, l) {
                        var h;
                        if (!(null == (h = t[e]) ? void 0 : h.editable))
                            return void warnOptionNotEditable(e);
                        a[e] = l,
                        n.emit(f.OptionsEvents.UpdateMode, createCoreEvent(f.OptionsEvents.UpdateMode, {
                            [e]: l
                        }))
                    }
                })
            }
        }
        function createModeFactory(e, t) {
            return function createMode(n={}) {
                const a = Object.keys(n).reduce(((e,a)=>{
                    var l;
                    return (null == (l = t[a]) ? void 0 : l.editable) ? Object.assign(e, {
                        [a]: {
                            default: n[a],
                            editable: !0
                        }
                    }) : warnOptionNotEditable(a),
                    e
                }
                ), t);
                return buildMode({
                    base: e,
                    initialOptions: a
                })
            }
        }
        function warnOptionNotEditable(e) {
            console.warn(`${e} is not an editable option in this mode.`)
        }
        function canMoveForward({api: e, followAlternateLines: t=!1, mv: n}) {
            const {game: a, mutateGame: l} = e.getContext()
              , f = l((function callMethod() {
                a.moveForward(t, n)
            }
            ));
            return !!(null == f ? void 0 : f.plyDiff) && (a.moveBackward(),
            !0)
        }
        function createMove$7(e) {
            const {api: t} = e
              , n = t.move;
            return function move(e) {
                const a = t.isAtEndOfLine()
                  , {canAddMovesToMainLine: l} = t.getMode().getOptions();
                return canMoveForward({
                    api: t,
                    followAlternateLines: !0,
                    mv: e
                }) ? n(e) : function shouldAddContinuation({canAddMovesToMainLine: e, isAtEndOfLine: t, node: n}) {
                    var a;
                    const l = isNode(n) ? null == (a = null == n ? void 0 : n.ids) ? void 0 : a.line : null == n ? void 0 : n.id;
                    return !e && t && 0 === l
                }({
                    canAddMovesToMainLine: l,
                    isAtEndOfLine: a,
                    node: t.getRelativeNode()
                }) ? function addContinuation() {
                    if (t.createContinuation())
                        return n(e);
                    return null
                }() : n(e)
            }
        }
        var Uo, Vo, Go, qo, zo, Wo;
        (function(e) {
            e.Name = "analysis"
        }
        )((Vo = Uo || (Uo = {})).Plugin || (Vo.Plugin = {})),
        function(e) {
            e.Name = "effectsHMLSync"
        }((qo = Go || (Go = {})).Plugin || (qo.Plugin = {})),
        (Wo = zo || (zo = {})).GreatFind = "!",
        Wo.Mistake = "?",
        Wo.Brilliant = "!!",
        Wo.Blunder = "??",
        Wo.Interesting = "!?",
        Wo.Inaccuracy = "?!",
        Wo.Drawish = "=",
        Wo.Unclear = "âˆž",
        Wo.WhiteHasModerateAdvantage = "Â±",
        Wo.BlackHasModerateAdvantage = "âˆ“",
        Wo.WhiteHasDecisiveAdvantage = "+-",
        Wo.BlackHasDecisiveAdvantage = "-+",
        Wo.PositionInZugzwang = "â¨€",
        Wo.WithCompensation = "â†‘",
        Wo.Novelty = "N",
        Wo.WithAttack = "=/âˆž";
        const Ko = function createGetAnnotationName() {
            const e = new Map;
            return Object.keys(zo).forEach((t=>{
                const n = zo[t];
                e.set(n, t)
            }
            )),
            function getName(t) {
                if (t)
                    return e.get(t)
            }
        }();
        function annotationAdded(e, t) {
            const {data: n} = e;
            if (n.changes.userGenerated)
                return !1;
            const a = Ko(n.changes.annotation);
            return Boolean(a)
        }
        function annotationRemoved(e, t) {
            const {data: n} = e;
            return !n.changes.userGenerated && ("annotation"in n.changes && !n.changes.annotation)
        }
        function selectedNodeUpdated(e, t) {
            const {data: n} = e
              , {api: a} = t;
            if (n.changes.userGenerated)
                return !1;
            const l = a.getSelectedNode();
            if (!isNode(l))
                return !1;
            const {ids: f} = l
              , {ids: h} = n;
            return !(!f || !h) && (h.move === f.move && h.line === f.line)
        }
        function unselectedNodeUpdated(e, t) {
            var n, a;
            const {data: l} = e
              , {api: f} = t;
            if (l.changes.userGenerated)
                return !1;
            const h = f.getSelectedNode()
              , {ids: p} = l;
            return !!p && (p.move !== (null == (n = null == h ? void 0 : h.ids) ? void 0 : n.move) || p.line === (null == (a = null == h ? void 0 : h.ids) ? void 0 : a.line))
        }
        function selectedNodeHasAnnotation(e, t) {
            const {api: n} = t
              , a = n.getSelectedNode();
            return !!isNode(a) && Boolean(a.annotation)
        }
        function selectedNodeAnnotationDoesNotMatchEffect(e, t) {
            var n;
            const {api: a} = t
              , l = a.markings
              , f = a.getSelectedNode();
            if (!isNode(f))
                return !1;
            const h = Ko(f.annotation);
            if (!h)
                return !1;
            const p = l.getAllWhere({
                types: [we]
            }).find((e=>e.data.square === (null == f ? void 0 : f.to) && e.node));
            return h !== (null == (n = null == p ? void 0 : p.data) ? void 0 : n.type)
        }
        function addEffect(e, t) {
            const {data: n} = e
              , {api: a, queue: l} = t
              , f = a.markings
              , h = Ko(n.node.annotation);
            l.add((function addMarking() {
                f.addOne({
                    data: {
                        square: n.node.to,
                        type: h
                    },
                    persistent: !0,
                    node: !0,
                    type: we
                })
            }
            ))
        }
        function removeEffect(e, t) {
            const {data: n} = e
              , {api: a, queue: l} = t
              , f = a.markings
              , h = f.getAllWhere({
                types: [we]
            }).find((e=>e.data.square === n.node.to));
            h && l.add((function removeMarking() {
                f.removeOne(h.key)
            }
            ))
        }
        function updateAnnotation(e, t) {
            var n;
            const {api: a, queue: l} = t
              , f = a.getSelectedNode();
            if (!isNode(f))
                return;
            const h = e.data.filter(isType(we)).find((e=>e.data.square === f.to && e.node));
            if (!h)
                return;
            const p = null != (n = zo[h.data.type]) ? n : "";
            f.annotation && f.annotation === p || l.add((function refreshAnnotation() {
                l.add((function refreshAnnotationInNextCycle() {
                    a.updateNode(f.ids, {
                        annotation: p,
                        userGenerated: !0
                    })
                }
                ))
            }
            ))
        }
        function removeAnnotation(e, t) {
            const {api: n, queue: a} = t
              , l = n.getSelectedNode();
            if (!isNode(l))
                return;
            const f = e.data.filter(isType(we)).find((e=>e.data.square === l.to && e.node));
            f && zo[f.data.type] && a.add((function clearAnnotation() {
                n.updateNode(l.ids, {
                    annotation: "",
                    userGenerated: !0
                })
            }
            ))
        }
        function removeEffectFromJCE(e, t) {
            const {data: n} = e
              , {api: a} = t
              , {move: l, line: f} = n.ids
              , {game: h} = a.getContext()
              , p = h.ids();
            h.selectPosition(l, f);
            const m = getMarkingsFromJCE(h).find((e=>e.data.square === n.node.to && "effect" === e.type));
            m && removeFromJCENode(h, m),
            h.selectPosition(p.move, p.line)
        }
        function queueAddEffect(e, t) {
            const {api: n, queue: a} = t
              , l = n.markings
              , f = n.getSelectedNode();
            if (!isNode(f))
                return;
            const {annotation: h} = f;
            a.add((function addEffect2() {
                a.add((function addEffectInNextCycle() {
                    const e = n.getSelectedNode();
                    if (!isNode(e))
                        return;
                    const {annotation: t} = e
                      , a = Ko((null == t ? void 0 : t.length) ? t : h);
                    a && l.addOne({
                        data: {
                            square: null == f ? void 0 : f.to,
                            type: a
                        },
                        persistent: !0,
                        node: !0,
                        type: we
                    })
                }
                ))
            }
            ))
        }
        var Zo, Xo;
        (function(e) {
            e.Analysis = "analysis",
            e.CaptureTheStar = "capture-the-star",
            e.Explorer = "exploring",
            e.GuessTheMove = "guess-the-move",
            e.PassiveObserving = "passive-observing",
            e.Observing = "observing",
            e.Playing = "playing",
            e.Setup = "setup"
        }
        )((Xo = Zo || (Zo = {})).Types || (Xo.Types = {}));
        const Qo = createModeFactory((function base$7({api: e}) {
            return {
                isAllowedToMove: function isAllowedToMove() {
                    const {canAddMovesToMainLine: t} = e.getMode().getOptions();
                    return t || Boolean(e.getSelectedNode())
                },
                name: Zo.Types.Analysis,
                plugins: [{
                    apiOverrides: {
                        move: createMove$7
                    },
                    name: Uo.Plugin.Name
                }, createAnalysisOverlayPlugin(), {
                    match: [{
                        condition: isMark(we),
                        handler: updateAnnotation
                    }, {
                        condition: pipeConditions(isUnmark(we), selectedNodeHasAnnotation),
                        handler: removeAnnotation
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.NodeUpdated), selectedNodeUpdated, annotationAdded, selectedNodeAnnotationDoesNotMatchEffect),
                        handler: addEffect
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.NodeUpdated), selectedNodeUpdated, annotationRemoved),
                        handler: removeEffect
                    }, {
                        condition: pipeConditions(isOneOf(Un), selectedNodeHasAnnotation),
                        handler: queueAddEffect
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.NodeUpdated), unselectedNodeUpdated),
                        handler: removeEffectFromJCE
                    }],
                    name: Go.Plugin.Name
                }]
            }
        }
        ), {
            canAddMovesToMainLine: {
                default: !0,
                editable: !0
            },
            canInteractWithPieces: {
                default: !0,
                editable: !0
            },
            canMoveWhenGameIsOver: {
                default: !0,
                editable: !1
            },
            canModifyExistingMovesOnMainLine: {
                default: !0,
                editable: !0
            }
        });
        var Yo, Jo, ei = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: Qo
        });
        function createConfigureitems(e) {
            return function configureItems(t) {
                e.config.set("items", t)
            }
        }
        function createGetCurrentMoveCount(e) {
            return function getCurrentMoveCount() {
                var t;
                return (null == (t = e.getHistorySANs()) ? void 0 : t.length) - 1 || 0
            }
        }
        function createGetData(e, t) {
            return function getData() {
                const n = e.captureTheStar;
                return {
                    completed: t.status.get("completed") || !1,
                    completedMoveCount: t.status.get("completedMoveCount"),
                    itemsRemaining: n.getNumItemsRemaining(),
                    moveCount: n.getCurrentMoveCount()
                }
            }
        }
        function createGetItems(e) {
            return function getItems(t={}) {
                const {api: n, game: a} = e
                  , l = n.markings
                  , {previousNode: f} = t;
                let h = [];
                if (f) {
                    const e = a.ids();
                    a.moveBackward(),
                    h = getItems(),
                    a.selectPosition(e.move, e.line)
                } else
                    h = l.getAllWhere({
                        types: [fe]
                    });
                return h
            }
        }
        function createGetItemSquares(e) {
            return function getItemSquares() {
                return e.captureTheStar.getItems().map((e=>e.data.square))
            }
        }
        (function(e) {
            e.Completed = "CTSCompleted"
        }
        )((Jo = Yo || (Yo = {})).Events || (Jo.Events = {})),
        function(e) {
            e.Name = "captureTheStar"
        }(Jo.Plugin || (Jo.Plugin = {}));
        const ti = 'Move object has no "from" square.'
          , ni = "Cannot load without any items."
          , ri = "Cannot load without a piece."
          , oi = "Configuration missing for custom item";
        function getIntermediateSquares(e, t) {
            const {file: n, rank: a} = getFileRankFromSan$1(e)
              , {file: l, rank: f} = getFileRankFromSan$1(t)
              , h = "abcdefgh"
              , p = "12345678";
            if (n === l)
                return getIntegersBetweenTwoNumbers(a, f).map((e=>`${h.charAt(n - 1)}${p.charAt(e - 1)}`));
            if (a === f)
                return getIntegersBetweenTwoNumbers(n, l).map((e=>`${h.charAt(e - 1)}${p.charAt(a - 1)}`));
            if (Math.abs(l - n) !== Math.abs(f - a))
                throw new Error("Squares are not on same file, rank, or diagonal");
            const m = getIntegersBetweenTwoNumbers(n, l)
              , g = getIntegersBetweenTwoNumbers(a, f);
            return m.reduce(((e,t,n)=>(e.push(`${h.charAt(t - 1)}${p.charAt(g[n] - 1)}`),
            e)), [])
        }
        function getIntegersBetweenTwoNumbers(e, t) {
            const [n,a] = [e, t].sort();
            return Array(a - n - 1).fill(void 0).map(((e,t)=>n + t + 1))
        }
        function createGetNextItems(e) {
            return function getNextItems(t) {
                const n = e.captureTheStar
                  , {from: a, to: l} = t;
                if (!a)
                    throw new Error(ti);
                let f = [];
                return f = "n" === t.piece.toLowerCase() ? [l] : [l, ...getIntermediateSquares(a, l)],
                n.getItems({
                    previousNode: !0
                }).filter((e=>!f.includes(e.data.square)))
            }
        }
        function createGetNumItemsRemaining(e) {
            return function getNumItemsRemaining() {
                const t = e.captureTheStar;
                return Object.keys(t.getItems()).length
            }
        }
        function createIsCompleted(e) {
            return function isCompleted() {
                return Boolean(e.status.get("completed"))
            }
        }
        function createLoad$2(e, t) {
            return function load3(n) {
                const {items: a, piece: l} = n
                  , {api: h, game: p, respond: m} = e
                  , g = h.captureTheStar
                  , v = h.markings;
                if (!Object.keys(a).length)
                    throw new Error(ni);
                if (!l)
                    throw new Error(ri);
                return h.clearMarkings(),
                p.load("8/8/8/8/8/8/8/8"),
                p.put(l, l.square),
                Object.entries(a).forEach((([e,n])=>{
                    const a = function createCTSMarking(e, t, n) {
                        const a = null == e ? void 0 : e[n];
                        if (!ve[n] && !a)
                            return null;
                        const l = {
                            data: {
                                square: t,
                                type: a ? ve.Image : ve.Star
                            },
                            node: !0,
                            persistent: !0,
                            type: fe,
                            key: `cts-${t}`
                        };
                        return a && (l.data.image = {
                            url: a
                        }),
                        l
                    }(t.config.get("items"), e, n);
                    if (!a)
                        throw new Error(oi);
                    v.addOne(a)
                }
                )),
                h.setPlayingAs(l.color),
                h.setTurn(l.color),
                g.resetPuzzleStatus(),
                m(f.APIEvents.Load, {
                    pieces: h.getPieces()
                })
            }
        }
        function createUpdatePuzzleStatus(e, t) {
            return function updatePuzzleStatus() {
                const n = e.captureTheStar;
                0 !== n.getNumItemsRemaining() || n.isCompleted() || (t.status.set("completed", !0),
                t.status.set("completedMoveCount", n.getCurrentMoveCount()),
                n.emit(Yo.Events.Completed, n.getData()))
            }
        }
        function createCaptureTheStarAPI(e) {
            const {api: t} = e
              , n = (0,
            I.a)()
              , a = function createInternalAPI() {
                const e = new Map
                  , t = new Map;
                return {
                    config: e,
                    status: t
                }
            }();
            a.config.set("items", {});
            const l = function createResetPuzzleStatus(e) {
                return function resetPuzzleStatus() {
                    e.status.set("completed", !1),
                    e.status.delete("completedMoveCount")
                }
            }(a);
            return l(),
            __spreadProps(__spreadValues({
                configureItems: createConfigureitems(a),
                getCurrentMoveCount: createGetCurrentMoveCount(t),
                getData: createGetData(t, a),
                getItems: createGetItems(e),
                getItemSquares: createGetItemSquares(t),
                getNextItems: createGetNextItems(t),
                getNumItemsRemaining: createGetNumItemsRemaining(t)
            }, n), {
                isCompleted: createIsCompleted(a),
                load: createLoad$2(e, a),
                resetPuzzleStatus: l,
                updatePuzzleStatus: createUpdatePuzzleStatus(t, a)
            })
        }
        function getOppositeColor(e) {
            return e === Xn.ColorsAsNumbers.Black ? Xn.ColorsAsNumbers.White : Xn.ColorsAsNumbers.Black
        }
        function createGetLegalMoves$1(e) {
            const {api: t, game: n} = e
              , a = t.getLegalMoves;
            return function getLegalMoves() {
                const e = t.captureTheStar;
                if (!t.getPlayingAs())
                    return [];
                const l = a()
                  , f = n.getPieces(!1)[0];
                if (!f || "p" !== f.type)
                    return l;
                const h = function buildFEN(e, t) {
                    const n = getOppositeColor(t.color) === Xn.ColorsAsNumbers.Black ? "p" : "P"
                      , a = t.color === Xn.ColorsAsNumbers.Black ? t.type : t.type.toUpperCase()
                      , l = new Array(8).fill(void 0).map((()=>new Array(8).fill(".")));
                    return l[8 - t.rank][t.file - 1] = a,
                    e.reduce(((e,t)=>{
                        const {file: a, rank: l} = getFileRankFromSan$1(t);
                        return a && l ? (e[8 - l][a - 1] = n,
                        e) : e
                    }
                    ), l).map((e=>e.join("").replace(/(\.+)/g, (e=>e.length.toString())))).join("/")
                }(e.getItemSquares(), f)
                  , p = I.J.getLegalMoves(h);
                return function deduplicateByKey(e, t) {
                    return [...new Map(e.map((e=>[e[t], e]))).values()]
                }([...l, ...p], "san")
            }
        }
        function createGetMove$2(e) {
            const {api: t} = e
              , n = t.getMove;
            return function getMove(e) {
                var a;
                const l = n(e);
                return l || (null != (a = t.getLegalMoves().find((t=>t.to === e.to))) ? a : null)
            }
        }
        function createMove$6(e) {
            const {api: t, game: n} = e
              , a = t.move;
            return function move(e) {
                if (!t.isAtEndOfLine())
                    return t.selectLineEnd();
                if (!e.userGenerated || !("flags"in e))
                    return a(e);
                const l = e;
                return isCapture(l) && "p" === l.piece && n.put({
                    type: "p",
                    color: getOppositeColor(l.color)
                }, e.to),
                a(e)
            }
        }
        function createMoveBackward$1(e) {
            return function moveBackward() {
                var t;
                const {respond: n, game: a, mutateGame: l} = e
                  , h = l((function callMethod() {
                    a.moveBackward()
                }
                ));
                return !h || 0 === h.lineDiff && 0 === h.plyDiff ? n(f.APIEvents.MoveBackward, null) : ((null == (t = h.move) ? void 0 : t.captured) && (h.move.captured = void 0),
                n(f.APIEvents.MoveBackward, h))
            }
        }
        function createHandleIllegalMove(e) {
            return function handleIllegalMove() {
                e.isAtEndOfLine() || e.selectLineEnd()
            }
        }
        const ii = createModeFactory((function base$6({api: e}) {
            return {
                isAllowedToMove: function isAllowedToMove() {
                    return !0
                },
                handleIllegalMove: createHandleIllegalMove(e),
                name: Zo.Types.CaptureTheStar,
                plugins: [{
                    api: createCaptureTheStarAPI,
                    apiOverrides: {
                        getLegalMoves: createGetLegalMoves$1,
                        getMove: createGetMove$2,
                        move: createMove$6,
                        moveBackward: createMoveBackward$1
                    },
                    create: function create3(e) {
                        const {api: n} = e
                          , a = n.captureTheStar;
                        t && a.configureItems(t.items)
                    },
                    match: [{
                        condition: isOneOf(Un),
                        handler: function setTurn(e, t) {
                            const {api: n, queue: a} = t
                              , l = n.getPlayingAs();
                            l && a.add(n.setTurn, l)
                        }
                    }, {
                        condition: is$1(f.APIEvents.Move),
                        handler: function handleMove2(e, t) {
                            const {api: n, queue: a} = t
                              , l = n.captureTheStar
                              , f = n.markings
                              , h = n.getContext().game
                              , p = l.getNextItems(e.data.move);
                            a.add((function refreshCTS() {
                                a.add((function refreshInNextCycle() {
                                    f.addMany(p),
                                    h.turn(n.getPlayingAs()),
                                    l.updatePuzzleStatus()
                                }
                                ))
                            }
                            ))
                        }
                    }],
                    name: Yo.Plugin.Name
                }],
                usePlayingAs: !0
            };
            var t
        }
        ), {
            canAddMovesToMainLine: {
                default: !0,
                editable: !1
            },
            canInteractWithPieces: {
                default: !0,
                editable: !0
            },
            canModifyExistingMovesOnMainLine: {
                default: !1,
                editable: !1
            }
        });
        var ai, si, ui = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: ii
        });
        function getIdsToDelete(e) {
            return isNode(e) ? {
                line: e.ids.line,
                move: e.ids.move + 1
            } : {
                line: 0,
                move: 0
            }
        }
        function createMove$5(e) {
            const {api: t} = e
              , n = t.move;
            return function move(e) {
                if (t.isAtEndOfLine())
                    return n(e);
                const {line: a, move: l} = getIdsToDelete(t.getRelativeNode());
                return t.deletePosition(l, a),
                n(e)
            }
        }
        (function(e) {
            e.Name = "exploring"
        }
        )((si = ai || (ai = {})).Plugin || (si.Plugin = {}));
        const ci = createModeFactory((function base$5() {
            return {
                isAllowedToMove: function isAllowedToMove() {
                    return !0
                },
                name: Zo.Types.Explorer,
                plugins: [{
                    apiOverrides: {
                        move: createMove$5
                    },
                    name: ai.Plugin.Name
                }]
            }
        }
        ), {
            canAddMovesToMainLine: {
                default: !0,
                editable: !1
            },
            canInteractWithPieces: {
                default: !0,
                editable: !0
            },
            canModifyExistingMovesOnMainLine: {
                default: !0,
                editable: !1
            }
        });
        var li, di, fi, hi = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: ci
        });
        function createGuessTheMoveAPI(e) {
            let t = [];
            return {
                cancel: function cancel() {
                    const {api: n, respond: a} = e
                      , l = getActiveGuess();
                    if (!l)
                        return;
                    t.pop(),
                    a(f.APIEvents.SetBoardPosition, {
                        pieces: n.getPieces()
                    }),
                    a(li.APIEvents.CancelGuess, l)
                },
                confirm: function confirm(t) {
                    const {respond: n} = e
                      , a = getLastGuess();
                    if (!a)
                        return;
                    Object.assign(a, {
                        confirmed: !0,
                        correct: t
                    }),
                    n(li.APIEvents.GuessConfirmed, a)
                },
                get: function get2() {
                    return t
                },
                getActiveGuess: getActiveGuess,
                guess: function guess(n) {
                    var a, l;
                    const {api: f, respond: h} = e
                      , p = __spreadProps(__spreadValues({}, n), {
                        confirmed: !1,
                        correct: !1,
                        ids: null != (l = null == (a = f.getSelectedNode()) ? void 0 : a.ids) ? l : {
                            line: 0,
                            move: 0
                        }
                    });
                    t.push(p),
                    h(li.APIEvents.GuessMade, p)
                },
                reset: function reset2() {
                    t = []
                }
            };
            function getActiveGuess() {
                const e = getLastGuess();
                return (null == e ? void 0 : e.confirmed) ? void 0 : e
            }
            function getLastGuess() {
                return t[t.length - 1]
            }
        }
        function createMove$4(e) {
            const {api: t, game: n, respond: a} = e
              , l = t.move;
            return function move(e) {
                return e.userGenerated ? function handleGuessAttempt(e) {
                    if (t.isLegalMove(e)) {
                        const l = n.move(e);
                        if (!l)
                            return a(f.APIEvents.IllegalMove);
                        t.guessTheMove.guess(l);
                        const h = __spreadValues({}, t.getPieces());
                        return n.undo(),
                        a(f.APIEvents.SetBoardPosition, {
                            pieces: h
                        })
                    }
                    return a(f.APIEvents.IllegalMove)
                }(e) : function handleGameMoveAndConfirmGuess(e) {
                    const n = __spreadValues({}, e)
                      , a = t.guessTheMove.getActiveGuess()
                      , f = t.getMove(e);
                    if (!f || !a)
                        return t.isAtEndOfLine() ? l(e) : t.addMoveToEndOfLine(n);
                    const h = f.color === t.getPlayingAs() && f.san === a.san;
                    return e.animate = !h,
                    t.reload(),
                    l(e),
                    t.guessTheMove.confirm(h)
                }(e)
            }
        }
        (function(e) {
            e.Name = "guessTheMove"
        }
        )((di = li || (li = {})).Plugin || (di.Plugin = {})),
        function(e) {
            e.CancelGuess = "CancelGuess",
            e.GuessConfirmed = "GuessConfirmed",
            e.GuessMade = "GuessMade"
        }(di.APIEvents || (di.APIEvents = {})),
        (fi = di.Colors || (di.Colors = {})).Correct = "#96bc4b",
        fi.Incorrect = "#c93430";
        function getGuessTheMoveHighlights(e, t) {
            var n;
            const {api: a, options: l} = t
              , f = null == (n = a.guessTheMove) ? void 0 : n.getActiveGuess();
            if (!l || !l.allowMarkings || !f)
                return [];
            const h = [];
            if (f.from) {
                const e = createKeyedHighlight({
                    color: l.premoveHighlightColor,
                    opacity: l.premoveHighlightOpacity,
                    square: f.from,
                    type: "gtm"
                });
                h.push(e)
            }
            const p = createKeyedHighlight({
                color: l.premoveHighlightColor,
                opacity: l.premoveHighlightOpacity,
                square: f.kingTo || f.to,
                type: "gtm"
            });
            return h.push(p),
            h
        }
        function createGuessTheMoveModePlugin() {
            let e = !1;
            return {
                api: createGuessTheMoveAPI,
                apiOverrides: {
                    move: createMove$4
                },
                beforeState: [{
                    condition: is$1(f.UserEvents.PointerdownRight),
                    handler: function cancelGuess(e, {api: t, queue: n}) {
                        if (!t.guessTheMove.getActiveGuess())
                            return !0;
                        return n.add(t.guessTheMove.cancel),
                        !1
                    }
                }],
                destroy: function destroy10(e) {
                    var t;
                    const {api: n} = e;
                    null == (t = n.highlights) || t.removeModule(getGuessTheMoveHighlights)
                },
                match: [{
                    condition: isOneOf(Un),
                    handler: function handler2(e, t) {
                        const {api: n, queue: a} = t;
                        e.type === f.APIEvents.Load && n.guessTheMove.reset();
                        const l = n.getTurn();
                        a.add(n.setPlayingAs, l)
                    }
                }, {
                    condition: isOneOf(li.APIEvents),
                    handler: function addHighlights(t, n) {
                        var a, l, f;
                        if (e)
                            return;
                        const {api: h} = n;
                        null == (a = h.highlights) || a.addModule(getGuessTheMoveHighlights),
                        (null != (f = null == (l = h.highlights) ? void 0 : l.getModules()) ? f : []).find((e=>"getGuessTheMoveHighlights" === e.name)) && (e = !0)
                    }
                }, {
                    condition: is$1(li.APIEvents.GuessConfirmed),
                    handler: function handleGuessConfirmation(e, t) {
                        const {api: n} = t
                          , {correct: a, ids: l} = e.data;
                        n.updateNode(l, {
                            customColor: a ? li.Colors.Correct : li.Colors.Incorrect
                        })
                    }
                }],
                name: li.Plugin.Name
            }
        }
        const pi = createModeFactory((function base$4({api: e}) {
            return {
                isAllowedToMove: function isAllowedToMove() {
                    return e.guessTheMove && e.isAtEndOfLine() && !e.guessTheMove.getActiveGuess()
                },
                handleIllegalMove: createHandleIllegalMove(e),
                name: Zo.Types.GuessTheMove,
                plugins: [createGuessTheMoveModePlugin()],
                usePlayingAs: !0
            }
        }
        ), {
            canAddMovesToMainLine: {
                default: !0,
                editable: !1
            },
            canInteractWithPieces: {
                default: !0,
                editable: !0
            },
            canModifyExistingMovesOnMainLine: {
                default: !1,
                editable: !1
            }
        });
        var mi = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: pi
        });
        function createLoad$1(e) {
            const {api: t, respond: n} = e
              , a = t.load;
            return function load3(e, l) {
                const f = t.observing;
                return f.setCachedPGN(""),
                f.isAnalyzing() && (f.clearCachedIds(),
                n(Br.APIEvents.AnalysisEnd)),
                a(e, l)
            }
        }
        function isNullNode(e) {
            return Boolean(e && "san"in e && "--" === e.san)
        }
        function createMove$3(e) {
            const {api: t, respond: n, game: a} = e
              , l = t.move;
            return function move(e) {
                const h = t.observing.getCachedPGN();
                return h && t.load({
                    pgn: h
                }),
                e.userGenerated ? function userGeneratedMove(e) {
                    var h;
                    const p = t.observing
                      , {move: m, line: g} = a.ids()
                      , v = p.isAnalyzing()
                      , y = isMainLine(g);
                    0 === (null == (h = t.getLine(0)) ? void 0 : h.length) && a.move("--");
                    const b = t.getNodeByIds({
                        line: 0,
                        move: 0
                    });
                    isNullNode(b) && isNullNode(t.getSelectedNode()) && t.selectNode(0, -1);
                    if (isNullNode(b) && "san"in e) {
                        const n = I.J.sanToObj(e.san, t.getFEN());
                        Object.assign(e, n),
                        e.san = ""
                    }
                    y && !canMoveForward({
                        api: t,
                        followAlternateLines: !0,
                        mv: e
                    }) && t.isAtEndOfLine() && t.createContinuation();
                    const _ = l(e);
                    if ((null == _ ? void 0 : _.type) !== f.APIEvents.Move)
                        return _;
                    const C = isMainLine(a.ids().line);
                    !y || C || v || (p.setCachedIds(m, g),
                    n(Br.APIEvents.AnalysisStart));
                    return _
                }(e) : function programmaticMove(e) {
                    const n = t.observing
                      , f = isNullNode(t.getNodeByIds({
                        line: 0,
                        move: 0
                    }))
                      , h = t.getLine(0);
                    if (f && 1 === (null == h ? void 0 : h.length))
                        return void function replaceNullMove({move: e, api: t, game: n}) {
                            const a = t.observing
                              , l = n.ids();
                            n.selectPosition(0, 0),
                            n.createVariation(),
                            n.move(e);
                            const f = t.getRawLines().length - 1;
                            n.promoteVariation(f, 0),
                            n.deletePosition(0, f);
                            const {playSounds: h} = t.getOptions();
                            h && t.setOptions({
                                playSounds: !1
                            });
                            const p = a.getCachedIds();
                            p && a.clearCachedIds(),
                            t.load({
                                pgn: t.getPGN()
                            }),
                            h && t.setOptions({
                                playSounds: !0
                            }),
                            p && a.setCachedIds(p.move, p.line),
                            t.selectNode(l.line, l.move)
                        }({
                            move: e,
                            api: t,
                            game: a
                        });
                    if (n.isAnalyzing() || !t.isAtEndOfLine())
                        return t.addMoveToEndOfLine(e, 0);
                    return l(e, !1)
                }(e)
            }
        }
        function createMoveForward$1({api: e}) {
            const t = e.moveForward;
            return function moveForward(n, a) {
                return t(function defaultToFalseWhenNotAnalyzing() {
                    return null != n ? n : !!e.observing.isAnalyzing() && void 0
                }(), a)
            }
        }
        function createRestorePosition(e) {
            const {api: t} = e;
            return function restorePosition2(e, n) {
                const a = t.observing;
                if (!a.isAnalyzing())
                    return;
                if (isNullNode(t.getNodeByIds({
                    line: 0,
                    move: 0
                }))) {
                    const e = t.getPGN();
                    return t.load({
                        pgn: "*"
                    }),
                    void a.setCachedPGN(e)
                }
                const l = a.getCachedIds();
                e ? t.load(e, n) : t.load({
                    pgn: t.getPGN()
                }),
                l && t.selectNode(l.line, l.move)
            }
        }
        function createObservingModeAPI(e) {
            let t, n = "";
            return {
                clearCachedIds: function clearCachedIds() {
                    t = void 0
                },
                getCachedIds: function getCachedIds() {
                    return t
                },
                isAnalyzing: function isAnalyzing2() {
                    return Boolean(t)
                },
                restorePosition: createRestorePosition(e),
                setCachedIds: function setCachedIds(e, n) {
                    t = {
                        move: e,
                        line: n
                    }
                },
                setCachedPGN: function setCachedPGN(e) {
                    n = e
                },
                getCachedPGN: function getCachedPGN() {
                    return n
                }
            }
        }
        function lineChanged({data: e}) {
            return void 0 !== e.lineDiff && 0 !== e.lineDiff
        }
        function isNotAnalyzing(e, t) {
            return !isAnalyzing(e, t)
        }
        function isAnalyzing(e, {api: t}) {
            return t.observing.isAnalyzing()
        }
        function nullMovePresent(e, t) {
            const {api: n} = t;
            return isNullNode(n.getNodeByIds({
                line: 0,
                move: 0
            }))
        }
        function nullMoveAbsent(e, t) {
            const {api: n} = t;
            return !isNullNode(n.getNodeByIds({
                line: 0,
                move: 0
            }))
        }
        function nullMoveSelected(e, t) {
            const {api: n} = t;
            return isNullNode(n.getSelectedNode())
        }
        function startingPositionSelected(e, t) {
            var n, a;
            const {api: l} = t
              , f = l.getSelectedNode();
            return 0 === (null == (n = null == f ? void 0 : f.ids) ? void 0 : n.line) && -1 === (null == (a = null == f ? void 0 : f.ids) ? void 0 : a.move)
        }
        function variationSelected(e, t) {
            const {api: n} = t
              , a = n.getSelectedNode();
            return Boolean(a && 0 !== a.ids.line)
        }
        function firstVariationEmpty(e, t) {
            const {api: n} = t
              , a = n.getLine(1);
            return Boolean(!a || 0 === a.length)
        }
        function firstNodeDeletedFromVariation(e, t) {
            var n;
            const {data: a} = e;
            return Boolean(0 === (null == (n = a.line) ? void 0 : n.atMoveNode))
        }
        function startAnalysis(e, t) {
            const {api: n, queue: a} = t;
            n.observing.isAnalyzing() || a.add((function initAnalysis() {
                const e = function getMainLineAncestorIds() {
                    var e;
                    const t = null == (e = n.getSelectedNode()) ? void 0 : e.ids;
                    if (!t)
                        return;
                    if (0 === t.line)
                        return t;
                    let a = n.getLine(t.line);
                    for (; a.parentId && a.parentId > 1; )
                        a = n.getLine(a.parentId);
                    return {
                        line: a.parentId,
                        move: a.atMoveNode
                    }
                }();
                e && (n.observing.setCachedIds(e.move, e.line),
                n.getContext().respond(Br.APIEvents.AnalysisStart))
            }
            ))
        }
        function selectFirstVariationNode(e, t) {
            const {api: n, queue: a} = t;
            a.add((function selectNode2() {
                n.selectNode(1, 0)
            }
            ))
        }
        function selectFirstVariationEnd(e, t) {
            const {api: n, queue: a} = t
              , l = n.getLine(1);
            if (l) {
                const e = Math.max(...l.map((e=>e.moveNumber)));
                a.add((function selectNode2() {
                    n.selectNode(1, e)
                }
                ))
            }
        }
        function removeNullMoveAndRestorePosition(e, t) {
            const {api: n} = t
              , a = n.observing;
            n.deletePosition(0, 0),
            a.setCachedPGN(""),
            a.restorePosition()
        }
        function selectStartingPosition(e, t) {
            const {api: n, queue: a} = t;
            a.add((function selectNode2() {
                n.selectNode(0, -1)
            }
            ))
        }
        function refreshAnalysisOverlay(e, t) {
            const {api: n} = t
              , a = n.observing
              , {overlayInAnalysisMode: l} = n.getOptions()
              , f = a.isAnalyzing();
            f !== l && n.setOptions({
                overlayInAnalysisMode: f
            })
        }
        function restorePosition(e, t) {
            const {api: n} = t;
            n.observing.restorePosition()
        }
        function selectNullNode(e, t) {
            const {api: n, queue: a} = t;
            a.add((function selectNode2() {
                n.selectNode(0, 0)
            }
            ))
        }
        function resetCachedIds(e, t) {
            var n, a, l, f, h, p;
            const {api: m} = t
              , g = m.observing
              , v = null == (n = m.getSelectedNode()) ? void 0 : n.ids;
            if (!v)
                return;
            if (0 === v.line)
                return void g.setCachedIds(v.move, v.line);
            let y = null == (a = m.getLine(v.line)) ? void 0 : a.id;
            if (!y)
                return;
            for (; null == (l = m.getLine(y)) ? void 0 : l.parentId; ) {
                const e = null == (f = m.getLine(y)) ? void 0 : f.parentId;
                if ("number" == typeof e && (y = e),
                !e)
                    break
            }
            const b = (null != (p = null == (h = m.getLine(y)) ? void 0 : h.atMoveNode) ? p : 0) - 1;
            g.setCachedIds(b, 0)
        }
        const gi = createModeFactory((function base$3() {
            return {
                isAllowedToMove: function isAllowedToMove() {
                    return !0
                },
                name: Zo.Types.Observing,
                plugins: [createAnalysisOverlayPlugin(), {
                    api: createObservingModeAPI,
                    apiOverrides: {
                        load: createLoad$1,
                        move: createMove$3,
                        moveForward: createMoveForward$1
                    },
                    create: function create3(e) {
                        const {api: t} = e;
                        t.setOptions({
                            overlayInAnalysisMode: !1
                        })
                    },
                    match: [{
                        condition: isOneOf([Br.APIEvents.AnalysisStart, Br.APIEvents.AnalysisEnd]),
                        handler: refreshAnalysisOverlay
                    }, {
                        condition: pipeConditions(isOneOf(Un), isAnalyzing),
                        handler: resetCachedIds
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.ResetToMainLine), nullMovePresent),
                        handler: removeNullMoveAndRestorePosition
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.ResetToMainLine), nullMoveAbsent),
                        handler: restorePosition
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.DeletePosition), nullMovePresent, firstVariationEmpty),
                        handler: removeNullMoveAndRestorePosition
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.DeletePosition), nullMovePresent, firstNodeDeletedFromVariation),
                        handler: selectNullNode
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.DeletePosition), nullMoveAbsent, firstVariationEmpty),
                        handler: restorePosition
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.SelectNode), nullMoveSelected),
                        handler: selectStartingPosition
                    }, {
                        condition: pipeConditions(is$1(f.InstanceEvents.ModeChanged), variationSelected),
                        handler: startAnalysis
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.SelectNode), nullMoveAbsent, variationSelected),
                        handler: startAnalysis
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.MoveForward), isNotAnalyzing, lineChanged),
                        handler: startAnalysis
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.MoveForward), nullMovePresent, or(nullMoveSelected, startingPositionSelected)),
                        handler: selectFirstVariationNode
                    }, {
                        condition: pipeConditions(is$1(f.APIEvents.SelectLineEnd), nullMovePresent, or(nullMoveSelected, startingPositionSelected)),
                        handler: selectFirstVariationEnd
                    }],
                    name: Br.Plugin.Name
                }]
            }
        }
        ), {
            canAddMovesToMainLine: {
                default: !0,
                editable: !1
            },
            canInteractWithPieces: {
                default: !0,
                editable: !0
            },
            canModifyExistingMovesOnMainLine: {
                default: !1,
                editable: !1
            }
        });
        var vi, yi, bi = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: gi
        });
        function createMove$2(e) {
            const {api: t} = e
              , n = t.move
              , a = function handleMoveOnPreviousNodeFactory(e) {
                const {api: t} = e;
                return function handleMoveOnPreviousNode() {
                    if (!t.isAtEndOfLine())
                        if (t.getMode().getOptions().canModifyExistingMovesOnMainLine) {
                            const {line: e, move: n} = getIdsToDelete(t.getRelativeNode());
                            t.deletePosition(n, e)
                        } else
                            t.selectLineEnd()
                }
            }(e);
            return function move(e) {
                return t.isGameOver() && t.getMode().getOptions().canMoveWhenGameIsOver && t.setResult(Xn.Results.None),
                a(),
                n(e)
            }
        }
        (function(e) {
            e.Name = "playing"
        }
        )((yi = vi || (vi = {})).Plugin || (yi.Plugin = {}));
        const _i = createModeFactory((function base$2({api: e}) {
            return {
                handleIllegalMove: createHandleIllegalMove(e),
                isAllowedToMove: function isAllowedToMove() {
                    return isAllowedToMoveInPlayingMode({
                        api: e,
                        canMoveWhenNotPlayerTurn: !1,
                        modeOptions: e.getMode().getOptions()
                    })
                },
                name: Zo.Types.Playing,
                plugins: [{
                    apiOverrides: {
                        move: createMove$2
                    },
                    name: vi.Plugin.Name
                }],
                overridableMethods: ["isAllowedToMove"],
                usePlayingAs: !0
            }
        }
        ), {
            canAddMovesToMainLine: {
                default: !0,
                editable: !0
            },
            canMoveWhenGameIsOver: {
                default: !1,
                editable: !0
            },
            canInteractWithPieces: {
                default: !0,
                editable: !0
            },
            canModifyExistingMovesOnMainLine: {
                default: !1,
                editable: !0
            }
        });
        var Ci = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: _i
        });
        const Ei = createModeFactory((function base$1() {
            return {
                isAllowedToMove: function isAllowedToMove() {
                    return !1
                },
                name: Zo.Types.PassiveObserving
            }
        }
        ), {
            canAddMovesToMainLine: {
                default: !1,
                editable: !1
            },
            canInteractWithPieces: {
                default: !1,
                editable: !1
            },
            canModifyExistingMovesOnMainLine: {
                default: !1,
                editable: !1
            }
        });
        var Ai, Si, xi = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: Ei
        });
        function createDropPiece(e) {
            return function dropPiece({piece: t, square: n}) {
                const {api: a, game: l} = e;
                return l.remove(n),
                l.put(t, n),
                a.setGameDetails({
                    FEN: l.fen()
                }),
                a.reload()
            }
        }
        function createMovePiece(e) {
            return function movePiece({from: t, piece: n, to: a}) {
                const {api: l, game: f} = e;
                return f.remove(t),
                f.remove(a),
                f.put(n, a),
                l.setGameDetails({
                    FEN: f.fen()
                }),
                l.reload()
            }
        }
        function createRemovePiece(e) {
            return function removePiece(t) {
                const {api: n, game: a} = e;
                return a.remove(t),
                n.setGameDetails({
                    FEN: a.fen()
                }),
                n.reload()
            }
        }
        function createSetupAPI(e) {
            return {
                dropPiece: createDropPiece(e),
                movePiece: createMovePiece(e),
                removePiece: createRemovePiece(e)
            }
        }
        function createGetMove$1() {
            return function getMove(e) {
                return e
            }
        }
        function createMove$1(e) {
            const {api: t} = e;
            return function move(e) {
                const {color: n, drop: a, from: l, to: f} = e
                  , {setup: h} = t
                  , p = n && a ? {
                    color: n,
                    type: a
                } : t.getPiece(l);
                p && (l && f ? h.movePiece({
                    from: l,
                    piece: p,
                    to: f
                }) : f ? h.dropPiece({
                    piece: p,
                    square: f
                }) : l && h.removePiece(l))
            }
        }
        (function(e) {
            e.DropPiece = "DropPiece",
            e.MovePiece = "MovePiece",
            e.RemovePiece = "RemovePiece"
        }
        )((Si = Ai || (Ai = {})).Events || (Si.Events = {})),
        function(e) {
            e.Name = "setup"
        }(Si.Plugin || (Si.Plugin = {}));
        const wi = createModeFactory((function base() {
            return {
                isAllowedToMove: function isAllowedToMove() {
                    return !0
                },
                name: Zo.Types.Setup,
                plugins: [{
                    api: createSetupAPI,
                    apiOverrides: {
                        getMove: createGetMove$1,
                        isLegalMove: ()=>!0,
                        move: createMove$1
                    },
                    name: Ai.Plugin.Name
                }]
            }
        }
        ), {
            canAddMovesToMainLine: {
                default: !1,
                editable: !1
            },
            canDropOffBoard: {
                default: !0,
                editable: !1
            },
            canInteractWithPieces: {
                default: !0,
                editable: !0
            },
            canModifyExistingMovesOnMainLine: {
                default: !1,
                editable: !1
            },
            canDropPiecesContinuously: {
                default: !0,
                editable: !0
            }
        });
        var Pi = Object.freeze({
            __proto__: null,
            [Symbol.toStringTag]: "Module",
            create: wi
        });
        function getExtendedNode({move: e, startingMoveNumber: t}) {
            if (!e)
                return null;
            const {moveNumber: n} = e
              , a = n % 2 == 0 && e.color === Xn.ColorsAsNumbers.Black || n % 2 != 0 && e.color === Xn.ColorsAsNumbers.White
              , l = t + Math.floor(n / 2) + (a && e.color === Xn.ColorsAsNumbers.White ? 1 : 0);
            return __spreadProps(__spreadValues({}, e), {
                ply: e.ids.move + 1,
                wholeMoveNumber: l
            })
        }
        function getTimestamp({baseTimeDs: e, incrementDs: t, lastTimeDs: n, currentTimeDs: a}) {
            if (!a)
                return 1;
            const l = (null != n ? n : e) - (a - t);
            return Math.max(l, 1)
        }
        function calculateTimestampValue({api: e, node: t}) {
            const n = e.getLine(0)
              , a = e.timeControl.get();
            if (!n || !a)
                return null;
            const l = t.time
              , f = getPreviousNodeOfSameColor({
                api: e,
                node: t
            })
              , h = null == f ? void 0 : f.time
              , {baseTime: p, increment: m} = a;
            return getTimestamp({
                baseTimeDs: millisecondsToDeciseconds(p),
                incrementDs: millisecondsToDeciseconds(m),
                lastTimeDs: h,
                currentTimeDs: l
            })
        }
        function formatClk(e) {
            const t = Math.floor(e % 36e3 / 600)
              , n = Math.floor(e % 36e3 % 600) / 10;
            return `${Math.floor(e / 36e3)}:${t < 10 ? "0" : ""}${t}:${n < 10 ? "0" : ""}${n}`
        }
        function handleTimestamp({context: e, time: t}) {
            const {api: n, game: a} = e
              , l = a.moveDetails();
            l.time = t,
            function setClkOnNode({api: e, node: t, clk: n}) {
                const {line: a, move: l} = t.ids
                  , f = e.getContext().game;
                t.commands || (t.commands = {}),
                f.updateNode({
                    commands: Object.assign(t.commands, {
                        clk: null === n ? n : formatClk(n)
                    })
                }, l, a)
            }({
                api: n,
                node: l,
                clk: t
            });
            const f = calculateTimestampValue({
                api: n,
                node: l
            });
            f && setTimestampOnNode({
                api: n,
                node: l,
                timestamp: f
            })
        }
        function createAddMoveToEndOfLine(e) {
            return function addMoveToEndOfLine(t, n=0) {
                var a;
                const {api: l, game: h, mutateGame: p, respond: m} = e
                  , {ids: g} = null != (a = l.getSelectedNode()) ? a : {
                    ids: {
                        move: -1,
                        line: 0
                    }
                }
                  , {move: v, line: y} = g;
                h.selectLineEnd(n);
                const b = p((function callMethod() {
                    h.move(t, !1),
                    t.time && handleTimestamp({
                        context: e,
                        time: t.time
                    })
                }
                ));
                return h.selectPosition(v, y),
                null === b ? m(f.APIEvents.IllegalMove, {
                    fen: h.fen(),
                    move: t
                }) : (b.move = getExtendedNode({
                    move: b.move,
                    startingMoveNumber: h.startingMoveNumber()
                }) || void 0,
                m(f.APIEvents.AddMove, {
                    listMove: b.move
                }))
            }
        }
        function createAgreeDraw(e) {
            return function agreeDraw() {
                const {api: t, respond: n} = e;
                return t.isGameOver() ? null : (t.setResult(Xn.Results.Draw),
                n(f.APIEvents.DrawAgreed))
            }
        }
        function createBlinkHighlight(e) {
            return function blinkHighlight(t) {
                const {respond: n} = e
                  , a = {
                    data: t,
                    type: $
                };
                return n(f.APIEvents.BlinkHighlight, [a])
            }
        }
        function tryMovingForward(e) {
            const {move: t, followContinuations: n=!0, steps: a=1, context: l} = e
              , {mutateGame: f, game: h} = l
              , p = h.ids()
              , m = f((function callMethod() {
                h.moveForward(n, t)
            }
            ));
            let g = 1 === (null == m ? void 0 : m.plyDiff);
            if (a > 1 && g)
                for (let y = 1; y < a && (g = h.moveForward(n),
                g); y++)
                    ;
            const v = h.ids();
            return h.selectPosition(p.move, p.line),
            {
                firstStepData: m,
                startIds: p,
                endIds: v,
                success: g
            }
        }
        function createCanMoveForward(e) {
            return function canMoveForward2(t) {
                const {move: n, followContinuations: a, steps: l} = null != t ? t : {}
                  , {success: f} = tryMovingForward({
                    context: e,
                    move: n,
                    followContinuations: a,
                    steps: l
                });
                return f
            }
        }
        function isClaimableDraw(e) {
            return e.inThreefoldRepetition() || e.in50MoveRule()
        }
        function createClaimDraw(e) {
            return function claimDraw() {
                const {api: t, game: n} = e;
                return t.isGameOver() ? null : isClaimableDraw(n) ? (t.setResult(Xn.Results.Draw),
                e.respond(f.APIEvents.DrawClaimed)) : null
            }
        }
        const Ti = {
            ClearMarkings: buildMarkingsWarning("clearMarkings", "api.markings.removeAll/removeAllWhere/removeMany/removeOne"),
            Mark: buildMarkingsWarning("mark", "api.markings.addOne/addMany"),
            ToggleMarking: buildMarkingsWarning("toggleMarking", "api.markings.toggleOne/toggleMany"),
            Unmark: buildMarkingsWarning("unmark", "api.markings.removeOne/removeMany")
        };
        function buildMarkingsWarning(e, t) {
            return `The "${e}" method is deprecated and will be removed in v2.0.0. Please use the ${t} methods instead.`
        }
        function createClearMarkings(e) {
            return function clearMarkings(t, n={}) {
                console.warn(Ti.ClearMarkings);
                const {api: a, respond: l} = e
                  , h = a.markings
                  , p = null == t ? void 0 : t.map((e=>"square" === e ? "highlight" : e));
                return h.removeAllWhere(__spreadProps(__spreadValues({}, n), {
                    types: p
                })),
                l(f.APIEvents.ClearMarkings)
            }
        }
        function createCreateContinuation(e) {
            return function createContinuation() {
                const {api: t, game: n, respond: a} = e
                  , l = n._getPos();
                if ("initial"in l)
                    return null;
                n.createVariation(),
                n.move(l);
                const h = t.getRelativeNode();
                return a(f.APIEvents.CreateContinuation, {
                    node: h
                })
            }
        }
        function createDeletePosition(e) {
            return function deletePosition(t, n) {
                const {api: a, game: l, respond: h} = e
                  , p = a.getRawLines()[n];
                return l.deletePosition(t, n),
                0 === n && a.getResult() !== Xn.Results.None && a.setResult(Xn.Results.None),
                h(f.APIEvents.DeletePosition, {
                    ids: {
                        line: n,
                        move: t
                    },
                    line: p,
                    pieces: a.getPieces()
                })
            }
        }
        function createExtendAPI(e) {
            const t = {};
            return function extendAPI(n, a) {
                const l = Object.entries(a).map((([a,l])=>{
                    if (l)
                        return t[a] || (t[a] = {
                            extensions: {},
                            original: e.api[a]
                        }),
                        e.api[a] = l(e),
                        t[a].extensions[n] = l,
                        function destroyOverride() {
                            delete t[a].extensions[n],
                            e.api[a] = t[a].original,
                            Object.keys(t[a].extensions).map((n=>e.api[a] = t[a].extensions[n](e)))
                        }
                }
                ));
                return function destroyOverride() {
                    l.map((e=>e && e()))
                }
            }
        }
        function createGetCalculatedResult(e) {
            return function getCalculatedResult() {
                const {api: t, game: n} = e;
                let a = Xn.Results.None;
                const l = isClaimableDraw(n);
                return !function isJCEWin(e) {
                    return e.inCheckmate() || Boolean(e.isVariantWin()) || Boolean(e.isBughouseWin())
                }(n) ? (l && t.getOptions().autoClaimDraw || !l && n.inDraw()) && (a = Xn.Results.Draw) : a = n.turn() === Xn.ColorsAsNumbers.Black ? Xn.Results.White : Xn.Results.Black,
                a
            }
        }
        function createGetContext(e) {
            return function getContext() {
                return e
            }
        }
        function createGetCurrentFullLine(e) {
            return function getCurrentFullLine() {
                const {game: t} = e;
                return t.history({
                    toCurrent: !0,
                    verbose: !0
                })
            }
        }
        function createGetFen(e) {
            return function getFEN() {
                const {game: t} = e;
                return t.fen()
            }
        }
        function createGetFingerprints(e) {
            return function getFingerprints() {
                return I.J.gameFingerprints({
                    game: e.game,
                    analysis: !0
                })
            }
        }
        function createGetHeaders(e) {
            return function getHeaders() {
                const {game: t} = e;
                return t.headers()
            }
        }
        function isFirstNodeInLine(e) {
            return -1 === e
        }
        function createGetHistoryFENs(e) {
            return function getHistoryFENs(t=!1) {
                const {game: n} = e
                  , a = n._getPos();
                return a.ids && 0 === a.ids.line && isFirstNodeInLine(a.ids.move) && a.fen ? [a.fen] : n.history({
                    toCurrent: !t,
                    verbose: !0
                }).map((e=>e.fen))
            }
        }
        function createGetHistorySANs(e) {
            return function getHistorySANs() {
                const {game: t} = e;
                return t.history(!1)
            }
        }
        function createGetJCEGameCopy(e) {
            return function getJCEGameCopy() {
                var t;
                const {api: n} = e
                  , a = (null == (t = n.premoves) ? void 0 : t.getQueue()) || []
                  , l = I.J.createGame({
                    pgn: n.getPGN(),
                    analysis: !0,
                    timestamps: n.times.get() || n.timestamps.get() || void 0
                });
                return l ? (l.premove.queue.push(...a),
                l) : null
            }
        }
        function createGetLastMove(e) {
            return function getLastMove() {
                const {game: t} = e;
                return t.history(!0).slice(-1)[0]
            }
        }
        function createGetLegalMoves(e) {
            return function getLegalMoves() {
                const {game: t} = e;
                return I.J.getLegalMoves({
                    game: t
                })
            }
        }
        function createGetLegalMovesForSquare(e) {
            return function getLegalMovesForSquare(t) {
                return e.api.getLegalMoves().filter((e=>void 0 === t || e.from === t)).map((e=>e.to)).filter(((e,t,n)=>n.indexOf(e) === t))
            }
        }
        function createGetLine(e) {
            return function getLine(t) {
                const {game: n} = e
                  , a = n.startingMoveNumber()
                  , l = e.api.getRawLines()[t];
                if (l)
                    return l.forEach(((e,t)=>{
                        const n = getExtendedNode({
                            move: e,
                            startingMoveNumber: a
                        });
                        l[t] = n
                    }
                    )),
                    l
            }
        }
        function createGetMarkings(e) {
            return function getMarkings2() {
                const {api: t} = e;
                return function convertMarkingsToCollection(e) {
                    const t = {
                        [Xn.Node.Marking.Types.Arrow]: {},
                        [Xn.Node.Marking.Types.CustomItem]: {},
                        [Xn.Node.Marking.Types.Effect]: {},
                        [Xn.Node.Marking.Types.Square]: {}
                    };
                    return e.map((e=>{
                        var t;
                        return __spreadValues({
                            markingType: "highlight" === e.type ? "square" : e.type,
                            key: null != (t = e.data.square) ? t : `${e.data.from}${e.data.to}`,
                            color: Hn.Default
                        }, e.data)
                    }
                    )).reduce(((e,t)=>{
                        const {key: n, markingType: a} = t;
                        return e[a][n] = t,
                        e
                    }
                    ), t)
                }(t.markings.getAll())
            }
        }
        function createGetMaterial(e) {
            return function getMaterial() {
                const {game: t} = e;
                return t.material()
            }
        }
        function createGetMove(e) {
            return function getMove(t) {
                const {game: n} = e;
                if (null === t.to)
                    return null;
                let a = n.getMove(t);
                return null === a && (Object.assign(t, {
                    promotion: "q"
                }),
                a = n.getMove(t)),
                a && (a = n.moveDetails(a)),
                a
            }
        }
        function createGetNodeByIds(e) {
            return function getNodeByIds(t) {
                const {api: n, game: a} = e
                  , l = n.getRawLines()[t.line];
                return l ? isFirstNodeInLine(t.move) ? l : getExtendedNode({
                    move: l[t.move],
                    startingMoveNumber: a.startingMoveNumber()
                }) : null
            }
        }
        function getMoveNumber(e) {
            const {moveNumber: t} = e;
            return void 0 !== t ? t : -1
        }
        function getEPCapturedSquare(e) {
            if (e.flags === Xn.Move.Flags.EPCapture && e.from)
                return `${e.to.slice(0, 1)}${e.from.slice(-1)}`
        }
        function extend(e) {
            const t = __spreadProps(__spreadValues({}, e), {
                EPCapturedSquare: getEPCapturedSquare(e)
            });
            return e.rookFrom && e.rookTo && (t.rookMove = {
                animate: !0,
                from: e.rookFrom,
                to: e.rookTo
            }),
            t
        }
        function createGetNodeDiffData(e) {
            return function getNodeDiffData(t, n) {
                const {api: a, game: l} = e
                  , f = null != n ? n : l._getPos()
                  , h = null != t ? t : l._getPos(-1, 0)
                  , p = {};
                return p.plyDiff = function getPlyDiff(e, t) {
                    return getMoveNumber(t) - getMoveNumber(e)
                }(h, f),
                p.lineDiff = function getLineDiff(e, t) {
                    return t.ids.line - e.ids.line
                }(h, f),
                -1 === p.plyDiff ? p.move = extend(__spreadProps(__spreadValues({}, t), {
                    animate: !0
                })) : 1 === p.plyDiff ? (p.animate = !0,
                p.move = extend(__spreadProps(__spreadValues({}, f), {
                    animate: !0
                }))) : p.pieces = a.getPieces(),
                p
            }
        }
        function createGetNodeIds(e) {
            return function getNodeIds() {
                const {game: t} = e;
                return t.ids()
            }
        }
        function createGetPieces(e) {
            return function getPieces() {
                const {game: t} = e;
                return createCollection(t.getPieces(!0))
            }
        }
        function createGetPGN(e) {
            return function getPGN(t={}) {
                const {game: n} = e;
                return n.pgn(__spreadProps(__spreadValues({}, t), {
                    useResultHeader: !0
                }))
            }
        }
        function createGetPiece(e) {
            return function getPiece(t) {
                const {game: n} = e;
                return n.get(t)
            }
        }
        function createGetPosition(e) {
            return function getPosition2(t, n) {
                const {game: a} = e;
                return a._getPos(t, n)
            }
        }
        function createGetPositionDetails(e) {
            return function getPositionDetails(t) {
                const n = e.api.getPGN();
                return I.J.getPositionDetails({
                    pgn: n
                }, t)
            }
        }
        function createGetPositionInfo(e) {
            return function getPositionInfo(t=[]) {
                const {api: n} = e
                  , a = I.J.getPositionInfo(n.getFEN(), t, {
                    variant: Xn.JCEVariantTypes[n.getVariant()]
                });
                return "object" == typeof a && __spreadProps(__spreadValues({}, a), {
                    gameOver: n.isGameOver()
                })
            }
        }
        function createGetRawLines(e) {
            return function getRawLines() {
                const {game: t} = e;
                return t._lines()
            }
        }
        function createGetRelativeNode(e) {
            return function getRelativeNode(t=0) {
                const {game: n} = e
                  , a = __spreadValues({}, n.ids());
                a.move += t;
                const l = e.api.getRawLines()[a.line];
                return isFirstNodeInLine(a.move) ? l : getExtendedNode({
                    move: l[a.move],
                    startingMoveNumber: n.startingMoveNumber()
                })
            }
        }
        function createGetResult(e) {
            return function getResult() {
                const {game: t} = e;
                return t.headers().Result
            }
        }
        function createGetSelectedNode(e) {
            return function getSelectedNode() {
                const {api: t, game: n} = e
                  , a = n.ids();
                if (isFirstNodeInLine(a.move))
                    return null;
                return getExtendedNode({
                    move: t.getRawLines()[a.line][a.move],
                    startingMoveNumber: n.startingMoveNumber()
                })
            }
        }
        function createGetTCN(e) {
            return function getTCN() {
                const {game: t} = e;
                return I.J.encodeTCN(t.history(!0))
            }
        }
        function createGetTurn(e) {
            return function getTurn() {
                const {game: t} = e;
                return t.turn()
            }
        }
        const Mi = {
            "3-check": Xn.Variants.ThreeCheck,
            Bughouse: Xn.Variants.Bughouse,
            Chess: Xn.Variants.Chess,
            Chess960: Xn.Variants.Chess960,
            Crazyhouse: Xn.Variants.Crazyhouse,
            "King of the Hill": Xn.Variants.KingOfTheHill
        };
        function createGetVariant(e) {
            return function getVariant() {
                var t;
                const {api: n} = e
                  , a = n.getHeaders().Variant;
                return a && null != (t = Mi[a]) ? t : Xn.Variants.Chess
            }
        }
        function createIsAtEndOfLine(e) {
            return function isAtEndOfLine() {
                const {game: t} = e
                  , n = t.ids();
                return e.api.getRawLines()[n.line].length - 1 === n.move
            }
        }
        function createIsCheck(e) {
            return function isCheck2() {
                const {game: t} = e;
                if (t.inCheck()) {
                    const n = e.api.getPieces();
                    return n.keys().filter((e=>{
                        const a = n.get(e);
                        return "k" === a.type && a.color === t.turn()
                    }
                    ))[0]
                }
                return !1
            }
        }
        function createIsGameOver(e) {
            return function isGameOver() {
                const {api: t} = e;
                return "*" !== t.getResult()
            }
        }
        function createIsLegalMove(e) {
            return function isLegalMove(t) {
                const {game: n} = e;
                return null !== n.getMove(t)
            }
        }
        function createLoad(e) {
            return function load3({fen: t, moves: n, pgn: a, times: l, timestamps: h, timeControl: p, variant: m=Xn.Variants.Chess, pieces: g}, v) {
                const {api: y, game: b, respond: _} = e;
                let C = !1;
                if (a) {
                    const e = function convertNagsToAnnotations(e) {
                        let t = e;
                        return Object.keys(Eo).reverse().forEach((e=>{
                            t = t.replace(new RegExp(`\\${e}`,"gm"), Eo[e])
                        }
                        )),
                        t
                    }(a);
                    C = b.loadPgn(e)
                } else
                    t && (C = b.load(t, m));
                (n || "" === n) && (C = b.loadMoves(n, __spreadValues({
                    autoPromote: !0
                }, v)));
                const A = y.getLine(0)
                  , S = l ? function convertTimesToTimestamps(e, t) {
                    if (t && e) {
                        const n = millisecondsToDeciseconds(e.baseTime)
                          , a = millisecondsToDeciseconds(e.increment);
                        return t.map(((e,l)=>"number" != typeof e ? e : getTimestamp({
                            baseTimeDs: n,
                            incrementDs: a,
                            lastTimeDs: l <= 1 ? void 0 : t[l - 2],
                            currentTimeDs: e
                        })))
                    }
                    return t
                }(p || y.timeControl.get(), l) : h;
                if (S && A && A.forEach(((e,t)=>{
                    const n = S[t];
                    void 0 !== n && setTimestampOnNode({
                        api: y,
                        node: e,
                        timestamp: n
                    })
                }
                )),
                p && y.timeControl.set(p),
                !C)
                    throw new ChessError({
                        code: go.BadData,
                        data: {
                            fen: t,
                            pgn: a
                        },
                        message: "Unable to load with provided data."
                    });
                const x = y.getResult();
                return y.setResult(x === Xn.Results.None ? y.getCalculatedResult() : x),
                _(f.APIEvents.Load, __spreadProps(__spreadValues(__spreadValues({}, I.J.getPositionDetails({
                    game: b,
                    skipValidation: !0
                })), I.J.getPositionInfo({
                    analysis: !0,
                    game: b
                })), {
                    line: A,
                    pieces: null != g ? g : y.getPieces(),
                    variant: m
                }))
            }
        }
        function formatForMarkingsAPI(e, t={}) {
            const [n,a] = Object.entries(e)[0]
              , {node: l, persistent: f} = t;
            return toArray(a).map((e=>{
                const t = {
                    data: e,
                    node: l,
                    persistent: f,
                    type: "square" === n ? $ : n
                };
                return __spreadProps(__spreadValues({}, t), {
                    key: generatePrimaryKey(t)
                })
            }
            ))
        }
        function createMark(e) {
            return function mark(t, n, a) {
                var l, h;
                console.warn(Ti.Mark);
                const {api: p} = e
                  , m = p.markings
                  , g = formatForMarkingsAPI(t, {
                    node: null != (l = null == a ? void 0 : a.node) ? l : n,
                    persistent: null == (h = null == a ? void 0 : a.persistent) || h
                });
                return m.addMany(g),
                createCoreEvent(f.APIEvents.Mark, g)
            }
        }
        function createMove(e) {
            return function move(t, n=!0) {
                const {api: a, game: l, mutateGame: h, respond: p} = e
                  , {animate: m, san: g, tcn: v, time: y, userGenerated: b, userGeneratedDrop: _} = function getMoveDetails(e, t) {
                    const n = "string" == typeof e ? I.J.sanToObj(e, t) : e
                      , {animate: a=!0, san: l, tcn: f, time: h, userGenerated: p, userGeneratedDrop: m} = n;
                    return {
                        animate: a,
                        san: l,
                        tcn: f,
                        time: h,
                        userGenerated: p,
                        userGeneratedDrop: m
                    }
                }(t, a.getFEN())
                  , C = h((function makeMove() {
                    if (!(v ? l.loadMoves(v.slice(0, 2), {
                        atCurrent: !0,
                        method: "merge"
                    }) : l.move(g || t, n)))
                        return null;
                    y && handleTimestamp({
                        context: e,
                        time: y
                    })
                }
                ));
                return null === C ? p(f.APIEvents.IllegalMove, {
                    fen: l.fen(),
                    move: t
                }) : (C.result && a.setResult(C.result),
                C.move && (Object.assign(C.move, {
                    animate: m,
                    userGenerated: b,
                    userGeneratedDrop: _
                }),
                C.move = extend(C.move)),
                p(f.APIEvents.Move, C))
            }
        }
        function createMoveBackward(e) {
            return function moveBackward() {
                const {respond: t, game: n, mutateGame: a} = e
                  , l = a((function callMethod() {
                    n.moveBackward()
                }
                ));
                return !l || 0 === l.lineDiff && 0 === l.plyDiff ? t(f.APIEvents.MoveBackward, null) : t(f.APIEvents.MoveBackward, l)
            }
        }
        function createMoveForward(e) {
            return function moveForward(t, n) {
                const {respond: a, api: l, game: h} = e
                  , {move: p, followContinuations: m, steps: g} = function getMoveForwardParameters(e, t) {
                    var n;
                    let a, l = {};
                    "object" == typeof e ? l = e : a = e;
                    const {move: f, followContinuations: h, steps: p} = l;
                    return {
                        move: null != f ? f : t,
                        followContinuations: null == (n = null != h ? h : a) || n,
                        steps: null != p ? p : 1
                    }
                }(t, n);
                if (g < 1)
                    return null;
                const {firstStepData: v, success: y, endIds: b} = tryMovingForward({
                    context: e,
                    move: p,
                    followContinuations: m,
                    steps: g
                });
                return 1 === g || 1 !== (null == v ? void 0 : v.plyDiff) ? (h.selectPosition(b.move, b.line),
                a(f.APIEvents.MoveForward, v)) : y ? l.selectNode(b.line, b.move) : a(f.APIEvents.MoveForward, null)
            }
        }
        function createMoveVariation(e) {
            return function moveVariation(t, n) {
                const {game: a, respond: l} = e;
                return a.moveVariation(t, n) ? l(f.APIEvents.MoveVariation) : null
            }
        }
        function removeUnsetHeaders(e) {
            return Object.keys(e).reduce(((t,n)=>(e[n] !== Xn.EmptyPGNHeaders.Value && e[n] !== Xn.EmptyPGNHeaders.Date && (t[n] = e[n]),
            t)), {})
        }
        const ki = {
            trans: function trans(e, t, n) {
                return e
            },
            transChoice: function transChoice(e, t, n, a) {
                return `${t}`
            }
        };
        function createOutOfTime(e) {
            return function outOfTime(t) {
                const {api: n, game: a, respond: l} = e
                  , h = getOppositeColor(t)
                  , p = (0,
                I.F)(getColorAsWord(h))
                  , m = n.getHeaders()[p];
                n.setResult(h === Xn.ColorsAsNumbers.Black ? Xn.Results.Black : Xn.Results.White),
                a.header({
                    Termination: ki.trans("%username% won on time", {
                        "%username": m
                    })
                });
                const g = __spreadProps(__spreadValues({}, removeUnsetHeaders(a.header())), {
                    color: t
                });
                return l(f.APIEvents.OutOfTime, g)
            }
        }
        function createReload(e) {
            return function reload() {
                const {api: t, game: n, respond: a} = e;
                return a(f.APIEvents.Reload, {
                    holdSelectedPiece: !0,
                    pieces: createCollection(n.getPieces(!0)),
                    variant: t.getVariant()
                })
            }
        }
        function createPromoteVariation(e) {
            return function promoteVariation(t, n) {
                const {game: a, respond: l} = e;
                return a.promoteVariation(t, n) ? l(f.APIEvents.PromoteVariation) : null
            }
        }
        function createResetGame(e) {
            return function resetGame() {
                const {api: t, respond: n} = e;
                return t.setResult(Xn.Results.None),
                t.load({
                    fen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
                }),
                n(f.APIEvents.ResetGame)
            }
        }
        function createResign(e) {
            return function resign(t) {
                const {api: n, respond: a} = e;
                if (n.isGameOver())
                    return null;
                const l = t === Xn.ColorsAsNumbers.White ? Xn.Results.Black : Xn.Results.White;
                return n.setResult(l),
                a(f.APIEvents.GameResigned, l)
            }
        }
        function createResetToMainLine(e) {
            return function resetToMainLine() {
                const {api: t, game: n, respond: a} = e;
                return n.resetToMainLine(),
                a(f.APIEvents.ResetToMainLine, {
                    pieces: t.getPieces()
                })
            }
        }
        function createSelectLineEnd(e) {
            return function selectLineEnd(t) {
                const {api: n, game: a, mutateGame: l, respond: h} = e
                  , p = l((function callMethod() {
                    a.selectLineEnd(t)
                }
                ));
                return p && (p.pieces = n.getPieces()),
                h(f.APIEvents.SelectLineEnd, p)
            }
        }
        function createSelectLineStart(e) {
            return function selectLineStart() {
                const {api: t, game: n, mutateGame: a, respond: l} = e
                  , h = a((function callMethod() {
                    n.selectLineStart()
                }
                ));
                return h && (h.pieces = t.getPieces()),
                l(f.APIEvents.SelectLineStart, h)
            }
        }
        function createSelectNode(e) {
            return function selectNode2(t, n) {
                const {api: a, game: l, respond: h} = e
                  , p = l.moveDetails();
                l.selectPosition(n, t);
                const m = l.moveDetails()
                  , g = a.getNodeDiffData(p, m);
                return 0 === g.plyDiff && 0 === g.lineDiff ? null : (0 !== g.lineDiff && (g.pieces = a.getPieces()),
                h(f.APIEvents.SelectNode, g))
            }
        }
        function createSetGameDetails(e) {
            return function setGameDetails(t) {
                const {game: n, respond: a} = e
                  , l = removeUnsetHeaders(n.header(t));
                return a(f.APIEvents.UpdatePGNHeaders, l)
            }
        }
        function createSetResult(e) {
            return function setResult(t) {
                const {api: n} = e;
                return n.setGameDetails({
                    Result: t
                })
            }
        }
        function createSetTurn(e) {
            return function setTurn(t) {
                const {game: n, respond: a} = e;
                return n.turn() === t ? null : (n.turn(t),
                a(f.APIEvents.TurnSet, t))
            }
        }
        function createToggleMarking(e) {
            return function toggleMarking(t, n, a) {
                var l, h;
                console.warn(Ti.ToggleMarking);
                const {api: p} = e
                  , m = p.markings
                  , g = formatForMarkingsAPI(t, {
                    node: null != (l = null == a ? void 0 : a.node) ? l : n,
                    persistent: null == (h = null == a ? void 0 : a.persistent) || h
                });
                return m.toggleMany(g),
                createCoreEvent(f.APIEvents.Mark, g)
            }
        }
        function createUndo(e) {
            return function undo2() {
                const {api: t} = e
                  , n = t.getSelectedNode();
                return n ? t.deletePosition(n.ids.move, n.ids.line) : null
            }
        }
        function createUpdateNode(e) {
            return function updateNode(t, n) {
                const {game: a, respond: l} = e;
                return a.updateNode(n, t.move, t.line),
                l(f.APIEvents.NodeUpdated, {
                    changes: n,
                    ids: t,
                    node: a._getPos(t.move, t.line)
                })
            }
        }
        function createUpdateLineComment(e) {
            return function updateLineComment2(t, n) {
                const {game: a, respond: l} = e;
                return a.updateLineComment(t, n),
                l(f.APIEvents.LineCommentUpdated, {
                    comment: t,
                    lineId: n
                })
            }
        }
        function createUnmark(e) {
            return function unmark(t, n, a) {
                var l, h;
                console.warn(Ti.Unmark);
                const {api: p} = e
                  , m = p.markings
                  , g = formatForMarkingsAPI(t, {
                    node: null != (l = null == a ? void 0 : a.node) ? l : n,
                    persistent: null == (h = null == a ? void 0 : a.persistent) || h
                });
                return m.removeMany(g.map((e=>e.key))),
                createCoreEvent(f.APIEvents.Unmark, g)
            }
        }
        function getBughouseGameTimeValues(e) {
            return Array.isArray(e) && Array.isArray(e[0]) ? e[0] : e
        }
        function createCreateGame(e) {
            return function createGame2(t) {
                const n = I.J.createGame(__spreadProps(__spreadValues({
                    timestamps: t.times || t.timestamps || void 0
                }, t), {
                    analysis: !0,
                    autoPromote: !0
                }));
                if (!n)
                    return;
                const {api: a} = e;
                let {times: l, timestamps: f} = t;
                return t.variant === Xn.Variants.Bughouse && (l = getBughouseGameTimeValues(l),
                f = getBughouseGameTimeValues(f)),
                a.load({
                    pgn: n.pgn({
                        useResultHeader: !0
                    }),
                    variant: t.variant,
                    times: l,
                    timestamps: f,
                    premoves: n.premove.queue && n.premove.queue.length > 0 ? n.premove.queue : void 0
                })
            }
        }
        function createGetTimeControl(e) {
            return function getTimeControl() {
                const t = e.api.getHeaders().TimeControl;
                if (!t || t === nt.Header.Null || t.includes(nt.Header.Unset) || t.includes(nt.Header.TimePerMove))
                    return null;
                const [n,a] = t.split(nt.Header.Separator).map((e=>Math.round(1e3 * parseFloat(e))));
                return {
                    baseTime: n,
                    increment: a || 0
                }
            }
        }
        function createGetTimeControlType(e) {
            return function getTimeControlType() {
                const {api: t} = e
                  , n = t.timeControl.get();
                if (n) {
                    const e = function getExpectedGameDuration(e) {
                        const {baseTime: t, increment: n} = e;
                        return (t + 40 * (n || 0)) / 1e3
                    }(n);
                    if (e < 1800)
                        return nt.Types.Bullet;
                    if (e > 6e3)
                        return nt.Types.Rapid
                }
                return nt.Types.Blitz
            }
        }
        function createSetTimeControl(e) {
            return function setTimeControl(t) {
                const {api: n} = e;
                if (null === t)
                    return n.setGameDetails({
                        TimeControl: nt.Header.Null
                    });
                const {baseTime: a, increment: l} = t
                  , f = a / 1e3
                  , h = l / 1e3;
                return n.setGameDetails({
                    TimeControl: h ? `${f}+${h}` : `${f}`
                })
            }
        }
        function createTimeControlAPI(e) {
            return {
                get: createGetTimeControl(e),
                getType: createGetTimeControlType(e),
                set: createSetTimeControl(e)
            }
        }
        function toUnit(e, t) {
            if (null === e)
                return null;
            let n;
            switch (t) {
            case w.Units.Milliseconds:
                n = 100 * e;
                break;
            case w.Units.Seconds:
                n = 10 * e;
                break;
            case w.Units.Deciseconds:
            default:
                n = e
            }
            return n
        }
        function getValidTimestamp(e, t) {
            return null === e ? null : Math.max(1, function toRoundedDeciseconds(e, t) {
                let n;
                switch (t) {
                case w.Units.Milliseconds:
                    n = e / 100;
                    break;
                case w.Units.Seconds:
                    n = 10 * e;
                    break;
                case w.Units.Deciseconds:
                default:
                    n = e
                }
                return Math.round(n)
            }(e, t))
        }
        function createTimestampsAPI(e) {
            return {
                get: get2,
                set: function set3(t, n, a=w.Units.Deciseconds) {
                    var l;
                    const {api: h, respond: p} = e
                      , {getLine: m} = h
                      , g = null == (l = m(0)) ? void 0 : l[n];
                    if (!g)
                        return null;
                    const v = getValidTimestamp(t, a);
                    if (void 0 === v)
                        return null;
                    return setTimestampOnNode({
                        api: h,
                        node: g,
                        timestamp: v
                    }),
                    p(f.APIEvents.NodeUpdated, {
                        changes: {
                            timestamp: v,
                            node: g
                        }
                    })
                },
                setMany: function setMany2(t=[], n=w.Units.Deciseconds) {
                    const {api: a, respond: l} = e
                      , h = 0 === t.length ? function getAll() {
                        return get2(void 0, {
                            filtered: !1
                        })
                    }().map((()=>null)) : t;
                    return a.getRawLines()[0].forEach(((e,t)=>{
                        if (void 0 === h[t])
                            return;
                        const l = getValidTimestamp(h[t], n);
                        void 0 !== l && setTimestampOnNode({
                            api: a,
                            node: e,
                            timestamp: l
                        })
                    }
                    )),
                    l(f.APIEvents.LineUpdated)
                }
            };
            function get2(t, {filtered: n=!0}={}, a=w.Units.Deciseconds) {
                var l;
                const {api: f} = e
                  , h = null == (l = f.getLine(0)) ? void 0 : l.map(getTimestampFromNode);
                if (void 0 !== t)
                    return h[t] && toUnit(h[t], a);
                return (n ? h.filter((e=>void 0 !== e)) : h).map((e=>toUnit(e, a)))
            }
        }
        function createGetTimes(e) {
            return function get2(t) {
                var n;
                const {api: a} = e
                  , l = a.getLine(0);
                return void 0 !== t ? null == (n = l[t]) ? void 0 : n.time : l.map((e=>e.time))
            }
        }
        function createSetManyTimes(e) {
            return function setMany2(t=[]) {
                const {api: n, respond: a} = e;
                return n.getRawLines()[0].forEach(((e,a)=>{
                    void 0 !== t[a] && (!e.time && t[a] && (e.time = t[a]),
                    n.timestamps.set(calculateTimestampValue({
                        api: n,
                        node: e
                    }), a))
                }
                )),
                a(f.APIEvents.LineUpdated)
            }
        }
        function createSetTimes(e) {
            return function set3(t, n) {
                var a;
                const {api: l, respond: h} = e
                  , {getLine: p} = l
                  , m = null == (a = p(0)) ? void 0 : a[n];
                return m ? (m.time || (m.time = t),
                l.timestamps.set(calculateTimestampValue({
                    api: l,
                    node: m
                }), n),
                h(f.APIEvents.NodeUpdated, {
                    changes: {
                        time: t,
                        node: m
                    }
                })) : null
            }
        }
        function createTimesAPI(e) {
            return {
                get: createGetTimes(e),
                set: createSetTimes(e),
                setMany: createSetManyTimes(e)
            }
        }
        function createLoggerAPI(e=100) {
            const t = (0,
            I.a)()
              , n = [];
            let a = zt.Levels.Debug;
            const l = {
                [zt.Levels.None]: 0,
                [zt.Levels.Error]: 1,
                [zt.Levels.Debug]: 2
            };
            return __spreadProps(__spreadValues({}, t), {
                clear: function clear5() {
                    n.length = 0
                },
                get: function get2(e) {
                    return e ? n.filter((t=>Object.entries(e).every((([e,n])=>t[e] === n)))) : n
                },
                log: function log({code: f, data: h, level: p=zt.Levels.Debug, message: m}) {
                    if (l[p] > l[a])
                        return;
                    n.length === e && n.shift();
                    const g = {
                        code: f,
                        data: h,
                        level: p,
                        message: m,
                        timestamp: Date.now()
                    };
                    n.push(g),
                    t.emit(zt.Events.EntryAdded, g)
                },
                setLogLevel: function setLogLevel(e) {
                    a = e
                }
            })
        }
        function createAPI({game: e, logger: t, options: n, eventEmitter: a}) {
            const l = e || I.J.createGame(__spreadProps(__spreadValues({}, n), {
                analysis: !0,
                autoPromote: !0
            }));
            if (!l)
                throw new ChessError({
                    code: go.BadData,
                    data: n,
                    message: "Error creating game from createAPI"
                });
            const h = a || (0,
            I.a)()
              , p = function createMemoryCache(e={}) {
                let t = copy(e);
                return {
                    add: function add2(e, ...n) {
                        let a = t;
                        n.forEach((e=>{
                            e in a || (a[e] = {}),
                            a = a[e]
                        }
                        )),
                        Object.assign(a, e)
                    },
                    clear: function clear5(n) {
                        n ? t[n] = {} : t = copy(e)
                    },
                    get: function get2() {
                        return copy(t)
                    },
                    remove: function remove(...e) {
                        let n = t;
                        const a = e.length - 1;
                        e.forEach(((e,t)=>{
                            e in n && t !== a && (n = n[e])
                        }
                        )),
                        delete n[e[a]]
                    }
                };
                function copy(e) {
                    return JSON.parse(JSON.stringify(e))
                }
            }({
                arrow: {},
                customItem: {},
                effect: {},
                square: {}
            })
              , m = {}
              , g = function createMutateGame(e, t) {
                return function mutateGame(n) {
                    const a = e.moveDetails()
                      , l = t.getCalculatedResult();
                    if (null === n())
                        return null;
                    const f = e.moveDetails()
                      , h = t.getCalculatedResult()
                      , p = t.getNodeDiffData(a, f);
                    l !== h && isMainLine(null == f ? void 0 : f.ids.line) && (p.result = h);
                    const {line: m, move: g} = e.ids();
                    return p.linesReordered = 0 !== m && 0 === g && e.reorderLines(),
                    p
                }
            }(l, m)
              , v = function createRespond(e) {
                return function respond(t, n) {
                    const a = createCoreEvent(t, n);
                    return e.emit(t, a),
                    a
                }
            }(h)
              , y = {
                api: m,
                emitter: h,
                game: l,
                markingCache: p,
                mutateGame: g,
                respond: v
            };
            return Object.assign(y.api, function createAPIModel() {
                return __spreadProps(__spreadValues(__spreadProps(__spreadValues({
                    addMoveToEndOfLine: createAddMoveToEndOfLine(y),
                    agreeDraw: createAgreeDraw(y),
                    blinkSquare: createBlinkHighlight(y),
                    canMoveForward: createCanMoveForward(y),
                    claimDraw: createClaimDraw(y),
                    clearMarkings: createClearMarkings(y),
                    createContinuation: createCreateContinuation(y),
                    createGame: createCreateGame(y)
                }, function createPlayingAsAPI(e) {
                    let t = Xn.ColorsAsNumbers.White
                      , n = !1;
                    return {
                        getPlayingAs: function getPlayingAs() {
                            return n ? t : void 0
                        },
                        setPlayingAs: function setPlayingAs(n) {
                            if (n === t)
                                return null;
                            const {respond: a} = e;
                            return t = n,
                            a(f.APIEvents.SetPlayingAs, n)
                        },
                        usePlayingAs: function usePlayingAs(e) {
                            n = e || !1
                        }
                    }
                }(y)), {
                    deletePosition: createDeletePosition(y)
                }), h), {
                    extendAPI: createExtendAPI(y),
                    getCalculatedResult: createGetCalculatedResult(y),
                    getContext: createGetContext(y),
                    getCurrentFullLine: createGetCurrentFullLine(y),
                    getFEN: createGetFen(y),
                    getFingerprints: createGetFingerprints(y),
                    getHeaders: createGetHeaders(y),
                    getHistoryFENs: createGetHistoryFENs(y),
                    getHistorySANs: createGetHistorySANs(y),
                    getJCEGameCopy: createGetJCEGameCopy(y),
                    getLastMove: createGetLastMove(y),
                    getLegalMoves: createGetLegalMoves(y),
                    getLegalMovesForSquare: createGetLegalMovesForSquare(y),
                    getLine: createGetLine(y),
                    getMarkings: createGetMarkings(y),
                    getMaterial: createGetMaterial(y),
                    getMove: createGetMove(y),
                    getNodeByIds: createGetNodeByIds(y),
                    getNodeDiffData: createGetNodeDiffData(y),
                    getNodeIds: createGetNodeIds(y),
                    getPGN: createGetPGN(y),
                    getPiece: createGetPiece(y),
                    getPieces: createGetPieces(y),
                    getPosition: createGetPosition(y),
                    getPositionDetails: createGetPositionDetails(y),
                    getPositionInfo: createGetPositionInfo(y),
                    getRawLines: createGetRawLines(y),
                    getRelativeNode: createGetRelativeNode(y),
                    getResult: createGetResult(y),
                    getSelectedNode: createGetSelectedNode(y),
                    getStartingMoveNumber: y.game.startingMoveNumber,
                    getTCN: createGetTCN(y),
                    getTurn: createGetTurn(y),
                    getVariant: createGetVariant(y),
                    isAtEndOfLine: createIsAtEndOfLine(y),
                    isCheck: createIsCheck(y),
                    isGameOver: createIsGameOver(y),
                    isLegalMove: createIsLegalMove(y),
                    load: createLoad(y),
                    logger: t || createLoggerAPI(),
                    mark: createMark(y),
                    move: createMove(y),
                    moveBackward: createMoveBackward(y),
                    moveForward: createMoveForward(y),
                    moveVariation: createMoveVariation(y),
                    outOfTime: createOutOfTime(y),
                    promoteVariation: createPromoteVariation(y),
                    reload: createReload(y),
                    resetGame: createResetGame(y),
                    resetToMainLine: createResetToMainLine(y),
                    resign: createResign(y),
                    selectLineEnd: createSelectLineEnd(y),
                    selectLineStart: createSelectLineStart(y),
                    selectNode: createSelectNode(y),
                    setGameDetails: createSetGameDetails(y),
                    setResult: createSetResult(y),
                    setTurn: createSetTurn(y),
                    timeControl: createTimeControlAPI(y),
                    times: createTimesAPI(y),
                    timestamps: createTimestampsAPI(y),
                    toggleMarking: createToggleMarking(y),
                    undo: createUndo(y),
                    unmark: createUnmark(y),
                    updateLineComment: createUpdateLineComment(y),
                    updateNode: createUpdateNode(y)
                })
            }()),
            y.api
        }
        function createGetSet(e={}) {
            const t = e;
            return {
                get: function get2(e) {
                    return e ? t[e] : t
                },
                set: function set3(e) {
                    Object.assign(t, e)
                }
            }
        }
        const Ii = {
            anyAPIEvent: ({UpdateParams: e})=>(e.cancelMarkingStartSquare(),
            Dt.States.Idle),
            [f.UserEvents.PointerdownLeft]: ({UpdateParams: e})=>(e.cancelMarkingStartSquare(),
            Dt.States.Idle),
            [f.UserEvents.Pointerup]: ({context: e, data: {keyPressed: t, square: n}, params: {markingStartSquare: a}, UpdateParams: l})=>{
                const {api: {markings: f}, options: h, queue: p} = e;
                return n && a && p.add(f.toggleOne, function getMarking({endSquare: e, keyPressed: t, opacity: n, startSquare: a}) {
                    if (a === e)
                        return {
                            data: {
                                keyPressed: t,
                                opacity: n,
                                square: a
                            },
                            node: !0,
                            persistent: !1,
                            type: $
                        };
                    return {
                        data: {
                            keyPressed: t,
                            from: a,
                            opacity: n,
                            to: e
                        },
                        node: !0,
                        persistent: !1,
                        type: G
                    }
                }({
                    endSquare: n,
                    keyPressed: t,
                    opacity: h.analysisHighlightOpacity,
                    startSquare: a
                })),
                l.cancelMarkingStartSquare(),
                Dt.States.Idle
            }
        };
        const Oi = {
            [f.UserEvents.PointerdownLeft]: ({context: e, data: {coords: t, square: n}, UpdateParams: a})=>{
                const {api: {getPieces: l, markings: f}, mode: {getOptions: h}, options: p, queue: m, renderer: g, state: v} = e;
                if (n && !p.disableUserMarkings && m.add(f.removeAllWhere, {
                    node: !0,
                    persistent: !1,
                    types: [G, we, $]
                }),
                !p.enabled || !h().canInteractWithPieces)
                    return Dt.States.Idle;
                if (!l().isDefined(n))
                    return Dt.States.Idle;
                if (p.moveMethod === yt.MoveMethods.Click) {
                    const t = null == g ? void 0 : g.getCoordsFromSquare(n, p.flipped);
                    if (void 0 === t)
                        throw new ChessError({
                            code: go.BadData,
                            message: `getCoordsFromSquare returned undefined for ${n}`
                        });
                    return a.dragPiece(t, n),
                    v.set({
                        hideHoverSquare: !0
                    }),
                    null == g || g.dragPiece({
                        coords: t,
                        square: n
                    }, e),
                    Dt.States.PieceDragging
                }
                a.dragPiece(t, n);
                const y = t || (null == g ? void 0 : g.getCoordsFromSquare(n, p.flipped));
                return null == g || g.dragPiece({
                    coords: y,
                    square: n
                }, e),
                Dt.States.PieceDragging
            }
            ,
            [f.UserEvents.PointerdownRight]: ({context: e, data: {square: t}, UpdateParams: n})=>{
                const {options: a} = e;
                if (a.enabled && !a.disableUserMarkings)
                    return n.setMarkingStartSquare(t),
                    Dt.States.AddingMarkings
            }
        };
        function shouldDropOrDeselectPiece({api: e, move: t, plyDiff: n, pieceSquare: a}) {
            var l;
            const f = a && (null == (l = e.getPieces().getCollection()[a]) ? void 0 : l.color);
            return !t || 1 !== n || !f || f === t.color && !t.userGenerated || (t.from === a || t.to === a)
        }
        const Ni = {
            anyAPIEvent: ({context: e, data: {holdSelectedPiece: t, move: n, plyDiff: a}, params: {draggingPiece: l}, UpdateParams: f})=>{
                const {renderer: h} = e;
                return l && !t && shouldDropOrDeselectPiece({
                    api: e.api,
                    move: n,
                    pieceSquare: l,
                    plyDiff: a
                }) ? (f.resetElevatedState(),
                null == h || h.dropPiece(l, e),
                Dt.States.Idle) : Dt.States.PieceDragging
            }
            ,
            [f.UserEvents.MousedownRight]: ({context: e, params: {draggingPiece: t}, UpdateParams: n})=>{
                const {renderer: a} = e;
                if (!t)
                    throw new ChessError({
                        code: go.BadData,
                        message: "Attempted to pointerdown on a dragging piece but dragging piece is null or undefined"
                    });
                return n.dropPiece(),
                n.deselectPiece(),
                null == a || a.dropPiece(t, e),
                Dt.States.Idle
            }
            ,
            [f.UserEvents.Pointermove]: ({context: e, data: {coordsInsideBoard: t}, params: {draggingPiece: n}, UpdateParams: a})=>{
                const {renderer: l} = e;
                if (!n)
                    throw new ChessError({
                        code: go.BadData,
                        message: "Attempted to drag a piece but draggingPiece is null or undefined"
                    });
                return a.dragPiece(t, n),
                null == l || l.dragPiece({
                    coords: t,
                    square: n
                }, e),
                Dt.States.PieceDragging
            }
            ,
            [f.UserEvents.Pointerup]: ({context: e, data: {keyPressed: t, square: n}, params: {draggingPiece: a, selectedPiece: l}, UpdateParams: f})=>{
                var h;
                const {api: {getMove: p, getPiece: m, getTurn: g, isCheck: v, move: y, playSound: b}, mode: _, options: C, queue: A, renderer: S} = e;
                if (!a)
                    throw new ChessError({
                        code: go.BadData,
                        message: "Attempted to pointerup on a dragging piece but dragging piece is null or undefined"
                    });
                if (e.options.test) {
                    const t = e.el.querySelector(".dragging");
                    null == t || t.setAttribute("data-test-dragging", "false"),
                    null == t || t.removeAttribute("dragging")
                }
                if (a === n)
                    return f.dropPiece(),
                    null == S || S.dropPiece(a, e),
                    l === n || C.moveMethod === yt.MoveMethods.DragOnly ? (f.deselectPiece(),
                    Dt.States.Idle) : (f.selectPiece(a),
                    Dt.States.PieceSelected);
                l && f.deselectPiece();
                const x = {
                    from: a,
                    to: n
                }
                  , w = p(x)
                  , P = !(!_.isAllowedToMove() || !w) && __spreadProps(__spreadValues({}, w), {
                    animate: !1,
                    userGenerated: !0,
                    userGeneratedDrop: !0
                });
                if (!P) {
                    f.dropPiece(),
                    _.handleIllegalMove && A.add(_.handleIllegalMove, x);
                    const t = v();
                    let n = !1;
                    return (null == (h = m(a)) ? void 0 : h.color) === g() && t && (C.playSounds && A.add(b, Qe.BoardSounds.Illegal),
                    n = t),
                    null == S || S.illegalMove(n, e),
                    null == S || S.dropPiece(a, e),
                    C.moveMethod === yt.MoveMethods.DragOnly ? (f.deselectPiece(),
                    Dt.States.Idle) : (f.selectPiece(a),
                    Dt.States.PieceSelected)
                }
                return isPromotion(P) ? C.autoPromote && "alt" !== t ? (f.dropPiece(),
                null == S || S.dropPiece(P.to, e),
                A.add(y, __spreadProps(__spreadValues({}, P), {
                    promotion: Xn.Piece.Types.Queen
                })),
                Dt.States.Idle) : (f.dragPiece({}, a),
                f.showPromotionArea(P),
                null == S || S.dragPiece({
                    square: a,
                    toSquare: P.to
                }, e),
                null == S || S.openPromotionWindow(P, e),
                Dt.States.PromotionAreaShowing) : (f.dropPiece(),
                null === n && _.getOptions().canDropOffBoard ? null == S || S.removePiece(a, e) : null == S || S.dropPiece(n, e),
                A.add(y, P),
                Dt.States.Idle)
            }
        }
          , Ri = {
            anyAPIEvent: ({context: e, data: {holdSelectedPiece: t, move: n, plyDiff: a}, params: {selectedPiece: l}, UpdateParams: f})=>!t && shouldDropOrDeselectPiece({
                api: e.api,
                move: n,
                pieceSquare: l,
                plyDiff: a
            }) ? (f.resetElevatedState(),
            Dt.States.Idle) : Dt.States.PieceSelected,
            [f.UserEvents.PointerdownLeft]: ({context: e, data: {coords: t, keyPressed: n, square: a}, params: {selectedPiece: l}, UpdateParams: f})=>{
                const {api: {getMove: h, getPieces: p, move: m}, mode: {isAllowedToMove: g}, options: v, queue: y, renderer: b, state: _} = e;
                if (!l)
                    throw new ChessError({
                        code: go.BadData,
                        message: "Attempted to interact with a selectedPiece but selectedPiece is null or undefined"
                    });
                if (a === l) {
                    const n = v.moveMethod === yt.MoveMethods.Drag || v.moveMethod === yt.MoveMethods.DragOnly ? t : (null == b ? void 0 : b.getCoordsFromSquare(a, v.flipped)) || t;
                    return f.dragPiece(n, l),
                    v.moveMethod === yt.MoveMethods.Click && _.set({
                        hideHoverSquare: !0
                    }),
                    null == b || b.dragPiece({
                        coords: n,
                        square: l
                    }, e),
                    Dt.States.PieceDragging
                }
                const C = {
                    from: l,
                    to: a
                }
                  , A = p()
                  , S = h(C)
                  , x = !(!g() || !S) && __spreadProps(__spreadValues({}, S), {
                    userGenerated: !0
                });
                if (!x) {
                    if (f.deselectPiece(),
                    !A.isDefined(a))
                        return Dt.States.Idle;
                    if (v.moveMethod === yt.MoveMethods.Click) {
                        const n = (null == b ? void 0 : b.getCoordsFromSquare(a, v.flipped)) || t;
                        return f.dragPiece(n, a),
                        _.set({
                            hideHoverSquare: !0
                        }),
                        null == b || b.dragPiece({
                            coords: n,
                            square: a
                        }, e),
                        Dt.States.PieceDragging
                    }
                    return f.dragPiece(t, a),
                    null == b || b.dragPiece({
                        coords: t,
                        square: a
                    }, e),
                    Dt.States.PieceDragging
                }
                return isPromotion(x) ? v.autoPromote && "alt" !== n ? (f.deselectPiece(),
                y.add(m, x, __spreadProps(__spreadValues({}, x), {
                    promotion: Xn.Piece.Types.Queen
                })),
                Dt.States.Idle) : (f.deselectPiece(),
                f.dragPiece({}, l),
                f.showPromotionArea(x),
                null == b || b.dragPiece({
                    square: l,
                    toSquare: x.to
                }, e),
                null == b || b.openPromotionWindow(x, e),
                Dt.States.PromotionAreaShowing) : (f.deselectPiece(),
                y.add(m, x),
                Dt.States.Idle)
            }
            ,
            [f.UserEvents.PointerdownRight]: ({context: e, data: {square: t}, UpdateParams: n})=>{
                const {options: a} = e;
                if (a.enabled && !a.disableUserMarkings)
                    return n.deselectPiece(),
                    n.setMarkingStartSquare(t),
                    Dt.States.AddingMarkings
            }
        };
        function cancelPromotion({context: e, params: {draggingPiece: t}, UpdateParams: n}) {
            const {renderer: a} = e;
            return n.dropPiece(),
            n.cancelPromotion(),
            null == a || a.dropPiece(t, e),
            null == a || a.closePromotionWindow(e),
            Dt.States.Idle
        }
        const Li = {
            anyAPIEvent: e=>e.type === f.APIEvents.Move ? Dt.States.PromotionAreaShowing : cancelPromotion(e),
            [f.BoardEvents.PromotionPiecePointerdown]: ({context: e, data: {piece: t}, params: {draggingPiece: n, promotionMove: a}, UpdateParams: l})=>{
                const {api: {move: f}, queue: h, renderer: p} = e;
                return l.dropPiece(),
                l.cancelPromotion(),
                null == p || p.dropPiece(n, e),
                null == p || p.closePromotionWindow(e),
                a ? (h.add(f, {
                    animate: !1,
                    flags: a.flags,
                    from: a.from,
                    piece: Xn.Piece.Types.Pawn,
                    promotion: t,
                    to: a.to,
                    userGenerated: !0
                }),
                Dt.States.Idle) : Dt.States.Idle
            }
            ,
            [f.BoardEvents.PromotionAreaClosePointerdown]: cancelPromotion,
            [f.UserEvents.PointerdownLeft]: cancelPromotion,
            [f.UserEvents.PointerdownRight]: cancelPromotion
        }
          , Di = {
            createUpdateParams: function createUpdateParams(e) {
                return {
                    cancelMarkingStartSquare: function cancelMarkingStartSquare() {
                        e.markingStartSquare = void 0
                    },
                    cancelPromotion: function cancelPromotion2() {
                        e.promotionMove = void 0
                    },
                    deselectPiece: function deselectPiece() {
                        e.selectedPiece = void 0
                    },
                    dragPiece: function dragPiece(t, n) {
                        e.draggingPiece = n,
                        e.draggingCoords = t
                    },
                    dropPiece: function dropPiece() {
                        e.draggingPiece = void 0,
                        e.draggingCoords = void 0
                    },
                    resetElevatedState: function resetElevatedState() {
                        e.draggingPiece = void 0,
                        e.draggingCoords = void 0,
                        e.promotionMove = void 0,
                        e.selectedPiece = void 0
                    },
                    selectPiece: function selectPiece(t) {
                        e.selectedPiece = t
                    },
                    setMarkingStartSquare: function setMarkingStartSquare(t) {
                        e.markingStartSquare = t
                    },
                    showPromotionArea: function showPromotionArea(t) {
                        e.promotionMove = __spreadValues({}, t)
                    }
                }
            },
            getCurrentState: ()=>Dt.States.Idle,
            getParams: ()=>({
                draggingCoords: void 0,
                draggingPiece: void 0,
                markingStartSquare: void 0,
                promotionMove: void 0,
                selectedPiece: void 0
            }),
            states: {
                [Dt.States.AddingMarkings]: Ii,
                [Dt.States.PieceDragging]: Ni,
                [Dt.States.Idle]: Oi,
                [Dt.States.PromotionAreaShowing]: Li,
                [Dt.States.PieceSelected]: Ri
            }
        };
        function createUpdateMachineState() {
            const e = Di.getParams()
              , t = Di.createUpdateParams(e);
            let n = Di.getCurrentState();
            const a = [it.Events.Tick];
            return function updateMachineState(l, h) {
                if (a.includes(l.type))
                    return;
                const {state: p} = h;
                p.set({
                    draggingPiece: e.draggingPiece,
                    machineState: n,
                    promotionMove: e.promotionMove,
                    selectedPiece: e.selectedPiece
                });
                const m = function isAPIEvent(e) {
                    return Object.values(f.APIEvents).includes(e.type)
                }(l) && !function shouldIgnoreEvent(e) {
                    return [f.APIEvents.AddMove, f.APIEvents.BlinkHighlight, f.APIEvents.ClearMarkings, f.APIEvents.Mark, f.APIEvents.LineUpdated, f.APIEvents.NodeUpdated, f.APIEvents.Unmark, f.APIEvents.UpdatePGNHeaders].includes(e)
                }(l.type) ? "anyAPIEvent" : l.type;
                if (!Di.states[n] || !Di.states[n][m])
                    return void p.set({
                        machineState: n
                    });
                const g = Di.states[n][m]({
                    context: h,
                    data: l.data,
                    params: e,
                    UpdateParams: t,
                    type: l.type
                })
                  , v = n;
                if (n = g || n,
                v !== n && (n === Dt.States.PieceDragging ? document.onselectstart = ()=>!1 : v === Dt.States.PieceDragging && (document.onselectstart = null)),
                !function machineIsValid() {
                    if (n === Dt.States.Idle)
                        return !e.draggingPiece && !e.selectedPiece;
                    if (n === Dt.States.PieceDragging)
                        return Boolean(e.draggingPiece);
                    if (n === Dt.States.PieceSelected)
                        return !e.draggingPiece && Boolean(e.selectedPiece);
                    return !0
                }())
                    throw {
                        data: {
                            draggingPiece: e.draggingPiece,
                            machineState: n,
                            oldState: v,
                            selectedPiece: e.selectedPiece
                        },
                        error: new ChessError({
                            code: go.InvalidStateMachine,
                            message: "The machine parameters and state do not match up."
                        })
                    };
                p.set({
                    draggingPiece: e.draggingPiece,
                    machineState: n,
                    selectedPiece: e.selectedPiece
                })
            }
        }
        function runPlugin(e, t) {
            e.match && e.match.forEach((e=>function run2(e, t) {
                if (!e.condition(...t))
                    return;
                e.handler(...t)
            }(e, t)))
        }
        function createCore({params: e, plugins: t}) {
            const n = function createContext({params: e, run: t}) {
                const n = createQueue(!1)
                  , a = __spreadValues({
                    queue: n,
                    reset: function reset2() {
                        a.queue = createQueue(!1),
                        a.state = createGetSet()
                    },
                    run: t,
                    setMode: function setMode(e) {
                        a.mode = e
                    },
                    setRenderer: function setRenderer(e) {
                        a.renderer = e
                    },
                    state: createGetSet()
                }, e);
                return a.reset(),
                a
            }({
                params: e,
                run: run2
            })
              , a = createUpdateMachineState();
            return {
                getContext: function getContext() {
                    return n
                },
                getMode: function getMode2() {
                    return n.mode
                },
                run: run2,
                setMode: function setMode(e) {
                    n.setMode(e)
                },
                setRenderer: function setRenderer(e) {
                    n.setRenderer(e)
                }
            };
            function run2(e) {
                const {api: {logger: l}} = n;
                l.log({
                    code: f.LogCodes.Event,
                    data: e
                }),
                n.reset();
                const h = t.get()
                  , p = function runBeforeStateHooks(e, t) {
                    return t.every((t=>function runBeforeState(e, t) {
                        if (!e.beforeState)
                            return !0;
                        let n = !0;
                        return e.beforeState.forEach((e=>{
                            !1 === function run(e, t) {
                                if (e.condition(...t))
                                    return e.handler(...t)
                            }(e, t) && (n = !1)
                        }
                        )),
                        n
                    }(t, [e, n])))
                }(e, h);
                p && a(e, n);
                const {beforeRender: m, afterRender: g} = function splitPluginsByHookType(e) {
                    return e.reduce(((e,t)=>(t.afterRender ? e.afterRender.push(t) : e.beforeRender.push(t),
                    e)), {
                        beforeRender: [],
                        afterRender: []
                    })
                }(h);
                try {
                    m.forEach((t=>runPlugin(t, [e, n]))),
                    n.queue.flush(),
                    g.forEach((t=>runPlugin(t, [e, n]))),
                    n.queue.flush(),
                    l.log({
                        code: f.LogCodes.State,
                        data: n.state.get()
                    })
                } catch (v) {
                    throw l.log({
                        code: f.LogCodes.State,
                        data: __spreadProps(__spreadValues({}, v.data), {
                            event: e,
                            queue: n.queue,
                            state: n.state.get()
                        }),
                        level: zt.Levels.Error
                    }),
                    v
                }
            }
        }
        function getKeyPressed(e) {
            return e.altKey ? ht.Alt : e.ctrlKey ? ht.Ctrl : e.shiftKey ? ht.Shift : ht.None
        }
        function isTouchEvent(e) {
            return void 0 !== e.touches
        }
        function isRightButton(e) {
            return !isTouchEvent(e) && 3 === e.which
        }
        function onNextTick(e) {
            setTimeout(e)
        }
        function createUserEventHandlers({el: e, getPointerPosition: t, options: n, run: a}) {
            const l = function debounceAnimationFrame(e) {
                let t;
                return function run2(...n) {
                    t && cancelAnimationFrame(t),
                    t = requestAnimationFrame((()=>{
                        t = null,
                        e(...n)
                    }
                    ))
                }
            }((function runPointerMoveEvent(l) {
                const h = createCoreEvent(f.UserEvents.Pointermove);
                h.data = __spreadProps(__spreadValues({}, t({
                    el: e,
                    event: l,
                    flipped: n.flipped
                })), {
                    keyPressed: getKeyPressed(l)
                }),
                a(h)
            }
            ));
            return {
                handleDocumentPointerdown: function handleDocumentPointerdown(e) {
                    const t = createCoreEvent(isRightButton(e) ? f.UserEvents.PointerdownRight : f.UserEvents.PointerdownLeft);
                    return t.data = {
                        square: null
                    },
                    a(t)
                },
                handlePointerdown: function handlePointerdown(h) {
                    h.stopPropagation(),
                    document.addEventListener(Nr, l),
                    document.addEventListener(Rr, handlePointerup);
                    const p = createCoreEvent(isRightButton(h) ? f.UserEvents.PointerdownRight : f.UserEvents.PointerdownLeft);
                    return p.data = __spreadProps(__spreadValues({}, t({
                        el: e,
                        event: h,
                        flipped: n.flipped
                    })), {
                        keyPressed: getKeyPressed(h)
                    }),
                    onNextTick((function addMouseDownListener() {
                        document.addEventListener(kr.Mousedown, handleMousedown, {
                            once: !0
                        })
                    }
                    )),
                    a(p)
                },
                handlePointermove: l,
                handlePointerup: handlePointerup
            };
            function handleMousedown(l) {
                const h = createCoreEvent(isRightButton(l) ? f.UserEvents.MousedownRight : f.UserEvents.MousedownLeft);
                return h.data = __spreadProps(__spreadValues({}, t({
                    el: e,
                    event: l,
                    flipped: n.flipped
                })), {
                    keyPressed: getKeyPressed(l)
                }),
                a(h)
            }
            function handlePointerup(h) {
                document.removeEventListener(kr.Mousedown, handleMousedown),
                document.removeEventListener(Nr, l),
                document.removeEventListener(Rr, handlePointerup);
                const p = createCoreEvent(f.UserEvents.Pointerup);
                return p.data = __spreadProps(__spreadValues({}, t({
                    el: e,
                    event: h,
                    flipped: n.flipped
                })), {
                    keyPressed: getKeyPressed(h)
                }),
                a(p)
            }
        }
        function generateRandomId() {
            const e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reduce((t=>t + e.charAt(Math.floor(Math.random() * e.length))), "")
        }
        function getDefaultOptions() {
            return {
                allowMarkings: !0,
                disableUserMarkings: !1,
                analysisHighlightColors: {
                    alt: yt.HighlightColors.Blue,
                    ctrl: yt.HighlightColors.Orange,
                    default: yt.HighlightColors.Red,
                    shift: yt.HighlightColors.Green
                },
                analysisHighlightOpacity: .8,
                animationType: yt.Animation.Types.Default,
                arrowColors: {
                    alt: yt.HighlightedArrowColors.Blue,
                    ctrl: yt.HighlightedArrowColors.Red,
                    default: yt.HighlightedArrowColors.Orange,
                    shift: yt.HighlightedArrowColors.Green
                },
                aspectRatio: 1,
                autoClaimDraw: !0,
                autoPromote: !1,
                autoResize: !0,
                boardStyle: "green",
                captureKeyStrokes: !0,
                checkBlinkingSquareColor: "#ff0000",
                coordinates: yt.CoordinatesPositions.Inside,
                darkMode: !1,
                diagramStyle: !0,
                enabled: !0,
                fadeSetup: 0,
                flipped: !1,
                highlightColor: void 0,
                highlightLegalMoves: !0,
                highlightMoves: !0,
                highlightOpacity: .5,
                hoverSquareOutline: !0,
                id: generateRandomId(),
                moveListContextMenuEnabled: !0,
                moveListDisplayType: yt.MoveListDisplayTypes.Text,
                moveMethod: yt.MoveMethods.Drag,
                overlayInAnalysisMode: !1,
                pieceStyle: "neo",
                playSounds: !0,
                premoveDelay: 200,
                premoveHighlightColor: "#f42a32",
                premoveHighlightOpacity: .5,
                rounded: !0,
                soundTheme: "default",
                threatSquareColor: "#ff0000",
                threatSquareOpacity: .8,
                useSharedStyleTag: !1
            }
        }
        var Bi, $i;
        function buildErrorMsg(e) {
            return (Array.isArray(e) ? e : [e]).map((e=>{
                var t;
                return `${e.name} (requires: ${null == (t = e.requires) ? void 0 : t.join(", ")})`
            }
            )).join(", ")
        }
        function getMapOfLoadablePlugins(e, t=new Map) {
            return getLoadablePlugins(e, t, new Map)
        }
        function getLoadablePlugins(e, t, n) {
            if (0 === e.size)
                return n;
            const a = e.size
              , l = new Map([...t.entries(), ...n.entries()]);
            return e.forEach((t=>{
                (function requiredPluginsExist(e, t=new Map) {
                    return !e || e.every((e=>t.has(e)))
                }
                )(t.requires, l) && (n.set(t.name, t),
                e.delete(t.name))
            }
            )),
            a === e.size ? (n.clear(),
            n) : getLoadablePlugins(e, t, n)
        }
        function createChessboardPluginsAPI(e=[], t) {
            const n = createPluginsAPI();
            return n.addMany(e),
            {
                add: add2,
                addMany: add2,
                get: n.getAll,
                has: n.has,
                remove: remove,
                setCreatePluginContext: n.setContext
            };
            function add2(e) {
                (function getPluginsOrderedByRequires(e, t) {
                    if (0 === e.length)
                        return [];
                    const n = getMapOfLoadablePlugins(new Map(e.map((e=>[e.name, e]))), new Map(t.map((e=>[e.name, e]))));
                    if (0 === n.size) {
                        const t = buildErrorMsg(e);
                        throw new Error(`Required plugins do not exist: ${t}`)
                    }
                    return [...n.values()]
                }
                )(Array.isArray(e) ? e : [e], n.getAll()).forEach((a=>{
                    n.has(a.name) && n.remove(a.name),
                    function loadPlugin(e) {
                        const t = n.getContext();
                        if (!t)
                            return;
                        const {api: a, apiOverrides: l, modeOverrides: f, name: h} = e;
                        a && (e.destroyAPIMethods = t.api.extendAPI(h, {
                            [h]: a
                        })),
                        l && (e.destroyAPIOverrides = t.api.extendAPI(h, l)),
                        f && (e.destroyModeOverrides = t.mode.extendMode(f))
                    }(a);
                    if (!n.add(a)) {
                        const {name: l} = a;
                        null == t || t.log({
                            code: Bi.LogCodes.CreateFailure,
                            data: {
                                currentPlugins: n.getAll().map((e=>e.name)),
                                data: buildErrorMsg(e),
                                plugin: l
                            },
                            level: zt.Levels.Error,
                            message: `Could not create ${l} plugin`
                        }),
                        remove(a.name)
                    }
                }
                ))
            }
            function remove(e) {
                var t, a, l;
                if (!n.has(e))
                    return;
                const f = n.getOne(e);
                n.remove(e),
                null == (t = null == f ? void 0 : f.destroyAPIMethods) || t.call(f),
                null == (a = null == f ? void 0 : f.destroyAPIOverrides) || a.call(f),
                null == (l = null == f ? void 0 : f.destroyModeOverrides) || l.call(f)
            }
        }
        function getRendererType(e) {
            const {Arcade: t, Natural: n} = yt.Animation.Types;
            return e.pieceStyle === $i.PieceStyles.Trigger ? Nt.Types.WebGL3D : [t, n].includes(e.animationType) ? Nt.Types.WebGL2D : Nt.Types.Default
        }
        function getRenderer(e) {
            return function fetchRenderer(e) {
                return e === Nt.Types.WebGL3D ? Promise.all([n.e(525), n.e(804)]).then(n.bind(n, 82804)) : e === Nt.Types.WebGL2D ? Promise.all([n.e(525), n.e(155)]).then(n.bind(n, 42155)) : n.e(442).then(n.bind(n, 18442))
            }(getRendererType(e))
        }
        function shouldSetRenderer(e, t, n, a) {
            const l = getRendererType(n)
              , f = l !== a
              , h = l === Nt.Types.WebGL2D
              , p = "animationType"in e
              , m = e.animationType !== t.animationType
              , g = h && p && m;
            return Object.keys(e).some((e=>Nt.TriggerOptions.includes(e))) && (f || g)
        }
        function defaultOptions(e, t=!1) {
            const {pieceStyle: n, animationType: a} = getDefaultOptions();
            e.animationType = a,
            t && (e.pieceStyle = n)
        }
        async function getMode(e) {
            return function __variableDynamicImportRuntime0__(e) {
                switch (e) {
                case "../analysis/index.ts":
                    return Promise.resolve().then((function() {
                        return ei
                    }
                    ));
                case "../capture-the-star/index.ts":
                    return Promise.resolve().then((function() {
                        return ui
                    }
                    ));
                case "../exploring/index.ts":
                    return Promise.resolve().then((function() {
                        return hi
                    }
                    ));
                case "../guess-the-move/index.ts":
                    return Promise.resolve().then((function() {
                        return mi
                    }
                    ));
                case "../observing/index.ts":
                    return Promise.resolve().then((function() {
                        return bi
                    }
                    ));
                case "../passive-observing/index.ts":
                    return Promise.resolve().then((function() {
                        return xi
                    }
                    ));
                case "../playing/index.ts":
                    return Promise.resolve().then((function() {
                        return Ci
                    }
                    ));
                case "../setup/index.ts":
                    return Promise.resolve().then((function() {
                        return Pi
                    }
                    ));
                default:
                    return new Promise((function(t, n) {
                        ("function" == typeof queueMicrotask ? queueMicrotask : setTimeout)(n.bind(null, new Error("Unknown variable dynamic import: " + e)))
                    }
                    ))
                }
            }(`../${e.toLowerCase()}/index.ts`)
        }
        !function(e) {
            !function(e) {
                e.CreateFailure = "CreateFailure"
            }(e.LogCodes || (e.LogCodes = {}))
        }(Bi || (Bi = {})),
        function(e) {
            var t, n, a, l, f, h, p;
            (t = e.PieceStyles || (e.PieceStyles = {})).Default = "staunton_executive",
            t.Trigger = "real3d",
            (e.CacheKeys || (e.CacheKeys = {})).CameraSettings = "cameraSettings",
            (n = e.CssClasses || (e.CssClasses = {})).Board = "board-webgl-3d",
            n.PieceDrag = "piece-dragging",
            n.PieceHover = "piece-hover",
            n.PromotionWindow = "promotion-window-3d",
            n.StatisticsPanel = "statistics-panel",
            (a = e.ObjectsRenderOrder || (e.ObjectsRenderOrder = {}))[a.AnalysisOverlay = 1] = "AnalysisOverlay",
            a[a.NotationPlane = 2] = "NotationPlane",
            a[a.OverSquare = 3] = "OverSquare",
            a[a.HighligtedSquare = 4] = "HighligtedSquare",
            a[a.Hint = 5] = "Hint",
            a[a.CustomItem = 6] = "CustomItem",
            a[a.PieceShadow = 7] = "PieceShadow",
            a[a.Arrow = 8] = "Arrow",
            a[a.Effect = 9] = "Effect",
            a[a.Highest = 10] = "Highest",
            function(e) {
                e[e.PositionY = .005] = "PositionY"
            }(e.Arrow || (e.Arrow = {})),
            (l = e.CustomItem || (e.CustomItem = {}))[l.PositionY = .005] = "PositionY",
            (f = e.Effect || (e.Effect = {}))[f.PositionY = .005] = "PositionY",
            (h = e.Square || (e.Square = {}))[h.Size = 10] = "Size",
            h[h.HalfSize = 5] = "HalfSize",
            h[h.BorderSize = .5] = "BorderSize",
            h[h.OverBorderSize = .5] = "OverBorderSize",
            h[h.VisibleY = .005] = "VisibleY",
            h[h.InvisibleY = -.2] = "InvisibleY",
            h[h.InsideTolerance = .01] = "InsideTolerance",
            function(e) {
                e[e.MarginSize = 4] = "MarginSize",
                e[e.Size = 88] = "Size"
            }(e.Board || (e.Board = {})),
            (p = e.Camera || (e.Camera = {}))[p.Distance = 140] = "Distance",
            p[p.DistanceMin = 50] = "DistanceMin",
            p[p.DistanceMax = 500] = "DistanceMax",
            p[p.PanAngle = 0] = "PanAngle",
            p[p.TiltAngle = 100] = "TiltAngle",
            p[p.HorizontalPanning = 0] = "HorizontalPanning",
            p[p.VerticalPanning = -12] = "VerticalPanning",
            p[p.ZoomIncrement = 5] = "ZoomIncrement"
        }($i || ($i = {}));
        function createGame({api: e, apiOptions: t, el: n, emitter: a, init: l, logger: h, mode: p, options: m=getDefaultOptions(), plugins: g=createStandardPlugins(), renderer: v}) {
            const y = e || createAPI({
                eventEmitter: a,
                logger: h,
                options: t || {}
            })
              , b = __spreadValues(__spreadValues({}, getDefaultOptions()), m);
            n.id = `board-${b.id}`;
            const _ = createChessboardPluginsAPI()
              , C = function createSetRenderer() {
                const e = createQueue();
                return async function set3(t) {
                    e.add(handler2, t)
                }
                ;
                async function handler2(e) {
                    if (destroyRenderer(),
                    e)
                        A = e;
                    else
                        try {
                            (function checkWebGLSupport(e) {
                                const t = getRendererType(e);
                                return t !== Nt.Types.WebGL2D && t !== Nt.Types.WebGL3D || (void 0 === window.hasWebGLSupport && (window.hasWebGLSupport = function isWebGLSupported2() {
                                    const e = document.createElement("canvas")
                                      , t = e.getContext("webgl") || e.getContext("experimental-webgl");
                                    return Boolean(t) && t instanceof WebGLRenderingContext
                                }()),
                                !!window.hasWebGLSupport || (defaultOptions(e, t === Nt.Types.WebGL3D),
                                !1))
                            }
                            )(b) || y.emit(f.InstanceEvents.RendererSetFailed, createCoreEvent(f.InstanceEvents.RendererSetFailed, {
                                message: "WebGL is not supported by the browser. Will fallback to default.",
                                isWebGLRenderError: !0
                            })),
                            A = (await getRenderer(b)).createRenderer({
                                el: n,
                                options: b
                            })
                        } catch (t) {
                            y.emit(f.InstanceEvents.RendererSetFailed, createCoreEvent(f.InstanceEvents.RendererSetFailed, {
                                message: "Problem creating renderer. Will fallback to default.",
                                error: t
                            })),
                            defaultOptions(b, !0),
                            A = (await getRenderer(b)).createRenderer({
                                el: n,
                                options: b
                            })
                        }
                    x.setRenderer(A),
                    Object.assign(w, {
                        animationComplete: A.animationComplete,
                        getPointerPosition: A.getPointerPosition,
                        isAnimating: A.isAnimating
                    }),
                    S = createUserEventHandlers({
                        el: n,
                        getPointerPosition: A.getPointerPosition,
                        options: b,
                        run: runCoreEvent
                    }),
                    n.addEventListener(Or, S.handlePointerdown),
                    document.addEventListener(Or, S.handleDocumentPointerdown),
                    A.onAll(y.logger.log),
                    y.emit(f.InstanceEvents.RendererSet, createCoreEvent(f.InstanceEvents.RendererSet, A.name))
                }
            }();
            let A, S;
            const x = createCore({
                params: {
                    api: y,
                    el: n,
                    options: b
                },
                plugins: _
            });
            _.setCreatePluginContext(x.getContext());
            const w = Object.assign(y, {
                destroy: function destroy10() {
                    destroyRenderer(),
                    y.offAll(runCoreEvent);
                    const e = createCoreEvent(f.InstanceEvents.Destroy);
                    runCoreEvent(e),
                    y.emit(f.InstanceEvents.Destroy, e)
                },
                getMode: x.getMode,
                getOptions: function getOptions() {
                    return __spreadValues({}, b)
                },
                getVersion: ()=>"1.14.3",
                isDragging: (P = x.getContext(),
                function isDragging() {
                    return P.state.get().machineState === Dt.States.PieceDragging
                }
                ),
                getRenderer: ()=>A,
                playSound: function playSound2(e) {
                    runCoreEvent(createCoreEvent(f.SoundEvents.Play, {
                        sound: e
                    }))
                },
                plugins: _,
                resize: function resize3(e, t) {
                    runCoreEvent(createCoreEvent(f.UIEvents.Resize, {
                        height: t,
                        width: e
                    }))
                },
                run: runCoreEvent,
                setMode: setMode,
                setOptions: function setOptions(e) {
                    const t = __spreadValues({}, b);
                    if (Object.assign(b || {}, e),
                    e && A && shouldSetRenderer(e, t, b, A.name))
                        return void C();
                    y.emit(f.OptionsEvents.Update, createCoreEvent(f.OptionsEvents.Update, e))
                },
                setRenderer: C
            });
            var P;
            const T = setMode(p);
            return "name"in T ? finishInit() : T.then(finishInit),
            w;
            function finishInit() {
                _.add(g),
                runCoreEvent(createCoreEvent(f.InstanceEvents.Create)),
                n.addEventListener("contextmenu", (e=>(e.stopPropagation(),
                e.preventDefault(),
                !1))),
                y.onAll(runCoreEvent),
                y.emit(f.InstanceEvents.Create, createCoreEvent(f.InstanceEvents.Create, x.getMode().name)),
                C(v).then((()=>{
                    l && y.load(l)
                }
                ))
            }
            function destroyRenderer() {
                x.setRenderer(),
                null == A || A.offAll(y.logger.log),
                null == A || A.destroy(),
                A = void 0,
                n.removeEventListener(Or, null == S ? void 0 : S.handlePointerdown),
                document.removeEventListener(Or, null == S ? void 0 : S.handleDocumentPointerdown),
                document.removeEventListener(Nr, null == S ? void 0 : S.handlePointermove),
                document.removeEventListener(Rr, null == S ? void 0 : S.handlePointerup)
            }
            function runCoreEvent(e) {
                return x.run(e),
                e
            }
            function setMode(e) {
                return "modeType"in e ? getMode(e.modeType).then((t=>setModeWithBuilder(t.create(e.options)))) : setModeWithBuilder(e)
            }
            function setModeWithBuilder(e) {
                var t, n;
                const a = x && x.getMode();
                a && (null == (t = a.plugins) || t.forEach((e=>_.remove(e.name))),
                _.get().forEach((e=>{
                    var t;
                    return null == (t = e.destroyModeOverrides) ? void 0 : t.call(e)
                }
                )),
                null == (n = a.destroy) || n.call(a));
                const l = e(y);
                return y.usePlayingAs(l.usePlayingAs),
                l.plugins && _.add(l.plugins),
                _.get().forEach((e=>e.modeOverrides && l.extendMode(e.modeOverrides))),
                x && (x.setMode(l),
                runCoreEvent(createCoreEvent(f.InstanceEvents.ModeChanged)),
                y.emit(f.InstanceEvents.ModeChanged, createCoreEvent(f.InstanceEvents.ModeChanged, x.getMode().name))),
                l
            }
        }
        function getColorAsNumber(e) {
            return e === Xn.ColorsAsLetters.Black || e === Xn.ColorsAsWords.Black ? Xn.ColorsAsNumbers.Black : Xn.ColorsAsNumbers.White
        }
        function makeMoveIfAllowed({game: e, piece: t, toSquare: n}) {
            const [a,l] = t;
            if (n && t && e.getMode().isAllowedToMove()) {
                const t = e.move({
                    color: getColorAsNumber(a),
                    drop: l,
                    to: n,
                    userGenerated: !0
                });
                return "Move" === (null == t ? void 0 : t.type)
            }
            return !1
        }
        function getPieceBaseURL(e, t=150) {
            return `/chess-themes/pieces/${e}/${t}`
        }
        var Fi, Hi, ji, Ui, Vi, Gi;
        (function(e) {
            e.BodyDragging = "hand-pieces-dragging-body",
            e.Component = "hand-pieces",
            e.Dragging = "dragging",
            e.Flipped = "flipped",
            e.Horizontal = "horizontal",
            e.Piece = "hand-piece",
            e.Pseudo3d = "pseudo3d",
            e.Vertical = "vertical",
            e.WithKing = "with-king"
        }
        )((Hi = Fi || (Fi = {})).Classes || (Hi.Classes = {})),
        (ji = Hi.DataAttributes || (Hi.DataAttributes = {})).Dragging = "data-hand-piece-dragging",
        ji.Selected = "data-hand-piece-selected",
        (Ui = Hi.DisplayDirections || (Hi.DisplayDirections = {})).Horizontal = "horizontal",
        Ui.Vertical = "vertical",
        function(e) {
            e.Dragging = "dragging",
            e.Idle = "idle",
            e.Selected = "selected"
        }(Vi || (Vi = {})),
        function(e) {
            e.RESET = "RESET",
            e.PLACE = "PLACE",
            e.SELECT = "SELECT",
            e.DESELECT = "DESELECT",
            e.START_DRAG = "START_DRAG",
            e.MOVE = "MOVE"
        }(Gi || (Gi = {}));
        function get_each_context(e, t, n) {
            const a = e.slice();
            return a[29] = t[n][0],
            a[30] = t[n][1],
            a
        }
        function create_if_block_1(e) {
            let t, n, a = e[30] + "";
            return {
                c() {
                    t = (0,
                    I.f)("span"),
                    n = (0,
                    I.h)(a),
                    (0,
                    I.j)(t, "class", "hand-piece-count svelte-sg5tpd")
                },
                m(e, a) {
                    (0,
                    I.k)(e, t, a),
                    (0,
                    I.m)(t, n)
                },
                p(e, t) {
                    256 & t[0] && a !== (a = e[30] + "") && (0,
                    I.o)(n, a)
                },
                d(e) {
                    e && (0,
                    I.q)(t)
                }
            }
        }
        function create_each_block(e) {
            let t, n, a, l, f, h, p, m = moreThanOne(e[30]), g = m && create_if_block_1(e);
            function pointerdown_handler(...t) {
                return e[27](e[29], ...t)
            }
            return {
                c() {
                    t = (0,
                    I.f)("div"),
                    g && g.c(),
                    (0,
                    I.j)(t, "class", n = (0,
                    I.n)(`hand-piece ${e[29]} ${appendIf({
                        hidden: zeroCount(e[30])
                    })} `) + " svelte-sg5tpd"),
                    (0,
                    I.j)(t, "style", a = `${appendIf({
                        [e[22]]: is(e[29], e[9])
                    })}`),
                    (0,
                    I.j)(t, "data-hand-piece", l = e[29]),
                    (0,
                    I.j)(t, "data-hand-piece-selected", f = is(e[3], Vi.Selected) && is(e[29], e[9]) ? e[21] : null)
                },
                m(e, n) {
                    (0,
                    I.k)(e, t, n),
                    g && g.m(t, null),
                    h || (p = (0,
                    I.w)(t, "pointerdown", pointerdown_handler),
                    h = !0)
                },
                p(h, p) {
                    e = h,
                    256 & p[0] && (m = moreThanOne(e[30])),
                    m ? g ? g.p(e, p) : (g = create_if_block_1(e),
                    g.c(),
                    g.m(t, null)) : g && (g.d(1),
                    g = null),
                    256 & p[0] && n !== (n = (0,
                    I.n)(`hand-piece ${e[29]} ${appendIf({
                        hidden: zeroCount(e[30])
                    })} `) + " svelte-sg5tpd") && (0,
                    I.j)(t, "class", n),
                    768 & p[0] && a !== (a = `${appendIf({
                        [e[22]]: is(e[29], e[9])
                    })}`) && (0,
                    I.j)(t, "style", a),
                    256 & p[0] && l !== (l = e[29]) && (0,
                    I.j)(t, "data-hand-piece", l),
                    776 & p[0] && f !== (f = is(e[3], Vi.Selected) && is(e[29], e[9]) ? e[21] : null) && (0,
                    I.j)(t, "data-hand-piece-selected", f)
                },
                d(e) {
                    e && (0,
                    I.q)(t),
                    g && g.d(),
                    h = !1,
                    p()
                }
            }
        }
        function create_if_block(e) {
            let t, n, a;
            return {
                c() {
                    t = (0,
                    I.f)("div"),
                    (0,
                    I.j)(t, "class", n = (0,
                    I.n)(`hand-piece dragging ${e[10]}`) + " svelte-sg5tpd"),
                    (0,
                    I.j)(t, "style", a = `${translateCoordinates(e[11].current)}; width: ${e[2]}px; height: ${e[2]}px;`),
                    (0,
                    I.j)(t, "data-hand-piece", e[10]),
                    (0,
                    I.j)(t, "data-hand-piece-dragging", "true")
                },
                m(e, n) {
                    (0,
                    I.k)(e, t, n)
                },
                p(e, l) {
                    1024 & l[0] && n !== (n = (0,
                    I.n)(`hand-piece dragging ${e[10]}`) + " svelte-sg5tpd") && (0,
                    I.j)(t, "class", n),
                    2052 & l[0] && a !== (a = `${translateCoordinates(e[11].current)}; width: ${e[2]}px; height: ${e[2]}px;`) && (0,
                    I.j)(t, "style", a),
                    1024 & l[0] && (0,
                    I.j)(t, "data-hand-piece", e[10])
                },
                d(e) {
                    e && (0,
                    I.q)(t)
                }
            }
        }
        function create_fragment(e) {
            let t, n, a, l = is(e[3], Vi.Dragging), f = Object.entries(e[8]), h = [];
            for (let m = 0; m < f.length; m += 1)
                h[m] = create_each_block(get_each_context(e, f, m));
            let p = l && create_if_block(e);
            return {
                c() {
                    t = (0,
                    I.f)("div");
                    for (let e = 0; e < h.length; e += 1)
                        h[e].c();
                    n = (0,
                    I.r)(),
                    p && p.c(),
                    (0,
                    I.j)(t, "class", a = (0,
                    I.n)(`${e[4]} ${Fi.Classes.Component} ${appendIf({
                        [Fi.Classes.Flipped]: e[5],
                        [Fi.Classes.WithKing]: e[6],
                        [Fi.Classes.Pseudo3d]: e[7]
                    })}`) + " svelte-sg5tpd")
                },
                m(a, l) {
                    (0,
                    I.k)(a, t, l);
                    for (let e = 0; e < h.length; e += 1)
                        h[e].m(t, null);
                    (0,
                    I.m)(t, n),
                    p && p.m(t, null),
                    e[28](t)
                },
                p(e, m) {
                    if (6292233 & m[0]) {
                        let a;
                        for (f = Object.entries(e[8]),
                        a = 0; a < f.length; a += 1) {
                            const l = get_each_context(e, f, a);
                            h[a] ? h[a].p(l, m) : (h[a] = create_each_block(l),
                            h[a].c(),
                            h[a].m(t, n))
                        }
                        for (; a < h.length; a += 1)
                            h[a].d(1);
                        h.length = f.length
                    }
                    8 & m[0] && (l = is(e[3], Vi.Dragging)),
                    l ? p ? p.p(e, m) : (p = create_if_block(e),
                    p.c(),
                    p.m(t, null)) : p && (p.d(1),
                    p = null),
                    240 & m[0] && a !== (a = (0,
                    I.n)(`${e[4]} ${Fi.Classes.Component} ${appendIf({
                        [Fi.Classes.Flipped]: e[5],
                        [Fi.Classes.WithKing]: e[6],
                        [Fi.Classes.Pseudo3d]: e[7]
                    })}`) + " svelte-sg5tpd") && (0,
                    I.j)(t, "class", a)
                },
                i: I.x,
                o: I.x,
                d(n) {
                    n && (0,
                    I.q)(t),
                    (0,
                    I.E)(h, n),
                    p && p.d(),
                    e[28](null)
                }
            }
        }
        function instance(e, t, n) {
            let a, l, f, h, p, m, g, v, y, {data: b} = t, {game: _} = t, {boardEl: C} = t, {eventHandlers: A} = t, {removePieceStyleElement: S} = t;
            const {handPieces: x, currentState: w, selectedPieceId: P, draggingPieceId: T, dragCoords: M, direction: k, showAllPieces: O, flipped: N, pseudo3d: R} = b;
            let L, D;
            (0,
            I.G)(e, x, (e=>n(8, m = e))),
            (0,
            I.G)(e, w, (e=>n(3, a = e))),
            (0,
            I.G)(e, P, (e=>n(9, g = e))),
            (0,
            I.G)(e, T, (e=>n(10, v = e))),
            (0,
            I.G)(e, M, (e=>n(11, y = e))),
            (0,
            I.G)(e, k, (e=>n(4, l = e))),
            (0,
            I.G)(e, O, (e=>n(6, h = e))),
            (0,
            I.G)(e, N, (e=>n(5, f = e))),
            (0,
            I.G)(e, R, (e=>n(7, p = e)));
            let B = function getHighlightColor(e) {
                var t;
                return (null == (t = getTheme(e.boardStyle)) ? void 0 : t.highlightColor) || yt.HighlightColors.Selected
            }(_.getOptions())
              , $ = `background-color: ${B};`;
            (0,
            I.I)((()=>{
                document.removeEventListener(kr.PointerMove, A.move),
                document.removeEventListener(kr.PointerUp, A.placeDrag),
                document.removeEventListener(kr.PointerDown, A.placeSelect),
                C.removeEventListener(kr.PointerDown, A.placeSelect),
                document.removeEventListener(kr.Mousedown, A.reset),
                S()
            }
            ));
            return e.$$set = e=>{
                "data"in e && n(23, b = e.data),
                "game"in e && n(24, _ = e.game),
                "boardEl"in e && n(25, C = e.boardEl),
                "eventHandlers"in e && n(0, A = e.eventHandlers),
                "removePieceStyleElement"in e && n(26, S = e.removePieceStyleElement)
            }
            ,
            e.$$.update = ()=>{
                15 & e.$$.dirty[0] && (a === Vi.Dragging ? (document.addEventListener(kr.PointerMove, A.move),
                document.addEventListener(kr.PointerUp, A.placeDrag),
                document.body.classList.add(Fi.Classes.BodyDragging),
                !D && n(2, D = L.children[0].clientWidth)) : (document.removeEventListener(kr.PointerMove, A.move),
                document.removeEventListener(kr.PointerUp, A.placeDrag),
                document.body.classList.remove(Fi.Classes.BodyDragging))),
                33554441 & e.$$.dirty[0] && (a === Vi.Selected ? (document.addEventListener(kr.PointerDown, A.placeSelect),
                C.addEventListener(kr.PointerDown, A.placeSelect)) : (document.removeEventListener(kr.PointerDown, A.placeSelect),
                C.removeEventListener(kr.PointerDown, A.placeSelect))),
                9 & e.$$.dirty[0] && (a !== Vi.Idle ? document.addEventListener(kr.Mousedown, A.reset) : document.removeEventListener(kr.Mousedown, A.reset))
            }
            ,
            [A, L, D, a, l, f, h, p, m, g, v, y, x, w, P, T, M, k, O, N, R, B, $, b, _, C, S, (e,t)=>A.startDrag({
                event: t,
                piece: e
            }), function div_binding(e) {
                I.D[e ? "unshift" : "push"]((()=>{
                    L = e,
                    n(1, L)
                }
                ))
            }
            ]
        }
        class Hand_pieces extends I.b {
            constructor(e) {
                super(),
                (0,
                I.i)(this, e, instance, create_fragment, I.d, {
                    data: 23,
                    game: 24,
                    boardEl: 25,
                    eventHandlers: 0,
                    removePieceStyleElement: 26
                }, null, [-1, -1])
            }
        }
        function checkForSelectablePiece({game: e, square: t}) {
            if (!e.getPieces().isDefined(t))
                return !1;
            const n = e.getVariant()
              , a = n === Xn.Variants.Crazyhouse || n === Xn.Variants.Bughouse
              , l = e.getPieces().get(t).color === e.getPlayingAs();
            return a && l
        }
        function getSquareFromCoords({game: e, boardEl: t, coords: n}) {
            var a;
            return null == (a = e.getPointerPosition({
                el: t,
                event: {
                    clientX: n.x,
                    clientY: n.y
                },
                flipped: e.getOptions().flipped
            })) ? void 0 : a.square
        }
        function getHand(e) {
            var t;
            const {game: n} = e.getContext();
            return (null == (t = null == n ? void 0 : n.hand) ? void 0 : t.call(n)) || ""
        }
        function is(e, t) {
            return e === t
        }
        function zeroCount(e) {
            return 0 === e
        }
        function moreThanOne(e) {
            return e > 1
        }
        function appendIf(e) {
            return Object.entries(e).reduce(((e,[t,n])=>(n && e.push(t),
            e)), []).join(" ")
        }
        function translateCoordinates(e) {
            return `top: ${e.y}px; left: ${e.x}px; transform: translate(-50%, -50%)`
        }
        function getInitialCoords({el: e, event: t}) {
            const {width: n, height: a} = e.getBoundingClientRect();
            return {
                height: a,
                width: n,
                x: t.clientX,
                y: t.clientY
            }
        }
        function droppedInsideInitialCoords({coords: e, initialCoords: t}) {
            const {x: n, y: a} = e;
            if (0 === n && 0 === a)
                return !0;
            const {height: l, width: f, x: h, y: p} = t
              , m = f / 2
              , g = l / 2;
            return n >= h - m && n <= h + m && a <= p + g && a >= p - g
        }
        function toPiecesObjWithCount(e, t) {
            const n = t.toLowerCase()
              , a = `${t === n ? "b" : "w"}${n}`;
            return e[a] || (e[a] = 0),
            e[a] += 1,
            e
        }
        function createEventHandlers(e, {game: t, data: n}) {
            const {currentState: a, selectedPieceId: l, continuousDrop: f} = n;
            return {
                startDrag: function piecePointerDown({piece: n, event: h}) {
                    h.stopPropagation();
                    const [p] = n;
                    if (!function pieceIsInteractable(e, t) {
                        return void 0 === e.getPlayingAs() || Boolean(e.getPlayingAs() === getColorAsNumber(t))
                    }(t, p) || isRightButton(h))
                        return;
                    f.get() && l.get() === n ? e(Gi.DESELECT) : f.get() && a.get() === Vi.Selected ? e(Gi.SELECT, n) : e(Gi.START_DRAG, {
                        piece: n,
                        initialCoords: getInitialCoords({
                            el: h.currentTarget,
                            event: h
                        })
                    })
                },
                move: function pointerMove({clientX: t, clientY: n}) {
                    e(Gi.MOVE, {
                        x: t,
                        y: n
                    })
                },
                placeDrag: function pointerUp({clientX: t, clientY: n}) {
                    e(Gi.PLACE, {
                        coords: {
                            x: t,
                            y: n
                        }
                    })
                },
                placeSelect: function pointerDown(t) {
                    if (t.stopPropagation(),
                    isRightButton(t))
                        return;
                    e(Gi.PLACE, {
                        coords: {
                            x: t.clientX,
                            y: t.clientY
                        },
                        targetEl: t.target
                    })
                },
                reset: function pointerRight(t) {
                    if (t.stopPropagation(),
                    !isRightButton(t))
                        return;
                    document.oncontextmenu = ()=>!1,
                    onNextTick((()=>document.oncontextmenu = ()=>!0)),
                    e(Gi.RESET, {
                        targetEl: t.target
                    })
                }
            }
        }
        function createHandPiecesStateMachine(e) {
            const {movePiece: t, selectPiece: n, deselectPiece: a, setState: l, startDrag: h, reset: p, afterPlaceAttempt: m} = e.actions
              , g = function createHandPiecesService(e) {
                const t = (0,
                I.c)(function getStateMachine({game: e, boardEl: t, data: n}) {
                    const {draggingPieceId: a, dragCoords: l, selectedPieceId: h, continuousDrop: p} = n;
                    return {
                        initialState: Vi.Idle,
                        states: {
                            [Vi.Idle]: {
                                START_DRAG: ()=>Vi.Dragging
                            },
                            [Vi.Selected]: {
                                DESELECT: ()=>Vi.Idle,
                                SELECT: ()=>Vi.Selected,
                                START_DRAG: ()=>Vi.Dragging,
                                RESET: ()=>Vi.Idle,
                                PLACE: ({coords: n})=>{
                                    if (droppedInsideInitialCoords({
                                        coords: n,
                                        initialCoords: l.get().initial
                                    }))
                                        return Vi.Idle;
                                    const a = getSquareFromCoords({
                                        game: e,
                                        coords: n,
                                        boardEl: t
                                    });
                                    if (a) {
                                        if (e.plugins.has("premoves") && checkForSelectablePiece({
                                            game: e,
                                            square: a
                                        }))
                                            return e.run({
                                                data: {
                                                    square: a
                                                },
                                                type: f.UserEvents.PointerdownLeft
                                            }),
                                            Vi.Idle;
                                        if (!makeMoveIfAllowed({
                                            game: e,
                                            piece: h.get(),
                                            toSquare: a
                                        }) && checkForSelectablePiece({
                                            game: e,
                                            square: a
                                        }))
                                            return e.run({
                                                data: {
                                                    square: a
                                                },
                                                type: f.UserEvents.PointerdownLeft
                                            }),
                                            Vi.Idle;
                                        if (p.get())
                                            return "setup" === e.getMode().name && e.run({
                                                type: f.UserEvents.MousedownRight
                                            }),
                                            Vi.Selected
                                    }
                                    return Vi.Idle
                                }
                            },
                            [Vi.Dragging]: {
                                RESET: ()=>Vi.Idle,
                                MOVE: ()=>Vi.Dragging,
                                PLACE: ({coords: n})=>droppedInsideInitialCoords({
                                    coords: n,
                                    initialCoords: l.get().initial
                                }) ? Vi.Selected : (makeMoveIfAllowed({
                                    game: e,
                                    piece: a.get(),
                                    toSquare: getSquareFromCoords({
                                        game: e,
                                        coords: n,
                                        boardEl: t
                                    })
                                }),
                                Vi.Idle)
                            }
                        }
                    }
                }(e));
                function send(e, n) {
                    t.transition(e, n),
                    t.emit("action", {
                        type: e,
                        value: n,
                        nextState: t.getCurrentState()
                    })
                }
                return Object.assign({}, t, {
                    send: send,
                    onTransition: e=>t.on("action", e),
                    eventHandlers: createEventHandlers(send, e)
                })
            }(e);
            return g.onTransition((function renderHandler({type: f, value: g, nextState: v}) {
                var y;
                const b = e.data.currentState.get();
                b !== v && l(v);
                const _ = {
                    [Gi.START_DRAG]: h,
                    [Gi.MOVE]: t,
                    [Gi.DESELECT]: a,
                    [Gi.SELECT]: n,
                    [Gi.PLACE]: ({coords: t})=>m({
                        coords: t,
                        game: e.game,
                        oldState: b,
                        nextState: v
                    }),
                    [Gi.RESET]: ()=>p(e.game)
                };
                null == (y = _[f]) || y.call(_, g, v)
            }
            )),
            g.on("Enter", (function enterHandler({nextState: t}) {
                t === Vi.Selected && e.game.run({
                    type: f.UserEvents.PointerdownRight,
                    data: {}
                })
            }
            )),
            g
        }
        function data(e) {
            let t = e;
            const n = (0,
            I.K)(t);
            return {
                set: function set3(e) {
                    return n.set(t = e)
                },
                update: function update5(e) {
                    n.update((n=>t = e(n)))
                },
                subscribe: n.subscribe,
                get: function get2() {
                    return t
                }
            }
        }
        function createActions({handPieces: e, continuousDrop: t, currentState: n, direction: a, dragCoords: l, draggingPieceId: f, flipped: h, pseudo3d: p, selectedPieceId: m, showAllPieces: g}) {
            function setContinuousDrop(e) {
                t.set(e)
            }
            function setFlipped(e) {
                h.set(e)
            }
            function setDirection(e) {
                a.set(e)
            }
            function setShowAllPieces(e) {
                g.set(e)
            }
            function selectPiece(e) {
                m.set(e)
            }
            function dragPiece(e) {
                f.set(e)
            }
            function setHand(t, n=!1) {
                const a = g.get();
                n && dragPiece("");
                const l = (a ? function getFullHand() {
                    const e = Object.values(Xn.Piece.Types);
                    return [...e, ...e.map((e=>e.toUpperCase()))]
                }() : t.split("")).reduce(toPiecesObjWithCount, {});
                e.set(l);
                const h = f.get();
                h && l[h] > 0 && e.update((e=>{
                    const t = e[h];
                    return t > 0 && (e[h] = t - 1),
                    e
                }
                ))
            }
            function reset2(e) {
                selectPiece(""),
                setHand(getHand(e), !0)
            }
            return {
                setState: function setState(e) {
                    n.set(e)
                },
                setContinuousDrop: setContinuousDrop,
                setPseudo3d: function setPseudo3d(e) {
                    p.set(e)
                },
                setFlipped: setFlipped,
                setDirection: setDirection,
                setShowAllPieces: setShowAllPieces,
                selectPiece: selectPiece,
                deselectPiece: function deselectPiece() {
                    m.set("")
                },
                dragPiece: dragPiece,
                movePiece: function movePiece(e) {
                    l.update((t=>({
                        current: e,
                        initial: t.initial
                    })))
                },
                startDrag: function startDrag({piece: t, initialCoords: n}) {
                    dragPiece(t),
                    selectPiece(""),
                    l.set({
                        current: n,
                        initial: n
                    }),
                    e.update((e=>{
                        const n = e[t];
                        return n > 0 && (e[t] = n - 1),
                        e
                    }
                    ))
                },
                setHand: setHand,
                afterPlaceAttempt: function afterPlaceAttempt({coords: e, game: t, oldState: n, nextState: a}) {
                    const h = n === Vi.Dragging ? f.get() : "";
                    setHand(getHand(t), !0),
                    droppedInsideInitialCoords({
                        coords: e,
                        initialCoords: l.get().initial
                    }) && selectPiece(h),
                    "idle" === a && reset2(t)
                },
                setInitialData: function setInitialData(e) {
                    e.direction && setDirection(e.direction),
                    setFlipped(Boolean(e.flipped)),
                    setShowAllPieces(Boolean(e.showAllPieces)),
                    setContinuousDrop(Boolean(e.canDropPiecesContinuously))
                },
                reset: reset2
            }
        }
        function createHandPieces({boardEl: e, containerEl: t, direction: n, showAllPieces: a=!1, canDropPiecesContinuously: l=!1, flipped: f, game: h, pieceStyles: p=fr, replaceContainer: m}) {
            const {data: g, actions: v} = function createStore() {
                const e = {
                    handPieces: {},
                    continuousDrop: !1,
                    currentState: Vi.Idle,
                    direction: "vertical",
                    dragCoords: {
                        current: {
                            x: 0,
                            y: 0
                        },
                        initial: {
                            x: 0,
                            y: 0
                        }
                    },
                    draggingPieceId: "",
                    flipped: !1,
                    isPseudo3d: !1,
                    selectedPieceId: "",
                    showAllPieces: !1
                }
                  , t = {
                    handPieces: data(e.handPieces),
                    continuousDrop: data(e.continuousDrop),
                    currentState: data(e.currentState),
                    direction: data(e.direction),
                    dragCoords: data(e.dragCoords),
                    draggingPieceId: data(e.draggingPieceId),
                    flipped: data(e.flipped),
                    pseudo3d: data(e.isPseudo3d),
                    selectedPieceId: data(e.selectedPieceId),
                    showAllPieces: data(e.showAllPieces)
                };
                return {
                    data: t,
                    actions: createActions(t)
                }
            }()
              , {setDirection: y, setHand: b, setFlipped: _, setInitialData: C, setPseudo3d: A, setShowAllPieces: S, setContinuousDrop: x} = v;
            C({
                direction: n,
                showAllPieces: a,
                flipped: f,
                canDropPiecesContinuously: l
            });
            const w = createHandPiecesStateMachine({
                data: g,
                actions: v,
                boardEl: e,
                game: h
            })
              , {removePieceStyleElement: P, updatePieceStyle: T} = function createUpdatePieceStyle(e, t) {
                const n = document.createElement("style");
                return document.head.append(n),
                {
                    getPieceStyles: getPieceStyles,
                    removePieceStyleElement: function removePieceStyleElement() {
                        n.remove()
                    },
                    updatePieceStyle: function updatePieceStyle(a) {
                        n.innerHTML = getPieceStyles(a);
                        const {isPseudo3d: l} = t[a];
                        e(Boolean(l))
                    }
                };
                function getPieceStyles(e) {
                    const {path: n, format: a, isPseudo3d: l} = t[e]
                      , f = getPieceBaseURL(n)
                      , h = l ? "::after" : "";
                    return lr.reduce(((e,t)=>`${e} .hand-piece.${t}${h} { background-image: url('${f}/${t}.${a}'); }`), "")
                }
            }(A, p)
              , M = function createHandPiecesComponent({options: e, target: t, replaceContainer: n=!0}) {
                return createSvelteComponent({
                    ComponentType: Hand_pieces,
                    options: __spreadProps(__spreadValues({}, e), {
                        target: t
                    }),
                    replaceContainer: n
                })
            }({
                options: {
                    props: {
                        data: g,
                        game: h,
                        boardEl: e,
                        eventHandlers: w.eventHandlers,
                        removePieceStyleElement: P
                    }
                },
                replaceContainer: m,
                target: t
            });
            return {
                destroy: M.destroy,
                getHand: ()=>getHand(h),
                reset: ()=>w.send(Gi.RESET),
                setDirection: y,
                setFlipped: _,
                setHand: b,
                setShowAllPieces: S,
                setContinuousDrop: x,
                updatePieceStyle: T
            }
        }
        function createHandPiecesPlugin({direction: e, el: t, pieceStyles: n, replaceContainer: a}={}) {
            let l;
            return {
                create: function create3(f) {
                    const {api: h, el: p, mode: m} = f
                      , {flipped: g, pieceStyle: v} = f.options
                      , {canDropPiecesContinuously: y} = m.getOptions()
                      , b = isSetupMode(m.name);
                    l = createHandPieces({
                        boardEl: p,
                        containerEl: t || p,
                        direction: e,
                        flipped: g,
                        game: h,
                        pieceStyles: n,
                        canDropPiecesContinuously: y,
                        replaceContainer: a,
                        showAllPieces: b
                    }),
                    l.updatePieceStyle(v),
                    l.setHand(l.getHand())
                },
                destroy: function destroy10() {
                    l.destroy()
                },
                match: [{
                    condition: isOneOf([f.APIEvents.Load, f.OptionsEvents.Update]),
                    handler: function onLoadOrOptionChanged(e, t) {
                        e.type === f.APIEvents.Load && l.reset();
                        const {flipped: n, pieceStyle: a} = t.options;
                        l.setHand(l.getHand()),
                        l.setFlipped(n),
                        l.updatePieceStyle(a)
                    }
                }, {
                    condition: is$1(f.OptionsEvents.UpdateMode),
                    handler: function setContinuousDrop(e) {
                        void 0 !== e.data.canDropPiecesContinuously && l.setContinuousDrop(Boolean(e.data.canDropPiecesContinuously))
                    }
                }, {
                    condition: isOneOf([...Un, Ie.Events.SetHand]),
                    handler: function onPositionChanged() {
                        l.setHand(l.getHand())
                    }
                }, {
                    condition: is$1(f.InstanceEvents.ModeChanged),
                    handler: function onModeChanged(e, t) {
                        var n;
                        const a = isSetupMode(e.data)
                          , {canDropPiecesContinuously: f} = null == (n = t.mode) ? void 0 : n.getOptions();
                        l.setContinuousDrop(Boolean(f)),
                        l.setShowAllPieces(a)
                    }
                }],
                name: Ie.Plugin.Name
            };
            function isSetupMode(e) {
                return e === Zo.Types.Setup
            }
        }
        function getBoardURL(e, t=150) {
            return `/chess-themes/boards/${e}/${t}.png`
        }
        function getColorAsLetter(e) {
            return e === Xn.ColorsAsNumbers.Black ? Xn.ColorsAsLetters.Black : Xn.ColorsAsLetters.White
        }
        function getSanFromFileRank(e) {
            return !e || !e.file || !e.rank || e.file > 8 || e.rank > 8 || e.file < 1 || e.rank < 1 ? null : `${String.fromCharCode(96 + e.file)}${e.rank.toString()}`
        }
        function getUndoMoveDetails(e) {
            const t = [{
                animate: e.animate,
                from: e.kingTo || e.to,
                to: e.from
            }];
            e.rookMove && t.push(__spreadProps(__spreadValues({}, e.rookMove), {
                from: e.rookMove.to,
                to: e.rookMove.from
            }));
            const n = e.captured && e.capturedStr ? {
                color: getOppositeColor(e.color),
                promoted: e.capturedPromotedPawn,
                square: e.EPCapturedSquare || e.to,
                type: e.capturedStr.toLowerCase()
            } : void 0;
            return {
                movedPieces: t,
                promotedSquare: e.promotion ? e.from : void 0,
                restoredPiece: n
            }
        }
        function getArrowColor(e, t) {
            var n, a;
            return null != (a = null != (n = e && t[Xn.Node.Marking.JCEColorsMap[e]]) ? n : e) ? a : t.default
        }
        const qi = {
            HEAD_HEIGHT: 4.5,
            HEAD_WIDTH: 6.5,
            TAIL_PADDING: 4.5,
            WIDTH: 2.75
        }
          , zi = 27.95084971874737
          , Wi = [.5, -2]
          , Ki = [2, .5, -.5, -2];
        function calculateArrowLength({from: e, to: t}) {
            return Math.sqrt((e.x - t.x) ** 2 + (e.y - t.y) ** 2)
        }
        function calculateArrowRotation({from: e, to: t}) {
            const n = calculateArrowLength({
                from: e,
                to: t
            })
              , a = e.x
              , l = e.y + n
              , f = e.x - a
              , h = e.y - l
              , p = e.x - t.x
              , m = e.y - t.y
              , g = Math.acos((f * p + h * m) / n ** 2)
              , v = Math.floor(g * (180 / Math.PI) * 100) / 100;
            return e.x < t.x ? 360 - v : v
        }
        function calculateArrowSlope({from: e, to: t}) {
            const n = (e.y - t.y) / (e.x - t.x);
            return Number(n.toFixed(1))
        }
        function getKnightArrowRotation({from: e, slope: t, to: n}) {
            switch (t) {
            case 2:
                return e.x > n.x ? 180 : 0;
            case -2:
                return e.x > n.x ? 0 : 180;
            case .5:
            case -.5:
                return e.x > n.x ? 90 : 270;
            default:
                return 0
            }
        }
        const Zi = /iPhone/i
          , Xi = /iPod/i
          , Qi = /iPad/i
          , Yi = /\bAndroid(?:.+)Mobile\b/i
          , Ji = /Android/i
          , ea = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i
          , ta = /Silk/i
          , na = /Windows Phone/i
          , ra = /\bWindows(?:.+)ARM\b/i
          , oa = /BlackBerry/i
          , ia = /BB10/i
          , aa = /Opera Mini/i
          , sa = /\b(CriOS|Chrome)(?:.+)Mobile/i
          , ua = /Mobile(?:.+)Firefox\b/i;
        function match(e, t) {
            return e.test(t)
        }
        /*!
 * @pixi/settings - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
        var ca = function isMobile$1(e) {
            let t = (e = e || ("undefined" != typeof navigator ? navigator.userAgent : "")).split("[FBAN");
            void 0 !== t[1] && (e = t[0]),
            t = e.split("Twitter"),
            void 0 !== t[1] && (e = t[0]);
            const n = {
                apple: {
                    phone: match(Zi, e) && !match(na, e),
                    ipod: match(Xi, e),
                    tablet: !match(Zi, e) && match(Qi, e) && !match(na, e),
                    device: (match(Zi, e) || match(Xi, e) || match(Qi, e)) && !match(na, e)
                },
                amazon: {
                    phone: match(ea, e),
                    tablet: !match(ea, e) && match(ta, e),
                    device: match(ea, e) || match(ta, e)
                },
                android: {
                    phone: !match(na, e) && match(ea, e) || !match(na, e) && match(Yi, e),
                    tablet: !match(na, e) && !match(ea, e) && !match(Yi, e) && (match(ta, e) || match(Ji, e)),
                    device: !match(na, e) && (match(ea, e) || match(ta, e) || match(Yi, e) || match(Ji, e)) || match(/\bokhttp\b/i, e)
                },
                windows: {
                    phone: match(na, e),
                    tablet: match(ra, e),
                    device: match(na, e) || match(ra, e)
                },
                other: {
                    blackberry: match(oa, e),
                    blackberry10: match(ia, e),
                    opera: match(aa, e),
                    firefox: match(ua, e),
                    chrome: match(sa, e),
                    device: match(oa, e) || match(ia, e) || match(aa, e) || match(ua, e) || match(sa, e)
                },
                any: !1,
                phone: !1,
                tablet: !1
            };
            return n.any = n.apple.device || n.android.device || n.windows.device || n.other.device,
            n.phone = n.apple.phone || n.android.phone || n.windows.phone,
            n.tablet = n.apple.tablet || n.android.tablet || n.windows.tablet,
            n
        }();
        var la = {
            MIPMAP_TEXTURES: 1,
            ANISOTROPIC_LEVEL: 0,
            RESOLUTION: 1,
            FILTER_RESOLUTION: 1,
            SPRITE_MAX_TEXTURES: function maxRecommendedTextures(e) {
                var t = !0;
                if (ca.tablet || ca.phone) {
                    if (t = !1,
                    ca.apple.device) {
                        var n = navigator.userAgent.match(/OS (\d+)_(\d+)?/);
                        if (n)
                            parseInt(n[1], 10) >= 11 && (t = !0)
                    }
                    if (ca.android.device) {
                        var a = navigator.userAgent.match(/Android\s([0-9.]*)/);
                        if (a)
                            parseInt(a[1], 10) >= 7 && (t = !0)
                    }
                }
                return t ? e : 4
            }(32),
            SPRITE_BATCH_SIZE: 4096,
            RENDER_OPTIONS: {
                view: null,
                antialias: !1,
                forceFXAA: !1,
                autoDensity: !1,
                transparent: !1,
                backgroundColor: 0,
                clearBeforeRender: !0,
                preserveDrawingBuffer: !1,
                width: 800,
                height: 600,
                legacy: !1
            },
            GC_MODE: 0,
            GC_MAX_IDLE: 3600,
            GC_MAX_CHECK_COUNT: 600,
            WRAP_MODE: 33071,
            SCALE_MODE: 1,
            PRECISION_VERTEX: "highp",
            PRECISION_FRAGMENT: ca.apple.device ? "highp" : "mediump",
            CAN_UPLOAD_SAME_BUFFER: function canUploadSameBuffer() {
                return !ca.apple.device
            }(),
            CREATE_IMAGE_BITMAP: !1,
            ROUND_PIXELS: !1
        }
          , da = {
            exports: {}
        };
        !function(e) {
            var t = Object.prototype.hasOwnProperty
              , n = "~";
            function Events() {}
            function EE(e, t, n) {
                this.fn = e,
                this.context = t,
                this.once = n || !1
            }
            function addListener(e, t, a, l, f) {
                if ("function" != typeof a)
                    throw new TypeError("The listener must be a function");
                var h = new EE(a,l || e,f)
                  , p = n ? n + t : t;
                return e._events[p] ? e._events[p].fn ? e._events[p] = [e._events[p], h] : e._events[p].push(h) : (e._events[p] = h,
                e._eventsCount++),
                e
            }
            function clearEvent(e, t) {
                0 == --e._eventsCount ? e._events = new Events : delete e._events[t]
            }
            function EventEmitter2() {
                this._events = new Events,
                this._eventsCount = 0
            }
            Object.create && (Events.prototype = Object.create(null),
            (new Events).__proto__ || (n = !1)),
            EventEmitter2.prototype.eventNames = function eventNames() {
                var e, a, l = [];
                if (0 === this._eventsCount)
                    return l;
                for (a in e = this._events)
                    t.call(e, a) && l.push(n ? a.slice(1) : a);
                return Object.getOwnPropertySymbols ? l.concat(Object.getOwnPropertySymbols(e)) : l
            }
            ,
            EventEmitter2.prototype.listeners = function listeners(e) {
                var t = n ? n + e : e
                  , a = this._events[t];
                if (!a)
                    return [];
                if (a.fn)
                    return [a.fn];
                for (var l = 0, f = a.length, h = new Array(f); l < f; l++)
                    h[l] = a[l].fn;
                return h
            }
            ,
            EventEmitter2.prototype.listenerCount = function listenerCount(e) {
                var t = n ? n + e : e
                  , a = this._events[t];
                return a ? a.fn ? 1 : a.length : 0
            }
            ,
            EventEmitter2.prototype.emit = function emit(e, t, a, l, f, h) {
                var p = n ? n + e : e;
                if (!this._events[p])
                    return !1;
                var m, g, v = this._events[p], y = arguments.length;
                if (v.fn) {
                    switch (v.once && this.removeListener(e, v.fn, void 0, !0),
                    y) {
                    case 1:
                        return v.fn.call(v.context),
                        !0;
                    case 2:
                        return v.fn.call(v.context, t),
                        !0;
                    case 3:
                        return v.fn.call(v.context, t, a),
                        !0;
                    case 4:
                        return v.fn.call(v.context, t, a, l),
                        !0;
                    case 5:
                        return v.fn.call(v.context, t, a, l, f),
                        !0;
                    case 6:
                        return v.fn.call(v.context, t, a, l, f, h),
                        !0
                    }
                    for (g = 1,
                    m = new Array(y - 1); g < y; g++)
                        m[g - 1] = arguments[g];
                    v.fn.apply(v.context, m)
                } else {
                    var b, _ = v.length;
                    for (g = 0; g < _; g++)
                        switch (v[g].once && this.removeListener(e, v[g].fn, void 0, !0),
                        y) {
                        case 1:
                            v[g].fn.call(v[g].context);
                            break;
                        case 2:
                            v[g].fn.call(v[g].context, t);
                            break;
                        case 3:
                            v[g].fn.call(v[g].context, t, a);
                            break;
                        case 4:
                            v[g].fn.call(v[g].context, t, a, l);
                            break;
                        default:
                            if (!m)
                                for (b = 1,
                                m = new Array(y - 1); b < y; b++)
                                    m[b - 1] = arguments[b];
                            v[g].fn.apply(v[g].context, m)
                        }
                }
                return !0
            }
            ,
            EventEmitter2.prototype.on = function on(e, t, n) {
                return addListener(this, e, t, n, !1)
            }
            ,
            EventEmitter2.prototype.once = function once(e, t, n) {
                return addListener(this, e, t, n, !0)
            }
            ,
            EventEmitter2.prototype.removeListener = function removeListener(e, t, a, l) {
                var f = n ? n + e : e;
                if (!this._events[f])
                    return this;
                if (!t)
                    return clearEvent(this, f),
                    this;
                var h = this._events[f];
                if (h.fn)
                    h.fn !== t || l && !h.once || a && h.context !== a || clearEvent(this, f);
                else {
                    for (var p = 0, m = [], g = h.length; p < g; p++)
                        (h[p].fn !== t || l && !h[p].once || a && h[p].context !== a) && m.push(h[p]);
                    m.length ? this._events[f] = 1 === m.length ? m[0] : m : clearEvent(this, f)
                }
                return this
            }
            ,
            EventEmitter2.prototype.removeAllListeners = function removeAllListeners(e) {
                var t;
                return e ? (t = n ? n + e : e,
                this._events[t] && clearEvent(this, t)) : (this._events = new Events,
                this._eventsCount = 0),
                this
            }
            ,
            EventEmitter2.prototype.off = EventEmitter2.prototype.removeListener,
            EventEmitter2.prototype.addListener = EventEmitter2.prototype.on,
            EventEmitter2.prefixed = n,
            EventEmitter2.EventEmitter = EventEmitter2,
            e.exports = EventEmitter2
        }(da);
        var fa = da.exports
          , ha = {
            exports: {}
        };
        function earcut(e, t, n) {
            n = n || 2;
            var a, l, f, h, p, m, g, v = t && t.length, y = v ? t[0] * n : e.length, b = linkedList(e, 0, y, n, !0), _ = [];
            if (!b || b.next === b.prev)
                return _;
            if (v && (b = function eliminateHoles(e, t, n, a) {
                var l, f, h, p = [];
                for (l = 0,
                f = t.length; l < f; l++)
                    (h = linkedList(e, t[l] * a, l < f - 1 ? t[l + 1] * a : e.length, a, !1)) === h.next && (h.steiner = !0),
                    p.push(getLeftmost(h));
                for (p.sort(compareX),
                l = 0; l < p.length; l++)
                    eliminateHole(p[l], n),
                    n = filterPoints(n, n.next);
                return n
            }(e, t, b, n)),
            e.length > 80 * n) {
                a = f = e[0],
                l = h = e[1];
                for (var C = n; C < y; C += n)
                    (p = e[C]) < a && (a = p),
                    (m = e[C + 1]) < l && (l = m),
                    p > f && (f = p),
                    m > h && (h = m);
                g = 0 !== (g = Math.max(f - a, h - l)) ? 1 / g : 0
            }
            return earcutLinked(b, _, n, a, l, g),
            _
        }
        function linkedList(e, t, n, a, l) {
            var f, h;
            if (l === signedArea(e, t, n, a) > 0)
                for (f = t; f < n; f += a)
                    h = insertNode(f, e[f], e[f + 1], h);
            else
                for (f = n - a; f >= t; f -= a)
                    h = insertNode(f, e[f], e[f + 1], h);
            return h && equals(h, h.next) && (removeNode(h),
            h = h.next),
            h
        }
        function filterPoints(e, t) {
            if (!e)
                return e;
            t || (t = e);
            var n, a = e;
            do {
                if (n = !1,
                a.steiner || !equals(a, a.next) && 0 !== area(a.prev, a, a.next))
                    a = a.next;
                else {
                    if (removeNode(a),
                    (a = t = a.prev) === a.next)
                        break;
                    n = !0
                }
            } while (n || a !== t);
            return t
        }
        function earcutLinked(e, t, n, a, l, f, h) {
            if (e) {
                !h && f && function indexCurve(e, t, n, a) {
                    var l = e;
                    do {
                        null === l.z && (l.z = zOrder(l.x, l.y, t, n, a)),
                        l.prevZ = l.prev,
                        l.nextZ = l.next,
                        l = l.next
                    } while (l !== e);
                    l.prevZ.nextZ = null,
                    l.prevZ = null,
                    function sortLinked(e) {
                        var t, n, a, l, f, h, p, m, g = 1;
                        do {
                            for (n = e,
                            e = null,
                            f = null,
                            h = 0; n; ) {
                                for (h++,
                                a = n,
                                p = 0,
                                t = 0; t < g && (p++,
                                a = a.nextZ); t++)
                                    ;
                                for (m = g; p > 0 || m > 0 && a; )
                                    0 !== p && (0 === m || !a || n.z <= a.z) ? (l = n,
                                    n = n.nextZ,
                                    p--) : (l = a,
                                    a = a.nextZ,
                                    m--),
                                    f ? f.nextZ = l : e = l,
                                    l.prevZ = f,
                                    f = l;
                                n = a
                            }
                            f.nextZ = null,
                            g *= 2
                        } while (h > 1);
                        return e
                    }(l)
                }(e, a, l, f);
                for (var p, m, g = e; e.prev !== e.next; )
                    if (p = e.prev,
                    m = e.next,
                    f ? isEarHashed(e, a, l, f) : isEar(e))
                        t.push(p.i / n),
                        t.push(e.i / n),
                        t.push(m.i / n),
                        removeNode(e),
                        e = m.next,
                        g = m.next;
                    else if ((e = m) === g) {
                        h ? 1 === h ? earcutLinked(e = cureLocalIntersections(filterPoints(e), t, n), t, n, a, l, f, 2) : 2 === h && splitEarcut(e, t, n, a, l, f) : earcutLinked(filterPoints(e), t, n, a, l, f, 1);
                        break
                    }
            }
        }
        function isEar(e) {
            var t = e.prev
              , n = e
              , a = e.next;
            if (area(t, n, a) >= 0)
                return !1;
            for (var l = e.next.next; l !== e.prev; ) {
                if (pointInTriangle(t.x, t.y, n.x, n.y, a.x, a.y, l.x, l.y) && area(l.prev, l, l.next) >= 0)
                    return !1;
                l = l.next
            }
            return !0
        }
        function isEarHashed(e, t, n, a) {
            var l = e.prev
              , f = e
              , h = e.next;
            if (area(l, f, h) >= 0)
                return !1;
            for (var p = l.x < f.x ? l.x < h.x ? l.x : h.x : f.x < h.x ? f.x : h.x, m = l.y < f.y ? l.y < h.y ? l.y : h.y : f.y < h.y ? f.y : h.y, g = l.x > f.x ? l.x > h.x ? l.x : h.x : f.x > h.x ? f.x : h.x, v = l.y > f.y ? l.y > h.y ? l.y : h.y : f.y > h.y ? f.y : h.y, y = zOrder(p, m, t, n, a), b = zOrder(g, v, t, n, a), _ = e.prevZ, C = e.nextZ; _ && _.z >= y && C && C.z <= b; ) {
                if (_ !== e.prev && _ !== e.next && pointInTriangle(l.x, l.y, f.x, f.y, h.x, h.y, _.x, _.y) && area(_.prev, _, _.next) >= 0)
                    return !1;
                if (_ = _.prevZ,
                C !== e.prev && C !== e.next && pointInTriangle(l.x, l.y, f.x, f.y, h.x, h.y, C.x, C.y) && area(C.prev, C, C.next) >= 0)
                    return !1;
                C = C.nextZ
            }
            for (; _ && _.z >= y; ) {
                if (_ !== e.prev && _ !== e.next && pointInTriangle(l.x, l.y, f.x, f.y, h.x, h.y, _.x, _.y) && area(_.prev, _, _.next) >= 0)
                    return !1;
                _ = _.prevZ
            }
            for (; C && C.z <= b; ) {
                if (C !== e.prev && C !== e.next && pointInTriangle(l.x, l.y, f.x, f.y, h.x, h.y, C.x, C.y) && area(C.prev, C, C.next) >= 0)
                    return !1;
                C = C.nextZ
            }
            return !0
        }
        function cureLocalIntersections(e, t, n) {
            var a = e;
            do {
                var l = a.prev
                  , f = a.next.next;
                !equals(l, f) && intersects(l, a, a.next, f) && locallyInside(l, f) && locallyInside(f, l) && (t.push(l.i / n),
                t.push(a.i / n),
                t.push(f.i / n),
                removeNode(a),
                removeNode(a.next),
                a = e = f),
                a = a.next
            } while (a !== e);
            return filterPoints(a)
        }
        function splitEarcut(e, t, n, a, l, f) {
            var h = e;
            do {
                for (var p = h.next.next; p !== h.prev; ) {
                    if (h.i !== p.i && isValidDiagonal(h, p)) {
                        var m = splitPolygon(h, p);
                        return h = filterPoints(h, h.next),
                        m = filterPoints(m, m.next),
                        earcutLinked(h, t, n, a, l, f),
                        void earcutLinked(m, t, n, a, l, f)
                    }
                    p = p.next
                }
                h = h.next
            } while (h !== e)
        }
        function compareX(e, t) {
            return e.x - t.x
        }
        function eliminateHole(e, t) {
            if (t = function findHoleBridge(e, t) {
                var n, a = t, l = e.x, f = e.y, h = -1 / 0;
                do {
                    if (f <= a.y && f >= a.next.y && a.next.y !== a.y) {
                        var p = a.x + (f - a.y) * (a.next.x - a.x) / (a.next.y - a.y);
                        if (p <= l && p > h) {
                            if (h = p,
                            p === l) {
                                if (f === a.y)
                                    return a;
                                if (f === a.next.y)
                                    return a.next
                            }
                            n = a.x < a.next.x ? a : a.next
                        }
                    }
                    a = a.next
                } while (a !== t);
                if (!n)
                    return null;
                if (l === h)
                    return n;
                var m, g = n, v = n.x, y = n.y, b = 1 / 0;
                a = n;
                do {
                    l >= a.x && a.x >= v && l !== a.x && pointInTriangle(f < y ? l : h, f, v, y, f < y ? h : l, f, a.x, a.y) && (m = Math.abs(f - a.y) / (l - a.x),
                    locallyInside(a, e) && (m < b || m === b && (a.x > n.x || a.x === n.x && sectorContainsSector(n, a))) && (n = a,
                    b = m)),
                    a = a.next
                } while (a !== g);
                return n
            }(e, t),
            t) {
                var n = splitPolygon(t, e);
                filterPoints(t, t.next),
                filterPoints(n, n.next)
            }
        }
        function sectorContainsSector(e, t) {
            return area(e.prev, e, t.prev) < 0 && area(t.next, e, e.next) < 0
        }
        function zOrder(e, t, n, a, l) {
            return (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * l) | e << 8)) | e << 4)) | e << 2)) | e << 1)) | (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - a) * l) | t << 8)) | t << 4)) | t << 2)) | t << 1)) << 1
        }
        function getLeftmost(e) {
            var t = e
              , n = e;
            do {
                (t.x < n.x || t.x === n.x && t.y < n.y) && (n = t),
                t = t.next
            } while (t !== e);
            return n
        }
        function pointInTriangle(e, t, n, a, l, f, h, p) {
            return (l - h) * (t - p) - (e - h) * (f - p) >= 0 && (e - h) * (a - p) - (n - h) * (t - p) >= 0 && (n - h) * (f - p) - (l - h) * (a - p) >= 0
        }
        function isValidDiagonal(e, t) {
            return e.next.i !== t.i && e.prev.i !== t.i && !function intersectsPolygon(e, t) {
                var n = e;
                do {
                    if (n.i !== e.i && n.next.i !== e.i && n.i !== t.i && n.next.i !== t.i && intersects(n, n.next, e, t))
                        return !0;
                    n = n.next
                } while (n !== e);
                return !1
            }(e, t) && (locallyInside(e, t) && locallyInside(t, e) && function middleInside(e, t) {
                var n = e
                  , a = !1
                  , l = (e.x + t.x) / 2
                  , f = (e.y + t.y) / 2;
                do {
                    n.y > f != n.next.y > f && n.next.y !== n.y && l < (n.next.x - n.x) * (f - n.y) / (n.next.y - n.y) + n.x && (a = !a),
                    n = n.next
                } while (n !== e);
                return a
            }(e, t) && (area(e.prev, e, t.prev) || area(e, t.prev, t)) || equals(e, t) && area(e.prev, e, e.next) > 0 && area(t.prev, t, t.next) > 0)
        }
        function area(e, t, n) {
            return (t.y - e.y) * (n.x - t.x) - (t.x - e.x) * (n.y - t.y)
        }
        function equals(e, t) {
            return e.x === t.x && e.y === t.y
        }
        function intersects(e, t, n, a) {
            var l = sign$1(area(e, t, n))
              , f = sign$1(area(e, t, a))
              , h = sign$1(area(n, a, e))
              , p = sign$1(area(n, a, t));
            return l !== f && h !== p || (!(0 !== l || !onSegment(e, n, t)) || (!(0 !== f || !onSegment(e, a, t)) || (!(0 !== h || !onSegment(n, e, a)) || !(0 !== p || !onSegment(n, t, a)))))
        }
        function onSegment(e, t, n) {
            return t.x <= Math.max(e.x, n.x) && t.x >= Math.min(e.x, n.x) && t.y <= Math.max(e.y, n.y) && t.y >= Math.min(e.y, n.y)
        }
        function sign$1(e) {
            return e > 0 ? 1 : e < 0 ? -1 : 0
        }
        function locallyInside(e, t) {
            return area(e.prev, e, e.next) < 0 ? area(e, t, e.next) >= 0 && area(e, e.prev, t) >= 0 : area(e, t, e.prev) < 0 || area(e, e.next, t) < 0
        }
        function splitPolygon(e, t) {
            var n = new Node(e.i,e.x,e.y)
              , a = new Node(t.i,t.x,t.y)
              , l = e.next
              , f = t.prev;
            return e.next = t,
            t.prev = e,
            n.next = l,
            l.prev = n,
            a.next = n,
            n.prev = a,
            f.next = a,
            a.prev = f,
            a
        }
        function insertNode(e, t, n, a) {
            var l = new Node(e,t,n);
            return a ? (l.next = a.next,
            l.prev = a,
            a.next.prev = l,
            a.next = l) : (l.prev = l,
            l.next = l),
            l
        }
        function removeNode(e) {
            e.next.prev = e.prev,
            e.prev.next = e.next,
            e.prevZ && (e.prevZ.nextZ = e.nextZ),
            e.nextZ && (e.nextZ.prevZ = e.prevZ)
        }
        function Node(e, t, n) {
            this.i = e,
            this.x = t,
            this.y = n,
            this.prev = null,
            this.next = null,
            this.z = null,
            this.prevZ = null,
            this.nextZ = null,
            this.steiner = !1
        }
        function signedArea(e, t, n, a) {
            for (var l = 0, f = t, h = n - a; f < n; f += a)
                l += (e[h] - e[f]) * (e[f + 1] + e[h + 1]),
                h = f;
            return l
        }
        ha.exports = earcut,
        ha.exports.default = earcut,
        earcut.deviation = function(e, t, n, a) {
            var l = t && t.length
              , f = l ? t[0] * n : e.length
              , h = Math.abs(signedArea(e, 0, f, n));
            if (l)
                for (var p = 0, m = t.length; p < m; p++) {
                    var g = t[p] * n
                      , v = p < m - 1 ? t[p + 1] * n : e.length;
                    h -= Math.abs(signedArea(e, g, v, n))
                }
            var y = 0;
            for (p = 0; p < a.length; p += 3) {
                var b = a[p] * n
                  , _ = a[p + 1] * n
                  , C = a[p + 2] * n;
                y += Math.abs((e[b] - e[C]) * (e[_ + 1] - e[b + 1]) - (e[b] - e[_]) * (e[C + 1] - e[b + 1]))
            }
            return 0 === h && 0 === y ? 0 : Math.abs((y - h) / h)
        }
        ,
        earcut.flatten = function(e) {
            for (var t = e[0][0].length, n = {
                vertices: [],
                holes: [],
                dimensions: t
            }, a = 0, l = 0; l < e.length; l++) {
                for (var f = 0; f < e[l].length; f++)
                    for (var h = 0; h < t; h++)
                        n.vertices.push(e[l][f][h]);
                l > 0 && (a += e[l - 1].length,
                n.holes.push(a))
            }
            return n
        }
        ;
        var pa = ha.exports
          , ma = {}
          , ga = {
            exports: {}
        };
        /*! https://mths.be/punycode v1.3.2 by @mathias */
        !function(e, t) {
            !function(n) {
                var a = t && !t.nodeType && t
                  , l = e && !e.nodeType && e
                  , f = "object" == typeof I.L && I.L;
                f.global !== f && f.window !== f && f.self !== f || (n = f);
                var h, p, m = 2147483647, g = 36, v = /^xn--/, y = /[^\x20-\x7E]/, b = /[\x2E\u3002\uFF0E\uFF61]/g, _ = {
                    overflow: "Overflow: input needs wider integers to process",
                    "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                    "invalid-input": "Invalid input"
                }, C = Math.floor, A = String.fromCharCode;
                function error(e) {
                    throw RangeError(_[e])
                }
                function map2(e, t) {
                    for (var n = e.length, a = []; n--; )
                        a[n] = t(e[n]);
                    return a
                }
                function mapDomain(e, t) {
                    var n = e.split("@")
                      , a = "";
                    return n.length > 1 && (a = n[0] + "@",
                    e = n[1]),
                    a + map2((e = e.replace(b, ".")).split("."), t).join(".")
                }
                function ucs2decode(e) {
                    for (var t, n, a = [], l = 0, f = e.length; l < f; )
                        (t = e.charCodeAt(l++)) >= 55296 && t <= 56319 && l < f ? 56320 == (64512 & (n = e.charCodeAt(l++))) ? a.push(((1023 & t) << 10) + (1023 & n) + 65536) : (a.push(t),
                        l--) : a.push(t);
                    return a
                }
                function ucs2encode(e) {
                    return map2(e, (function(e) {
                        var t = "";
                        return e > 65535 && (t += A((e -= 65536) >>> 10 & 1023 | 55296),
                        e = 56320 | 1023 & e),
                        t += A(e)
                    }
                    )).join("")
                }
                function digitToBasic(e, t) {
                    return e + 22 + 75 * (e < 26) - ((0 != t) << 5)
                }
                function adapt(e, t, n) {
                    var a = 0;
                    for (e = n ? C(e / 700) : e >> 1,
                    e += C(e / t); e > 455; a += g)
                        e = C(e / 35);
                    return C(a + 36 * e / (e + 38))
                }
                function decode2(e) {
                    var t, n, a, l, f, h, p, v, y, b, _, A = [], S = e.length, x = 0, w = 128, P = 72;
                    for ((n = e.lastIndexOf("-")) < 0 && (n = 0),
                    a = 0; a < n; ++a)
                        e.charCodeAt(a) >= 128 && error("not-basic"),
                        A.push(e.charCodeAt(a));
                    for (l = n > 0 ? n + 1 : 0; l < S; ) {
                        for (f = x,
                        h = 1,
                        p = g; l >= S && error("invalid-input"),
                        ((v = (_ = e.charCodeAt(l++)) - 48 < 10 ? _ - 22 : _ - 65 < 26 ? _ - 65 : _ - 97 < 26 ? _ - 97 : g) >= g || v > C((m - x) / h)) && error("overflow"),
                        x += v * h,
                        !(v < (y = p <= P ? 1 : p >= P + 26 ? 26 : p - P)); p += g)
                            h > C(m / (b = g - y)) && error("overflow"),
                            h *= b;
                        P = adapt(x - f, t = A.length + 1, 0 == f),
                        C(x / t) > m - w && error("overflow"),
                        w += C(x / t),
                        x %= t,
                        A.splice(x++, 0, w)
                    }
                    return ucs2encode(A)
                }
                function encode2(e) {
                    var t, n, a, l, f, h, p, v, y, b, _, S, x, w, P, T = [];
                    for (S = (e = ucs2decode(e)).length,
                    t = 128,
                    n = 0,
                    f = 72,
                    h = 0; h < S; ++h)
                        (_ = e[h]) < 128 && T.push(A(_));
                    for (a = l = T.length,
                    l && T.push("-"); a < S; ) {
                        for (p = m,
                        h = 0; h < S; ++h)
                            (_ = e[h]) >= t && _ < p && (p = _);
                        for (p - t > C((m - n) / (x = a + 1)) && error("overflow"),
                        n += (p - t) * x,
                        t = p,
                        h = 0; h < S; ++h)
                            if ((_ = e[h]) < t && ++n > m && error("overflow"),
                            _ == t) {
                                for (v = n,
                                y = g; !(v < (b = y <= f ? 1 : y >= f + 26 ? 26 : y - f)); y += g)
                                    P = v - b,
                                    w = g - b,
                                    T.push(A(digitToBasic(b + P % w, 0))),
                                    v = C(P / w);
                                T.push(A(digitToBasic(v, 0))),
                                f = adapt(n, x, a == l),
                                n = 0,
                                ++a
                            }
                        ++n,
                        ++t
                    }
                    return T.join("")
                }
                if (h = {
                    version: "1.3.2",
                    ucs2: {
                        decode: ucs2decode,
                        encode: ucs2encode
                    },
                    decode: decode2,
                    encode: encode2,
                    toASCII: function toASCII(e) {
                        return mapDomain(e, (function(e) {
                            return y.test(e) ? "xn--" + encode2(e) : e
                        }
                        ))
                    },
                    toUnicode: function toUnicode(e) {
                        return mapDomain(e, (function(e) {
                            return v.test(e) ? decode2(e.slice(4).toLowerCase()) : e
                        }
                        ))
                    }
                },
                a && l)
                    if (e.exports == a)
                        l.exports = h;
                    else
                        for (p in h)
                            h.hasOwnProperty(p) && (a[p] = h[p]);
                else
                    n.punycode = h
            }(I.L)
        }(ga, ga.exports);
        var va = {};
        function hasOwnProperty(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        var stringifyPrimitive = function(e) {
            switch (typeof e) {
            case "string":
                return e;
            case "boolean":
                return e ? "true" : "false";
            case "number":
                return isFinite(e) ? e : "";
            default:
                return ""
            }
        };
        va.decode = va.parse = function(e, t, n, a) {
            t = t || "&",
            n = n || "=";
            var l = {};
            if ("string" != typeof e || 0 === e.length)
                return l;
            var f = /\+/g;
            e = e.split(t);
            var h = 1e3;
            a && "number" == typeof a.maxKeys && (h = a.maxKeys);
            var p = e.length;
            h > 0 && p > h && (p = h);
            for (var m = 0; m < p; ++m) {
                var g, v, y, b, _ = e[m].replace(f, "%20"), C = _.indexOf(n);
                C >= 0 ? (g = _.substr(0, C),
                v = _.substr(C + 1)) : (g = _,
                v = ""),
                y = decodeURIComponent(g),
                b = decodeURIComponent(v),
                hasOwnProperty(l, y) ? Array.isArray(l[y]) ? l[y].push(b) : l[y] = [l[y], b] : l[y] = b
            }
            return l
        }
        ,
        va.encode = va.stringify = function(e, t, n, a) {
            return t = t || "&",
            n = n || "=",
            null === e && (e = void 0),
            "object" == typeof e ? Object.keys(e).map((function(a) {
                var l = encodeURIComponent(stringifyPrimitive(a)) + n;
                return Array.isArray(e[a]) ? e[a].map((function(e) {
                    return l + encodeURIComponent(stringifyPrimitive(e))
                }
                )).join(t) : l + encodeURIComponent(stringifyPrimitive(e[a]))
            }
            )).join(t) : a ? encodeURIComponent(stringifyPrimitive(a)) + n + encodeURIComponent(stringifyPrimitive(e)) : ""
        }
        ;
        var ya = ga.exports
          , ba = {
            isString: function(e) {
                return "string" == typeof e
            },
            isObject: function(e) {
                return "object" == typeof e && null !== e
            },
            isNull: function(e) {
                return null === e
            },
            isNullOrUndefined: function(e) {
                return null == e
            }
        }
          , _a = ma.parse = urlParse;
        function Url() {
            this.protocol = null,
            this.slashes = null,
            this.auth = null,
            this.host = null,
            this.port = null,
            this.hostname = null,
            this.hash = null,
            this.search = null,
            this.query = null,
            this.pathname = null,
            this.path = null,
            this.href = null
        }
        ma.resolve = function urlResolve(e, t) {
            return urlParse(e, !1, !0).resolve(t)
        }
        ,
        ma.resolveObject = function urlResolveObject(e, t) {
            return e ? urlParse(e, !1, !0).resolveObject(t) : t
        }
        ,
        ma.format = function urlFormat(e) {
            ba.isString(e) && (e = urlParse(e));
            return e instanceof Url ? e.format() : Url.prototype.format.call(e)
        }
        ,
        ma.Url = Url;
        var Ca, Ea, Aa, Sa, xa, wa, Pa, Ta, Ma, ka, Ia, Oa, Na, Ra, La, Da, Ba, $a, Fa, Ha, ja, Ua, Va, Ga, qa, za, Wa, Ka, Za = /^([a-z0-9.+-]+:)/i, Xa = /:[0-9]*$/, Qa = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, Ya = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "\t"]), Ja = ["'"].concat(Ya), es = ["%", "/", "?", ";", "#"].concat(Ja), ts = ["/", "?", "#"], ns = /^[+a-z0-9A-Z_-]{0,63}$/, rs = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, os = {
            javascript: !0,
            "javascript:": !0
        }, as = {
            javascript: !0,
            "javascript:": !0
        }, ss = {
            http: !0,
            https: !0,
            ftp: !0,
            gopher: !0,
            file: !0,
            "http:": !0,
            "https:": !0,
            "ftp:": !0,
            "gopher:": !0,
            "file:": !0
        }, us = va;
        function urlParse(e, t, n) {
            if (e && ba.isObject(e) && e instanceof Url)
                return e;
            var a = new Url;
            return a.parse(e, t, n),
            a
        }
        Url.prototype.parse = function(e, t, n) {
            if (!ba.isString(e))
                throw new TypeError("Parameter 'url' must be a string, not " + typeof e);
            var a = e.indexOf("?")
              , l = -1 !== a && a < e.indexOf("#") ? "?" : "#"
              , f = e.split(l);
            f[0] = f[0].replace(/\\/g, "/");
            var h = e = f.join(l);
            if (h = h.trim(),
            !n && 1 === e.split("#").length) {
                var p = Qa.exec(h);
                if (p)
                    return this.path = h,
                    this.href = h,
                    this.pathname = p[1],
                    p[2] ? (this.search = p[2],
                    this.query = t ? us.parse(this.search.substr(1)) : this.search.substr(1)) : t && (this.search = "",
                    this.query = {}),
                    this
            }
            var m = Za.exec(h);
            if (m) {
                var g = (m = m[0]).toLowerCase();
                this.protocol = g,
                h = h.substr(m.length)
            }
            if (n || m || h.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                var v = "//" === h.substr(0, 2);
                !v || m && as[m] || (h = h.substr(2),
                this.slashes = !0)
            }
            if (!as[m] && (v || m && !ss[m])) {
                for (var y, b, _ = -1, C = 0; C < ts.length; C++) {
                    -1 !== (A = h.indexOf(ts[C])) && (-1 === _ || A < _) && (_ = A)
                }
                -1 !== (b = -1 === _ ? h.lastIndexOf("@") : h.lastIndexOf("@", _)) && (y = h.slice(0, b),
                h = h.slice(b + 1),
                this.auth = decodeURIComponent(y)),
                _ = -1;
                for (C = 0; C < es.length; C++) {
                    var A;
                    -1 !== (A = h.indexOf(es[C])) && (-1 === _ || A < _) && (_ = A)
                }
                -1 === _ && (_ = h.length),
                this.host = h.slice(0, _),
                h = h.slice(_),
                this.parseHost(),
                this.hostname = this.hostname || "";
                var S = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                if (!S)
                    for (var x = this.hostname.split(/\./), w = (C = 0,
                    x.length); C < w; C++) {
                        var P = x[C];
                        if (P && !P.match(ns)) {
                            for (var T = "", M = 0, k = P.length; M < k; M++)
                                P.charCodeAt(M) > 127 ? T += "x" : T += P[M];
                            if (!T.match(ns)) {
                                var I = x.slice(0, C)
                                  , O = x.slice(C + 1)
                                  , N = P.match(rs);
                                N && (I.push(N[1]),
                                O.unshift(N[2])),
                                O.length && (h = "/" + O.join(".") + h),
                                this.hostname = I.join(".");
                                break
                            }
                        }
                    }
                this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(),
                S || (this.hostname = ya.toASCII(this.hostname));
                var R = this.port ? ":" + this.port : ""
                  , L = this.hostname || "";
                this.host = L + R,
                this.href += this.host,
                S && (this.hostname = this.hostname.substr(1, this.hostname.length - 2),
                "/" !== h[0] && (h = "/" + h))
            }
            if (!os[g])
                for (C = 0,
                w = Ja.length; C < w; C++) {
                    var D = Ja[C];
                    if (-1 !== h.indexOf(D)) {
                        var B = encodeURIComponent(D);
                        B === D && (B = escape(D)),
                        h = h.split(D).join(B)
                    }
                }
            var $ = h.indexOf("#");
            -1 !== $ && (this.hash = h.substr($),
            h = h.slice(0, $));
            var F = h.indexOf("?");
            if (-1 !== F ? (this.search = h.substr(F),
            this.query = h.substr(F + 1),
            t && (this.query = us.parse(this.query)),
            h = h.slice(0, F)) : t && (this.search = "",
            this.query = {}),
            h && (this.pathname = h),
            ss[g] && this.hostname && !this.pathname && (this.pathname = "/"),
            this.pathname || this.search) {
                R = this.pathname || "";
                var H = this.search || "";
                this.path = R + H
            }
            return this.href = this.format(),
            this
        }
        ,
        Url.prototype.format = function() {
            var e = this.auth || "";
            e && (e = (e = encodeURIComponent(e)).replace(/%3A/i, ":"),
            e += "@");
            var t = this.protocol || ""
              , n = this.pathname || ""
              , a = this.hash || ""
              , l = !1
              , f = "";
            this.host ? l = e + this.host : this.hostname && (l = e + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"),
            this.port && (l += ":" + this.port)),
            this.query && ba.isObject(this.query) && Object.keys(this.query).length && (f = us.stringify(this.query));
            var h = this.search || f && "?" + f || "";
            return t && ":" !== t.substr(-1) && (t += ":"),
            this.slashes || (!t || ss[t]) && !1 !== l ? (l = "//" + (l || ""),
            n && "/" !== n.charAt(0) && (n = "/" + n)) : l || (l = ""),
            a && "#" !== a.charAt(0) && (a = "#" + a),
            h && "?" !== h.charAt(0) && (h = "?" + h),
            t + l + (n = n.replace(/[?#]/g, (function(e) {
                return encodeURIComponent(e)
            }
            ))) + (h = h.replace("#", "%23")) + a
        }
        ,
        Url.prototype.resolve = function(e) {
            return this.resolveObject(urlParse(e, !1, !0)).format()
        }
        ,
        Url.prototype.resolveObject = function(e) {
            if (ba.isString(e)) {
                var t = new Url;
                t.parse(e, !1, !0),
                e = t
            }
            for (var n = new Url, a = Object.keys(this), l = 0; l < a.length; l++) {
                var f = a[l];
                n[f] = this[f]
            }
            if (n.hash = e.hash,
            "" === e.href)
                return n.href = n.format(),
                n;
            if (e.slashes && !e.protocol) {
                for (var h = Object.keys(e), p = 0; p < h.length; p++) {
                    var m = h[p];
                    "protocol" !== m && (n[m] = e[m])
                }
                return ss[n.protocol] && n.hostname && !n.pathname && (n.path = n.pathname = "/"),
                n.href = n.format(),
                n
            }
            if (e.protocol && e.protocol !== n.protocol) {
                if (!ss[e.protocol]) {
                    for (var g = Object.keys(e), v = 0; v < g.length; v++) {
                        var y = g[v];
                        n[y] = e[y]
                    }
                    return n.href = n.format(),
                    n
                }
                if (n.protocol = e.protocol,
                e.host || as[e.protocol])
                    n.pathname = e.pathname;
                else {
                    for (var b = (e.pathname || "").split("/"); b.length && !(e.host = b.shift()); )
                        ;
                    e.host || (e.host = ""),
                    e.hostname || (e.hostname = ""),
                    "" !== b[0] && b.unshift(""),
                    b.length < 2 && b.unshift(""),
                    n.pathname = b.join("/")
                }
                if (n.search = e.search,
                n.query = e.query,
                n.host = e.host || "",
                n.auth = e.auth,
                n.hostname = e.hostname || e.host,
                n.port = e.port,
                n.pathname || n.search) {
                    var _ = n.pathname || ""
                      , C = n.search || "";
                    n.path = _ + C
                }
                return n.slashes = n.slashes || e.slashes,
                n.href = n.format(),
                n
            }
            var A = n.pathname && "/" === n.pathname.charAt(0)
              , S = e.host || e.pathname && "/" === e.pathname.charAt(0)
              , x = S || A || n.host && e.pathname
              , w = x
              , P = n.pathname && n.pathname.split("/") || []
              , T = (b = e.pathname && e.pathname.split("/") || [],
            n.protocol && !ss[n.protocol]);
            if (T && (n.hostname = "",
            n.port = null,
            n.host && ("" === P[0] ? P[0] = n.host : P.unshift(n.host)),
            n.host = "",
            e.protocol && (e.hostname = null,
            e.port = null,
            e.host && ("" === b[0] ? b[0] = e.host : b.unshift(e.host)),
            e.host = null),
            x = x && ("" === b[0] || "" === P[0])),
            S)
                n.host = e.host || "" === e.host ? e.host : n.host,
                n.hostname = e.hostname || "" === e.hostname ? e.hostname : n.hostname,
                n.search = e.search,
                n.query = e.query,
                P = b;
            else if (b.length)
                P || (P = []),
                P.pop(),
                P = P.concat(b),
                n.search = e.search,
                n.query = e.query;
            else if (!ba.isNullOrUndefined(e.search)) {
                if (T)
                    n.hostname = n.host = P.shift(),
                    (N = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = N.shift(),
                    n.host = n.hostname = N.shift());
                return n.search = e.search,
                n.query = e.query,
                ba.isNull(n.pathname) && ba.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
                n.href = n.format(),
                n
            }
            if (!P.length)
                return n.pathname = null,
                n.search ? n.path = "/" + n.search : n.path = null,
                n.href = n.format(),
                n;
            for (var M = P.slice(-1)[0], k = (n.host || e.host || P.length > 1) && ("." === M || ".." === M) || "" === M, I = 0, O = P.length; O >= 0; O--)
                "." === (M = P[O]) ? P.splice(O, 1) : ".." === M ? (P.splice(O, 1),
                I++) : I && (P.splice(O, 1),
                I--);
            if (!x && !w)
                for (; I--; I)
                    P.unshift("..");
            !x || "" === P[0] || P[0] && "/" === P[0].charAt(0) || P.unshift(""),
            k && "/" !== P.join("/").substr(-1) && P.push("");
            var N, R = "" === P[0] || P[0] && "/" === P[0].charAt(0);
            T && (n.hostname = n.host = R ? "" : P.length ? P.shift() : "",
            (N = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = N.shift(),
            n.host = n.hostname = N.shift()));
            return (x = x || n.host && P.length) && !R && P.unshift(""),
            P.length ? n.pathname = P.join("/") : (n.pathname = null,
            n.path = null),
            ba.isNull(n.pathname) && ba.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
            n.auth = e.auth || n.auth,
            n.slashes = n.slashes || e.slashes,
            n.href = n.format(),
            n
        }
        ,
        Url.prototype.parseHost = function() {
            var e = this.host
              , t = Xa.exec(e);
            t && (":" !== (t = t[0]) && (this.port = t.substr(1)),
            e = e.substr(0, e.length - t.length)),
            e && (this.hostname = e)
        }
        ,
        (Ea = Ca || (Ca = {}))[Ea.WEBGL_LEGACY = 0] = "WEBGL_LEGACY",
        Ea[Ea.WEBGL = 1] = "WEBGL",
        Ea[Ea.WEBGL2 = 2] = "WEBGL2",
        (Sa = Aa || (Aa = {}))[Sa.UNKNOWN = 0] = "UNKNOWN",
        Sa[Sa.WEBGL = 1] = "WEBGL",
        Sa[Sa.CANVAS = 2] = "CANVAS",
        (wa = xa || (xa = {}))[wa.NORMAL = 0] = "NORMAL",
        wa[wa.ADD = 1] = "ADD",
        wa[wa.MULTIPLY = 2] = "MULTIPLY",
        wa[wa.SCREEN = 3] = "SCREEN",
        wa[wa.OVERLAY = 4] = "OVERLAY",
        wa[wa.DARKEN = 5] = "DARKEN",
        wa[wa.LIGHTEN = 6] = "LIGHTEN",
        wa[wa.COLOR_DODGE = 7] = "COLOR_DODGE",
        wa[wa.COLOR_BURN = 8] = "COLOR_BURN",
        wa[wa.HARD_LIGHT = 9] = "HARD_LIGHT",
        wa[wa.SOFT_LIGHT = 10] = "SOFT_LIGHT",
        wa[wa.DIFFERENCE = 11] = "DIFFERENCE",
        wa[wa.EXCLUSION = 12] = "EXCLUSION",
        wa[wa.HUE = 13] = "HUE",
        wa[wa.SATURATION = 14] = "SATURATION",
        wa[wa.COLOR = 15] = "COLOR",
        wa[wa.LUMINOSITY = 16] = "LUMINOSITY",
        wa[wa.NORMAL_NPM = 17] = "NORMAL_NPM",
        wa[wa.ADD_NPM = 18] = "ADD_NPM",
        wa[wa.SCREEN_NPM = 19] = "SCREEN_NPM",
        wa[wa.NONE = 20] = "NONE",
        wa[wa.SRC_OVER = 0] = "SRC_OVER",
        wa[wa.SRC_IN = 21] = "SRC_IN",
        wa[wa.SRC_OUT = 22] = "SRC_OUT",
        wa[wa.SRC_ATOP = 23] = "SRC_ATOP",
        wa[wa.DST_OVER = 24] = "DST_OVER",
        wa[wa.DST_IN = 25] = "DST_IN",
        wa[wa.DST_OUT = 26] = "DST_OUT",
        wa[wa.DST_ATOP = 27] = "DST_ATOP",
        wa[wa.ERASE = 26] = "ERASE",
        wa[wa.SUBTRACT = 28] = "SUBTRACT",
        wa[wa.XOR = 29] = "XOR",
        (Ta = Pa || (Pa = {}))[Ta.POINTS = 0] = "POINTS",
        Ta[Ta.LINES = 1] = "LINES",
        Ta[Ta.LINE_LOOP = 2] = "LINE_LOOP",
        Ta[Ta.LINE_STRIP = 3] = "LINE_STRIP",
        Ta[Ta.TRIANGLES = 4] = "TRIANGLES",
        Ta[Ta.TRIANGLE_STRIP = 5] = "TRIANGLE_STRIP",
        Ta[Ta.TRIANGLE_FAN = 6] = "TRIANGLE_FAN",
        (ka = Ma || (Ma = {}))[ka.RGBA = 6408] = "RGBA",
        ka[ka.RGB = 6407] = "RGB",
        ka[ka.ALPHA = 6406] = "ALPHA",
        ka[ka.LUMINANCE = 6409] = "LUMINANCE",
        ka[ka.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA",
        ka[ka.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT",
        ka[ka.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL",
        (Oa = Ia || (Ia = {}))[Oa.TEXTURE_2D = 3553] = "TEXTURE_2D",
        Oa[Oa.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP",
        Oa[Oa.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY",
        Oa[Oa.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X",
        Oa[Oa.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X",
        Oa[Oa.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y",
        Oa[Oa.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y",
        Oa[Oa.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z",
        Oa[Oa.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z",
        (Ra = Na || (Na = {}))[Ra.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE",
        Ra[Ra.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT",
        Ra[Ra.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5",
        Ra[Ra.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4",
        Ra[Ra.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1",
        Ra[Ra.FLOAT = 5126] = "FLOAT",
        Ra[Ra.HALF_FLOAT = 36193] = "HALF_FLOAT",
        (Da = La || (La = {}))[Da.NEAREST = 0] = "NEAREST",
        Da[Da.LINEAR = 1] = "LINEAR",
        ($a = Ba || (Ba = {}))[$a.CLAMP = 33071] = "CLAMP",
        $a[$a.REPEAT = 10497] = "REPEAT",
        $a[$a.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT",
        (Ha = Fa || (Fa = {}))[Ha.OFF = 0] = "OFF",
        Ha[Ha.POW2 = 1] = "POW2",
        Ha[Ha.ON = 2] = "ON",
        (Ua = ja || (ja = {}))[Ua.NPM = 0] = "NPM",
        Ua[Ua.UNPACK = 1] = "UNPACK",
        Ua[Ua.PMA = 2] = "PMA",
        Ua[Ua.NO_PREMULTIPLIED_ALPHA = 0] = "NO_PREMULTIPLIED_ALPHA",
        Ua[Ua.PREMULTIPLY_ON_UPLOAD = 1] = "PREMULTIPLY_ON_UPLOAD",
        Ua[Ua.PREMULTIPLY_ALPHA = 2] = "PREMULTIPLY_ALPHA",
        (Ga = Va || (Va = {}))[Ga.AUTO = 0] = "AUTO",
        Ga[Ga.MANUAL = 1] = "MANUAL",
        (za = qa || (qa = {})).LOW = "lowp",
        za.MEDIUM = "mediump",
        za.HIGH = "highp",
        (Ka = Wa || (Wa = {}))[Ka.NONE = 0] = "NONE",
        Ka[Ka.SCISSOR = 1] = "SCISSOR",
        Ka[Ka.STENCIL = 2] = "STENCIL",
        Ka[Ka.SPRITE = 3] = "SPRITE",
        /*!
 * @pixi/utils - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
        la.RETINA_PREFIX = /@([0-9\.]+)x/,
        la.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !0;
        var cs, ls = !1;
        function hex2rgb(e, t) {
            return (t = t || [])[0] = (e >> 16 & 255) / 255,
            t[1] = (e >> 8 & 255) / 255,
            t[2] = (255 & e) / 255,
            t
        }
        function hex2string(e) {
            var t = e.toString(16);
            return "#" + (t = "000000".substr(0, 6 - t.length) + t)
        }
        function string2hex(e) {
            return "string" == typeof e && "#" === e[0] && (e = e.substr(1)),
            parseInt(e, 16)
        }
        function rgb2hex(e) {
            return (255 * e[0] << 16) + (255 * e[1] << 8) + (255 * e[2] | 0)
        }
        var ds = function mapPremultipliedBlendModes() {
            for (var e = [], t = [], n = 0; n < 32; n++)
                e[n] = n,
                t[n] = n;
            e[xa.NORMAL_NPM] = xa.NORMAL,
            e[xa.ADD_NPM] = xa.ADD,
            e[xa.SCREEN_NPM] = xa.SCREEN,
            t[xa.NORMAL] = xa.NORMAL_NPM,
            t[xa.ADD] = xa.ADD_NPM,
            t[xa.SCREEN] = xa.SCREEN_NPM;
            var a = [];
            return a.push(t),
            a.push(e),
            a
        }();
        function correctBlendMode(e, t) {
            return ds[t ? 1 : 0][e]
        }
        function premultiplyRgba(e, t, n, a) {
            return n = n || new Float32Array(4),
            a || void 0 === a ? (n[0] = e[0] * t,
            n[1] = e[1] * t,
            n[2] = e[2] * t) : (n[0] = e[0],
            n[1] = e[1],
            n[2] = e[2]),
            n[3] = t,
            n
        }
        function premultiplyTint(e, t) {
            if (1 === t)
                return (255 * t << 24) + e;
            if (0 === t)
                return 0;
            var n = e >> 16 & 255
              , a = e >> 8 & 255
              , l = 255 & e;
            return (255 * t << 24) + ((n = n * t + .5 | 0) << 16) + ((a = a * t + .5 | 0) << 8) + (l = l * t + .5 | 0)
        }
        function premultiplyTintToRgba(e, t, n, a) {
            return (n = n || new Float32Array(4))[0] = (e >> 16 & 255) / 255,
            n[1] = (e >> 8 & 255) / 255,
            n[2] = (255 & e) / 255,
            (a || void 0 === a) && (n[0] *= t,
            n[1] *= t,
            n[2] *= t),
            n[3] = t,
            n
        }
        function createIndicesForQuads(e, t) {
            void 0 === t && (t = null);
            var n = 6 * e;
            if ((t = t || new Uint16Array(n)).length !== n)
                throw new Error("Out buffer length is incorrect, got " + t.length + " and expected " + n);
            for (var a = 0, l = 0; a < n; a += 6,
            l += 4)
                t[a + 0] = l + 0,
                t[a + 1] = l + 1,
                t[a + 2] = l + 2,
                t[a + 3] = l + 0,
                t[a + 4] = l + 2,
                t[a + 5] = l + 3;
            return t
        }
        function nextPow2(e) {
            return e += 0 === e ? 1 : 0,
            --e,
            e |= e >>> 1,
            e |= e >>> 2,
            e |= e >>> 4,
            e |= e >>> 8,
            (e |= e >>> 16) + 1
        }
        function isPow2(e) {
            return !(e & e - 1 || !e)
        }
        function log2(e) {
            var t = (e > 65535 ? 1 : 0) << 4
              , n = ((e >>>= t) > 255 ? 1 : 0) << 3;
            return t |= n,
            t |= n = ((e >>>= n) > 15 ? 1 : 0) << 2,
            (t |= n = ((e >>>= n) > 3 ? 1 : 0) << 1) | (e >>>= n) >> 1
        }
        function removeItems(e, t, n) {
            var a, l = e.length;
            if (!(t >= l || 0 === n)) {
                var f = l - (n = t + n > l ? l - t : n);
                for (a = t; a < f; ++a)
                    e[a] = e[a + n];
                e.length = f
            }
        }
        function sign(e) {
            return 0 === e ? 0 : e < 0 ? -1 : 1
        }
        var fs = 0;
        function uid() {
            return ++fs
        }
        var hs = {};
        function deprecation(e, t, n) {
            if (void 0 === n && (n = 3),
            !hs[t]) {
                var a = (new Error).stack;
                void 0 === a ? console.warn("PixiJS Deprecation Warning: ", t + "\nDeprecated since v" + e) : (a = a.split("\n").splice(n).join("\n"),
                console.groupCollapsed ? (console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", t + "\nDeprecated since v" + e),
                console.warn(a),
                console.groupEnd()) : (console.warn("PixiJS Deprecation Warning: ", t + "\nDeprecated since v" + e),
                console.warn(a))),
                hs[t] = !0
            }
        }
        var ps, ms = {}, gs = Object.create(null), vs = Object.create(null), ys = function() {
            function CanvasRenderTarget2(e, t, n) {
                this.canvas = document.createElement("canvas"),
                this.context = this.canvas.getContext("2d"),
                this.resolution = n || la.RESOLUTION,
                this.resize(e, t)
            }
            return CanvasRenderTarget2.prototype.clear = function() {
                this.context.setTransform(1, 0, 0, 1, 0, 0),
                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
            }
            ,
            CanvasRenderTarget2.prototype.resize = function(e, t) {
                this.canvas.width = e * this.resolution,
                this.canvas.height = t * this.resolution
            }
            ,
            CanvasRenderTarget2.prototype.destroy = function() {
                this.context = null,
                this.canvas = null
            }
            ,
            Object.defineProperty(CanvasRenderTarget2.prototype, "width", {
                get: function() {
                    return this.canvas.width
                },
                set: function(e) {
                    this.canvas.width = e
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(CanvasRenderTarget2.prototype, "height", {
                get: function() {
                    return this.canvas.height
                },
                set: function(e) {
                    this.canvas.height = e
                },
                enumerable: !0,
                configurable: !0
            }),
            CanvasRenderTarget2
        }();
        function trimCanvas(e) {
            var t, n, a, l = e.width, f = e.height, h = e.getContext("2d"), p = h.getImageData(0, 0, l, f).data, m = p.length, g = {
                top: null,
                left: null,
                right: null,
                bottom: null
            }, v = null;
            for (t = 0; t < m; t += 4)
                0 !== p[t + 3] && (n = t / 4 % l,
                a = ~~(t / 4 / l),
                null === g.top && (g.top = a),
                (null === g.left || n < g.left) && (g.left = n),
                (null === g.right || g.right < n) && (g.right = n + 1),
                (null === g.bottom || g.bottom < a) && (g.bottom = a));
            return null !== g.top && (l = g.right - g.left,
            f = g.bottom - g.top + 1,
            v = h.getImageData(g.left, g.top, l, f)),
            {
                height: f,
                width: l,
                data: v
            }
        }
        function getResolutionOfUrl(e, t) {
            var n = la.RETINA_PREFIX.exec(e);
            return n ? parseFloat(n[1]) : void 0 !== t ? t : 1
        }
        /*!
 * @pixi/math - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
        var bs, _s, Cs = function() {
            function Point2(e, t) {
                void 0 === e && (e = 0),
                void 0 === t && (t = 0),
                this.x = e,
                this.y = t
            }
            return Point2.prototype.clone = function() {
                return new Point2(this.x,this.y)
            }
            ,
            Point2.prototype.copyFrom = function(e) {
                return this.set(e.x, e.y),
                this
            }
            ,
            Point2.prototype.copyTo = function(e) {
                return e.set(this.x, this.y),
                e
            }
            ,
            Point2.prototype.equals = function(e) {
                return e.x === this.x && e.y === this.y
            }
            ,
            Point2.prototype.set = function(e, t) {
                return void 0 === e && (e = 0),
                void 0 === t && (t = e),
                this.x = e,
                this.y = t,
                this
            }
            ,
            Point2
        }(), Es = function() {
            function ObservablePoint2(e, t, n, a) {
                void 0 === n && (n = 0),
                void 0 === a && (a = 0),
                this._x = n,
                this._y = a,
                this.cb = e,
                this.scope = t
            }
            return ObservablePoint2.prototype.clone = function(e, t) {
                return void 0 === e && (e = this.cb),
                void 0 === t && (t = this.scope),
                new ObservablePoint2(e,t,this._x,this._y)
            }
            ,
            ObservablePoint2.prototype.set = function(e, t) {
                return void 0 === e && (e = 0),
                void 0 === t && (t = e),
                this._x === e && this._y === t || (this._x = e,
                this._y = t,
                this.cb.call(this.scope)),
                this
            }
            ,
            ObservablePoint2.prototype.copyFrom = function(e) {
                return this._x === e.x && this._y === e.y || (this._x = e.x,
                this._y = e.y,
                this.cb.call(this.scope)),
                this
            }
            ,
            ObservablePoint2.prototype.copyTo = function(e) {
                return e.set(this._x, this._y),
                e
            }
            ,
            ObservablePoint2.prototype.equals = function(e) {
                return e.x === this._x && e.y === this._y
            }
            ,
            Object.defineProperty(ObservablePoint2.prototype, "x", {
                get: function() {
                    return this._x
                },
                set: function(e) {
                    this._x !== e && (this._x = e,
                    this.cb.call(this.scope))
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(ObservablePoint2.prototype, "y", {
                get: function() {
                    return this._y
                },
                set: function(e) {
                    this._y !== e && (this._y = e,
                    this.cb.call(this.scope))
                },
                enumerable: !0,
                configurable: !0
            }),
            ObservablePoint2
        }(), As = 2 * Math.PI, Ss = 180 / Math.PI, xs = Math.PI / 180;
        (_s = bs || (bs = {}))[_s.POLY = 0] = "POLY",
        _s[_s.RECT = 1] = "RECT",
        _s[_s.CIRC = 2] = "CIRC",
        _s[_s.ELIP = 3] = "ELIP",
        _s[_s.RREC = 4] = "RREC";
        var ws = function() {
            function Matrix2(e, t, n, a, l, f) {
                void 0 === e && (e = 1),
                void 0 === t && (t = 0),
                void 0 === n && (n = 0),
                void 0 === a && (a = 1),
                void 0 === l && (l = 0),
                void 0 === f && (f = 0),
                this.array = null,
                this.a = e,
                this.b = t,
                this.c = n,
                this.d = a,
                this.tx = l,
                this.ty = f
            }
            return Matrix2.prototype.fromArray = function(e) {
                this.a = e[0],
                this.b = e[1],
                this.c = e[3],
                this.d = e[4],
                this.tx = e[2],
                this.ty = e[5]
            }
            ,
            Matrix2.prototype.set = function(e, t, n, a, l, f) {
                return this.a = e,
                this.b = t,
                this.c = n,
                this.d = a,
                this.tx = l,
                this.ty = f,
                this
            }
            ,
            Matrix2.prototype.toArray = function(e, t) {
                this.array || (this.array = new Float32Array(9));
                var n = t || this.array;
                return e ? (n[0] = this.a,
                n[1] = this.b,
                n[2] = 0,
                n[3] = this.c,
                n[4] = this.d,
                n[5] = 0,
                n[6] = this.tx,
                n[7] = this.ty,
                n[8] = 1) : (n[0] = this.a,
                n[1] = this.c,
                n[2] = this.tx,
                n[3] = this.b,
                n[4] = this.d,
                n[5] = this.ty,
                n[6] = 0,
                n[7] = 0,
                n[8] = 1),
                n
            }
            ,
            Matrix2.prototype.apply = function(e, t) {
                t = t || new Cs;
                var n = e.x
                  , a = e.y;
                return t.x = this.a * n + this.c * a + this.tx,
                t.y = this.b * n + this.d * a + this.ty,
                t
            }
            ,
            Matrix2.prototype.applyInverse = function(e, t) {
                t = t || new Cs;
                var n = 1 / (this.a * this.d + this.c * -this.b)
                  , a = e.x
                  , l = e.y;
                return t.x = this.d * n * a + -this.c * n * l + (this.ty * this.c - this.tx * this.d) * n,
                t.y = this.a * n * l + -this.b * n * a + (-this.ty * this.a + this.tx * this.b) * n,
                t
            }
            ,
            Matrix2.prototype.translate = function(e, t) {
                return this.tx += e,
                this.ty += t,
                this
            }
            ,
            Matrix2.prototype.scale = function(e, t) {
                return this.a *= e,
                this.d *= t,
                this.c *= e,
                this.b *= t,
                this.tx *= e,
                this.ty *= t,
                this
            }
            ,
            Matrix2.prototype.rotate = function(e) {
                var t = Math.cos(e)
                  , n = Math.sin(e)
                  , a = this.a
                  , l = this.c
                  , f = this.tx;
                return this.a = a * t - this.b * n,
                this.b = a * n + this.b * t,
                this.c = l * t - this.d * n,
                this.d = l * n + this.d * t,
                this.tx = f * t - this.ty * n,
                this.ty = f * n + this.ty * t,
                this
            }
            ,
            Matrix2.prototype.append = function(e) {
                var t = this.a
                  , n = this.b
                  , a = this.c
                  , l = this.d;
                return this.a = e.a * t + e.b * a,
                this.b = e.a * n + e.b * l,
                this.c = e.c * t + e.d * a,
                this.d = e.c * n + e.d * l,
                this.tx = e.tx * t + e.ty * a + this.tx,
                this.ty = e.tx * n + e.ty * l + this.ty,
                this
            }
            ,
            Matrix2.prototype.setTransform = function(e, t, n, a, l, f, h, p, m) {
                return this.a = Math.cos(h + m) * l,
                this.b = Math.sin(h + m) * l,
                this.c = -Math.sin(h - p) * f,
                this.d = Math.cos(h - p) * f,
                this.tx = e - (n * this.a + a * this.c),
                this.ty = t - (n * this.b + a * this.d),
                this
            }
            ,
            Matrix2.prototype.prepend = function(e) {
                var t = this.tx;
                if (1 !== e.a || 0 !== e.b || 0 !== e.c || 1 !== e.d) {
                    var n = this.a
                      , a = this.c;
                    this.a = n * e.a + this.b * e.c,
                    this.b = n * e.b + this.b * e.d,
                    this.c = a * e.a + this.d * e.c,
                    this.d = a * e.b + this.d * e.d
                }
                return this.tx = t * e.a + this.ty * e.c + e.tx,
                this.ty = t * e.b + this.ty * e.d + e.ty,
                this
            }
            ,
            Matrix2.prototype.decompose = function(e) {
                var t = this.a
                  , n = this.b
                  , a = this.c
                  , l = this.d
                  , f = -Math.atan2(-a, l)
                  , h = Math.atan2(n, t)
                  , p = Math.abs(f + h);
                return p < 1e-5 || Math.abs(As - p) < 1e-5 ? (e.rotation = h,
                e.skew.x = e.skew.y = 0) : (e.rotation = 0,
                e.skew.x = f,
                e.skew.y = h),
                e.scale.x = Math.sqrt(t * t + n * n),
                e.scale.y = Math.sqrt(a * a + l * l),
                e.position.x = this.tx,
                e.position.y = this.ty,
                e
            }
            ,
            Matrix2.prototype.invert = function() {
                var e = this.a
                  , t = this.b
                  , n = this.c
                  , a = this.d
                  , l = this.tx
                  , f = e * a - t * n;
                return this.a = a / f,
                this.b = -t / f,
                this.c = -n / f,
                this.d = e / f,
                this.tx = (n * this.ty - a * l) / f,
                this.ty = -(e * this.ty - t * l) / f,
                this
            }
            ,
            Matrix2.prototype.identity = function() {
                return this.a = 1,
                this.b = 0,
                this.c = 0,
                this.d = 1,
                this.tx = 0,
                this.ty = 0,
                this
            }
            ,
            Matrix2.prototype.clone = function() {
                var e = new Matrix2;
                return e.a = this.a,
                e.b = this.b,
                e.c = this.c,
                e.d = this.d,
                e.tx = this.tx,
                e.ty = this.ty,
                e
            }
            ,
            Matrix2.prototype.copyTo = function(e) {
                return e.a = this.a,
                e.b = this.b,
                e.c = this.c,
                e.d = this.d,
                e.tx = this.tx,
                e.ty = this.ty,
                e
            }
            ,
            Matrix2.prototype.copyFrom = function(e) {
                return this.a = e.a,
                this.b = e.b,
                this.c = e.c,
                this.d = e.d,
                this.tx = e.tx,
                this.ty = e.ty,
                this
            }
            ,
            Object.defineProperty(Matrix2, "IDENTITY", {
                get: function() {
                    return new Matrix2
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Matrix2, "TEMP_MATRIX", {
                get: function() {
                    return new Matrix2
                },
                enumerable: !0,
                configurable: !0
            }),
            Matrix2
        }()
          , Ps = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1]
          , Ts = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1]
          , Ms = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1]
          , ks = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1]
          , Is = []
          , Os = []
          , Ns = Math.sign;
        !function init() {
            for (var e = 0; e < 16; e++) {
                var t = [];
                Is.push(t);
                for (var n = 0; n < 16; n++)
                    for (var a = Ns(Ps[e] * Ps[n] + Ms[e] * Ts[n]), l = Ns(Ts[e] * Ps[n] + ks[e] * Ts[n]), f = Ns(Ps[e] * Ms[n] + Ms[e] * ks[n]), h = Ns(Ts[e] * Ms[n] + ks[e] * ks[n]), p = 0; p < 16; p++)
                        if (Ps[p] === a && Ts[p] === l && Ms[p] === f && ks[p] === h) {
                            t.push(p);
                            break
                        }
            }
            for (e = 0; e < 16; e++) {
                var m = new ws;
                m.set(Ps[e], Ts[e], Ms[e], ks[e], 0, 0),
                Os.push(m)
            }
        }();
        var Rs = {
            E: 0,
            SE: 1,
            S: 2,
            SW: 3,
            W: 4,
            NW: 5,
            N: 6,
            NE: 7,
            MIRROR_VERTICAL: 8,
            MAIN_DIAGONAL: 10,
            MIRROR_HORIZONTAL: 12,
            REVERSE_DIAGONAL: 14,
            uX: function(e) {
                return Ps[e]
            },
            uY: function(e) {
                return Ts[e]
            },
            vX: function(e) {
                return Ms[e]
            },
            vY: function(e) {
                return ks[e]
            },
            inv: function(e) {
                return 8 & e ? 15 & e : 7 & -e
            },
            add: function(e, t) {
                return Is[e][t]
            },
            sub: function(e, t) {
                return Is[e][Rs.inv(t)]
            },
            rotate180: function(e) {
                return 4 ^ e
            },
            isVertical: function(e) {
                return 2 == (3 & e)
            },
            byDirection: function(e, t) {
                return 2 * Math.abs(e) <= Math.abs(t) ? t >= 0 ? Rs.S : Rs.N : 2 * Math.abs(t) <= Math.abs(e) ? e > 0 ? Rs.E : Rs.W : t > 0 ? e > 0 ? Rs.SE : Rs.SW : e > 0 ? Rs.NE : Rs.NW
            },
            matrixAppendRotationInv: function(e, t, n, a) {
                void 0 === n && (n = 0),
                void 0 === a && (a = 0);
                var l = Os[Rs.inv(t)];
                l.tx = n,
                l.ty = a,
                e.append(l)
            }
        }
          , Ls = function() {
            function Transform2() {
                this.worldTransform = new ws,
                this.localTransform = new ws,
                this.position = new Es(this.onChange,this,0,0),
                this.scale = new Es(this.onChange,this,1,1),
                this.pivot = new Es(this.onChange,this,0,0),
                this.skew = new Es(this.updateSkew,this,0,0),
                this._rotation = 0,
                this._cx = 1,
                this._sx = 0,
                this._cy = 0,
                this._sy = 1,
                this._localID = 0,
                this._currentLocalID = 0,
                this._worldID = 0,
                this._parentID = 0
            }
            return Transform2.prototype.onChange = function() {
                this._localID++
            }
            ,
            Transform2.prototype.updateSkew = function() {
                this._cx = Math.cos(this._rotation + this.skew.y),
                this._sx = Math.sin(this._rotation + this.skew.y),
                this._cy = -Math.sin(this._rotation - this.skew.x),
                this._sy = Math.cos(this._rotation - this.skew.x),
                this._localID++
            }
            ,
            Transform2.prototype.updateLocalTransform = function() {
                var e = this.localTransform;
                this._localID !== this._currentLocalID && (e.a = this._cx * this.scale.x,
                e.b = this._sx * this.scale.x,
                e.c = this._cy * this.scale.y,
                e.d = this._sy * this.scale.y,
                e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c),
                e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d),
                this._currentLocalID = this._localID,
                this._parentID = -1)
            }
            ,
            Transform2.prototype.updateTransform = function(e) {
                var t = this.localTransform;
                if (this._localID !== this._currentLocalID && (t.a = this._cx * this.scale.x,
                t.b = this._sx * this.scale.x,
                t.c = this._cy * this.scale.y,
                t.d = this._sy * this.scale.y,
                t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c),
                t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d),
                this._currentLocalID = this._localID,
                this._parentID = -1),
                this._parentID !== e._worldID) {
                    var n = e.worldTransform
                      , a = this.worldTransform;
                    a.a = t.a * n.a + t.b * n.c,
                    a.b = t.a * n.b + t.b * n.d,
                    a.c = t.c * n.a + t.d * n.c,
                    a.d = t.c * n.b + t.d * n.d,
                    a.tx = t.tx * n.a + t.ty * n.c + n.tx,
                    a.ty = t.tx * n.b + t.ty * n.d + n.ty,
                    this._parentID = e._worldID,
                    this._worldID++
                }
            }
            ,
            Transform2.prototype.setFromMatrix = function(e) {
                e.decompose(this),
                this._localID++
            }
            ,
            Object.defineProperty(Transform2.prototype, "rotation", {
                get: function() {
                    return this._rotation
                },
                set: function(e) {
                    this._rotation !== e && (this._rotation = e,
                    this.updateSkew())
                },
                enumerable: !0,
                configurable: !0
            }),
            Transform2.IDENTITY = new Transform2,
            Transform2
        }()
          , Ds = function() {
            function Rectangle2(e, t, n, a) {
                void 0 === e && (e = 0),
                void 0 === t && (t = 0),
                void 0 === n && (n = 0),
                void 0 === a && (a = 0),
                this.x = Number(e),
                this.y = Number(t),
                this.width = Number(n),
                this.height = Number(a),
                this.type = bs.RECT
            }
            return Object.defineProperty(Rectangle2.prototype, "left", {
                get: function() {
                    return this.x
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Rectangle2.prototype, "right", {
                get: function() {
                    return this.x + this.width
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Rectangle2.prototype, "top", {
                get: function() {
                    return this.y
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Rectangle2.prototype, "bottom", {
                get: function() {
                    return this.y + this.height
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Rectangle2, "EMPTY", {
                get: function() {
                    return new Rectangle2(0,0,0,0)
                },
                enumerable: !0,
                configurable: !0
            }),
            Rectangle2.prototype.clone = function() {
                return new Rectangle2(this.x,this.y,this.width,this.height)
            }
            ,
            Rectangle2.prototype.copyFrom = function(e) {
                return this.x = e.x,
                this.y = e.y,
                this.width = e.width,
                this.height = e.height,
                this
            }
            ,
            Rectangle2.prototype.copyTo = function(e) {
                return e.x = this.x,
                e.y = this.y,
                e.width = this.width,
                e.height = this.height,
                e
            }
            ,
            Rectangle2.prototype.contains = function(e, t) {
                return !(this.width <= 0 || this.height <= 0) && (e >= this.x && e < this.x + this.width && t >= this.y && t < this.y + this.height)
            }
            ,
            Rectangle2.prototype.pad = function(e, t) {
                return void 0 === e && (e = 0),
                void 0 === t && (t = e),
                this.x -= e,
                this.y -= t,
                this.width += 2 * e,
                this.height += 2 * t,
                this
            }
            ,
            Rectangle2.prototype.fit = function(e) {
                var t = Math.max(this.x, e.x)
                  , n = Math.min(this.x + this.width, e.x + e.width)
                  , a = Math.max(this.y, e.y)
                  , l = Math.min(this.y + this.height, e.y + e.height);
                return this.x = t,
                this.width = Math.max(n - t, 0),
                this.y = a,
                this.height = Math.max(l - a, 0),
                this
            }
            ,
            Rectangle2.prototype.ceil = function(e, t) {
                void 0 === e && (e = 1),
                void 0 === t && (t = .001);
                var n = Math.ceil((this.x + this.width - t) * e) / e
                  , a = Math.ceil((this.y + this.height - t) * e) / e;
                return this.x = Math.floor((this.x + t) * e) / e,
                this.y = Math.floor((this.y + t) * e) / e,
                this.width = n - this.x,
                this.height = a - this.y,
                this
            }
            ,
            Rectangle2.prototype.enlarge = function(e) {
                var t = Math.min(this.x, e.x)
                  , n = Math.max(this.x + this.width, e.x + e.width)
                  , a = Math.min(this.y, e.y)
                  , l = Math.max(this.y + this.height, e.y + e.height);
                return this.x = t,
                this.width = n - t,
                this.y = a,
                this.height = l - a,
                this
            }
            ,
            Rectangle2
        }()
          , Bs = function() {
            function Circle2(e, t, n) {
                void 0 === e && (e = 0),
                void 0 === t && (t = 0),
                void 0 === n && (n = 0),
                this.x = e,
                this.y = t,
                this.radius = n,
                this.type = bs.CIRC
            }
            return Circle2.prototype.clone = function() {
                return new Circle2(this.x,this.y,this.radius)
            }
            ,
            Circle2.prototype.contains = function(e, t) {
                if (this.radius <= 0)
                    return !1;
                var n = this.radius * this.radius
                  , a = this.x - e
                  , l = this.y - t;
                return (a *= a) + (l *= l) <= n
            }
            ,
            Circle2.prototype.getBounds = function() {
                return new Ds(this.x - this.radius,this.y - this.radius,2 * this.radius,2 * this.radius)
            }
            ,
            Circle2
        }()
          , $s = function() {
            function Ellipse2(e, t, n, a) {
                void 0 === e && (e = 0),
                void 0 === t && (t = 0),
                void 0 === n && (n = 0),
                void 0 === a && (a = 0),
                this.x = e,
                this.y = t,
                this.width = n,
                this.height = a,
                this.type = bs.ELIP
            }
            return Ellipse2.prototype.clone = function() {
                return new Ellipse2(this.x,this.y,this.width,this.height)
            }
            ,
            Ellipse2.prototype.contains = function(e, t) {
                if (this.width <= 0 || this.height <= 0)
                    return !1;
                var n = (e - this.x) / this.width
                  , a = (t - this.y) / this.height;
                return (n *= n) + (a *= a) <= 1
            }
            ,
            Ellipse2.prototype.getBounds = function() {
                return new Ds(this.x - this.width,this.y - this.height,this.width,this.height)
            }
            ,
            Ellipse2
        }()
          , Fs = function() {
            function Polygon2() {
                for (var e = arguments, t = [], n = 0; n < arguments.length; n++)
                    t[n] = e[n];
                if (Array.isArray(t[0]) && (t = t[0]),
                t[0]instanceof Cs) {
                    for (var a = [], l = 0, f = (t = t).length; l < f; l++)
                        a.push(t[l].x, t[l].y);
                    t = a
                }
                this.points = t,
                this.type = bs.POLY,
                this.closeStroke = !0
            }
            return Polygon2.prototype.clone = function() {
                var e = new Polygon2(this.points.slice());
                return e.closeStroke = this.closeStroke,
                e
            }
            ,
            Polygon2.prototype.contains = function(e, t) {
                for (var n = !1, a = this.points.length / 2, l = 0, f = a - 1; l < a; f = l++) {
                    var h = this.points[2 * l]
                      , p = this.points[2 * l + 1]
                      , m = this.points[2 * f]
                      , g = this.points[2 * f + 1];
                    p > t != g > t && e < (t - p) / (g - p) * (m - h) + h && (n = !n)
                }
                return n
            }
            ,
            Polygon2
        }()
          , Hs = function() {
            function RoundedRectangle2(e, t, n, a, l) {
                void 0 === e && (e = 0),
                void 0 === t && (t = 0),
                void 0 === n && (n = 0),
                void 0 === a && (a = 0),
                void 0 === l && (l = 20),
                this.x = e,
                this.y = t,
                this.width = n,
                this.height = a,
                this.radius = l,
                this.type = bs.RREC
            }
            return RoundedRectangle2.prototype.clone = function() {
                return new RoundedRectangle2(this.x,this.y,this.width,this.height,this.radius)
            }
            ,
            RoundedRectangle2.prototype.contains = function(e, t) {
                if (this.width <= 0 || this.height <= 0)
                    return !1;
                if (e >= this.x && e <= this.x + this.width && t >= this.y && t <= this.y + this.height) {
                    if (t >= this.y + this.radius && t <= this.y + this.height - this.radius || e >= this.x + this.radius && e <= this.x + this.width - this.radius)
                        return !0;
                    var n = e - (this.x + this.radius)
                      , a = t - (this.y + this.radius)
                      , l = this.radius * this.radius;
                    if (n * n + a * a <= l)
                        return !0;
                    if ((n = e - (this.x + this.width - this.radius)) * n + a * a <= l)
                        return !0;
                    if (n * n + (a = t - (this.y + this.height - this.radius)) * a <= l)
                        return !0;
                    if ((n = e - (this.x + this.radius)) * n + a * a <= l)
                        return !0
                }
                return !1
            }
            ,
            RoundedRectangle2
        }();
        /*!
 * @pixi/display - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
        la.SORTABLE_CHILDREN = !1;
        var js = function Bounds2() {
            this.minX = 1 / 0,
            this.minY = 1 / 0,
            this.maxX = -1 / 0,
            this.maxY = -1 / 0,
            this.rect = null
        };
        js.prototype.isEmpty = function isEmpty() {
            return this.minX > this.maxX || this.minY > this.maxY
        }
        ,
        js.prototype.clear = function clear() {
            this.minX = 1 / 0,
            this.minY = 1 / 0,
            this.maxX = -1 / 0,
            this.maxY = -1 / 0
        }
        ,
        js.prototype.getRectangle = function getRectangle(e) {
            return this.minX > this.maxX || this.minY > this.maxY ? Ds.EMPTY : ((e = e || new Ds(0,0,1,1)).x = this.minX,
            e.y = this.minY,
            e.width = this.maxX - this.minX,
            e.height = this.maxY - this.minY,
            e)
        }
        ,
        js.prototype.addPoint = function addPoint(e) {
            this.minX = Math.min(this.minX, e.x),
            this.maxX = Math.max(this.maxX, e.x),
            this.minY = Math.min(this.minY, e.y),
            this.maxY = Math.max(this.maxY, e.y)
        }
        ,
        js.prototype.addQuad = function addQuad(e) {
            var t = this.minX
              , n = this.minY
              , a = this.maxX
              , l = this.maxY
              , f = e[0]
              , h = e[1];
            t = f < t ? f : t,
            n = h < n ? h : n,
            a = f > a ? f : a,
            l = h > l ? h : l,
            t = (f = e[2]) < t ? f : t,
            n = (h = e[3]) < n ? h : n,
            a = f > a ? f : a,
            l = h > l ? h : l,
            t = (f = e[4]) < t ? f : t,
            n = (h = e[5]) < n ? h : n,
            a = f > a ? f : a,
            l = h > l ? h : l,
            t = (f = e[6]) < t ? f : t,
            n = (h = e[7]) < n ? h : n,
            a = f > a ? f : a,
            l = h > l ? h : l,
            this.minX = t,
            this.minY = n,
            this.maxX = a,
            this.maxY = l
        }
        ,
        js.prototype.addFrame = function addFrame(e, t, n, a, l) {
            this.addFrameMatrix(e.worldTransform, t, n, a, l)
        }
        ,
        js.prototype.addFrameMatrix = function addFrameMatrix(e, t, n, a, l) {
            var f = e.a
              , h = e.b
              , p = e.c
              , m = e.d
              , g = e.tx
              , v = e.ty
              , y = this.minX
              , b = this.minY
              , _ = this.maxX
              , C = this.maxY
              , A = f * t + p * n + g
              , S = h * t + m * n + v;
            y = A < y ? A : y,
            b = S < b ? S : b,
            _ = A > _ ? A : _,
            C = S > C ? S : C,
            y = (A = f * a + p * n + g) < y ? A : y,
            b = (S = h * a + m * n + v) < b ? S : b,
            _ = A > _ ? A : _,
            C = S > C ? S : C,
            y = (A = f * t + p * l + g) < y ? A : y,
            b = (S = h * t + m * l + v) < b ? S : b,
            _ = A > _ ? A : _,
            C = S > C ? S : C,
            y = (A = f * a + p * l + g) < y ? A : y,
            b = (S = h * a + m * l + v) < b ? S : b,
            _ = A > _ ? A : _,
            C = S > C ? S : C,
            this.minX = y,
            this.minY = b,
            this.maxX = _,
            this.maxY = C
        }
        ,
        js.prototype.addVertexData = function addVertexData(e, t, n) {
            for (var a = this.minX, l = this.minY, f = this.maxX, h = this.maxY, p = t; p < n; p += 2) {
                var m = e[p]
                  , g = e[p + 1];
                a = m < a ? m : a,
                l = g < l ? g : l,
                f = m > f ? m : f,
                h = g > h ? g : h
            }
            this.minX = a,
            this.minY = l,
            this.maxX = f,
            this.maxY = h
        }
        ,
        js.prototype.addVertices = function addVertices(e, t, n, a) {
            this.addVerticesMatrix(e.worldTransform, t, n, a)
        }
        ,
        js.prototype.addVerticesMatrix = function addVerticesMatrix(e, t, n, a, l, f) {
            var h = e.a
              , p = e.b
              , m = e.c
              , g = e.d
              , v = e.tx
              , y = e.ty;
            l = l || 0,
            f = f || 0;
            for (var b = this.minX, _ = this.minY, C = this.maxX, A = this.maxY, S = n; S < a; S += 2) {
                var x = t[S]
                  , w = t[S + 1]
                  , P = h * x + m * w + v
                  , T = g * w + p * x + y;
                b = Math.min(b, P - l),
                C = Math.max(C, P + l),
                _ = Math.min(_, T - f),
                A = Math.max(A, T + f)
            }
            this.minX = b,
            this.minY = _,
            this.maxX = C,
            this.maxY = A
        }
        ,
        js.prototype.addBounds = function addBounds(e) {
            var t = this.minX
              , n = this.minY
              , a = this.maxX
              , l = this.maxY;
            this.minX = e.minX < t ? e.minX : t,
            this.minY = e.minY < n ? e.minY : n,
            this.maxX = e.maxX > a ? e.maxX : a,
            this.maxY = e.maxY > l ? e.maxY : l
        }
        ,
        js.prototype.addBoundsMask = function addBoundsMask(e, t) {
            var n = e.minX > t.minX ? e.minX : t.minX
              , a = e.minY > t.minY ? e.minY : t.minY
              , l = e.maxX < t.maxX ? e.maxX : t.maxX
              , f = e.maxY < t.maxY ? e.maxY : t.maxY;
            if (n <= l && a <= f) {
                var h = this.minX
                  , p = this.minY
                  , m = this.maxX
                  , g = this.maxY;
                this.minX = n < h ? n : h,
                this.minY = a < p ? a : p,
                this.maxX = l > m ? l : m,
                this.maxY = f > g ? f : g
            }
        }
        ,
        js.prototype.addBoundsMatrix = function addBoundsMatrix(e, t) {
            this.addFrameMatrix(t, e.minX, e.minY, e.maxX, e.maxY)
        }
        ,
        js.prototype.addBoundsArea = function addBoundsArea(e, t) {
            var n = e.minX > t.x ? e.minX : t.x
              , a = e.minY > t.y ? e.minY : t.y
              , l = e.maxX < t.x + t.width ? e.maxX : t.x + t.width
              , f = e.maxY < t.y + t.height ? e.maxY : t.y + t.height;
            if (n <= l && a <= f) {
                var h = this.minX
                  , p = this.minY
                  , m = this.maxX
                  , g = this.maxY;
                this.minX = n < h ? n : h,
                this.minY = a < p ? a : p,
                this.maxX = l > m ? l : m,
                this.maxY = f > g ? f : g
            }
        }
        ,
        js.prototype.pad = function pad(e, t) {
            e = e || 0,
            t = t || (0 !== t ? e : 0),
            this.isEmpty() || (this.minX -= e,
            this.maxX += e,
            this.minY -= t,
            this.maxY += t)
        }
        ,
        js.prototype.addFramePad = function addFramePad(e, t, n, a, l, f) {
            e -= l,
            t -= f,
            n += l,
            a += f,
            this.minX = this.minX < e ? this.minX : e,
            this.maxX = this.maxX > n ? this.maxX : n,
            this.minY = this.minY < t ? this.minY : t,
            this.maxY = this.maxY > a ? this.maxY : a
        }
        ;
        var Us = function(e) {
            function DisplayObject2() {
                e.call(this),
                this.tempDisplayObjectParent = null,
                this.transform = new Ls,
                this.alpha = 1,
                this.visible = !0,
                this.renderable = !0,
                this.parent = null,
                this.worldAlpha = 1,
                this._lastSortedIndex = 0,
                this._zIndex = 0,
                this.filterArea = null,
                this.filters = null,
                this._enabledFilters = null,
                this._bounds = new js,
                this._boundsID = 0,
                this._lastBoundsID = -1,
                this._boundsRect = null,
                this._localBoundsRect = null,
                this._mask = null,
                this._destroyed = !1,
                this.isSprite = !1,
                this.isMask = !1
            }
            e && (DisplayObject2.__proto__ = e),
            DisplayObject2.prototype = Object.create(e && e.prototype),
            DisplayObject2.prototype.constructor = DisplayObject2;
            var t = {
                _tempDisplayObjectParent: {
                    configurable: !0
                },
                x: {
                    configurable: !0
                },
                y: {
                    configurable: !0
                },
                worldTransform: {
                    configurable: !0
                },
                localTransform: {
                    configurable: !0
                },
                position: {
                    configurable: !0
                },
                scale: {
                    configurable: !0
                },
                pivot: {
                    configurable: !0
                },
                skew: {
                    configurable: !0
                },
                rotation: {
                    configurable: !0
                },
                angle: {
                    configurable: !0
                },
                zIndex: {
                    configurable: !0
                },
                worldVisible: {
                    configurable: !0
                },
                mask: {
                    configurable: !0
                }
            };
            return DisplayObject2.mixin = function mixin(e) {
                for (var t = Object.keys(e), n = 0; n < t.length; ++n) {
                    var a = t[n];
                    Object.defineProperty(DisplayObject2.prototype, a, Object.getOwnPropertyDescriptor(e, a))
                }
            }
            ,
            t._tempDisplayObjectParent.get = function() {
                return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new DisplayObject2),
                this.tempDisplayObjectParent
            }
            ,
            DisplayObject2.prototype.updateTransform = function updateTransform() {
                this._boundsID++,
                this.transform.updateTransform(this.parent.transform),
                this.worldAlpha = this.alpha * this.parent.worldAlpha
            }
            ,
            DisplayObject2.prototype.calculateBounds = function calculateBounds() {}
            ,
            DisplayObject2.prototype._recursivePostUpdateTransform = function _recursivePostUpdateTransform() {
                this.parent ? (this.parent._recursivePostUpdateTransform(),
                this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform)
            }
            ,
            DisplayObject2.prototype.getBounds = function getBounds(e, t) {
                return e || (this.parent ? (this._recursivePostUpdateTransform(),
                this.updateTransform()) : (this.parent = this._tempDisplayObjectParent,
                this.updateTransform(),
                this.parent = null)),
                this._boundsID !== this._lastBoundsID && (this.calculateBounds(),
                this._lastBoundsID = this._boundsID),
                t || (this._boundsRect || (this._boundsRect = new Ds),
                t = this._boundsRect),
                this._bounds.getRectangle(t)
            }
            ,
            DisplayObject2.prototype.getLocalBounds = function getLocalBounds(e) {
                var t = this.transform
                  , n = this.parent;
                this.parent = null,
                this.transform = this._tempDisplayObjectParent.transform,
                e || (this._localBoundsRect || (this._localBoundsRect = new Ds),
                e = this._localBoundsRect);
                var a = this.getBounds(!1, e);
                return this.parent = n,
                this.transform = t,
                a
            }
            ,
            DisplayObject2.prototype.toGlobal = function toGlobal(e, t, n) {
                return void 0 === n && (n = !1),
                n || (this._recursivePostUpdateTransform(),
                this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent,
                this.displayObjectUpdateTransform(),
                this.parent = null)),
                this.worldTransform.apply(e, t)
            }
            ,
            DisplayObject2.prototype.toLocal = function toLocal(e, t, n, a) {
                return t && (e = t.toGlobal(e, n, a)),
                a || (this._recursivePostUpdateTransform(),
                this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent,
                this.displayObjectUpdateTransform(),
                this.parent = null)),
                this.worldTransform.applyInverse(e, n)
            }
            ,
            DisplayObject2.prototype.render = function render2(e) {}
            ,
            DisplayObject2.prototype.setParent = function setParent(e) {
                if (!e || !e.addChild)
                    throw new Error("setParent: Argument must be a Container");
                return e.addChild(this),
                e
            }
            ,
            DisplayObject2.prototype.setTransform = function setTransform(e, t, n, a, l, f, h, p, m) {
                return void 0 === e && (e = 0),
                void 0 === t && (t = 0),
                void 0 === n && (n = 1),
                void 0 === a && (a = 1),
                void 0 === l && (l = 0),
                void 0 === f && (f = 0),
                void 0 === h && (h = 0),
                void 0 === p && (p = 0),
                void 0 === m && (m = 0),
                this.position.x = e,
                this.position.y = t,
                this.scale.x = n || 1,
                this.scale.y = a || 1,
                this.rotation = l,
                this.skew.x = f,
                this.skew.y = h,
                this.pivot.x = p,
                this.pivot.y = m,
                this
            }
            ,
            DisplayObject2.prototype.destroy = function destroy10() {
                this.parent && this.parent.removeChild(this),
                this.removeAllListeners(),
                this.transform = null,
                this.parent = null,
                this._bounds = null,
                this._currentBounds = null,
                this._mask = null,
                this.filters = null,
                this.filterArea = null,
                this.hitArea = null,
                this.interactive = !1,
                this.interactiveChildren = !1,
                this._destroyed = !0
            }
            ,
            t.x.get = function() {
                return this.position.x
            }
            ,
            t.x.set = function(e) {
                this.transform.position.x = e
            }
            ,
            t.y.get = function() {
                return this.position.y
            }
            ,
            t.y.set = function(e) {
                this.transform.position.y = e
            }
            ,
            t.worldTransform.get = function() {
                return this.transform.worldTransform
            }
            ,
            t.localTransform.get = function() {
                return this.transform.localTransform
            }
            ,
            t.position.get = function() {
                return this.transform.position
            }
            ,
            t.position.set = function(e) {
                this.transform.position.copyFrom(e)
            }
            ,
            t.scale.get = function() {
                return this.transform.scale
            }
            ,
            t.scale.set = function(e) {
                this.transform.scale.copyFrom(e)
            }
            ,
            t.pivot.get = function() {
                return this.transform.pivot
            }
            ,
            t.pivot.set = function(e) {
                this.transform.pivot.copyFrom(e)
            }
            ,
            t.skew.get = function() {
                return this.transform.skew
            }
            ,
            t.skew.set = function(e) {
                this.transform.skew.copyFrom(e)
            }
            ,
            t.rotation.get = function() {
                return this.transform.rotation
            }
            ,
            t.rotation.set = function(e) {
                this.transform.rotation = e
            }
            ,
            t.angle.get = function() {
                return this.transform.rotation * Ss
            }
            ,
            t.angle.set = function(e) {
                this.transform.rotation = e * xs
            }
            ,
            t.zIndex.get = function() {
                return this._zIndex
            }
            ,
            t.zIndex.set = function(e) {
                this._zIndex = e,
                this.parent && (this.parent.sortDirty = !0)
            }
            ,
            t.worldVisible.get = function() {
                var e = this;
                do {
                    if (!e.visible)
                        return !1;
                    e = e.parent
                } while (e);
                return !0
            }
            ,
            t.mask.get = function() {
                return this._mask
            }
            ,
            t.mask.set = function(e) {
                if (this._mask) {
                    var t = this._mask.maskObject || this._mask;
                    t.renderable = !0,
                    t.isMask = !1
                }
                if (this._mask = e,
                this._mask) {
                    var n = this._mask.maskObject || this._mask;
                    n.renderable = !1,
                    n.isMask = !0
                }
            }
            ,
            Object.defineProperties(DisplayObject2.prototype, t),
            DisplayObject2
        }(fa);
        function sortChildren(e, t) {
            return e.zIndex === t.zIndex ? e._lastSortedIndex - t._lastSortedIndex : e.zIndex - t.zIndex
        }
        Us.prototype.displayObjectUpdateTransform = Us.prototype.updateTransform;
        var Vs, Gs, qs = function(e) {
            function Container2() {
                e.call(this),
                this.children = [],
                this.sortableChildren = la.SORTABLE_CHILDREN,
                this.sortDirty = !1
            }
            e && (Container2.__proto__ = e),
            Container2.prototype = Object.create(e && e.prototype),
            Container2.prototype.constructor = Container2;
            var t = {
                width: {
                    configurable: !0
                },
                height: {
                    configurable: !0
                }
            };
            return Container2.prototype.onChildrenChange = function onChildrenChange() {}
            ,
            Container2.prototype.addChild = function addChild(e) {
                var t = arguments
                  , n = arguments.length;
                if (n > 1)
                    for (var a = 0; a < n; a++)
                        this.addChild(t[a]);
                else
                    e.parent && e.parent.removeChild(e),
                    e.parent = this,
                    this.sortDirty = !0,
                    e.transform._parentID = -1,
                    this.children.push(e),
                    this._boundsID++,
                    this.onChildrenChange(this.children.length - 1),
                    this.emit("childAdded", e, this, this.children.length - 1),
                    e.emit("added", this);
                return e
            }
            ,
            Container2.prototype.addChildAt = function addChildAt(e, t) {
                if (t < 0 || t > this.children.length)
                    throw new Error(e + "addChildAt: The index " + t + " supplied is out of bounds " + this.children.length);
                return e.parent && e.parent.removeChild(e),
                e.parent = this,
                this.sortDirty = !0,
                e.transform._parentID = -1,
                this.children.splice(t, 0, e),
                this._boundsID++,
                this.onChildrenChange(t),
                e.emit("added", this),
                this.emit("childAdded", e, this, t),
                e
            }
            ,
            Container2.prototype.swapChildren = function swapChildren(e, t) {
                if (e !== t) {
                    var n = this.getChildIndex(e)
                      , a = this.getChildIndex(t);
                    this.children[n] = t,
                    this.children[a] = e,
                    this.onChildrenChange(n < a ? n : a)
                }
            }
            ,
            Container2.prototype.getChildIndex = function getChildIndex(e) {
                var t = this.children.indexOf(e);
                if (-1 === t)
                    throw new Error("The supplied DisplayObject must be a child of the caller");
                return t
            }
            ,
            Container2.prototype.setChildIndex = function setChildIndex(e, t) {
                if (t < 0 || t >= this.children.length)
                    throw new Error("The index " + t + " supplied is out of bounds " + this.children.length);
                var n = this.getChildIndex(e);
                removeItems(this.children, n, 1),
                this.children.splice(t, 0, e),
                this.onChildrenChange(t)
            }
            ,
            Container2.prototype.getChildAt = function getChildAt(e) {
                if (e < 0 || e >= this.children.length)
                    throw new Error("getChildAt: Index (" + e + ") does not exist.");
                return this.children[e]
            }
            ,
            Container2.prototype.removeChild = function removeChild(e) {
                var t = arguments
                  , n = arguments.length;
                if (n > 1)
                    for (var a = 0; a < n; a++)
                        this.removeChild(t[a]);
                else {
                    var l = this.children.indexOf(e);
                    if (-1 === l)
                        return null;
                    e.parent = null,
                    e.transform._parentID = -1,
                    removeItems(this.children, l, 1),
                    this._boundsID++,
                    this.onChildrenChange(l),
                    e.emit("removed", this),
                    this.emit("childRemoved", e, this, l)
                }
                return e
            }
            ,
            Container2.prototype.removeChildAt = function removeChildAt(e) {
                var t = this.getChildAt(e);
                return t.parent = null,
                t.transform._parentID = -1,
                removeItems(this.children, e, 1),
                this._boundsID++,
                this.onChildrenChange(e),
                t.emit("removed", this),
                this.emit("childRemoved", t, this, e),
                t
            }
            ,
            Container2.prototype.removeChildren = function removeChildren(e, t) {
                void 0 === e && (e = 0);
                var n, a = e, l = "number" == typeof t ? t : this.children.length, f = l - a;
                if (f > 0 && f <= l) {
                    n = this.children.splice(a, f);
                    for (var h = 0; h < n.length; ++h)
                        n[h].parent = null,
                        n[h].transform && (n[h].transform._parentID = -1);
                    this._boundsID++,
                    this.onChildrenChange(e);
                    for (var p = 0; p < n.length; ++p)
                        n[p].emit("removed", this),
                        this.emit("childRemoved", n[p], this, p);
                    return n
                }
                if (0 === f && 0 === this.children.length)
                    return [];
                throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
            }
            ,
            Container2.prototype.sortChildren = function sortChildren$1() {
                for (var e = !1, t = 0, n = this.children.length; t < n; ++t) {
                    var a = this.children[t];
                    a._lastSortedIndex = t,
                    e || 0 === a.zIndex || (e = !0)
                }
                e && this.children.length > 1 && this.children.sort(sortChildren),
                this.sortDirty = !1
            }
            ,
            Container2.prototype.updateTransform = function updateTransform() {
                this.sortableChildren && this.sortDirty && this.sortChildren(),
                this._boundsID++,
                this.transform.updateTransform(this.parent.transform),
                this.worldAlpha = this.alpha * this.parent.worldAlpha;
                for (var e = 0, t = this.children.length; e < t; ++e) {
                    var n = this.children[e];
                    n.visible && n.updateTransform()
                }
            }
            ,
            Container2.prototype.calculateBounds = function calculateBounds() {
                this._bounds.clear(),
                this._calculateBounds();
                for (var e = 0; e < this.children.length; e++) {
                    var t = this.children[e];
                    if (t.visible && t.renderable)
                        if (t.calculateBounds(),
                        t._mask) {
                            var n = t._mask.maskObject || t._mask;
                            n.calculateBounds(),
                            this._bounds.addBoundsMask(t._bounds, n._bounds)
                        } else
                            t.filterArea ? this._bounds.addBoundsArea(t._bounds, t.filterArea) : this._bounds.addBounds(t._bounds)
                }
                this._lastBoundsID = this._boundsID
            }
            ,
            Container2.prototype._calculateBounds = function _calculateBounds() {}
            ,
            Container2.prototype.render = function render2(e) {
                if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                    if (this._mask || this.filters && this.filters.length)
                        this.renderAdvanced(e);
                    else {
                        this._render(e);
                        for (var t = 0, n = this.children.length; t < n; ++t)
                            this.children[t].render(e)
                    }
            }
            ,
            Container2.prototype.renderAdvanced = function renderAdvanced(e) {
                e.batch.flush();
                var t = this.filters
                  , n = this._mask;
                if (t) {
                    this._enabledFilters || (this._enabledFilters = []),
                    this._enabledFilters.length = 0;
                    for (var a = 0; a < t.length; a++)
                        t[a].enabled && this._enabledFilters.push(t[a]);
                    this._enabledFilters.length && e.filter.push(this, this._enabledFilters)
                }
                n && e.mask.push(this, this._mask),
                this._render(e);
                for (var l = 0, f = this.children.length; l < f; l++)
                    this.children[l].render(e);
                e.batch.flush(),
                n && e.mask.pop(this, this._mask),
                t && this._enabledFilters && this._enabledFilters.length && e.filter.pop()
            }
            ,
            Container2.prototype._render = function _render(e) {}
            ,
            Container2.prototype.destroy = function destroy10(t) {
                e.prototype.destroy.call(this),
                this.sortDirty = !1;
                var n = "boolean" == typeof t ? t : t && t.children
                  , a = this.removeChildren(0, this.children.length);
                if (n)
                    for (var l = 0; l < a.length; ++l)
                        a[l].destroy(t)
            }
            ,
            t.width.get = function() {
                return this.scale.x * this.getLocalBounds().width
            }
            ,
            t.width.set = function(e) {
                var t = this.getLocalBounds().width;
                this.scale.x = 0 !== t ? e / t : 1,
                this._width = e
            }
            ,
            t.height.get = function() {
                return this.scale.y * this.getLocalBounds().height
            }
            ,
            t.height.set = function(e) {
                var t = this.getLocalBounds().height;
                this.scale.y = 0 !== t ? e / t : 1,
                this._height = e
            }
            ,
            Object.defineProperties(Container2.prototype, t),
            Container2
        }(Us);
        qs.prototype.containerUpdateTransform = qs.prototype.updateTransform,
        /*!
 * @pixi/ticker - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
        la.TARGET_FPMS = .06,
        (Gs = Vs || (Vs = {}))[Gs.INTERACTION = 50] = "INTERACTION",
        Gs[Gs.HIGH = 25] = "HIGH",
        Gs[Gs.NORMAL = 0] = "NORMAL",
        Gs[Gs.LOW = -25] = "LOW",
        Gs[Gs.UTILITY = -50] = "UTILITY";
        var zs = function() {
            function TickerListener2(e, t, n, a) {
                void 0 === t && (t = null),
                void 0 === n && (n = 0),
                void 0 === a && (a = !1),
                this.fn = e,
                this.context = t,
                this.priority = n,
                this.once = a,
                this.next = null,
                this.previous = null,
                this._destroyed = !1
            }
            return TickerListener2.prototype.match = function(e, t) {
                return void 0 === t && (t = null),
                this.fn === e && this.context === t
            }
            ,
            TickerListener2.prototype.emit = function(e) {
                this.fn && (this.context ? this.fn.call(this.context, e) : this.fn(e));
                var t = this.next;
                return this.once && this.destroy(!0),
                this._destroyed && (this.next = null),
                t
            }
            ,
            TickerListener2.prototype.connect = function(e) {
                this.previous = e,
                e.next && (e.next.previous = this),
                this.next = e.next,
                e.next = this
            }
            ,
            TickerListener2.prototype.destroy = function(e) {
                void 0 === e && (e = !1),
                this._destroyed = !0,
                this.fn = null,
                this.context = null,
                this.previous && (this.previous.next = this.next),
                this.next && (this.next.previous = this.previous);
                var t = this.next;
                return this.next = e ? null : t,
                this.previous = null,
                t
            }
            ,
            TickerListener2
        }()
          , Ws = function() {
            function Ticker2() {
                var e = this;
                this._head = new zs(null,null,1 / 0),
                this._requestId = null,
                this._maxElapsedMS = 100,
                this._minElapsedMS = 0,
                this.autoStart = !1,
                this.deltaTime = 1,
                this.deltaMS = 1 / la.TARGET_FPMS,
                this.elapsedMS = 1 / la.TARGET_FPMS,
                this.lastTime = -1,
                this.speed = 1,
                this.started = !1,
                this._protected = !1,
                this._lastFrame = -1,
                this._tick = function(t) {
                    e._requestId = null,
                    e.started && (e.update(t),
                    e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick)))
                }
            }
            return Ticker2.prototype._requestIfNeeded = function() {
                null === this._requestId && this._head.next && (this.lastTime = performance.now(),
                this._lastFrame = this.lastTime,
                this._requestId = requestAnimationFrame(this._tick))
            }
            ,
            Ticker2.prototype._cancelIfNeeded = function() {
                null !== this._requestId && (cancelAnimationFrame(this._requestId),
                this._requestId = null)
            }
            ,
            Ticker2.prototype._startIfPossible = function() {
                this.started ? this._requestIfNeeded() : this.autoStart && this.start()
            }
            ,
            Ticker2.prototype.add = function(e, t, n) {
                return void 0 === n && (n = Vs.NORMAL),
                this._addListener(new zs(e,t,n))
            }
            ,
            Ticker2.prototype.addOnce = function(e, t, n) {
                return void 0 === n && (n = Vs.NORMAL),
                this._addListener(new zs(e,t,n,!0))
            }
            ,
            Ticker2.prototype._addListener = function(e) {
                var t = this._head.next
                  , n = this._head;
                if (t) {
                    for (; t; ) {
                        if (e.priority > t.priority) {
                            e.connect(n);
                            break
                        }
                        n = t,
                        t = t.next
                    }
                    e.previous || e.connect(n)
                } else
                    e.connect(n);
                return this._startIfPossible(),
                this
            }
            ,
            Ticker2.prototype.remove = function(e, t) {
                for (var n = this._head.next; n; )
                    n = n.match(e, t) ? n.destroy() : n.next;
                return this._head.next || this._cancelIfNeeded(),
                this
            }
            ,
            Object.defineProperty(Ticker2.prototype, "count", {
                get: function() {
                    if (!this._head)
                        return 0;
                    for (var e = 0, t = this._head; t = t.next; )
                        e++;
                    return e
                },
                enumerable: !0,
                configurable: !0
            }),
            Ticker2.prototype.start = function() {
                this.started || (this.started = !0,
                this._requestIfNeeded())
            }
            ,
            Ticker2.prototype.stop = function() {
                this.started && (this.started = !1,
                this._cancelIfNeeded())
            }
            ,
            Ticker2.prototype.destroy = function() {
                if (!this._protected) {
                    this.stop();
                    for (var e = this._head.next; e; )
                        e = e.destroy(!0);
                    this._head.destroy(),
                    this._head = null
                }
            }
            ,
            Ticker2.prototype.update = function(e) {
                var t;
                if (void 0 === e && (e = performance.now()),
                e > this.lastTime) {
                    if ((t = this.elapsedMS = e - this.lastTime) > this._maxElapsedMS && (t = this._maxElapsedMS),
                    t *= this.speed,
                    this._minElapsedMS) {
                        var n = e - this._lastFrame | 0;
                        if (n < this._minElapsedMS)
                            return;
                        this._lastFrame = e - n % this._minElapsedMS
                    }
                    this.deltaMS = t,
                    this.deltaTime = this.deltaMS * la.TARGET_FPMS;
                    for (var a = this._head, l = a.next; l; )
                        l = l.emit(this.deltaTime);
                    a.next || this._cancelIfNeeded()
                } else
                    this.deltaTime = this.deltaMS = this.elapsedMS = 0;
                this.lastTime = e
            }
            ,
            Object.defineProperty(Ticker2.prototype, "FPS", {
                get: function() {
                    return 1e3 / this.elapsedMS
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Ticker2.prototype, "minFPS", {
                get: function() {
                    return 1e3 / this._maxElapsedMS
                },
                set: function(e) {
                    var t = Math.min(this.maxFPS, e)
                      , n = Math.min(Math.max(0, t) / 1e3, la.TARGET_FPMS);
                    this._maxElapsedMS = 1 / n
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Ticker2.prototype, "maxFPS", {
                get: function() {
                    return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0
                },
                set: function(e) {
                    if (0 === e)
                        this._minElapsedMS = 0;
                    else {
                        var t = Math.max(this.minFPS, e);
                        this._minElapsedMS = 1 / (t / 1e3)
                    }
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Ticker2, "shared", {
                get: function() {
                    if (!Ticker2._shared) {
                        var e = Ticker2._shared = new Ticker2;
                        e.autoStart = !0,
                        e._protected = !0
                    }
                    return Ticker2._shared
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Ticker2, "system", {
                get: function() {
                    if (!Ticker2._system) {
                        var e = Ticker2._system = new Ticker2;
                        e.autoStart = !0,
                        e._protected = !0
                    }
                    return Ticker2._system
                },
                enumerable: !0,
                configurable: !0
            }),
            Ticker2
        }()
          , Ks = function() {
            function TickerPlugin2() {}
            return TickerPlugin2.init = function(e) {
                var t = this;
                e = Object.assign({
                    autoStart: !0,
                    sharedTicker: !1
                }, e),
                Object.defineProperty(this, "ticker", {
                    set: function(e) {
                        this._ticker && this._ticker.remove(this.render, this),
                        this._ticker = e,
                        e && e.add(this.render, this, Vs.LOW)
                    },
                    get: function() {
                        return this._ticker
                    }
                }),
                this.stop = function() {
                    t._ticker.stop()
                }
                ,
                this.start = function() {
                    t._ticker.start()
                }
                ,
                this._ticker = null,
                this.ticker = e.sharedTicker ? Ws.shared : new Ws,
                e.autoStart && this.start()
            }
            ,
            TickerPlugin2.destroy = function() {
                if (this._ticker) {
                    var e = this._ticker;
                    this.ticker = null,
                    e.destroy()
                }
            }
            ,
            TickerPlugin2
        }()
          , Zs = function() {
            function Runner2(e) {
                this.items = [],
                this._name = e,
                this._aliasCount = 0
            }
            return Runner2.prototype.emit = function(e, t, n, a, l, f, h, p) {
                if (arguments.length > 8)
                    throw new Error("max arguments reached");
                var m = this
                  , g = m.name
                  , v = m.items;
                this._aliasCount++;
                for (var y = 0, b = v.length; y < b; y++)
                    v[y][g](e, t, n, a, l, f, h, p);
                return v === this.items && this._aliasCount--,
                this
            }
            ,
            Runner2.prototype.ensureNonAliasedItems = function() {
                this._aliasCount > 0 && this.items.length > 1 && (this._aliasCount = 0,
                this.items = this.items.slice(0))
            }
            ,
            Runner2.prototype.add = function(e) {
                return e[this._name] && (this.ensureNonAliasedItems(),
                this.remove(e),
                this.items.push(e)),
                this
            }
            ,
            Runner2.prototype.remove = function(e) {
                var t = this.items.indexOf(e);
                return -1 !== t && (this.ensureNonAliasedItems(),
                this.items.splice(t, 1)),
                this
            }
            ,
            Runner2.prototype.contains = function(e) {
                return -1 !== this.items.indexOf(e)
            }
            ,
            Runner2.prototype.removeAll = function() {
                return this.ensureNonAliasedItems(),
                this.items.length = 0,
                this
            }
            ,
            Runner2.prototype.destroy = function() {
                this.removeAll(),
                this.items = null,
                this._name = null
            }
            ,
            Object.defineProperty(Runner2.prototype, "empty", {
                get: function() {
                    return 0 === this.items.length
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(Runner2.prototype, "name", {
                get: function() {
                    return this._name
                },
                enumerable: !0,
                configurable: !0
            }),
            Runner2
        }();
        Object.defineProperties(Zs.prototype, {
            dispatch: {
                value: Zs.prototype.emit
            },
            run: {
                value: Zs.prototype.emit
            }
        });
        /*!
 * @pixi/core - v5.2.1
 * Compiled Tue, 28 Jan 2020 23:33:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
        var Xs = function Resource2(e, t) {
            void 0 === e && (e = 0),
            void 0 === t && (t = 0),
            this._width = e,
            this._height = t,
            this.destroyed = !1,
            this.internal = !1,
            this.onResize = new Zs("setRealSize",2),
            this.onUpdate = new Zs("update"),
            this.onError = new Zs("onError",1)
        }
          , Qs = {
            valid: {
                configurable: !0
            },
            width: {
                configurable: !0
            },
            height: {
                configurable: !0
            }
        };
        Xs.prototype.bind = function bind(e) {
            this.onResize.add(e),
            this.onUpdate.add(e),
            this.onError.add(e),
            (this._width || this._height) && this.onResize.run(this._width, this._height)
        }
        ,
        Xs.prototype.unbind = function unbind(e) {
            this.onResize.remove(e),
            this.onUpdate.remove(e),
            this.onError.remove(e)
        }
        ,
        Xs.prototype.resize = function resize(e, t) {
            e === this._width && t === this._height || (this._width = e,
            this._height = t,
            this.onResize.run(e, t))
        }
        ,
        Qs.valid.get = function() {
            return !!this._width && !!this._height
        }
        ,
        Xs.prototype.update = function update() {
            this.destroyed || this.onUpdate.run()
        }
        ,
        Xs.prototype.load = function load2() {
            return Promise.resolve()
        }
        ,
        Qs.width.get = function() {
            return this._width
        }
        ,
        Qs.height.get = function() {
            return this._height
        }
        ,
        Xs.prototype.upload = function upload(e, t, n) {
            return !1
        }
        ,
        Xs.prototype.style = function style2(e, t, n) {
            return !1
        }
        ,
        Xs.prototype.dispose = function dispose() {}
        ,
        Xs.prototype.destroy = function destroy() {
            this.destroyed || (this.destroyed = !0,
            this.dispose(),
            this.onError.removeAll(),
            this.onError = null,
            this.onResize.removeAll(),
            this.onResize = null,
            this.onUpdate.removeAll(),
            this.onUpdate = null)
        }
        ,
        Object.defineProperties(Xs.prototype, Qs);
        var Ys = function(e) {
            function BaseImageResource2(t) {
                var n = t.naturalWidth || t.videoWidth || t.width
                  , a = t.naturalHeight || t.videoHeight || t.height;
                e.call(this, n, a),
                this.source = t,
                this.noSubImage = !1
            }
            return e && (BaseImageResource2.__proto__ = e),
            BaseImageResource2.prototype = Object.create(e && e.prototype),
            BaseImageResource2.prototype.constructor = BaseImageResource2,
            BaseImageResource2.crossOrigin = function crossOrigin(e, t, n) {
                void 0 === n && 0 !== t.indexOf("data:") ? e.crossOrigin = function determineCrossOrigin(e, t) {
                    if (void 0 === t && (t = window.location),
                    0 === e.indexOf("data:"))
                        return "";
                    t = t || window.location,
                    ps || (ps = document.createElement("a")),
                    ps.href = e;
                    var n = _a(ps.href)
                      , a = !n.port && "" === t.port || n.port === t.port;
                    return n.hostname === t.hostname && a && n.protocol === t.protocol ? "" : "anonymous"
                }(t) : !1 !== n && (e.crossOrigin = "string" == typeof n ? n : "anonymous")
            }
            ,
            BaseImageResource2.prototype.upload = function upload2(e, t, n, a) {
                var l = e.gl
                  , f = t.realWidth
                  , h = t.realHeight;
                return a = a || this.source,
                l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.alphaMode === ja.UNPACK),
                this.noSubImage || t.target !== l.TEXTURE_2D || n.width !== f || n.height !== h ? (n.width = f,
                n.height = h,
                l.texImage2D(t.target, 0, t.format, t.format, t.type, a)) : l.texSubImage2D(l.TEXTURE_2D, 0, 0, 0, t.format, t.type, a),
                !0
            }
            ,
            BaseImageResource2.prototype.update = function update5() {
                if (!this.destroyed) {
                    var t = this.source.naturalWidth || this.source.videoWidth || this.source.width
                      , n = this.source.naturalHeight || this.source.videoHeight || this.source.height;
                    this.resize(t, n),
                    e.prototype.update.call(this)
                }
            }
            ,
            BaseImageResource2.prototype.dispose = function dispose5() {
                this.source = null
            }
            ,
            BaseImageResource2
        }(Xs)
          , Js = function(e) {
            function ImageResource2(t, n) {
                if (n = n || {},
                !(t instanceof HTMLImageElement)) {
                    var a = new Image;
                    e.crossOrigin(a, t, n.crossorigin),
                    a.src = t,
                    t = a
                }
                e.call(this, t),
                !t.complete && this._width && this._height && (this._width = 0,
                this._height = 0),
                this.url = t.src,
                this._process = null,
                this.preserveBitmap = !1,
                this.createBitmap = (void 0 !== n.createBitmap ? n.createBitmap : la.CREATE_IMAGE_BITMAP) && !!window.createImageBitmap,
                this.alphaMode = "number" == typeof n.alphaMode ? n.alphaMode : null,
                void 0 !== n.premultiplyAlpha && (this.premultiplyAlpha = n.premultiplyAlpha),
                this.bitmap = null,
                this._load = null,
                !1 !== n.autoLoad && this.load()
            }
            return e && (ImageResource2.__proto__ = e),
            ImageResource2.prototype = Object.create(e && e.prototype),
            ImageResource2.prototype.constructor = ImageResource2,
            ImageResource2.prototype.load = function load3(e) {
                var t = this;
                return void 0 !== e && (this.createBitmap = e),
                this._load || (this._load = new Promise((function(e) {
                    t.url = t.source.src;
                    var n = t.source
                      , completed = function() {
                        t.destroyed || (n.onload = null,
                        n.onerror = null,
                        t.resize(n.width, n.height),
                        t._load = null,
                        t.createBitmap ? e(t.process()) : e(t))
                    };
                    n.complete && n.src ? completed() : (n.onload = completed,
                    n.onerror = function(e) {
                        return t.onError.run(e)
                    }
                    )
                }
                ))),
                this._load
            }
            ,
            ImageResource2.prototype.process = function process() {
                var e = this;
                return null !== this._process ? this._process : null === this.bitmap && window.createImageBitmap ? (this._process = window.createImageBitmap(this.source, 0, 0, this.source.width, this.source.height, {
                    premultiplyAlpha: this.premultiplyAlpha === ja.UNPACK ? "premultiply" : "none"
                }).then((function(t) {
                    return e.destroyed ? Promise.reject() : (e.bitmap = t,
                    e.update(),
                    e._process = null,
                    Promise.resolve(e))
                }
                )),
                this._process) : Promise.resolve(this)
            }
            ,
            ImageResource2.prototype.upload = function upload2(t, n, a) {
                if ("number" == typeof this.alphaMode && (n.alphaMode = this.alphaMode),
                !this.createBitmap)
                    return e.prototype.upload.call(this, t, n, a);
                if (!this.bitmap && (this.process(),
                !this.bitmap))
                    return !1;
                if (e.prototype.upload.call(this, t, n, a, this.bitmap),
                !this.preserveBitmap) {
                    var l = !0;
                    for (var f in n._glTextures) {
                        var h = n._glTextures[f];
                        if (h !== a && h.dirtyId !== n.dirtyId) {
                            l = !1;
                            break
                        }
                    }
                    l && (this.bitmap.close && this.bitmap.close(),
                    this.bitmap = null)
                }
                return !0
            }
            ,
            ImageResource2.prototype.dispose = function dispose5() {
                this.source.onload = null,
                this.source.onerror = null,
                e.prototype.dispose.call(this),
                this.bitmap && (this.bitmap.close(),
                this.bitmap = null),
                this._process = null,
                this._load = null
            }
            ,
            ImageResource2
        }(Ys)
          , eu = [];
        function autoDetectResource(e, t) {
            if (!e)
                return null;
            var n = "";
            if ("string" == typeof e) {
                var a = /\.(\w{3,4})(?:$|\?|#)/i.exec(e);
                a && (n = a[1].toLowerCase())
            }
            for (var l = eu.length - 1; l >= 0; --l) {
                var f = eu[l];
                if (f.test && f.test(e, n))
                    return new f(e,t)
            }
            return new Js(e,t)
        }
        var tu = function(e) {
            function BufferResource2(t, n) {
                var a = n || {}
                  , l = a.width
                  , f = a.height;
                if (!l || !f)
                    throw new Error("BufferResource width or height invalid");
                e.call(this, l, f),
                this.data = t
            }
            return e && (BufferResource2.__proto__ = e),
            BufferResource2.prototype = Object.create(e && e.prototype),
            BufferResource2.prototype.constructor = BufferResource2,
            BufferResource2.prototype.upload = function upload2(e, t, n) {
                var a = e.gl;
                return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.alphaMode === ja.UNPACK),
                n.width === t.width && n.height === t.height ? a.texSubImage2D(t.target, 0, 0, 0, t.width, t.height, t.format, t.type, this.data) : (n.width = t.width,
                n.height = t.height,
                a.texImage2D(t.target, 0, n.internalFormat, t.width, t.height, 0, t.format, n.type, this.data)),
                !0
            }
            ,
            BufferResource2.prototype.dispose = function dispose5() {
                this.data = null
            }
            ,
            BufferResource2.test = function test(e) {
                return e instanceof Float32Array || e instanceof Uint8Array || e instanceof Uint32Array
            }
            ,
            BufferResource2
        }(Xs)
          , nu = {
            scaleMode: La.NEAREST,
            format: Ma.RGBA,
            alphaMode: ja.NPM
        }
          , ru = function(e) {
            function BaseTexture2(t, n) {
                void 0 === t && (t = null),
                void 0 === n && (n = null),
                e.call(this);
                var a = (n = n || {}).alphaMode
                  , l = n.mipmap
                  , f = n.anisotropicLevel
                  , h = n.scaleMode
                  , p = n.width
                  , m = n.height
                  , g = n.wrapMode
                  , v = n.format
                  , y = n.type
                  , b = n.target
                  , _ = n.resolution
                  , C = n.resourceOptions;
                !t || t instanceof Xs || ((t = autoDetectResource(t, C)).internal = !0),
                this.width = p || 0,
                this.height = m || 0,
                this.resolution = _ || la.RESOLUTION,
                this.mipmap = void 0 !== l ? l : la.MIPMAP_TEXTURES,
                this.anisotropicLevel = void 0 !== f ? f : la.ANISOTROPIC_LEVEL,
                this.wrapMode = g || la.WRAP_MODE,
                this.scaleMode = void 0 !== h ? h : la.SCALE_MODE,
                this.format = v || Ma.RGBA,
                this.type = y || Na.UNSIGNED_BYTE,
                this.target = b || Ia.TEXTURE_2D,
                this.alphaMode = void 0 !== a ? a : ja.UNPACK,
                void 0 !== n.premultiplyAlpha && (this.premultiplyAlpha = n.premultiplyAlpha),
                this.uid = uid(),
                this.touched = 0,
                this.isPowerOfTwo = !1,
                this._refreshPOT(),
                this._glTextures = {},
                this.dirtyId = 0,
                this.dirtyStyleId = 0,
                this.cacheId = null,
                this.valid = p > 0 && m > 0,
                this.textureCacheIds = [],
                this.destroyed = !1,
                this.resource = null,
                this._batchEnabled = 0,
                this._batchLocation = 0,
                this.setResource(t)
            }
            e && (BaseTexture2.__proto__ = e),
            BaseTexture2.prototype = Object.create(e && e.prototype),
            BaseTexture2.prototype.constructor = BaseTexture2;
            var t = {
                realWidth: {
                    configurable: !0
                },
                realHeight: {
                    configurable: !0
                }
            };
            return t.realWidth.get = function() {
                return Math.ceil(this.width * this.resolution - 1e-4)
            }
            ,
            t.realHeight.get = function() {
                return Math.ceil(this.height * this.resolution - 1e-4)
            }
            ,
            BaseTexture2.prototype.setStyle = function setStyle(e, t) {
                var n;
                return void 0 !== e && e !== this.scaleMode && (this.scaleMode = e,
                n = !0),
                void 0 !== t && t !== this.mipmap && (this.mipmap = t,
                n = !0),
                n && this.dirtyStyleId++,
                this
            }
            ,
            BaseTexture2.prototype.setSize = function setSize(e, t, n) {
                return this.resolution = n || this.resolution,
                this.width = e,
                this.height = t,
                this._refreshPOT(),
                this.update(),
                this
            }
            ,
            BaseTexture2.prototype.setRealSize = function setRealSize(e, t, n) {
                return this.resolution = n || this.resolution,
                this.width = e / this.resolution,
                this.height = t / this.resolution,
                this._refreshPOT(),
                this.update(),
                this
            }
            ,
            BaseTexture2.prototype._refreshPOT = function _refreshPOT() {
                this.isPowerOfTwo = isPow2(this.realWidth) && isPow2(this.realHeight)
            }
            ,
            BaseTexture2.prototype.setResolution = function setResolution(e) {
                var t = this.resolution;
                return t === e || (this.resolution = e,
                this.valid && (this.width = this.width * t / e,
                this.height = this.height * t / e,
                this.emit("update", this)),
                this._refreshPOT()),
                this
            }
            ,
            BaseTexture2.prototype.setResource = function setResource(e) {
                if (this.resource === e)
                    return this;
                if (this.resource)
                    throw new Error("Resource can be set only once");
                return e.bind(this),
                this.resource = e,
                this
            }
            ,
            BaseTexture2.prototype.update = function update5() {
                this.valid ? (this.dirtyId++,
                this.dirtyStyleId++,
                this.emit("update", this)) : this.width > 0 && this.height > 0 && (this.valid = !0,
                this.emit("loaded", this),
                this.emit("update", this))
            }
            ,
            BaseTexture2.prototype.onError = function onError(e) {
                this.emit("error", this, e)
            }
            ,
            BaseTexture2.prototype.destroy = function destroy10() {
                this.resource && (this.resource.unbind(this),
                this.resource.internal && this.resource.destroy(),
                this.resource = null),
                this.cacheId && (delete vs[this.cacheId],
                delete gs[this.cacheId],
                this.cacheId = null),
                this.dispose(),
                BaseTexture2.removeFromCache(this),
                this.textureCacheIds = null,
                this.destroyed = !0
            }
            ,
            BaseTexture2.prototype.dispose = function dispose5() {
                this.emit("dispose", this)
            }
            ,
            BaseTexture2.from = function from6(e, t, n) {
                void 0 === n && (n = la.STRICT_TEXTURE_CACHE);
                var a = "string" == typeof e
                  , l = null;
                a ? l = e : (e._pixiId || (e._pixiId = "pixiid_" + uid()),
                l = e._pixiId);
                var f = vs[l];
                if (a && n && !f)
                    throw new Error('The cacheId "' + l + '" does not exist in BaseTextureCache.');
                return f || ((f = new BaseTexture2(e,t)).cacheId = l,
                BaseTexture2.addToCache(f, l)),
                f
            }
            ,
            BaseTexture2.fromBuffer = function fromBuffer(e, t, n, a) {
                e = e || new Float32Array(t * n * 4);
                var l = new tu(e,{
                    width: t,
                    height: n
                })
                  , f = e instanceof Float32Array ? Na.FLOAT : Na.UNSIGNED_BYTE;
                return new BaseTexture2(l,Object.assign(nu, a || {
                    width: t,
                    height: n,
                    type: f
                }))
            }
            ,
            BaseTexture2.addToCache = function addToCache(e, t) {
                t && (-1 === e.textureCacheIds.indexOf(t) && e.textureCacheIds.push(t),
                vs[t] && console.warn("BaseTexture added to the cache with an id [" + t + "] that already had an entry"),
                vs[t] = e)
            }
            ,
            BaseTexture2.removeFromCache = function removeFromCache(e) {
                if ("string" == typeof e) {
                    var t = vs[e];
                    if (t) {
                        var n = t.textureCacheIds.indexOf(e);
                        return n > -1 && t.textureCacheIds.splice(n, 1),
                        delete vs[e],
                        t
                    }
                } else if (e && e.textureCacheIds) {
                    for (var a = 0; a < e.textureCacheIds.length; ++a)
                        delete vs[e.textureCacheIds[a]];
                    return e.textureCacheIds.length = 0,
                    e
                }
                return null
            }
            ,
            Object.defineProperties(BaseTexture2.prototype, t),
            BaseTexture2
        }(fa);
        ru._globalBatch = 0;
        var ou = function(e) {
            function ArrayResource2(t, n) {
                var a;
                n = n || {};
                var l = t;
                Array.isArray(t) && (a = t,
                l = t.length),
                e.call(this, n.width, n.height),
                this.items = [],
                this.itemDirtyIds = [];
                for (var f = 0; f < l; f++) {
                    var h = new ru;
                    this.items.push(h),
                    this.itemDirtyIds.push(-1)
                }
                if (this.length = l,
                this._load = null,
                a)
                    for (var p = 0; p < l; p++)
                        this.addResourceAt(autoDetectResource(a[p], n), p)
            }
            return e && (ArrayResource2.__proto__ = e),
            ArrayResource2.prototype = Object.create(e && e.prototype),
            ArrayResource2.prototype.constructor = ArrayResource2,
            ArrayResource2.prototype.dispose = function dispose5() {
                for (var e = 0, t = this.length; e < t; e++)
                    this.items[e].destroy();
                this.items = null,
                this.itemDirtyIds = null,
                this._load = null
            }
            ,
            ArrayResource2.prototype.addResourceAt = function addResourceAt(e, t) {
                if (!this.items[t])
                    throw new Error("Index " + t + " is out of bounds");
                return e.valid && !this.valid && this.resize(e.width, e.height),
                this.items[t].setResource(e),
                this
            }
            ,
            ArrayResource2.prototype.bind = function bind2(t) {
                e.prototype.bind.call(this, t),
                t.target = Ia.TEXTURE_2D_ARRAY;
                for (var n = 0; n < this.length; n++)
                    this.items[n].on("update", t.update, t)
            }
            ,
            ArrayResource2.prototype.unbind = function unbind2(t) {
                e.prototype.unbind.call(this, t);
                for (var n = 0; n < this.length; n++)
                    this.items[n].off("update", t.update, t)
            }
            ,
            ArrayResource2.prototype.load = function load3() {
                var e = this;
                if (this._load)
                    return this._load;
                var t = this.items.map((function(e) {
                    return e.resource
                }
                ))
                  , n = t.map((function(e) {
                    return e.load()
                }
                ));
                return this._load = Promise.all(n).then((function() {
                    var n = t[0]
                      , a = n.width
                      , l = n.height;
                    return e.resize(a, l),
                    Promise.resolve(e)
                }
                )),
                this._load
            }
            ,
            ArrayResource2.prototype.upload = function upload2(e, t, n) {
                var a = this
                  , l = a.length
                  , f = a.itemDirtyIds
                  , h = a.items
                  , p = e.gl;
                n.dirtyId < 0 && p.texImage3D(p.TEXTURE_2D_ARRAY, 0, t.format, this._width, this._height, l, 0, t.format, t.type, null);
                for (var m = 0; m < l; m++) {
                    var g = h[m];
                    f[m] < g.dirtyId && (f[m] = g.dirtyId,
                    g.valid && p.texSubImage3D(p.TEXTURE_2D_ARRAY, 0, 0, 0, m, g.resource.width, g.resource.height, 1, t.format, t.type, g.resource.source))
                }
                return !0
            }
            ,
            ArrayResource2
        }(Xs)
          , iu = function(e) {
            function CanvasResource2() {
                e.apply(this, arguments)
            }
            return e && (CanvasResource2.__proto__ = e),
            CanvasResource2.prototype = Object.create(e && e.prototype),
            CanvasResource2.prototype.constructor = CanvasResource2,
            CanvasResource2.test = function test(e) {
                var t = window.OffscreenCanvas;
                return !!(t && e instanceof t) || e instanceof HTMLCanvasElement
            }
            ,
            CanvasResource2
        }(Ys)
          , au = function(e) {
            function CubeResource2(t, n) {
                if (n = n || {},
                e.call(this, t, n),
                this.length !== CubeResource2.SIDES)
                    throw new Error("Invalid length. Got " + this.length + ", expected 6");
                for (var a = 0; a < CubeResource2.SIDES; a++)
                    this.items[a].target = Ia.TEXTURE_CUBE_MAP_POSITIVE_X + a;
                !1 !== n.autoLoad && this.load()
            }
            return e && (CubeResource2.__proto__ = e),
            CubeResource2.prototype = Object.create(e && e.prototype),
            CubeResource2.prototype.constructor = CubeResource2,
            CubeResource2.prototype.bind = function bind2(t) {
                e.prototype.bind.call(this, t),
                t.target = Ia.TEXTURE_CUBE_MAP
            }
            ,
            CubeResource2.prototype.upload = function upload2(e, t, n) {
                for (var a = this.itemDirtyIds, l = 0; l < CubeResource2.SIDES; l++) {
                    var f = this.items[l];
                    a[l] < f.dirtyId && (a[l] = f.dirtyId,
                    f.valid && f.resource.upload(e, f, n))
                }
                return !0
            }
            ,
            CubeResource2
        }(ou);
        au.SIDES = 6;
        var su = function(e) {
            function SVGResource2(t, n) {
                n = n || {},
                e.call(this, document.createElement("canvas")),
                this._width = 0,
                this._height = 0,
                this.svg = t,
                this.scale = n.scale || 1,
                this._overrideWidth = n.width,
                this._overrideHeight = n.height,
                this._resolve = null,
                this._crossorigin = n.crossorigin,
                this._load = null,
                !1 !== n.autoLoad && this.load()
            }
            return e && (SVGResource2.__proto__ = e),
            SVGResource2.prototype = Object.create(e && e.prototype),
            SVGResource2.prototype.constructor = SVGResource2,
            SVGResource2.prototype.load = function load3() {
                var e = this;
                return this._load || (this._load = new Promise((function(t) {
                    if (e._resolve = function() {
                        e.resize(e.source.width, e.source.height),
                        t(e)
                    }
                    ,
                    /^\<svg/.test(e.svg.trim())) {
                        if (!btoa)
                            throw new Error("Your browser doesn't support base64 conversions.");
                        e.svg = "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(e.svg)))
                    }
                    e._loadSvg()
                }
                ))),
                this._load
            }
            ,
            SVGResource2.prototype._loadSvg = function _loadSvg() {
                var t = this
                  , n = new Image;
                e.crossOrigin(n, this.svg, this._crossorigin),
                n.src = this.svg,
                n.onerror = function(e) {
                    n.onerror = null,
                    t.onError.run(e)
                }
                ,
                n.onload = function() {
                    var e = n.width
                      , a = n.height;
                    if (!e || !a)
                        throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
                    var l = e * t.scale
                      , f = a * t.scale;
                    (t._overrideWidth || t._overrideHeight) && (l = t._overrideWidth || t._overrideHeight / a * e,
                    f = t._overrideHeight || t._overrideWidth / e * a),
                    l = Math.round(l),
                    f = Math.round(f);
                    var h = t.source;
                    h.width = l,
                    h.height = f,
                    h._pixiId = "canvas_" + uid(),
                    h.getContext("2d").drawImage(n, 0, 0, e, a, 0, 0, l, f),
                    t._resolve(),
                    t._resolve = null
                }
            }
            ,
            SVGResource2.getSize = function getSize2(e) {
                var t = SVGResource2.SVG_SIZE.exec(e)
                  , n = {};
                return t && (n[t[1]] = Math.round(parseFloat(t[3])),
                n[t[5]] = Math.round(parseFloat(t[7]))),
                n
            }
            ,
            SVGResource2.prototype.dispose = function dispose5() {
                e.prototype.dispose.call(this),
                this._resolve = null,
                this._crossorigin = null
            }
            ,
            SVGResource2.test = function test(e, t) {
                return "svg" === t || "string" == typeof e && 0 === e.indexOf("data:image/svg+xml;base64") || "string" == typeof e && 0 === e.indexOf("<svg")
            }
            ,
            SVGResource2
        }(Ys);
        su.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
        var uu = function(e) {
            function VideoResource2(t, n) {
                if (n = n || {},
                !(t instanceof HTMLVideoElement)) {
                    var a = document.createElement("video");
                    a.setAttribute("preload", "auto"),
                    a.setAttribute("webkit-playsinline", ""),
                    a.setAttribute("playsinline", ""),
                    "string" == typeof t && (t = [t]),
                    e.crossOrigin(a, t[0].src || t[0], n.crossorigin);
                    for (var l = 0; l < t.length; ++l) {
                        var f = document.createElement("source")
                          , h = t[l]
                          , p = h.src
                          , m = h.mime
                          , g = (p = p || t[l]).split("?").shift().toLowerCase()
                          , v = g.substr(g.lastIndexOf(".") + 1);
                        m = m || "video/" + v,
                        f.src = p,
                        f.type = m,
                        a.appendChild(f)
                    }
                    t = a
                }
                e.call(this, t),
                this.noSubImage = !0,
                this._autoUpdate = !0,
                this._isAutoUpdating = !1,
                this._updateFPS = n.updateFPS || 0,
                this._msToNextUpdate = 0,
                this.autoPlay = !1 !== n.autoPlay,
                this._load = null,
                this._resolve = null,
                this._onCanPlay = this._onCanPlay.bind(this),
                this._onError = this._onError.bind(this),
                !1 !== n.autoLoad && this.load()
            }
            e && (VideoResource2.__proto__ = e),
            VideoResource2.prototype = Object.create(e && e.prototype),
            VideoResource2.prototype.constructor = VideoResource2;
            var t = {
                autoUpdate: {
                    configurable: !0
                },
                updateFPS: {
                    configurable: !0
                }
            };
            return VideoResource2.prototype.update = function update5(t) {
                if (void 0 === t && (t = 0),
                !this.destroyed) {
                    var n = Ws.shared.elapsedMS * this.source.playbackRate;
                    this._msToNextUpdate = Math.floor(this._msToNextUpdate - n),
                    (!this._updateFPS || this._msToNextUpdate <= 0) && (e.prototype.update.call(this, t),
                    this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0)
                }
            }
            ,
            VideoResource2.prototype.load = function load3() {
                var e = this;
                if (this._load)
                    return this._load;
                var t = this.source;
                return (t.readyState === t.HAVE_ENOUGH_DATA || t.readyState === t.HAVE_FUTURE_DATA) && t.width && t.height && (t.complete = !0),
                t.addEventListener("play", this._onPlayStart.bind(this)),
                t.addEventListener("pause", this._onPlayStop.bind(this)),
                this._isSourceReady() ? this._onCanPlay() : (t.addEventListener("canplay", this._onCanPlay),
                t.addEventListener("canplaythrough", this._onCanPlay),
                t.addEventListener("error", this._onError, !0)),
                this._load = new Promise((function(n) {
                    e.valid ? n(e) : (e._resolve = n,
                    t.load())
                }
                )),
                this._load
            }
            ,
            VideoResource2.prototype._onError = function _onError() {
                this.source.removeEventListener("error", this._onError, !0),
                this.onError.run(event)
            }
            ,
            VideoResource2.prototype._isSourcePlaying = function _isSourcePlaying() {
                var e = this.source;
                return e.currentTime > 0 && !1 === e.paused && !1 === e.ended && e.readyState > 2
            }
            ,
            VideoResource2.prototype._isSourceReady = function _isSourceReady() {
                return 3 === this.source.readyState || 4 === this.source.readyState
            }
            ,
            VideoResource2.prototype._onPlayStart = function _onPlayStart() {
                this.valid || this._onCanPlay(),
                !this._isAutoUpdating && this.autoUpdate && (Ws.shared.add(this.update, this),
                this._isAutoUpdating = !0)
            }
            ,
            VideoResource2.prototype._onPlayStop = function _onPlayStop() {
                this._isAutoUpdating && (Ws.shared.remove(this.update, this),
                this._isAutoUpdating = !1)
            }
            ,
            VideoResource2.prototype._onCanPlay = function _onCanPlay() {
                var e = this.source;
                e.removeEventListener("canplay", this._onCanPlay),
                e.removeEventListener("canplaythrough", this._onCanPlay);
                var t = this.valid;
                this.resize(e.videoWidth, e.videoHeight),
                !t && this._resolve && (this._resolve(this),
                this._resolve = null),
                this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && e.play()
            }
            ,
            VideoResource2.prototype.dispose = function dispose5() {
                this._isAutoUpdating && Ws.shared.remove(this.update, this),
                this.source && (this.source.removeEventListener("error", this._onError, !0),
                this.source.pause(),
                this.source.src = "",
                this.source.load()),
                e.prototype.dispose.call(this)
            }
            ,
            t.autoUpdate.get = function() {
                return this._autoUpdate
            }
            ,
            t.autoUpdate.set = function(e) {
                e !== this._autoUpdate && (this._autoUpdate = e,
                !this._autoUpdate && this._isAutoUpdating ? (Ws.shared.remove(this.update, this),
                this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (Ws.shared.add(this.update, this),
                this._isAutoUpdating = !0))
            }
            ,
            t.updateFPS.get = function() {
                return this._updateFPS
            }
            ,
            t.updateFPS.set = function(e) {
                e !== this._updateFPS && (this._updateFPS = e)
            }
            ,
            VideoResource2.test = function test(e, t) {
                return e instanceof HTMLVideoElement || VideoResource2.TYPES.indexOf(t) > -1
            }
            ,
            Object.defineProperties(VideoResource2.prototype, t),
            VideoResource2
        }(Ys);
        uu.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"];
        var cu = function(e) {
            function ImageBitmapResource2() {
                e.apply(this, arguments)
            }
            return e && (ImageBitmapResource2.__proto__ = e),
            ImageBitmapResource2.prototype = Object.create(e && e.prototype),
            ImageBitmapResource2.prototype.constructor = ImageBitmapResource2,
            ImageBitmapResource2.test = function test(e) {
                return !!window.createImageBitmap && e instanceof ImageBitmap
            }
            ,
            ImageBitmapResource2
        }(Ys);
        eu.push(Js, cu, iu, uu, su, tu, au, ou);
        var lu = function System2(e) {
            this.renderer = e
        };
        lu.prototype.destroy = function destroy2() {
            this.renderer = null
        }
        ;
        var du = function(e) {
            function DepthResource2() {
                e.apply(this, arguments)
            }
            return e && (DepthResource2.__proto__ = e),
            DepthResource2.prototype = Object.create(e && e.prototype),
            DepthResource2.prototype.constructor = DepthResource2,
            DepthResource2.prototype.upload = function upload2(e, t, n) {
                var a = e.gl;
                return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.alphaMode === ja.UNPACK),
                n.width === t.width && n.height === t.height ? a.texSubImage2D(t.target, 0, 0, 0, t.width, t.height, t.format, t.type, this.data) : (n.width = t.width,
                n.height = t.height,
                a.texImage2D(t.target, 0, a.DEPTH_COMPONENT16, t.width, t.height, 0, t.format, t.type, this.data)),
                !0
            }
            ,
            DepthResource2
        }(tu)
          , fu = function Framebuffer2(e, t) {
            this.width = Math.ceil(e || 100),
            this.height = Math.ceil(t || 100),
            this.stencil = !1,
            this.depth = !1,
            this.dirtyId = 0,
            this.dirtyFormat = 0,
            this.dirtySize = 0,
            this.depthTexture = null,
            this.colorTextures = [],
            this.glFramebuffers = {},
            this.disposeRunner = new Zs("disposeFramebuffer",2)
        }
          , hu = {
            colorTexture: {
                configurable: !0
            }
        };
        hu.colorTexture.get = function() {
            return this.colorTextures[0]
        }
        ,
        fu.prototype.addColorTexture = function addColorTexture(e, t) {
            return void 0 === e && (e = 0),
            this.colorTextures[e] = t || new ru(null,{
                scaleMode: 0,
                resolution: 1,
                mipmap: !1,
                width: this.width,
                height: this.height
            }),
            this.dirtyId++,
            this.dirtyFormat++,
            this
        }
        ,
        fu.prototype.addDepthTexture = function addDepthTexture(e) {
            return this.depthTexture = e || new ru(new du(null,{
                width: this.width,
                height: this.height
            }),{
                scaleMode: 0,
                resolution: 1,
                width: this.width,
                height: this.height,
                mipmap: !1,
                format: Ma.DEPTH_COMPONENT,
                type: Na.UNSIGNED_SHORT
            }),
            this.dirtyId++,
            this.dirtyFormat++,
            this
        }
        ,
        fu.prototype.enableDepth = function enableDepth() {
            return this.depth = !0,
            this.dirtyId++,
            this.dirtyFormat++,
            this
        }
        ,
        fu.prototype.enableStencil = function enableStencil() {
            return this.stencil = !0,
            this.dirtyId++,
            this.dirtyFormat++,
            this
        }
        ,
        fu.prototype.resize = function resize2(e, t) {
            if (e = Math.ceil(e),
            t = Math.ceil(t),
            e !== this.width || t !== this.height) {
                this.width = e,
                this.height = t,
                this.dirtyId++,
                this.dirtySize++;
                for (var n = 0; n < this.colorTextures.length; n++) {
                    var a = this.colorTextures[n]
                      , l = a.resolution;
                    a.setSize(e / l, t / l)
                }
                if (this.depthTexture) {
                    var f = this.depthTexture.resolution;
                    this.depthTexture.setSize(e / f, t / f)
                }
            }
        }
        ,
        fu.prototype.dispose = function dispose2() {
            this.disposeRunner.run(this, !1)
        }
        ,
        Object.defineProperties(fu.prototype, hu);
        var pu = function(e) {
            function BaseRenderTexture2(t) {
                if ("number" == typeof t) {
                    var n = arguments[0]
                      , a = arguments[1]
                      , l = arguments[2]
                      , f = arguments[3];
                    t = {
                        width: n,
                        height: a,
                        scaleMode: l,
                        resolution: f
                    }
                }
                e.call(this, null, t);
                var h = t || {}
                  , p = h.width
                  , m = h.height;
                this.mipmap = !1,
                this.width = Math.ceil(p) || 100,
                this.height = Math.ceil(m) || 100,
                this.valid = !0,
                this._canvasRenderTarget = null,
                this.clearColor = [0, 0, 0, 0],
                this.framebuffer = new fu(this.width * this.resolution,this.height * this.resolution).addColorTexture(0, this),
                this.maskStack = [],
                this.filterStack = [{}]
            }
            return e && (BaseRenderTexture2.__proto__ = e),
            BaseRenderTexture2.prototype = Object.create(e && e.prototype),
            BaseRenderTexture2.prototype.constructor = BaseRenderTexture2,
            BaseRenderTexture2.prototype.resize = function resize3(e, t) {
                e = Math.ceil(e),
                t = Math.ceil(t),
                this.framebuffer.resize(e * this.resolution, t * this.resolution)
            }
            ,
            BaseRenderTexture2.prototype.dispose = function dispose5() {
                this.framebuffer.dispose(),
                e.prototype.dispose.call(this)
            }
            ,
            BaseRenderTexture2.prototype.destroy = function destroy10() {
                e.prototype.destroy.call(this, !0),
                this.framebuffer = null
            }
            ,
            BaseRenderTexture2
        }(ru)
          , mu = function TextureUvs2() {
            this.x0 = 0,
            this.y0 = 0,
            this.x1 = 1,
            this.y1 = 0,
            this.x2 = 1,
            this.y2 = 1,
            this.x3 = 0,
            this.y3 = 1,
            this.uvsFloat32 = new Float32Array(8)
        };
        mu.prototype.set = function set2(e, t, n) {
            var a = t.width
              , l = t.height;
            if (n) {
                var f = e.width / 2 / a
                  , h = e.height / 2 / l
                  , p = e.x / a + f
                  , m = e.y / l + h;
                n = Rs.add(n, Rs.NW),
                this.x0 = p + f * Rs.uX(n),
                this.y0 = m + h * Rs.uY(n),
                n = Rs.add(n, 2),
                this.x1 = p + f * Rs.uX(n),
                this.y1 = m + h * Rs.uY(n),
                n = Rs.add(n, 2),
                this.x2 = p + f * Rs.uX(n),
                this.y2 = m + h * Rs.uY(n),
                n = Rs.add(n, 2),
                this.x3 = p + f * Rs.uX(n),
                this.y3 = m + h * Rs.uY(n)
            } else
                this.x0 = e.x / a,
                this.y0 = e.y / l,
                this.x1 = (e.x + e.width) / a,
                this.y1 = e.y / l,
                this.x2 = (e.x + e.width) / a,
                this.y2 = (e.y + e.height) / l,
                this.x3 = e.x / a,
                this.y3 = (e.y + e.height) / l;
            this.uvsFloat32[0] = this.x0,
            this.uvsFloat32[1] = this.y0,
            this.uvsFloat32[2] = this.x1,
            this.uvsFloat32[3] = this.y1,
            this.uvsFloat32[4] = this.x2,
            this.uvsFloat32[5] = this.y2,
            this.uvsFloat32[6] = this.x3,
            this.uvsFloat32[7] = this.y3
        }
        ;
        var gu = new mu
          , vu = function(e) {
            function Texture2(t, n, a, l, f, h) {
                if (e.call(this),
                this.noFrame = !1,
                n || (this.noFrame = !0,
                n = new Ds(0,0,1,1)),
                t instanceof Texture2 && (t = t.baseTexture),
                this.baseTexture = t,
                this._frame = n,
                this.trim = l,
                this.valid = !1,
                this.requiresUpdate = !1,
                this._uvs = gu,
                this.uvMatrix = null,
                this.orig = a || n,
                this._rotate = Number(f || 0),
                !0 === f)
                    this._rotate = 2;
                else if (this._rotate % 2 != 0)
                    throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
                this.defaultAnchor = h ? new Cs(h.x,h.y) : new Cs(0,0),
                this._updateID = 0,
                this.textureCacheIds = [],
                t.valid ? this.noFrame ? t.valid && this.onBaseTextureUpdated(t) : this.frame = n : t.once("loaded", this.onBaseTextureUpdated, this),
                this.noFrame && t.on("update", this.onBaseTextureUpdated, this)
            }
            e && (Texture2.__proto__ = e),
            Texture2.prototype = Object.create(e && e.prototype),
            Texture2.prototype.constructor = Texture2;
            var t = {
                resolution: {
                    configurable: !0
                },
                frame: {
                    configurable: !0
                },
                rotate: {
                    configurable: !0
                },
                width: {
                    configurable: !0
                },
                height: {
                    configurable: !0
                }
            };
            return Texture2.prototype.update = function update5() {
                this.baseTexture.resource && this.baseTexture.resource.update()
            }
            ,
            Texture2.prototype.onBaseTextureUpdated = function onBaseTextureUpdated(e) {
                if (this.noFrame) {
                    if (!this.baseTexture.valid)
                        return;
                    this._frame.width = e.width,
                    this._frame.height = e.height,
                    this.valid = !0,
                    this.updateUvs()
                } else
                    this.frame = this._frame;
                this.emit("update", this)
            }
            ,
            Texture2.prototype.destroy = function destroy10(e) {
                if (this.baseTexture) {
                    if (e) {
                        var t = this.baseTexture.resource;
                        t && gs[t.url] && Texture2.removeFromCache(t.url),
                        this.baseTexture.destroy()
                    }
                    this.baseTexture.off("update", this.onBaseTextureUpdated, this),
                    this.baseTexture = null
                }
                this._frame = null,
                this._uvs = null,
                this.trim = null,
                this.orig = null,
                this.valid = !1,
                Texture2.removeFromCache(this),
                this.textureCacheIds = null
            }
            ,
            Texture2.prototype.clone = function clone2() {
                return new Texture2(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)
            }
            ,
            Texture2.prototype.updateUvs = function updateUvs() {
                this._uvs === gu && (this._uvs = new mu),
                this._uvs.set(this._frame, this.baseTexture, this.rotate),
                this._updateID++
            }
            ,
            Texture2.from = function from6(e, t, n) {
                void 0 === t && (t = {}),
                void 0 === n && (n = la.STRICT_TEXTURE_CACHE);
                var a = "string" == typeof e
                  , l = null;
                a ? l = e : (e._pixiId || (e._pixiId = "pixiid_" + uid()),
                l = e._pixiId);
                var f = gs[l];
                if (a && n && !f)
                    throw new Error('The cacheId "' + l + '" does not exist in TextureCache.');
                return f || (t.resolution || (t.resolution = getResolutionOfUrl(e)),
                (f = new Texture2(new ru(e,t))).baseTexture.cacheId = l,
                ru.addToCache(f.baseTexture, l),
                Texture2.addToCache(f, l)),
                f
            }
            ,
            Texture2.fromBuffer = function fromBuffer(e, t, n, a) {
                return new Texture2(ru.fromBuffer(e, t, n, a))
            }
            ,
            Texture2.fromLoader = function fromLoader(e, t, n) {
                var a = new Js(e);
                a.url = t;
                var l = new Texture2(new ru(a,{
                    scaleMode: la.SCALE_MODE,
                    resolution: getResolutionOfUrl(t)
                }));
                return n || (n = t),
                ru.addToCache(l.baseTexture, n),
                Texture2.addToCache(l, n),
                n !== t && (ru.addToCache(l.baseTexture, t),
                Texture2.addToCache(l, t)),
                l
            }
            ,
            Texture2.addToCache = function addToCache(e, t) {
                t && (-1 === e.textureCacheIds.indexOf(t) && e.textureCacheIds.push(t),
                gs[t] && console.warn("Texture added to the cache with an id [" + t + "] that already had an entry"),
                gs[t] = e)
            }
            ,
            Texture2.removeFromCache = function removeFromCache(e) {
                if ("string" == typeof e) {
                    var t = gs[e];
                    if (t) {
                        var n = t.textureCacheIds.indexOf(e);
                        return n > -1 && t.textureCacheIds.splice(n, 1),
                        delete gs[e],
                        t
                    }
                } else if (e && e.textureCacheIds) {
                    for (var a = 0; a < e.textureCacheIds.length; ++a)
                        gs[e.textureCacheIds[a]] === e && delete gs[e.textureCacheIds[a]];
                    return e.textureCacheIds.length = 0,
                    e
                }
                return null
            }
            ,
            t.resolution.get = function() {
                return this.baseTexture.resolution
            }
            ,
            t.frame.get = function() {
                return this._frame
            }
            ,
            t.frame.set = function(e) {
                this._frame = e,
                this.noFrame = !1;
                var t = e.x
                  , n = e.y
                  , a = e.width
                  , l = e.height
                  , f = t + a > this.baseTexture.width
                  , h = n + l > this.baseTexture.height;
                if (f || h) {
                    var p = f && h ? "and" : "or"
                      , m = "X: " + t + " + " + a + " = " + (t + a) + " > " + this.baseTexture.width
                      , g = "Y: " + n + " + " + l + " = " + (n + l) + " > " + this.baseTexture.height;
                    throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + m + " " + p + " " + g)
                }
                this.valid = a && l && this.baseTexture.valid,
                this.trim || this.rotate || (this.orig = e),
                this.valid && this.updateUvs()
            }
            ,
            t.rotate.get = function() {
                return this._rotate
            }
            ,
            t.rotate.set = function(e) {
                this._rotate = e,
                this.valid && this.updateUvs()
            }
            ,
            t.width.get = function() {
                return this.orig.width
            }
            ,
            t.height.get = function() {
                return this.orig.height
            }
            ,
            Object.defineProperties(Texture2.prototype, t),
            Texture2
        }(fa);
        function removeAllHandlers(e) {
            e.destroy = function _emptyDestroy() {}
            ,
            e.on = function _emptyOn() {}
            ,
            e.once = function _emptyOnce() {}
            ,
            e.emit = function _emptyEmit() {}
        }
        vu.EMPTY = new vu(new ru),
        removeAllHandlers(vu.EMPTY),
        removeAllHandlers(vu.EMPTY.baseTexture),
        vu.WHITE = function createWhiteTexture() {
            var e = document.createElement("canvas");
            e.width = 16,
            e.height = 16;
            var t = e.getContext("2d");
            return t.fillStyle = "white",
            t.fillRect(0, 0, 16, 16),
            new vu(new ru(new iu(e)))
        }(),
        removeAllHandlers(vu.WHITE),
        removeAllHandlers(vu.WHITE.baseTexture);
        var yu = function(e) {
            function RenderTexture2(t, n) {
                var a = null;
                if (!(t instanceof pu)) {
                    var l = arguments[1]
                      , f = arguments[2]
                      , h = arguments[3]
                      , p = arguments[4];
                    console.warn("Please use RenderTexture.create(" + l + ", " + f + ") instead of the ctor directly."),
                    a = arguments[0],
                    n = null,
                    t = new pu({
                        width: l,
                        height: f,
                        scaleMode: h,
                        resolution: p
                    })
                }
                e.call(this, t, n),
                this.legacyRenderer = a,
                this.valid = !0,
                this.filterFrame = null,
                this.filterPoolKey = null,
                this.updateUvs()
            }
            return e && (RenderTexture2.__proto__ = e),
            RenderTexture2.prototype = Object.create(e && e.prototype),
            RenderTexture2.prototype.constructor = RenderTexture2,
            RenderTexture2.prototype.resize = function resize3(e, t, n) {
                void 0 === n && (n = !0),
                e = Math.ceil(e),
                t = Math.ceil(t),
                this.valid = e > 0 && t > 0,
                this._frame.width = this.orig.width = e,
                this._frame.height = this.orig.height = t,
                n && this.baseTexture.resize(e, t),
                this.updateUvs()
            }
            ,
            RenderTexture2.prototype.setResolution = function setResolution(e) {
                var t = this.baseTexture;
                t.resolution !== e && (t.setResolution(e),
                this.resize(t.width, t.height, !1))
            }
            ,
            RenderTexture2.create = function create3(e) {
                return "number" == typeof e && (e = {
                    width: e,
                    height: arguments[1],
                    scaleMode: arguments[2],
                    resolution: arguments[3]
                }),
                new RenderTexture2(new pu(e))
            }
            ,
            RenderTexture2
        }(vu)
          , bu = function RenderTexturePool2(e) {
            this.texturePool = {},
            this.textureOptions = e || {},
            this.enableFullScreen = !1,
            this._pixelsWidth = 0,
            this._pixelsHeight = 0
        };
        bu.prototype.createTexture = function createTexture(e, t) {
            var n = new pu(Object.assign({
                width: e,
                height: t,
                resolution: 1
            }, this.textureOptions));
            return new yu(n)
        }
        ,
        bu.prototype.getOptimalTexture = function getOptimalTexture(e, t, n) {
            void 0 === n && (n = 1);
            var a = bu.SCREEN_KEY;
            e *= n,
            t *= n,
            this.enableFullScreen && e === this._pixelsWidth && t === this._pixelsHeight || (a = (65535 & (e = nextPow2(e))) << 16 | 65535 & (t = nextPow2(t))),
            this.texturePool[a] || (this.texturePool[a] = []);
            var l = this.texturePool[a].pop();
            return l || (l = this.createTexture(e, t)),
            l.filterPoolKey = a,
            l.setResolution(n),
            l
        }
        ,
        bu.prototype.getFilterTexture = function getFilterTexture(e, t) {
            var n = this.getOptimalTexture(e.width, e.height, t || e.resolution);
            return n.filterFrame = e.filterFrame,
            n
        }
        ,
        bu.prototype.returnTexture = function returnTexture(e) {
            var t = e.filterPoolKey;
            e.filterFrame = null,
            this.texturePool[t].push(e)
        }
        ,
        bu.prototype.returnFilterTexture = function returnFilterTexture(e) {
            this.returnTexture(e)
        }
        ,
        bu.prototype.clear = function clear2(e) {
            if (e = !1 !== e)
                for (var t in this.texturePool) {
                    var n = this.texturePool[t];
                    if (n)
                        for (var a = 0; a < n.length; a++)
                            n[a].destroy(!0)
                }
            this.texturePool = {}
        }
        ,
        bu.prototype.setScreenSize = function setScreenSize(e) {
            if (e.width !== this._pixelsWidth || e.height !== this._pixelsHeight) {
                var t = bu.SCREEN_KEY
                  , n = this.texturePool[t];
                if (this.enableFullScreen = e.width > 0 && e.height > 0,
                n)
                    for (var a = 0; a < n.length; a++)
                        n[a].destroy(!0);
                this.texturePool[t] = [],
                this._pixelsWidth = e.width,
                this._pixelsHeight = e.height
            }
        }
        ,
        bu.SCREEN_KEY = "screen";
        var _u = function Attribute2(e, t, n, a, l, f, h) {
            void 0 === n && (n = !1),
            void 0 === a && (a = 5126),
            this.buffer = e,
            this.size = t,
            this.normalized = n,
            this.type = a,
            this.stride = l,
            this.start = f,
            this.instance = h
        };
        _u.prototype.destroy = function destroy3() {
            this.buffer = null
        }
        ,
        _u.from = function from(e, t, n, a, l) {
            return new _u(e,t,n,a,l)
        }
        ;
        var Cu = 0
          , Eu = function Buffer3(e, t, n) {
            void 0 === t && (t = !0),
            void 0 === n && (n = !1),
            this.data = e || new Float32Array(1),
            this._glBuffers = {},
            this._updateID = 0,
            this.index = n,
            this.static = t,
            this.id = Cu++,
            this.disposeRunner = new Zs("disposeBuffer",2)
        };
        function getBufferType(e) {
            if (4 === e.BYTES_PER_ELEMENT)
                return e instanceof Float32Array ? "Float32Array" : e instanceof Uint32Array ? "Uint32Array" : "Int32Array";
            if (2 === e.BYTES_PER_ELEMENT) {
                if (e instanceof Uint16Array)
                    return "Uint16Array"
            } else if (1 === e.BYTES_PER_ELEMENT && e instanceof Uint8Array)
                return "Uint8Array";
            return null
        }
        Eu.prototype.update = function update2(e) {
            this.data = e || this.data,
            this._updateID++
        }
        ,
        Eu.prototype.dispose = function dispose3() {
            this.disposeRunner.run(this, !1)
        }
        ,
        Eu.prototype.destroy = function destroy4() {
            this.dispose(),
            this.data = null
        }
        ,
        Eu.from = function from2(e) {
            return e instanceof Array && (e = new Float32Array(e)),
            new Eu(e)
        }
        ;
        var Au = {
            Float32Array: Float32Array,
            Uint32Array: Uint32Array,
            Int32Array: Int32Array,
            Uint8Array: Uint8Array
        };
        var Su = {
            5126: 4,
            5123: 2,
            5121: 1
        }
          , xu = 0
          , wu = {
            Float32Array: Float32Array,
            Uint32Array: Uint32Array,
            Int32Array: Int32Array,
            Uint8Array: Uint8Array,
            Uint16Array: Uint16Array
        }
          , Pu = function Geometry2(e, t) {
            void 0 === e && (e = []),
            void 0 === t && (t = {}),
            this.buffers = e,
            this.indexBuffer = null,
            this.attributes = t,
            this.glVertexArrayObjects = {},
            this.id = xu++,
            this.instanced = !1,
            this.instanceCount = 1,
            this.disposeRunner = new Zs("disposeGeometry",2),
            this.refCount = 0
        };
        Pu.prototype.addAttribute = function addAttribute(e, t, n, a, l, f, h, p) {
            if (void 0 === a && (a = !1),
            void 0 === p && (p = !1),
            !t)
                throw new Error("You must pass a buffer when creating an attribute");
            t.data || (t instanceof Array && (t = new Float32Array(t)),
            t = new Eu(t));
            var m = e.split("|");
            if (m.length > 1) {
                for (var g = 0; g < m.length; g++)
                    this.addAttribute(m[g], t, n, a, l);
                return this
            }
            var v = this.buffers.indexOf(t);
            return -1 === v && (this.buffers.push(t),
            v = this.buffers.length - 1),
            this.attributes[e] = new _u(v,n,a,l,f,h,p),
            this.instanced = this.instanced || p,
            this
        }
        ,
        Pu.prototype.getAttribute = function getAttribute(e) {
            return this.attributes[e]
        }
        ,
        Pu.prototype.getBuffer = function getBuffer(e) {
            return this.buffers[this.getAttribute(e).buffer]
        }
        ,
        Pu.prototype.addIndex = function addIndex(e) {
            return e.data || (e instanceof Array && (e = new Uint16Array(e)),
            e = new Eu(e)),
            e.index = !0,
            this.indexBuffer = e,
            -1 === this.buffers.indexOf(e) && this.buffers.push(e),
            this
        }
        ,
        Pu.prototype.getIndex = function getIndex() {
            return this.indexBuffer
        }
        ,
        Pu.prototype.interleave = function interleave() {
            if (1 === this.buffers.length || 2 === this.buffers.length && this.indexBuffer)
                return this;
            var e, t = [], n = [], a = new Eu;
            for (e in this.attributes) {
                var l = this.attributes[e]
                  , f = this.buffers[l.buffer];
                t.push(f.data),
                n.push(l.size * Su[l.type] / 4),
                l.buffer = 0
            }
            for (a.data = function interleaveTypedArrays(e, t) {
                for (var n = 0, a = 0, l = {}, f = 0; f < e.length; f++)
                    a += t[f],
                    n += e[f].length;
                for (var h = new ArrayBuffer(4 * n), p = null, m = 0, g = 0; g < e.length; g++) {
                    var v = t[g]
                      , y = e[g]
                      , b = getBufferType(y);
                    l[b] || (l[b] = new Au[b](h)),
                    p = l[b];
                    for (var _ = 0; _ < y.length; _++)
                        p[(_ / v | 0) * a + m + _ % v] = y[_];
                    m += v
                }
                return new Float32Array(h)
            }(t, n),
            e = 0; e < this.buffers.length; e++)
                this.buffers[e] !== this.indexBuffer && this.buffers[e].destroy();
            return this.buffers = [a],
            this.indexBuffer && this.buffers.push(this.indexBuffer),
            this
        }
        ,
        Pu.prototype.getSize = function getSize() {
            for (var e in this.attributes) {
                var t = this.attributes[e];
                return this.buffers[t.buffer].data.length / (t.stride / 4 || t.size)
            }
            return 0
        }
        ,
        Pu.prototype.dispose = function dispose4() {
            this.disposeRunner.run(this, !1)
        }
        ,
        Pu.prototype.destroy = function destroy5() {
            this.dispose(),
            this.buffers = null,
            this.indexBuffer = null,
            this.attributes = null
        }
        ,
        Pu.prototype.clone = function clone() {
            for (var e = new Pu, t = 0; t < this.buffers.length; t++)
                e.buffers[t] = new Eu(this.buffers[t].data.slice());
            for (var n in this.attributes) {
                var a = this.attributes[n];
                e.attributes[n] = new _u(a.buffer,a.size,a.normalized,a.type,a.stride,a.start,a.instance)
            }
            return this.indexBuffer && (e.indexBuffer = e.buffers[this.buffers.indexOf(this.indexBuffer)],
            e.indexBuffer.index = !0),
            e
        }
        ,
        Pu.merge = function merge(e) {
            for (var t, n = new Pu, a = [], l = [], f = [], h = 0; h < e.length; h++) {
                t = e[h];
                for (var p = 0; p < t.buffers.length; p++)
                    l[p] = l[p] || 0,
                    l[p] += t.buffers[p].data.length,
                    f[p] = 0
            }
            for (var m = 0; m < t.buffers.length; m++)
                a[m] = new (wu[getBufferType(t.buffers[m].data)])(l[m]),
                n.buffers[m] = new Eu(a[m]);
            for (var g = 0; g < e.length; g++) {
                t = e[g];
                for (var v = 0; v < t.buffers.length; v++)
                    a[v].set(t.buffers[v].data, f[v]),
                    f[v] += t.buffers[v].data.length
            }
            if (n.attributes = t.attributes,
            t.indexBuffer) {
                n.indexBuffer = n.buffers[t.buffers.indexOf(t.indexBuffer)],
                n.indexBuffer.index = !0;
                for (var y = 0, b = 0, _ = 0, C = 0, A = 0; A < t.buffers.length; A++)
                    if (t.buffers[A] !== t.indexBuffer) {
                        C = A;
                        break
                    }
                for (var S in t.attributes) {
                    var x = t.attributes[S];
                    (0 | x.buffer) === C && (b += x.size * Su[x.type] / 4)
                }
                for (var w = 0; w < e.length; w++) {
                    for (var P = e[w].indexBuffer.data, T = 0; T < P.length; T++)
                        n.indexBuffer.data[T + _] += y;
                    y += t.buffers[C].data.length / b,
                    _ += P.length
                }
            }
            return n
        }
        ;
        var Tu = function(e) {
            function Quad2() {
                e.call(this),
                this.addAttribute("aVertexPosition", [0, 0, 1, 0, 1, 1, 0, 1]).addIndex([0, 1, 3, 2])
            }
            return e && (Quad2.__proto__ = e),
            Quad2.prototype = Object.create(e && e.prototype),
            Quad2.prototype.constructor = Quad2,
            Quad2
        }(Pu)
          , Mu = function(e) {
            function QuadUv2() {
                e.call(this),
                this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]),
                this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                this.vertexBuffer = new Eu(this.vertices),
                this.uvBuffer = new Eu(this.uvs),
                this.addAttribute("aVertexPosition", this.vertexBuffer).addAttribute("aTextureCoord", this.uvBuffer).addIndex([0, 1, 2, 0, 2, 3])
            }
            return e && (QuadUv2.__proto__ = e),
            QuadUv2.prototype = Object.create(e && e.prototype),
            QuadUv2.prototype.constructor = QuadUv2,
            QuadUv2.prototype.map = function map2(e, t) {
                var n = 0
                  , a = 0;
                return this.uvs[0] = n,
                this.uvs[1] = a,
                this.uvs[2] = n + t.width / e.width,
                this.uvs[3] = a,
                this.uvs[4] = n + t.width / e.width,
                this.uvs[5] = a + t.height / e.height,
                this.uvs[6] = n,
                this.uvs[7] = a + t.height / e.height,
                n = t.x,
                a = t.y,
                this.vertices[0] = n,
                this.vertices[1] = a,
                this.vertices[2] = n + t.width,
                this.vertices[3] = a,
                this.vertices[4] = n + t.width,
                this.vertices[5] = a + t.height,
                this.vertices[6] = n,
                this.vertices[7] = a + t.height,
                this.invalidate(),
                this
            }
            ,
            QuadUv2.prototype.invalidate = function invalidate() {
                return this.vertexBuffer._updateID++,
                this.uvBuffer._updateID++,
                this
            }
            ,
            QuadUv2
        }(Pu)
          , ku = 0
          , Iu = function UniformGroup2(e, t) {
            this.uniforms = e,
            this.group = !0,
            this.syncUniforms = {},
            this.dirtyId = 0,
            this.id = ku++,
            this.static = !!t
        };
        Iu.prototype.update = function update3() {
            this.dirtyId++
        }
        ,
        Iu.prototype.add = function add(e, t, n) {
            this.uniforms[e] = new Iu(t,n)
        }
        ,
        Iu.from = function from3(e, t) {
            return new Iu(e,t)
        }
        ;
        var Ou = function FilterState2() {
            this.renderTexture = null,
            this.target = null,
            this.legacy = !1,
            this.resolution = 1,
            this.sourceFrame = new Ds,
            this.destinationFrame = new Ds,
            this.filters = []
        };
        Ou.prototype.clear = function clear3() {
            this.target = null,
            this.filters = null,
            this.renderTexture = null
        }
        ;
        var Nu = function(e) {
            function FilterSystem2(t) {
                e.call(this, t),
                this.defaultFilterStack = [{}],
                this.texturePool = new bu,
                this.texturePool.setScreenSize(t.view),
                this.statePool = [],
                this.quad = new Tu,
                this.quadUv = new Mu,
                this.tempRect = new Ds,
                this.activeState = {},
                this.globalUniforms = new Iu({
                    outputFrame: this.tempRect,
                    inputSize: new Float32Array(4),
                    inputPixel: new Float32Array(4),
                    inputClamp: new Float32Array(4),
                    resolution: 1,
                    filterArea: new Float32Array(4),
                    filterClamp: new Float32Array(4)
                },!0),
                this._pixelsWidth = t.view.width,
                this._pixelsHeight = t.view.height
            }
            return e && (FilterSystem2.__proto__ = e),
            FilterSystem2.prototype = Object.create(e && e.prototype),
            FilterSystem2.prototype.constructor = FilterSystem2,
            FilterSystem2.prototype.push = function push(e, t) {
                for (var n = this.renderer, a = this.defaultFilterStack, l = this.statePool.pop() || new Ou, f = t[0].resolution, h = t[0].padding, p = t[0].autoFit, m = t[0].legacy, g = 1; g < t.length; g++) {
                    var v = t[g];
                    f = Math.min(f, v.resolution),
                    h = Math.max(h, v.padding),
                    p = p || v.autoFit,
                    m = m || v.legacy
                }
                1 === a.length && (this.defaultFilterStack[0].renderTexture = n.renderTexture.current),
                a.push(l),
                l.resolution = f,
                l.legacy = m,
                l.target = e,
                l.sourceFrame.copyFrom(e.filterArea || e.getBounds(!0)),
                l.sourceFrame.pad(h),
                p && l.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),
                l.sourceFrame.ceil(f),
                l.renderTexture = this.getOptimalFilterTexture(l.sourceFrame.width, l.sourceFrame.height, f),
                l.filters = t,
                l.destinationFrame.width = l.renderTexture.width,
                l.destinationFrame.height = l.renderTexture.height,
                l.renderTexture.filterFrame = l.sourceFrame,
                n.renderTexture.bind(l.renderTexture, l.sourceFrame),
                n.renderTexture.clear()
            }
            ,
            FilterSystem2.prototype.pop = function pop() {
                var e = this.defaultFilterStack
                  , t = e.pop()
                  , n = t.filters;
                this.activeState = t;
                var a = this.globalUniforms.uniforms;
                a.outputFrame = t.sourceFrame,
                a.resolution = t.resolution;
                var l = a.inputSize
                  , f = a.inputPixel
                  , h = a.inputClamp;
                if (l[0] = t.destinationFrame.width,
                l[1] = t.destinationFrame.height,
                l[2] = 1 / l[0],
                l[3] = 1 / l[1],
                f[0] = l[0] * t.resolution,
                f[1] = l[1] * t.resolution,
                f[2] = 1 / f[0],
                f[3] = 1 / f[1],
                h[0] = .5 * f[2],
                h[1] = .5 * f[3],
                h[2] = t.sourceFrame.width * l[2] - .5 * f[2],
                h[3] = t.sourceFrame.height * l[3] - .5 * f[3],
                t.legacy) {
                    var p = a.filterArea;
                    p[0] = t.destinationFrame.width,
                    p[1] = t.destinationFrame.height,
                    p[2] = t.sourceFrame.x,
                    p[3] = t.sourceFrame.y,
                    a.filterClamp = a.inputClamp
                }
                this.globalUniforms.update();
                var m = e[e.length - 1];
                if (1 === n.length)
                    n[0].apply(this, t.renderTexture, m.renderTexture, !1, t),
                    this.returnFilterTexture(t.renderTexture);
                else {
                    var g = t.renderTexture
                      , v = this.getOptimalFilterTexture(g.width, g.height, t.resolution);
                    v.filterFrame = g.filterFrame;
                    var y = 0;
                    for (y = 0; y < n.length - 1; ++y) {
                        n[y].apply(this, g, v, !0, t);
                        var b = g;
                        g = v,
                        v = b
                    }
                    n[y].apply(this, g, m.renderTexture, !1, t),
                    this.returnFilterTexture(g),
                    this.returnFilterTexture(v)
                }
                t.clear(),
                this.statePool.push(t)
            }
            ,
            FilterSystem2.prototype.applyFilter = function applyFilter(e, t, n, a) {
                var l = this.renderer;
                l.renderTexture.bind(n, n ? n.filterFrame : null),
                a && l.renderTexture.clear(),
                e.uniforms.uSampler = t,
                e.uniforms.filterGlobals = this.globalUniforms,
                l.state.set(e.state),
                l.shader.bind(e),
                e.legacy ? (this.quadUv.map(t._frame, t.filterFrame),
                l.geometry.bind(this.quadUv),
                l.geometry.draw(Pa.TRIANGLES)) : (l.geometry.bind(this.quad),
                l.geometry.draw(Pa.TRIANGLE_STRIP))
            }
            ,
            FilterSystem2.prototype.calculateSpriteMatrix = function calculateSpriteMatrix(e, t) {
                var n = this.activeState
                  , a = n.sourceFrame
                  , l = n.destinationFrame
                  , f = t._texture.orig
                  , h = e.set(l.width, 0, 0, l.height, a.x, a.y)
                  , p = t.worldTransform.copyTo(ws.TEMP_MATRIX);
                return p.invert(),
                h.prepend(p),
                h.scale(1 / f.width, 1 / f.height),
                h.translate(t.anchor.x, t.anchor.y),
                h
            }
            ,
            FilterSystem2.prototype.destroy = function destroy10() {
                this.texturePool.clear(!1)
            }
            ,
            FilterSystem2.prototype.getOptimalFilterTexture = function getOptimalFilterTexture(e, t, n) {
                return void 0 === n && (n = 1),
                this.texturePool.getOptimalTexture(e, t, n)
            }
            ,
            FilterSystem2.prototype.getFilterTexture = function getFilterTexture2(e, t) {
                if ("number" == typeof e) {
                    var n = e;
                    e = t,
                    t = n
                }
                e = e || this.activeState.renderTexture;
                var a = this.texturePool.getOptimalTexture(e.width, e.height, t || e.resolution);
                return a.filterFrame = e.filterFrame,
                a
            }
            ,
            FilterSystem2.prototype.returnFilterTexture = function returnFilterTexture2(e) {
                this.texturePool.returnTexture(e)
            }
            ,
            FilterSystem2.prototype.emptyPool = function emptyPool() {
                this.texturePool.clear(!0)
            }
            ,
            FilterSystem2.prototype.resize = function resize3() {
                this.texturePool.setScreenSize(this.renderer.view)
            }
            ,
            FilterSystem2
        }(lu)
          , Ru = function ObjectRenderer2(e) {
            this.renderer = e
        };
        Ru.prototype.flush = function flush() {}
        ,
        Ru.prototype.destroy = function destroy6() {
            this.renderer = null
        }
        ,
        Ru.prototype.start = function start() {}
        ,
        Ru.prototype.stop = function stop() {
            this.flush()
        }
        ,
        Ru.prototype.render = function render(e) {}
        ;
        var Lu = function(e) {
            function BatchSystem2(t) {
                e.call(this, t),
                this.emptyRenderer = new Ru(t),
                this.currentRenderer = this.emptyRenderer
            }
            return e && (BatchSystem2.__proto__ = e),
            BatchSystem2.prototype = Object.create(e && e.prototype),
            BatchSystem2.prototype.constructor = BatchSystem2,
            BatchSystem2.prototype.setObjectRenderer = function setObjectRenderer(e) {
                this.currentRenderer !== e && (this.currentRenderer.stop(),
                this.currentRenderer = e,
                this.currentRenderer.start())
            }
            ,
            BatchSystem2.prototype.flush = function flush2() {
                this.setObjectRenderer(this.emptyRenderer)
            }
            ,
            BatchSystem2.prototype.reset = function reset2() {
                this.setObjectRenderer(this.emptyRenderer)
            }
            ,
            BatchSystem2.prototype.copyBoundTextures = function copyBoundTextures(e, t) {
                for (var n = this.renderer.texture.boundTextures, a = t - 1; a >= 0; --a)
                    e[a] = n[a] || null,
                    e[a] && (e[a]._batchLocation = a)
            }
            ,
            BatchSystem2.prototype.boundArray = function boundArray(e, t, n, a) {
                for (var l = e.elements, f = e.ids, h = e.count, p = 0, m = 0; m < h; m++) {
                    var g = l[m]
                      , v = g._batchLocation;
                    if (v >= 0 && v < a && t[v] === g)
                        f[m] = v;
                    else
                        for (; p < a; ) {
                            var y = t[p];
                            if (!y || y._batchEnabled !== n || y._batchLocation !== p) {
                                f[m] = p,
                                g._batchLocation = p,
                                t[p] = g;
                                break
                            }
                            p++
                        }
                }
            }
            ,
            BatchSystem2
        }(lu);
        la.PREFER_ENV = ca.any ? Ca.WEBGL : Ca.WEBGL2,
        la.STRICT_TEXTURE_CACHE = !1;
        var Du = 0
          , Bu = function(e) {
            function ContextSystem2(t) {
                e.call(this, t),
                this.webGLVersion = 1,
                this.extensions = {},
                this.handleContextLost = this.handleContextLost.bind(this),
                this.handleContextRestored = this.handleContextRestored.bind(this),
                t.view.addEventListener("webglcontextlost", this.handleContextLost, !1),
                t.view.addEventListener("webglcontextrestored", this.handleContextRestored, !1)
            }
            e && (ContextSystem2.__proto__ = e),
            ContextSystem2.prototype = Object.create(e && e.prototype),
            ContextSystem2.prototype.constructor = ContextSystem2;
            var t = {
                isLost: {
                    configurable: !0
                }
            };
            return t.isLost.get = function() {
                return !this.gl || this.gl.isContextLost()
            }
            ,
            ContextSystem2.prototype.contextChange = function contextChange(e) {
                this.gl = e,
                this.renderer.gl = e,
                this.renderer.CONTEXT_UID = Du++,
                e.isContextLost() && e.getExtension("WEBGL_lose_context") && e.getExtension("WEBGL_lose_context").restoreContext()
            }
            ,
            ContextSystem2.prototype.initFromContext = function initFromContext(e) {
                this.gl = e,
                this.validateContext(e),
                this.renderer.gl = e,
                this.renderer.CONTEXT_UID = Du++,
                this.renderer.runners.contextChange.run(e)
            }
            ,
            ContextSystem2.prototype.initFromOptions = function initFromOptions(e) {
                var t = this.createContext(this.renderer.view, e);
                this.initFromContext(t)
            }
            ,
            ContextSystem2.prototype.createContext = function createContext2(e, t) {
                var n;
                if (la.PREFER_ENV >= Ca.WEBGL2 && (n = e.getContext("webgl2", t)),
                n)
                    this.webGLVersion = 2;
                else if (this.webGLVersion = 1,
                !(n = e.getContext("webgl", t) || e.getContext("experimental-webgl", t)))
                    throw new Error("This browser does not support WebGL. Try using the canvas renderer");
                return this.gl = n,
                this.getExtensions(),
                n
            }
            ,
            ContextSystem2.prototype.getExtensions = function getExtensions() {
                var e = this.gl;
                1 === this.webGLVersion ? Object.assign(this.extensions, {
                    drawBuffers: e.getExtension("WEBGL_draw_buffers"),
                    depthTexture: e.getExtension("WEBKIT_WEBGL_depth_texture"),
                    loseContext: e.getExtension("WEBGL_lose_context"),
                    vertexArrayObject: e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object"),
                    anisotropicFiltering: e.getExtension("EXT_texture_filter_anisotropic"),
                    uint32ElementIndex: e.getExtension("OES_element_index_uint"),
                    floatTexture: e.getExtension("OES_texture_float"),
                    floatTextureLinear: e.getExtension("OES_texture_float_linear"),
                    textureHalfFloat: e.getExtension("OES_texture_half_float"),
                    textureHalfFloatLinear: e.getExtension("OES_texture_half_float_linear")
                }) : 2 === this.webGLVersion && Object.assign(this.extensions, {
                    anisotropicFiltering: e.getExtension("EXT_texture_filter_anisotropic"),
                    colorBufferFloat: e.getExtension("EXT_color_buffer_float"),
                    floatTextureLinear: e.getExtension("OES_texture_float_linear")
                })
            }
            ,
            ContextSystem2.prototype.handleContextLost = function handleContextLost(e) {
                e.preventDefault()
            }
            ,
            ContextSystem2.prototype.handleContextRestored = function handleContextRestored() {
                this.renderer.runners.contextChange.run(this.gl)
            }
            ,
            ContextSystem2.prototype.destroy = function destroy10() {
                var e = this.renderer.view;
                e.removeEventListener("webglcontextlost", this.handleContextLost),
                e.removeEventListener("webglcontextrestored", this.handleContextRestored),
                this.gl.useProgram(null),
                this.extensions.loseContext && this.extensions.loseContext.loseContext()
            }
            ,
            ContextSystem2.prototype.postrender = function postrender() {
                this.renderer.renderingToScreen && this.gl.flush()
            }
            ,
            ContextSystem2.prototype.validateContext = function validateContext(e) {
                e.getContextAttributes().stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")
            }
            ,
            Object.defineProperties(ContextSystem2.prototype, t),
            ContextSystem2
        }(lu)
          , $u = function(e) {
            function FramebufferSystem2(t) {
                e.call(this, t),
                this.managedFramebuffers = [],
                this.unknownFramebuffer = new fu(10,10)
            }
            e && (FramebufferSystem2.__proto__ = e),
            FramebufferSystem2.prototype = Object.create(e && e.prototype),
            FramebufferSystem2.prototype.constructor = FramebufferSystem2;
            var t = {
                size: {
                    configurable: !0
                }
            };
            return FramebufferSystem2.prototype.contextChange = function contextChange() {
                var e = this.gl = this.renderer.gl;
                if (this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                this.current = this.unknownFramebuffer,
                this.viewport = new Ds,
                this.hasMRT = !0,
                this.writeDepthTexture = !0,
                this.disposeAll(!0),
                1 === this.renderer.context.webGLVersion) {
                    var t = this.renderer.context.extensions.drawBuffers
                      , n = this.renderer.context.extensions.depthTexture;
                    la.PREFER_ENV === Ca.WEBGL_LEGACY && (t = null,
                    n = null),
                    t ? e.drawBuffers = function(e) {
                        return t.drawBuffersWEBGL(e)
                    }
                    : (this.hasMRT = !1,
                    e.drawBuffers = function() {}
                    ),
                    n || (this.writeDepthTexture = !1)
                }
            }
            ,
            FramebufferSystem2.prototype.bind = function bind2(e, t) {
                var n = this.gl;
                if (e) {
                    var a = e.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(e);
                    this.current !== e && (this.current = e,
                    n.bindFramebuffer(n.FRAMEBUFFER, a.framebuffer)),
                    a.dirtyId !== e.dirtyId && (a.dirtyId = e.dirtyId,
                    a.dirtyFormat !== e.dirtyFormat ? (a.dirtyFormat = e.dirtyFormat,
                    this.updateFramebuffer(e)) : a.dirtySize !== e.dirtySize && (a.dirtySize = e.dirtySize,
                    this.resizeFramebuffer(e)));
                    for (var l = 0; l < e.colorTextures.length; l++)
                        e.colorTextures[l].texturePart ? this.renderer.texture.unbind(e.colorTextures[l].texture) : this.renderer.texture.unbind(e.colorTextures[l]);
                    e.depthTexture && this.renderer.texture.unbind(e.depthTexture),
                    t ? this.setViewport(t.x, t.y, t.width, t.height) : this.setViewport(0, 0, e.width, e.height)
                } else
                    this.current && (this.current = null,
                    n.bindFramebuffer(n.FRAMEBUFFER, null)),
                    t ? this.setViewport(t.x, t.y, t.width, t.height) : this.setViewport(0, 0, this.renderer.width, this.renderer.height)
            }
            ,
            FramebufferSystem2.prototype.setViewport = function setViewport(e, t, n, a) {
                var l = this.viewport;
                l.width === n && l.height === a && l.x === e && l.y === t || (l.x = e,
                l.y = t,
                l.width = n,
                l.height = a,
                this.gl.viewport(e, t, n, a))
            }
            ,
            t.size.get = function() {
                return this.current ? {
                    x: 0,
                    y: 0,
                    width: this.current.width,
                    height: this.current.height
                } : {
                    x: 0,
                    y: 0,
                    width: this.renderer.width,
                    height: this.renderer.height
                }
            }
            ,
            FramebufferSystem2.prototype.clear = function clear5(e, t, n, a) {
                var l = this.gl;
                l.clearColor(e, t, n, a),
                l.clear(l.COLOR_BUFFER_BIT | l.DEPTH_BUFFER_BIT)
            }
            ,
            FramebufferSystem2.prototype.initFramebuffer = function initFramebuffer(e) {
                var t = {
                    framebuffer: this.gl.createFramebuffer(),
                    stencil: null,
                    dirtyId: 0,
                    dirtyFormat: 0,
                    dirtySize: 0
                };
                return e.glFramebuffers[this.CONTEXT_UID] = t,
                this.managedFramebuffers.push(e),
                e.disposeRunner.add(this),
                t
            }
            ,
            FramebufferSystem2.prototype.resizeFramebuffer = function resizeFramebuffer(e) {
                var t = this.gl
                  , n = e.glFramebuffers[this.CONTEXT_UID];
                n.stencil && (t.bindRenderbuffer(t.RENDERBUFFER, n.stencil),
                t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, e.width, e.height));
                for (var a = e.colorTextures, l = 0; l < a.length; l++)
                    this.renderer.texture.bind(a[l], 0);
                e.depthTexture && this.renderer.texture.bind(e.depthTexture, 0)
            }
            ,
            FramebufferSystem2.prototype.updateFramebuffer = function updateFramebuffer(e) {
                var t = this.gl
                  , n = e.glFramebuffers[this.CONTEXT_UID]
                  , a = e.colorTextures.length;
                t.drawBuffers || (a = Math.min(a, 1));
                for (var l = [], f = 0; f < a; f++) {
                    var h = e.colorTextures[f];
                    h.texturePart ? (this.renderer.texture.bind(h.texture, 0),
                    t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0 + f, t.TEXTURE_CUBE_MAP_NEGATIVE_X + h.side, h.texture._glTextures[this.CONTEXT_UID].texture, 0)) : (this.renderer.texture.bind(h, 0),
                    t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0 + f, t.TEXTURE_2D, h._glTextures[this.CONTEXT_UID].texture, 0)),
                    l.push(t.COLOR_ATTACHMENT0 + f)
                }
                if ((l.length > 1 && t.drawBuffers(l),
                e.depthTexture) && this.writeDepthTexture) {
                    var p = e.depthTexture;
                    this.renderer.texture.bind(p, 0),
                    t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.TEXTURE_2D, p._glTextures[this.CONTEXT_UID].texture, 0)
                }
                n.stencil || !e.stencil && !e.depth || (n.stencil = t.createRenderbuffer(),
                t.bindRenderbuffer(t.RENDERBUFFER, n.stencil),
                t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, e.width, e.height),
                e.depthTexture || t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, n.stencil))
            }
            ,
            FramebufferSystem2.prototype.disposeFramebuffer = function disposeFramebuffer(e, t) {
                var n = e.glFramebuffers[this.CONTEXT_UID]
                  , a = this.gl;
                if (n) {
                    delete e.glFramebuffers[this.CONTEXT_UID];
                    var l = this.managedFramebuffers.indexOf(e);
                    l >= 0 && this.managedFramebuffers.splice(l, 1),
                    e.disposeRunner.remove(this),
                    t || (a.deleteFramebuffer(n.framebuffer),
                    n.stencil && a.deleteRenderbuffer(n.stencil))
                }
            }
            ,
            FramebufferSystem2.prototype.disposeAll = function disposeAll(e) {
                var t = this.managedFramebuffers;
                this.managedFramebuffers = [];
                for (var n = 0; n < t.length; n++)
                    this.disposeFramebuffer(t[n], e)
            }
            ,
            FramebufferSystem2.prototype.forceStencil = function forceStencil() {
                var e = this.current;
                if (e) {
                    var t = e.glFramebuffers[this.CONTEXT_UID];
                    if (t && !t.stencil) {
                        e.enableStencil();
                        var n = e.width
                          , a = e.height
                          , l = this.gl
                          , f = l.createRenderbuffer();
                        l.bindRenderbuffer(l.RENDERBUFFER, f),
                        l.renderbufferStorage(l.RENDERBUFFER, l.DEPTH_STENCIL, n, a),
                        t.stencil = f,
                        l.framebufferRenderbuffer(l.FRAMEBUFFER, l.DEPTH_STENCIL_ATTACHMENT, l.RENDERBUFFER, f)
                    }
                }
            }
            ,
            FramebufferSystem2.prototype.reset = function reset2() {
                this.current = this.unknownFramebuffer,
                this.viewport = new Ds
            }
            ,
            Object.defineProperties(FramebufferSystem2.prototype, t),
            FramebufferSystem2
        }(lu)
          , Fu = function GLBuffer2(e) {
            this.buffer = e,
            this.updateID = -1,
            this.byteLength = -1,
            this.refCount = 0
        }
          , Hu = {
            5126: 4,
            5123: 2,
            5121: 1
        }
          , ju = function(e) {
            function GeometrySystem2(t) {
                e.call(this, t),
                this._activeGeometry = null,
                this._activeVao = null,
                this.hasVao = !0,
                this.hasInstance = !0,
                this.canUseUInt32ElementIndex = !1,
                this.boundBuffers = {},
                this.managedGeometries = {},
                this.managedBuffers = {}
            }
            return e && (GeometrySystem2.__proto__ = e),
            GeometrySystem2.prototype = Object.create(e && e.prototype),
            GeometrySystem2.prototype.constructor = GeometrySystem2,
            GeometrySystem2.prototype.contextChange = function contextChange() {
                this.disposeAll(!0);
                var e = this.gl = this.renderer.gl
                  , t = this.renderer.context;
                if (this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                !e.createVertexArray) {
                    var n = this.renderer.context.extensions.vertexArrayObject;
                    la.PREFER_ENV === Ca.WEBGL_LEGACY && (n = null),
                    n ? (e.createVertexArray = function() {
                        return n.createVertexArrayOES()
                    }
                    ,
                    e.bindVertexArray = function(e) {
                        return n.bindVertexArrayOES(e)
                    }
                    ,
                    e.deleteVertexArray = function(e) {
                        return n.deleteVertexArrayOES(e)
                    }
                    ) : (this.hasVao = !1,
                    e.createVertexArray = function() {}
                    ,
                    e.bindVertexArray = function() {}
                    ,
                    e.deleteVertexArray = function() {}
                    )
                }
                if (!e.vertexAttribDivisor) {
                    var a = e.getExtension("ANGLE_instanced_arrays");
                    a ? (e.vertexAttribDivisor = function(e, t) {
                        return a.vertexAttribDivisorANGLE(e, t)
                    }
                    ,
                    e.drawElementsInstanced = function(e, t, n, l, f) {
                        return a.drawElementsInstancedANGLE(e, t, n, l, f)
                    }
                    ,
                    e.drawArraysInstanced = function(e, t, n, l) {
                        return a.drawArraysInstancedANGLE(e, t, n, l)
                    }
                    ) : this.hasInstance = !1
                }
                this.canUseUInt32ElementIndex = 2 === t.webGLVersion || !!t.extensions.uint32ElementIndex
            }
            ,
            GeometrySystem2.prototype.bind = function bind2(e, t) {
                t = t || this.renderer.shader.shader;
                var n = this.gl
                  , a = e.glVertexArrayObjects[this.CONTEXT_UID];
                a || (this.managedGeometries[e.id] = e,
                e.disposeRunner.add(this),
                e.glVertexArrayObjects[this.CONTEXT_UID] = a = {});
                var l = a[t.program.id] || this.initGeometryVao(e, t.program);
                this._activeGeometry = e,
                this._activeVao !== l && (this._activeVao = l,
                this.hasVao ? n.bindVertexArray(l) : this.activateVao(e, t.program)),
                this.updateBuffers()
            }
            ,
            GeometrySystem2.prototype.reset = function reset2() {
                this.unbind()
            }
            ,
            GeometrySystem2.prototype.updateBuffers = function updateBuffers() {
                for (var e = this._activeGeometry, t = this.gl, n = 0; n < e.buffers.length; n++) {
                    var a = e.buffers[n]
                      , l = a._glBuffers[this.CONTEXT_UID];
                    if (a._updateID !== l.updateID) {
                        l.updateID = a._updateID;
                        var f = a.index ? t.ELEMENT_ARRAY_BUFFER : t.ARRAY_BUFFER;
                        if (t.bindBuffer(f, l.buffer),
                        this._boundBuffer = l,
                        l.byteLength >= a.data.byteLength)
                            t.bufferSubData(f, 0, a.data);
                        else {
                            var h = a.static ? t.STATIC_DRAW : t.DYNAMIC_DRAW;
                            l.byteLength = a.data.byteLength,
                            t.bufferData(f, a.data, h)
                        }
                    }
                }
            }
            ,
            GeometrySystem2.prototype.checkCompatibility = function checkCompatibility(e, t) {
                var n = e.attributes
                  , a = t.attributeData;
                for (var l in a)
                    if (!n[l])
                        throw new Error('shader and geometry incompatible, geometry missing the "' + l + '" attribute')
            }
            ,
            GeometrySystem2.prototype.getSignature = function getSignature(e, t) {
                var n = e.attributes
                  , a = t.attributeData
                  , l = ["g", e.id];
                for (var f in n)
                    a[f] && l.push(f);
                return l.join("-")
            }
            ,
            GeometrySystem2.prototype.initGeometryVao = function initGeometryVao(e, t) {
                this.checkCompatibility(e, t);
                var n = this.gl
                  , a = this.CONTEXT_UID
                  , l = this.getSignature(e, t)
                  , f = e.glVertexArrayObjects[this.CONTEXT_UID]
                  , h = f[l];
                if (h)
                    return f[t.id] = h,
                    h;
                var p = e.buffers
                  , m = e.attributes
                  , g = {}
                  , v = {};
                for (var y in p)
                    g[y] = 0,
                    v[y] = 0;
                for (var b in m)
                    !m[b].size && t.attributeData[b] ? m[b].size = t.attributeData[b].size : m[b].size || console.warn("PIXI Geometry attribute '" + b + "' size cannot be determined (likely the bound shader does not have the attribute)"),
                    g[m[b].buffer] += m[b].size * Hu[m[b].type];
                for (var _ in m) {
                    var C = m[_]
                      , A = C.size;
                    void 0 === C.stride && (g[C.buffer] === A * Hu[C.type] ? C.stride = 0 : C.stride = g[C.buffer]),
                    void 0 === C.start && (C.start = v[C.buffer],
                    v[C.buffer] += A * Hu[C.type])
                }
                h = n.createVertexArray(),
                n.bindVertexArray(h);
                for (var S = 0; S < p.length; S++) {
                    var x = p[S];
                    x._glBuffers[a] || (x._glBuffers[a] = new Fu(n.createBuffer()),
                    this.managedBuffers[x.id] = x,
                    x.disposeRunner.add(this)),
                    x._glBuffers[a].refCount++
                }
                return this.activateVao(e, t),
                this._activeVao = h,
                f[t.id] = h,
                f[l] = h,
                h
            }
            ,
            GeometrySystem2.prototype.disposeBuffer = function disposeBuffer(e, t) {
                if (this.managedBuffers[e.id]) {
                    delete this.managedBuffers[e.id];
                    var n = e._glBuffers[this.CONTEXT_UID]
                      , a = this.gl;
                    e.disposeRunner.remove(this),
                    n && (t || a.deleteBuffer(n.buffer),
                    delete e._glBuffers[this.CONTEXT_UID])
                }
            }
            ,
            GeometrySystem2.prototype.disposeGeometry = function disposeGeometry(e, t) {
                if (this.managedGeometries[e.id]) {
                    delete this.managedGeometries[e.id];
                    var n = e.glVertexArrayObjects[this.CONTEXT_UID]
                      , a = this.gl
                      , l = e.buffers;
                    if (e.disposeRunner.remove(this),
                    n) {
                        for (var f = 0; f < l.length; f++) {
                            var h = l[f]._glBuffers[this.CONTEXT_UID];
                            h.refCount--,
                            0 !== h.refCount || t || this.disposeBuffer(l[f], t)
                        }
                        if (!t)
                            for (var p in n)
                                if ("g" === p[0]) {
                                    var m = n[p];
                                    this._activeVao === m && this.unbind(),
                                    a.deleteVertexArray(m)
                                }
                        delete e.glVertexArrayObjects[this.CONTEXT_UID]
                    }
                }
            }
            ,
            GeometrySystem2.prototype.disposeAll = function disposeAll(e) {
                for (var t = Object.keys(this.managedGeometries), n = 0; n < t.length; n++)
                    this.disposeGeometry(this.managedGeometries[t[n]], e);
                t = Object.keys(this.managedBuffers);
                for (var a = 0; a < t.length; a++)
                    this.disposeBuffer(this.managedBuffers[t[a]], e)
            }
            ,
            GeometrySystem2.prototype.activateVao = function activateVao(e, t) {
                var n = this.gl
                  , a = this.CONTEXT_UID
                  , l = e.buffers
                  , f = e.attributes;
                e.indexBuffer && n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, e.indexBuffer._glBuffers[a].buffer);
                var h = null;
                for (var p in f) {
                    var m = f[p]
                      , g = l[m.buffer]._glBuffers[a];
                    if (t.attributeData[p]) {
                        h !== g && (n.bindBuffer(n.ARRAY_BUFFER, g.buffer),
                        h = g);
                        var v = t.attributeData[p].location;
                        if (n.enableVertexAttribArray(v),
                        n.vertexAttribPointer(v, m.size, m.type || n.FLOAT, m.normalized, m.stride, m.start),
                        m.instance) {
                            if (!this.hasInstance)
                                throw new Error("geometry error, GPU Instancing is not supported on this device");
                            n.vertexAttribDivisor(v, 1)
                        }
                    }
                }
            }
            ,
            GeometrySystem2.prototype.draw = function draw(e, t, n, a) {
                var l = this.gl
                  , f = this._activeGeometry;
                if (f.indexBuffer) {
                    var h = f.indexBuffer.data.BYTES_PER_ELEMENT
                      , p = 2 === h ? l.UNSIGNED_SHORT : l.UNSIGNED_INT;
                    2 === h || 4 === h && this.canUseUInt32ElementIndex ? f.instanced ? l.drawElementsInstanced(e, t || f.indexBuffer.data.length, p, (n || 0) * h, a || 1) : l.drawElements(e, t || f.indexBuffer.data.length, p, (n || 0) * h) : console.warn("unsupported index buffer type: uint32")
                } else
                    f.instanced ? l.drawArraysInstanced(e, n, t || f.getSize(), a || 1) : l.drawArrays(e, n, t || f.getSize());
                return this
            }
            ,
            GeometrySystem2.prototype.unbind = function unbind2() {
                this.gl.bindVertexArray(null),
                this._activeVao = null,
                this._activeGeometry = null
            }
            ,
            GeometrySystem2
        }(lu)
          , Uu = function MaskData2(e) {
            this.type = Wa.NONE,
            this.autoDetect = !0,
            this.maskObject = e || null,
            this.pooled = !1,
            this.isMaskData = !0,
            this._stencilCounter = 0,
            this._scissorCounter = 0,
            this._scissorRect = null,
            this._target = null
        };
        function compileProgram(e, t, n, a) {
            var l = compileShader(e, e.VERTEX_SHADER, t)
              , f = compileShader(e, e.FRAGMENT_SHADER, n)
              , h = e.createProgram();
            if (e.attachShader(h, l),
            e.attachShader(h, f),
            a)
                for (var p in a)
                    e.bindAttribLocation(h, a[p], p);
            return e.linkProgram(h),
            e.getProgramParameter(h, e.LINK_STATUS) || (e.getShaderParameter(l, e.COMPILE_STATUS) || (console.warn(t),
            console.error(e.getShaderInfoLog(l))),
            e.getShaderParameter(f, e.COMPILE_STATUS) || (console.warn(n),
            console.error(e.getShaderInfoLog(f))),
            console.error("Pixi.js Error: Could not initialize shader."),
            console.error("gl.VALIDATE_STATUS", e.getProgramParameter(h, e.VALIDATE_STATUS)),
            console.error("gl.getError()", e.getError()),
            "" !== e.getProgramInfoLog(h) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", e.getProgramInfoLog(h)),
            e.deleteProgram(h),
            h = null),
            e.deleteShader(l),
            e.deleteShader(f),
            h
        }
        function compileShader(e, t, n) {
            var a = e.createShader(t);
            return e.shaderSource(a, n),
            e.compileShader(a),
            a
        }
        function defaultValue(e, t) {
            switch (e) {
            case "float":
            case "int":
            case "sampler2D":
            case "sampler2DArray":
                return 0;
            case "vec2":
                return new Float32Array(2 * t);
            case "vec3":
                return new Float32Array(3 * t);
            case "vec4":
                return new Float32Array(4 * t);
            case "ivec2":
                return new Int32Array(2 * t);
            case "ivec3":
                return new Int32Array(3 * t);
            case "ivec4":
                return new Int32Array(4 * t);
            case "bool":
                return !1;
            case "bvec2":
                return booleanArray(2 * t);
            case "bvec3":
                return booleanArray(3 * t);
            case "bvec4":
                return booleanArray(4 * t);
            case "mat2":
                return new Float32Array([1, 0, 0, 1]);
            case "mat3":
                return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
            case "mat4":
                return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
            }
            return null
        }
        function booleanArray(e) {
            for (var t = new Array(e), n = 0; n < t.length; n++)
                t[n] = !1;
            return t
        }
        Uu.prototype.reset = function reset() {
            this.pooled && (this.maskObject = null,
            this.type = Wa.NONE,
            this.autoDetect = !0),
            this._target = null
        }
        ,
        Uu.prototype.copyCountersOrReset = function copyCountersOrReset(e) {
            e ? (this._stencilCounter = e._stencilCounter,
            this._scissorCounter = e._scissorCounter,
            this._scissorRect = e._scissorRect) : (this._stencilCounter = 0,
            this._scissorCounter = 0,
            this._scissorRect = null)
        }
        ;
        var Vu, Gu = {}, qu = Gu;
        function getTestContext() {
            if (qu === Gu || qu && qu.isContextLost()) {
                var e, t = document.createElement("canvas");
                la.PREFER_ENV >= Ca.WEBGL2 && (e = t.getContext("webgl2", {})),
                e || ((e = t.getContext("webgl", {}) || t.getContext("experimental-webgl", {})) ? e.getExtension("WEBGL_draw_buffers") : e = null),
                qu = e
            }
            return qu
        }
        function setPrecision(e, t, n) {
            if ("precision" !== e.substring(0, 9)) {
                var a = t;
                return t === qa.HIGH && n !== qa.HIGH && (a = qa.MEDIUM),
                "precision " + a + " float;\n" + e
            }
            return n !== qa.HIGH && "precision highp" === e.substring(0, 15) ? e.replace("precision highp", "precision mediump") : e
        }
        var zu = {
            float: 1,
            vec2: 2,
            vec3: 3,
            vec4: 4,
            int: 1,
            ivec2: 2,
            ivec3: 3,
            ivec4: 4,
            bool: 1,
            bvec2: 2,
            bvec3: 3,
            bvec4: 4,
            mat2: 4,
            mat3: 9,
            mat4: 16,
            sampler2D: 1
        };
        function mapSize(e) {
            return zu[e]
        }
        var Wu = null
          , Ku = {
            FLOAT: "float",
            FLOAT_VEC2: "vec2",
            FLOAT_VEC3: "vec3",
            FLOAT_VEC4: "vec4",
            INT: "int",
            INT_VEC2: "ivec2",
            INT_VEC3: "ivec3",
            INT_VEC4: "ivec4",
            BOOL: "bool",
            BOOL_VEC2: "bvec2",
            BOOL_VEC3: "bvec3",
            BOOL_VEC4: "bvec4",
            FLOAT_MAT2: "mat2",
            FLOAT_MAT3: "mat3",
            FLOAT_MAT4: "mat4",
            SAMPLER_2D: "sampler2D",
            SAMPLER_CUBE: "samplerCube",
            SAMPLER_2D_ARRAY: "sampler2DArray"
        };
        function mapType(e, t) {
            if (!Wu) {
                var n = Object.keys(Ku);
                Wu = {};
                for (var a = 0; a < n.length; ++a) {
                    var l = n[a];
                    Wu[e[l]] = Ku[l]
                }
            }
            return Wu[t]
        }
        var Zu = {
            float: "\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",
            vec2: "\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",
            vec3: "\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",
            vec4: "gl.uniform4f(location, v[0], v[1], v[2], v[3])",
            int: "gl.uniform1i(location, v)",
            ivec2: "gl.uniform2i(location, v[0], v[1])",
            ivec3: "gl.uniform3i(location, v[0], v[1], v[2])",
            ivec4: "gl.uniform4i(location, v[0], v[1], v[2], v[3])",
            bool: "gl.uniform1i(location, v)",
            bvec2: "gl.uniform2i(location, v[0], v[1])",
            bvec3: "gl.uniform3i(location, v[0], v[1], v[2])",
            bvec4: "gl.uniform4i(location, v[0], v[1], v[2], v[3])",
            mat2: "gl.uniformMatrix2fv(location, false, v)",
            mat3: "gl.uniformMatrix3fv(location, false, v)",
            mat4: "gl.uniformMatrix4fv(location, false, v)",
            sampler2D: "gl.uniform1i(location, v)",
            samplerCube: "gl.uniform1i(location, v)",
            sampler2DArray: "gl.uniform1i(location, v)"
        }
          , Xu = {
            float: "gl.uniform1fv(location, v)",
            vec2: "gl.uniform2fv(location, v)",
            vec3: "gl.uniform3fv(location, v)",
            vec4: "gl.uniform4fv(location, v)",
            mat4: "gl.uniformMatrix4fv(location, false, v)",
            mat3: "gl.uniformMatrix3fv(location, false, v)",
            mat2: "gl.uniformMatrix2fv(location, false, v)",
            int: "gl.uniform1iv(location, v)",
            ivec2: "gl.uniform2iv(location, v)",
            ivec3: "gl.uniform3iv(location, v)",
            ivec4: "gl.uniform4iv(location, v)",
            bool: "gl.uniform1iv(location, v)",
            bvec2: "gl.uniform2iv(location, v)",
            bvec3: "gl.uniform3iv(location, v)",
            bvec4: "gl.uniform4iv(location, v)",
            sampler2D: "gl.uniform1iv(location, v)",
            samplerCube: "gl.uniform1iv(location, v)",
            sampler2DArray: "gl.uniform1iv(location, v)"
        };
        var Qu, Yu = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n");
        function generateIfTestSrc(e) {
            for (var t = "", n = 0; n < e; ++n)
                n > 0 && (t += "\nelse "),
                n < e - 1 && (t += "if(test == " + n + ".0){}");
            return t
        }
        var Ju = 0
          , ec = {}
          , tc = function Program2(e, t, n) {
            void 0 === n && (n = "pixi-shader"),
            this.id = Ju++,
            this.vertexSrc = e || Program2.defaultVertexSrc,
            this.fragmentSrc = t || Program2.defaultFragmentSrc,
            this.vertexSrc = this.vertexSrc.trim(),
            this.fragmentSrc = this.fragmentSrc.trim(),
            "#version" !== this.vertexSrc.substring(0, 8) && (n = n.replace(/\s+/g, "-"),
            ec[n] ? (ec[n]++,
            n += "-" + ec[n]) : ec[n] = 1,
            this.vertexSrc = "#define SHADER_NAME " + n + "\n" + this.vertexSrc,
            this.fragmentSrc = "#define SHADER_NAME " + n + "\n" + this.fragmentSrc,
            this.vertexSrc = setPrecision(this.vertexSrc, la.PRECISION_VERTEX, qa.HIGH),
            this.fragmentSrc = setPrecision(this.fragmentSrc, la.PRECISION_FRAGMENT, function getMaxFragmentPrecision() {
                if (!Vu) {
                    Vu = qa.MEDIUM;
                    var e = getTestContext();
                    if (e && e.getShaderPrecisionFormat) {
                        var t = e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT);
                        Vu = t.precision ? qa.HIGH : qa.MEDIUM
                    }
                }
                return Vu
            }())),
            this.extractData(this.vertexSrc, this.fragmentSrc),
            this.glPrograms = {},
            this.syncUniforms = null
        }
          , nc = {
            defaultVertexSrc: {
                configurable: !0
            },
            defaultFragmentSrc: {
                configurable: !0
            }
        };
        tc.prototype.extractData = function extractData(e, t) {
            var n = getTestContext();
            if (n) {
                var a = compileProgram(n, e, t);
                this.attributeData = this.getAttributeData(a, n),
                this.uniformData = this.getUniformData(a, n),
                n.deleteProgram(a)
            } else
                this.uniformData = {},
                this.attributeData = {}
        }
        ,
        tc.prototype.getAttributeData = function getAttributeData(e, t) {
            for (var n = {}, a = [], l = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), f = 0; f < l; f++) {
                var h = t.getActiveAttrib(e, f)
                  , p = mapType(t, h.type)
                  , m = {
                    type: p,
                    name: h.name,
                    size: mapSize(p),
                    location: 0
                };
                n[h.name] = m,
                a.push(m)
            }
            a.sort((function(e, t) {
                return e.name > t.name ? 1 : -1
            }
            ));
            for (var g = 0; g < a.length; g++)
                a[g].location = g;
            return n
        }
        ,
        tc.prototype.getUniformData = function getUniformData(e, t) {
            for (var n = {}, a = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), l = 0; l < a; l++) {
                var f = t.getActiveUniform(e, l)
                  , h = f.name.replace(/\[.*?\]/, "")
                  , p = f.name.match(/\[.*?\]/, "")
                  , m = mapType(t, f.type);
                n[h] = {
                    type: m,
                    size: f.size,
                    isArray: p,
                    value: defaultValue(m, f.size)
                }
            }
            return n
        }
        ,
        nc.defaultVertexSrc.get = function() {
            return "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"
        }
        ,
        nc.defaultFragmentSrc.get = function() {
            return "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"
        }
        ,
        tc.from = function from4(e, t, n) {
            var a = e + t
              , l = ms[a];
            return l || (ms[a] = l = new tc(e,t,n)),
            l
        }
        ,
        Object.defineProperties(tc, nc);
        var rc = function Shader2(e, t) {
            for (var n in this.program = e,
            this.uniformGroup = t ? t instanceof Iu ? t : new Iu(t) : new Iu({}),
            e.uniformData)
                this.uniformGroup.uniforms[n]instanceof Array && (this.uniformGroup.uniforms[n] = new Float32Array(this.uniformGroup.uniforms[n]))
        }
          , oc = {
            uniforms: {
                configurable: !0
            }
        };
        rc.prototype.checkUniformExists = function checkUniformExists(e, t) {
            if (t.uniforms[e])
                return !0;
            for (var n in t.uniforms) {
                var a = t.uniforms[n];
                if (a.group && this.checkUniformExists(e, a))
                    return !0
            }
            return !1
        }
        ,
        rc.prototype.destroy = function destroy7() {
            this.uniformGroup = null
        }
        ,
        oc.uniforms.get = function() {
            return this.uniformGroup.uniforms
        }
        ,
        rc.from = function from5(e, t, n) {
            var a = tc.from(e, t);
            return new rc(a,n)
        }
        ,
        Object.defineProperties(rc.prototype, oc);
        var ic = function State2() {
            this.data = 0,
            this.blendMode = xa.NORMAL,
            this.polygonOffset = 0,
            this.blend = !0
        }
          , ac = {
            blend: {
                configurable: !0
            },
            offsets: {
                configurable: !0
            },
            culling: {
                configurable: !0
            },
            depthTest: {
                configurable: !0
            },
            clockwiseFrontFace: {
                configurable: !0
            },
            blendMode: {
                configurable: !0
            },
            polygonOffset: {
                configurable: !0
            }
        };
        ac.blend.get = function() {
            return !!(1 & this.data)
        }
        ,
        ac.blend.set = function(e) {
            !!(1 & this.data) !== e && (this.data ^= 1)
        }
        ,
        ac.offsets.get = function() {
            return !!(2 & this.data)
        }
        ,
        ac.offsets.set = function(e) {
            !!(2 & this.data) !== e && (this.data ^= 2)
        }
        ,
        ac.culling.get = function() {
            return !!(4 & this.data)
        }
        ,
        ac.culling.set = function(e) {
            !!(4 & this.data) !== e && (this.data ^= 4)
        }
        ,
        ac.depthTest.get = function() {
            return !!(8 & this.data)
        }
        ,
        ac.depthTest.set = function(e) {
            !!(8 & this.data) !== e && (this.data ^= 8)
        }
        ,
        ac.clockwiseFrontFace.get = function() {
            return !!(16 & this.data)
        }
        ,
        ac.clockwiseFrontFace.set = function(e) {
            !!(16 & this.data) !== e && (this.data ^= 16)
        }
        ,
        ac.blendMode.get = function() {
            return this._blendMode
        }
        ,
        ac.blendMode.set = function(e) {
            this.blend = e !== xa.NONE,
            this._blendMode = e
        }
        ,
        ac.polygonOffset.get = function() {
            return this._polygonOffset
        }
        ,
        ac.polygonOffset.set = function(e) {
            this.offsets = !!e,
            this._polygonOffset = e
        }
        ,
        ic.for2d = function for2d() {
            var e = new ic;
            return e.depthTest = !1,
            e.blend = !0,
            e
        }
        ,
        Object.defineProperties(ic.prototype, ac);
        var sc = function(e) {
            function Filter2(t, n, a) {
                var l = tc.from(t || Filter2.defaultVertexSrc, n || Filter2.defaultFragmentSrc);
                e.call(this, l, a),
                this.padding = 0,
                this.resolution = la.FILTER_RESOLUTION,
                this.enabled = !0,
                this.autoFit = !0,
                this.legacy = !!this.program.attributeData.aTextureCoord,
                this.state = new ic
            }
            e && (Filter2.__proto__ = e),
            Filter2.prototype = Object.create(e && e.prototype),
            Filter2.prototype.constructor = Filter2;
            var t = {
                blendMode: {
                    configurable: !0
                }
            }
              , n = {
                defaultVertexSrc: {
                    configurable: !0
                },
                defaultFragmentSrc: {
                    configurable: !0
                }
            };
            return Filter2.prototype.apply = function apply(e, t, n, a, l) {
                e.applyFilter(this, t, n, a, l)
            }
            ,
            t.blendMode.get = function() {
                return this.state.blendMode
            }
            ,
            t.blendMode.set = function(e) {
                this.state.blendMode = e
            }
            ,
            n.defaultVertexSrc.get = function() {
                return "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"
            }
            ,
            n.defaultFragmentSrc.get = function() {
                return "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"
            }
            ,
            Object.defineProperties(Filter2.prototype, t),
            Object.defineProperties(Filter2, n),
            Filter2
        }(rc);
        sc.SOURCE_KEY_MAP = {};
        var uc = new ws
          , cc = function TextureMatrix2(e, t) {
            this._texture = e,
            this.mapCoord = new ws,
            this.uClampFrame = new Float32Array(4),
            this.uClampOffset = new Float32Array(2),
            this._updateID = -1,
            this.clampOffset = 0,
            this.clampMargin = void 0 === t ? .5 : t,
            this.isSimple = !1
        }
          , lc = {
            texture: {
                configurable: !0
            }
        };
        lc.texture.get = function() {
            return this._texture
        }
        ,
        lc.texture.set = function(e) {
            this._texture = e,
            this._updateID = -1
        }
        ,
        cc.prototype.multiplyUvs = function multiplyUvs(e, t) {
            void 0 === t && (t = e);
            for (var n = this.mapCoord, a = 0; a < e.length; a += 2) {
                var l = e[a]
                  , f = e[a + 1];
                t[a] = l * n.a + f * n.c + n.tx,
                t[a + 1] = l * n.b + f * n.d + n.ty
            }
            return t
        }
        ,
        cc.prototype.update = function update4(e) {
            var t = this._texture;
            if (!t || !t.valid)
                return !1;
            if (!e && this._updateID === t._updateID)
                return !1;
            this._updateID = t._updateID;
            var n = t._uvs;
            this.mapCoord.set(n.x1 - n.x0, n.y1 - n.y0, n.x3 - n.x0, n.y3 - n.y0, n.x0, n.y0);
            var a = t.orig
              , l = t.trim;
            l && (uc.set(a.width / l.width, 0, 0, a.height / l.height, -l.x / l.width, -l.y / l.height),
            this.mapCoord.append(uc));
            var f = t.baseTexture
              , h = this.uClampFrame
              , p = this.clampMargin / f.resolution
              , m = this.clampOffset;
            return h[0] = (t._frame.x + p + m) / f.width,
            h[1] = (t._frame.y + p + m) / f.height,
            h[2] = (t._frame.x + t._frame.width - p + m) / f.width,
            h[3] = (t._frame.y + t._frame.height - p + m) / f.height,
            this.uClampOffset[0] = m / f.realWidth,
            this.uClampOffset[1] = m / f.realHeight,
            this.isSimple = t._frame.width === f.width && t._frame.height === f.height && 0 === t.rotate,
            !0
        }
        ,
        Object.defineProperties(cc.prototype, lc);
        var dc = function(e) {
            function SpriteMaskFilter2(t) {
                var n = new ws;
                e.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"),
                t.renderable = !1,
                this.maskSprite = t,
                this.maskMatrix = n
            }
            return e && (SpriteMaskFilter2.__proto__ = e),
            SpriteMaskFilter2.prototype = Object.create(e && e.prototype),
            SpriteMaskFilter2.prototype.constructor = SpriteMaskFilter2,
            SpriteMaskFilter2.prototype.apply = function apply(e, t, n, a) {
                var l = this.maskSprite
                  , f = this.maskSprite.texture;
                f.valid && (f.transform || (f.transform = new cc(f,0)),
                f.transform.update(),
                this.uniforms.npmAlpha = f.baseTexture.alphaMode ? 0 : 1,
                this.uniforms.mask = f,
                this.uniforms.otherMatrix = e.calculateSpriteMatrix(this.maskMatrix, l).prepend(f.transform.mapCoord),
                this.uniforms.alpha = l.worldAlpha,
                this.uniforms.maskClamp = f.transform.uClampFrame,
                e.applyFilter(this, t, n, a))
            }
            ,
            SpriteMaskFilter2
        }(sc)
          , fc = function(e) {
            function MaskSystem2(t) {
                e.call(this, t),
                this.scissorRenderTarget = null,
                this.enableScissor = !1,
                this.alphaMaskPool = [],
                this.maskDataPool = [],
                this.maskStack = [],
                this.alphaMaskIndex = 0
            }
            return e && (MaskSystem2.__proto__ = e),
            MaskSystem2.prototype = Object.create(e && e.prototype),
            MaskSystem2.prototype.constructor = MaskSystem2,
            MaskSystem2.prototype.setMaskStack = function setMaskStack(e) {
                this.maskStack = e,
                this.renderer.scissor.setMaskStack(e),
                this.renderer.stencil.setMaskStack(e)
            }
            ,
            MaskSystem2.prototype.push = function push(e, t) {
                if (!t.isMaskData) {
                    var n = this.maskDataPool.pop() || new Uu;
                    n.pooled = !0,
                    n.maskObject = t,
                    t = n
                }
                switch (t.autoDetect && this.detect(t),
                t.copyCountersOrReset(this.maskStack[this.maskStack.length - 1]),
                t._target = e,
                t.type) {
                case Wa.SCISSOR:
                    this.maskStack.push(t),
                    this.renderer.scissor.push(t);
                    break;
                case Wa.STENCIL:
                    this.maskStack.push(t),
                    this.renderer.stencil.push(t);
                    break;
                case Wa.SPRITE:
                    t.copyCountersOrReset(null),
                    this.pushSpriteMask(t),
                    this.maskStack.push(t)
                }
            }
            ,
            MaskSystem2.prototype.pop = function pop(e) {
                var t = this.maskStack.pop();
                if (t && t._target === e) {
                    switch (t.type) {
                    case Wa.SCISSOR:
                        this.renderer.scissor.pop();
                        break;
                    case Wa.STENCIL:
                        this.renderer.stencil.pop(t.maskObject);
                        break;
                    case Wa.SPRITE:
                        this.popSpriteMask()
                    }
                    t.reset(),
                    t.pooled && this.maskDataPool.push(t)
                }
            }
            ,
            MaskSystem2.prototype.detect = function detect(e) {
                var t = e.maskObject;
                if (t.isSprite)
                    e.type = Wa.SPRITE;
                else if (e.type = Wa.STENCIL,
                this.enableScissor && t.isFastRect && t.isFastRect()) {
                    var n = t.worldTransform
                      , a = Math.atan2(n.b, n.a)
                      , l = Math.atan2(n.d, n.c);
                    a = Math.round(a * (180 / Math.PI) * 100),
                    l = ((l = Math.round(l * (180 / Math.PI) * 100) - a) % 18e3 + 18e3) % 18e3,
                    0 === (a = (a % 9e3 + 9e3) % 9e3) && 9e3 === l && (e.type = Wa.SCISSOR)
                }
            }
            ,
            MaskSystem2.prototype.pushSpriteMask = function pushSpriteMask(e) {
                var t = e.maskObject
                  , n = e._target
                  , a = this.alphaMaskPool[this.alphaMaskIndex];
                a || (a = this.alphaMaskPool[this.alphaMaskIndex] = [new dc(t)]),
                a[0].resolution = this.renderer.resolution,
                a[0].maskSprite = t;
                var l = n.filterArea;
                n.filterArea = t.getBounds(!0),
                this.renderer.filter.push(n, a),
                n.filterArea = l,
                this.alphaMaskIndex++
            }
            ,
            MaskSystem2.prototype.popSpriteMask = function popSpriteMask() {
                this.renderer.filter.pop(),
                this.alphaMaskIndex--
            }
            ,
            MaskSystem2
        }(lu)
          , hc = function(e) {
            function AbstractMaskSystem2(t) {
                e.call(this, t),
                this.maskStack = [],
                this.glConst = 0
            }
            return e && (AbstractMaskSystem2.__proto__ = e),
            AbstractMaskSystem2.prototype = Object.create(e && e.prototype),
            AbstractMaskSystem2.prototype.constructor = AbstractMaskSystem2,
            AbstractMaskSystem2.prototype.getStackLength = function getStackLength() {
                return this.maskStack.length
            }
            ,
            AbstractMaskSystem2.prototype.setMaskStack = function setMaskStack(e) {
                var t = this.renderer.gl
                  , n = this.getStackLength();
                this.maskStack = e;
                var a = this.getStackLength();
                a !== n && (0 === a ? t.disable(this.glConst) : (t.enable(this.glConst),
                this._useCurrent()))
            }
            ,
            AbstractMaskSystem2.prototype._useCurrent = function _useCurrent() {}
            ,
            AbstractMaskSystem2.prototype.destroy = function destroy10() {
                e.prototype.destroy.call(this, this),
                this.maskStack = null
            }
            ,
            AbstractMaskSystem2
        }(lu)
          , pc = function(e) {
            function ScissorSystem2(t) {
                e.call(this, t),
                this.glConst = WebGLRenderingContext.SCISSOR_TEST
            }
            return e && (ScissorSystem2.__proto__ = e),
            ScissorSystem2.prototype = Object.create(e && e.prototype),
            ScissorSystem2.prototype.constructor = ScissorSystem2,
            ScissorSystem2.prototype.getStackLength = function getStackLength() {
                var e = this.maskStack[this.maskStack.length - 1];
                return e ? e._scissorCounter : 0
            }
            ,
            ScissorSystem2.prototype.push = function push(e) {
                var t = e.maskObject;
                t.renderable = !0;
                var n = e._scissorRect
                  , a = t.getBounds(!0)
                  , l = this.renderer.gl;
                t.renderable = !1,
                n ? a.fit(n) : l.enable(l.SCISSOR_TEST),
                e._scissorCounter++,
                e._scissorRect = a,
                this._useCurrent()
            }
            ,
            ScissorSystem2.prototype.pop = function pop() {
                var e = this.renderer.gl;
                this.getStackLength() > 0 ? this._useCurrent() : e.disable(e.SCISSOR_TEST)
            }
            ,
            ScissorSystem2.prototype._useCurrent = function _useCurrent() {
                var e = this.maskStack[this.maskStack.length - 1]._scissorRect
                  , t = this.renderer.renderTexture.current
                  , n = this.renderer.projection
                  , a = n.transform
                  , l = n.sourceFrame
                  , f = n.destinationFrame
                  , h = t ? t.resolution : this.renderer.resolution
                  , p = (e.x - l.x) * h + f.x
                  , m = (e.y - l.y) * h + f.y
                  , g = e.width * h
                  , v = e.height * h;
                a && (p += a.tx * h,
                m += a.ty * h),
                t || (m = this.renderer.height - v - m),
                this.renderer.gl.scissor(p, m, g, v)
            }
            ,
            ScissorSystem2
        }(hc)
          , mc = function(e) {
            function StencilSystem2(t) {
                e.call(this, t),
                this.glConst = WebGLRenderingContext.STENCIL_TEST
            }
            return e && (StencilSystem2.__proto__ = e),
            StencilSystem2.prototype = Object.create(e && e.prototype),
            StencilSystem2.prototype.constructor = StencilSystem2,
            StencilSystem2.prototype.getStackLength = function getStackLength() {
                var e = this.maskStack[this.maskStack.length - 1];
                return e ? e._stencilCounter : 0
            }
            ,
            StencilSystem2.prototype.push = function push(e) {
                var t = e.maskObject
                  , n = this.renderer.gl
                  , a = e._stencilCounter;
                0 === a && (this.renderer.framebuffer.forceStencil(),
                n.enable(n.STENCIL_TEST)),
                e._stencilCounter++,
                n.colorMask(!1, !1, !1, !1),
                n.stencilFunc(n.EQUAL, a, this._getBitwiseMask()),
                n.stencilOp(n.KEEP, n.KEEP, n.INCR),
                t.renderable = !0,
                t.render(this.renderer),
                this.renderer.batch.flush(),
                t.renderable = !1,
                this._useCurrent()
            }
            ,
            StencilSystem2.prototype.pop = function pop(e) {
                var t = this.renderer.gl;
                0 === this.getStackLength() ? (t.disable(t.STENCIL_TEST),
                t.clear(t.STENCIL_BUFFER_BIT),
                t.clearStencil(0)) : (t.colorMask(!1, !1, !1, !1),
                t.stencilOp(t.KEEP, t.KEEP, t.DECR),
                e.renderable = !0,
                e.render(this.renderer),
                this.renderer.batch.flush(),
                e.renderable = !1,
                this._useCurrent())
            }
            ,
            StencilSystem2.prototype._useCurrent = function _useCurrent() {
                var e = this.renderer.gl;
                e.colorMask(!0, !0, !0, !0),
                e.stencilFunc(e.EQUAL, this.getStackLength(), this._getBitwiseMask()),
                e.stencilOp(e.KEEP, e.KEEP, e.KEEP)
            }
            ,
            StencilSystem2.prototype._getBitwiseMask = function _getBitwiseMask() {
                return (1 << this.getStackLength()) - 1
            }
            ,
            StencilSystem2
        }(hc)
          , gc = function(e) {
            function ProjectionSystem2(t) {
                e.call(this, t),
                this.destinationFrame = null,
                this.sourceFrame = null,
                this.defaultFrame = null,
                this.projectionMatrix = new ws,
                this.transform = null
            }
            return e && (ProjectionSystem2.__proto__ = e),
            ProjectionSystem2.prototype = Object.create(e && e.prototype),
            ProjectionSystem2.prototype.constructor = ProjectionSystem2,
            ProjectionSystem2.prototype.update = function update5(e, t, n, a) {
                this.destinationFrame = e || this.destinationFrame || this.defaultFrame,
                this.sourceFrame = t || this.sourceFrame || e,
                this.calculateProjection(this.destinationFrame, this.sourceFrame, n, a),
                this.transform && this.projectionMatrix.append(this.transform);
                var l = this.renderer;
                l.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix,
                l.globalUniforms.update(),
                l.shader.shader && l.shader.syncUniformGroup(l.shader.shader.uniforms.globals)
            }
            ,
            ProjectionSystem2.prototype.calculateProjection = function calculateProjection(e, t, n, a) {
                var l = this.projectionMatrix;
                a ? (l.a = 1 / e.width * 2 * n,
                l.d = -1 / e.height * 2 * n,
                l.tx = -1 - t.x * l.a,
                l.ty = 1 - t.y * l.d) : (l.a = 1 / e.width * 2 * n,
                l.d = 1 / e.height * 2 * n,
                l.tx = -1 - t.x * l.a,
                l.ty = -1 - t.y * l.d)
            }
            ,
            ProjectionSystem2.prototype.setTransform = function setTransform() {}
            ,
            ProjectionSystem2
        }(lu)
          , vc = new Ds
          , yc = function(e) {
            function RenderTextureSystem2(t) {
                e.call(this, t),
                this.clearColor = t._backgroundColorRgba,
                this.defaultMaskStack = [],
                this.current = null,
                this.sourceFrame = new Ds,
                this.destinationFrame = new Ds
            }
            return e && (RenderTextureSystem2.__proto__ = e),
            RenderTextureSystem2.prototype = Object.create(e && e.prototype),
            RenderTextureSystem2.prototype.constructor = RenderTextureSystem2,
            RenderTextureSystem2.prototype.bind = function bind2(e, t, n) {
                void 0 === e && (e = null),
                this.current = e;
                var a, l = this.renderer;
                if (e) {
                    var f = e.baseTexture;
                    a = f.resolution,
                    n || (vc.width = f.realWidth,
                    vc.height = f.realHeight,
                    n = vc),
                    t || (t = n),
                    this.renderer.framebuffer.bind(f.framebuffer, n),
                    this.renderer.projection.update(n, t, a, !1),
                    this.renderer.mask.setMaskStack(f.maskStack)
                } else
                    a = this.renderer.resolution,
                    n || (vc.width = l.width,
                    vc.height = l.height,
                    n = vc),
                    t || (t = n),
                    l.framebuffer.bind(null, n),
                    this.renderer.projection.update(n, t, a, !0),
                    this.renderer.mask.setMaskStack(this.defaultMaskStack);
                this.sourceFrame.copyFrom(t),
                this.destinationFrame.x = n.x / a,
                this.destinationFrame.y = n.y / a,
                this.destinationFrame.width = n.width / a,
                this.destinationFrame.height = n.height / a,
                t === n && this.sourceFrame.copyFrom(this.destinationFrame)
            }
            ,
            RenderTextureSystem2.prototype.clear = function clear5(e) {
                e = this.current ? e || this.current.baseTexture.clearColor : e || this.clearColor,
                this.renderer.framebuffer.clear(e[0], e[1], e[2], e[3])
            }
            ,
            RenderTextureSystem2.prototype.resize = function resize3() {
                this.bind(null)
            }
            ,
            RenderTextureSystem2.prototype.reset = function reset2() {
                this.bind(null)
            }
            ,
            RenderTextureSystem2
        }(lu)
          , bc = function GLProgram2(e, t) {
            this.program = e,
            this.uniformData = t,
            this.uniformGroups = {}
        };
        bc.prototype.destroy = function destroy8() {
            this.uniformData = null,
            this.uniformGroups = null,
            this.program = null
        }
        ;
        var _c = 0
          , Cc = {
            textureCount: 0
        }
          , Ec = function(e) {
            function ShaderSystem2(t) {
                e.call(this, t),
                this.systemCheck(),
                this.gl = null,
                this.shader = null,
                this.program = null,
                this.cache = {},
                this.id = _c++
            }
            return e && (ShaderSystem2.__proto__ = e),
            ShaderSystem2.prototype = Object.create(e && e.prototype),
            ShaderSystem2.prototype.constructor = ShaderSystem2,
            ShaderSystem2.prototype.systemCheck = function systemCheck() {
                if (!function unsafeEvalSupported() {
                    if ("boolean" == typeof Qu)
                        return Qu;
                    try {
                        var e = new Function("param1","param2","param3","return param1[param2] === param3;");
                        Qu = !0 === e({
                            a: "b"
                        }, "a", "b")
                    } catch (t) {
                        Qu = !1
                    }
                    return Qu
                }())
                    throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")
            }
            ,
            ShaderSystem2.prototype.contextChange = function contextChange(e) {
                this.gl = e,
                this.reset()
            }
            ,
            ShaderSystem2.prototype.bind = function bind2(e, t) {
                e.uniforms.globals = this.renderer.globalUniforms;
                var n = e.program
                  , a = n.glPrograms[this.renderer.CONTEXT_UID] || this.generateShader(e);
                return this.shader = e,
                this.program !== n && (this.program = n,
                this.gl.useProgram(a.program)),
                t || (Cc.textureCount = 0,
                this.syncUniformGroup(e.uniformGroup, Cc)),
                a
            }
            ,
            ShaderSystem2.prototype.setUniforms = function setUniforms(e) {
                var t = this.shader.program
                  , n = t.glPrograms[this.renderer.CONTEXT_UID];
                t.syncUniforms(n.uniformData, e, this.renderer)
            }
            ,
            ShaderSystem2.prototype.syncUniformGroup = function syncUniformGroup(e, t) {
                var n = this.getglProgram();
                e.static && e.dirtyId === n.uniformGroups[e.id] || (n.uniformGroups[e.id] = e.dirtyId,
                this.syncUniforms(e, n, t))
            }
            ,
            ShaderSystem2.prototype.syncUniforms = function syncUniforms(e, t, n) {
                (e.syncUniforms[this.shader.program.id] || this.createSyncGroups(e))(t.uniformData, e.uniforms, this.renderer, n)
            }
            ,
            ShaderSystem2.prototype.createSyncGroups = function createSyncGroups(e) {
                var t = this.getSignature(e, this.shader.program.uniformData);
                return this.cache[t] || (this.cache[t] = function generateUniformsSync(e, t) {
                    var n = "var v = null;\n    var cv = null\n    var t = 0;\n    var gl = renderer.gl\n    ";
                    for (var a in e.uniforms) {
                        var l = t[a];
                        l ? "float" === l.type && 1 === l.size ? n += "\n            if(uv." + a + " !== ud." + a + ".value)\n            {\n                ud." + a + ".value = uv." + a + "\n                gl.uniform1f(ud." + a + ".location, uv." + a + ")\n            }\n" : "sampler2D" !== l.type && "samplerCube" !== l.type && "sampler2DArray" !== l.type || 1 !== l.size || l.isArray ? "mat3" === l.type && 1 === l.size ? void 0 !== e.uniforms[a].a ? n += "\n                gl.uniformMatrix3fv(ud." + a + ".location, false, uv." + a + ".toArray(true));\n                \n" : n += "\n                gl.uniformMatrix3fv(ud." + a + ".location, false, uv." + a + ");\n                \n" : "vec2" === l.type && 1 === l.size ? void 0 !== e.uniforms[a].x ? n += "\n                cv = ud." + a + ".value;\n                v = uv." + a + ";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud." + a + ".location, v.x, v.y);\n                }\n" : n += "\n                cv = ud." + a + ".value;\n                v = uv." + a + ";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud." + a + ".location, v[0], v[1]);\n                }\n                \n" : "vec4" === l.type && 1 === l.size ? void 0 !== e.uniforms[a].width ? n += "\n                cv = ud." + a + ".value;\n                v = uv." + a + ";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud." + a + ".location, v.x, v.y, v.width, v.height)\n                }\n" : n += "\n                cv = ud." + a + ".value;\n                v = uv." + a + ";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud." + a + ".location, v[0], v[1], v[2], v[3])\n                }\n                \n" : n += "\n            cv = ud." + a + ".value;\n            v = uv." + a + ";\n            " + (1 === l.size ? Zu : Xu)[l.type].replace("location", "ud." + a + ".location") + ";\n" : n += "\n\n            t = syncData.textureCount++;\n\n            renderer.texture.bind(uv." + a + ", t);\n            \n            if(ud." + a + ".value !== t)\n            {\n                ud." + a + ".value = t;\n                gl.uniform1i(ud." + a + ".location, t);\n; // eslint-disable-line max-len\n            }\n" : e.uniforms[a].group && (n += "\n                    renderer.shader.syncUniformGroup(uv." + a + ", syncData);\n                ")
                    }
                    return new Function("ud","uv","renderer","syncData",n)
                }(e, this.shader.program.uniformData)),
                e.syncUniforms[this.shader.program.id] = this.cache[t],
                e.syncUniforms[this.shader.program.id]
            }
            ,
            ShaderSystem2.prototype.getSignature = function getSignature(e, t) {
                var n = e.uniforms
                  , a = [];
                for (var l in n)
                    a.push(l),
                    t[l] && a.push(t[l].type);
                return a.join("-")
            }
            ,
            ShaderSystem2.prototype.getglProgram = function getglProgram() {
                return this.shader ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID] : null
            }
            ,
            ShaderSystem2.prototype.generateShader = function generateShader2(e) {
                var t = this.gl
                  , n = e.program
                  , a = {};
                for (var l in n.attributeData)
                    a[l] = n.attributeData[l].location;
                var f = compileProgram(t, n.vertexSrc, n.fragmentSrc, a)
                  , h = {};
                for (var p in n.uniformData) {
                    var m = n.uniformData[p];
                    h[p] = {
                        location: t.getUniformLocation(f, p),
                        value: defaultValue(m.type, m.size)
                    }
                }
                var g = new bc(f,h);
                return n.glPrograms[this.renderer.CONTEXT_UID] = g,
                g
            }
            ,
            ShaderSystem2.prototype.reset = function reset2() {
                this.program = null,
                this.shader = null
            }
            ,
            ShaderSystem2.prototype.destroy = function destroy10() {
                this.destroyed = !0
            }
            ,
            ShaderSystem2
        }(lu);
        var Ac = function(e) {
            function StateSystem2(t) {
                e.call(this, t),
                this.gl = null,
                this.stateId = 0,
                this.polygonOffset = 0,
                this.blendMode = xa.NONE,
                this._blendEq = !1,
                this.map = [],
                this.map[0] = this.setBlend,
                this.map[1] = this.setOffset,
                this.map[2] = this.setCullFace,
                this.map[3] = this.setDepthTest,
                this.map[4] = this.setFrontFace,
                this.checks = [],
                this.defaultState = new ic,
                this.defaultState.blend = !0,
                this.defaultState.depth = !0
            }
            return e && (StateSystem2.__proto__ = e),
            StateSystem2.prototype = Object.create(e && e.prototype),
            StateSystem2.prototype.constructor = StateSystem2,
            StateSystem2.prototype.contextChange = function contextChange(e) {
                this.gl = e,
                this.blendModes = function mapWebGLBlendModesToPixi(e, t) {
                    return void 0 === t && (t = []),
                    t[xa.NORMAL] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.ADD] = [e.ONE, e.ONE],
                    t[xa.MULTIPLY] = [e.DST_COLOR, e.ONE_MINUS_SRC_ALPHA, e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.SCREEN] = [e.ONE, e.ONE_MINUS_SRC_COLOR, e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.OVERLAY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.DARKEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.LIGHTEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.COLOR_DODGE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.COLOR_BURN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.HARD_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.SOFT_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.DIFFERENCE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.EXCLUSION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.HUE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.SATURATION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.COLOR] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.LUMINOSITY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.NONE] = [0, 0],
                    t[xa.NORMAL_NPM] = [e.SRC_ALPHA, e.ONE_MINUS_SRC_ALPHA, e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.ADD_NPM] = [e.SRC_ALPHA, e.ONE, e.ONE, e.ONE],
                    t[xa.SCREEN_NPM] = [e.SRC_ALPHA, e.ONE_MINUS_SRC_COLOR, e.ONE, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.SRC_IN] = [e.DST_ALPHA, e.ZERO],
                    t[xa.SRC_OUT] = [e.ONE_MINUS_DST_ALPHA, e.ZERO],
                    t[xa.SRC_ATOP] = [e.DST_ALPHA, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.DST_OVER] = [e.ONE_MINUS_DST_ALPHA, e.ONE],
                    t[xa.DST_IN] = [e.ZERO, e.SRC_ALPHA],
                    t[xa.DST_OUT] = [e.ZERO, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.DST_ATOP] = [e.ONE_MINUS_DST_ALPHA, e.SRC_ALPHA],
                    t[xa.XOR] = [e.ONE_MINUS_DST_ALPHA, e.ONE_MINUS_SRC_ALPHA],
                    t[xa.SUBTRACT] = [e.ONE, e.ONE, e.ONE, e.ONE, e.FUNC_REVERSE_SUBTRACT, e.FUNC_ADD],
                    t
                }(e),
                this.set(this.defaultState),
                this.reset()
            }
            ,
            StateSystem2.prototype.set = function set3(e) {
                if (e = e || this.defaultState,
                this.stateId !== e.data) {
                    for (var t = this.stateId ^ e.data, n = 0; t; )
                        1 & t && this.map[n].call(this, !!(e.data & 1 << n)),
                        t >>= 1,
                        n++;
                    this.stateId = e.data
                }
                for (var a = 0; a < this.checks.length; a++)
                    this.checks[a](this, e)
            }
            ,
            StateSystem2.prototype.forceState = function forceState(e) {
                e = e || this.defaultState;
                for (var t = 0; t < this.map.length; t++)
                    this.map[t].call(this, !!(e.data & 1 << t));
                for (var n = 0; n < this.checks.length; n++)
                    this.checks[n](this, e);
                this.stateId = e.data
            }
            ,
            StateSystem2.prototype.setBlend = function setBlend(e) {
                this.updateCheck(StateSystem2.checkBlendMode, e),
                this.gl[e ? "enable" : "disable"](this.gl.BLEND)
            }
            ,
            StateSystem2.prototype.setOffset = function setOffset(e) {
                this.updateCheck(StateSystem2.checkPolygonOffset, e),
                this.gl[e ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL)
            }
            ,
            StateSystem2.prototype.setDepthTest = function setDepthTest(e) {
                this.gl[e ? "enable" : "disable"](this.gl.DEPTH_TEST)
            }
            ,
            StateSystem2.prototype.setCullFace = function setCullFace(e) {
                this.gl[e ? "enable" : "disable"](this.gl.CULL_FACE)
            }
            ,
            StateSystem2.prototype.setFrontFace = function setFrontFace(e) {
                this.gl.frontFace(this.gl[e ? "CW" : "CCW"])
            }
            ,
            StateSystem2.prototype.setBlendMode = function setBlendMode(e) {
                if (e !== this.blendMode) {
                    this.blendMode = e;
                    var t = this.blendModes[e]
                      , n = this.gl;
                    2 === t.length ? n.blendFunc(t[0], t[1]) : n.blendFuncSeparate(t[0], t[1], t[2], t[3]),
                    6 === t.length ? (this._blendEq = !0,
                    n.blendEquationSeparate(t[4], t[5])) : this._blendEq && (this._blendEq = !1,
                    n.blendEquationSeparate(n.FUNC_ADD, n.FUNC_ADD))
                }
            }
            ,
            StateSystem2.prototype.setPolygonOffset = function setPolygonOffset(e, t) {
                this.gl.polygonOffset(e, t)
            }
            ,
            StateSystem2.prototype.reset = function reset2() {
                this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
                this.forceState(0),
                this._blendEq = !0,
                this.blendMode = -1,
                this.setBlendMode(0)
            }
            ,
            StateSystem2.prototype.updateCheck = function updateCheck(e, t) {
                var n = this.checks.indexOf(e);
                t && -1 === n ? this.checks.push(e) : t || -1 === n || this.checks.splice(n, 1)
            }
            ,
            StateSystem2.checkBlendMode = function checkBlendMode(e, t) {
                e.setBlendMode(t.blendMode)
            }
            ,
            StateSystem2.checkPolygonOffset = function checkPolygonOffset(e, t) {
                e.setPolygonOffset(t.polygonOffset, 0)
            }
            ,
            StateSystem2
        }(lu)
          , Sc = function(e) {
            function TextureGCSystem2(t) {
                e.call(this, t),
                this.count = 0,
                this.checkCount = 0,
                this.maxIdle = la.GC_MAX_IDLE,
                this.checkCountMax = la.GC_MAX_CHECK_COUNT,
                this.mode = la.GC_MODE
            }
            return e && (TextureGCSystem2.__proto__ = e),
            TextureGCSystem2.prototype = Object.create(e && e.prototype),
            TextureGCSystem2.prototype.constructor = TextureGCSystem2,
            TextureGCSystem2.prototype.postrender = function postrender() {
                this.renderer.renderingToScreen && (this.count++,
                this.mode !== Va.MANUAL && (this.checkCount++,
                this.checkCount > this.checkCountMax && (this.checkCount = 0,
                this.run())))
            }
            ,
            TextureGCSystem2.prototype.run = function run2() {
                for (var e = this.renderer.texture, t = e.managedTextures, n = !1, a = 0; a < t.length; a++) {
                    var l = t[a];
                    !l.framebuffer && this.count - l.touched > this.maxIdle && (e.destroyTexture(l, !0),
                    t[a] = null,
                    n = !0)
                }
                if (n) {
                    for (var f = 0, h = 0; h < t.length; h++)
                        null !== t[h] && (t[f++] = t[h]);
                    t.length = f
                }
            }
            ,
            TextureGCSystem2.prototype.unload = function unload(e) {
                var t = this.renderer.textureSystem;
                e._texture && e._texture._glRenderTargets && t.destroyTexture(e._texture);
                for (var n = e.children.length - 1; n >= 0; n--)
                    this.unload(e.children[n])
            }
            ,
            TextureGCSystem2
        }(lu)
          , xc = function GLTexture2(e) {
            this.texture = e,
            this.width = -1,
            this.height = -1,
            this.dirtyId = -1,
            this.dirtyStyleId = -1,
            this.mipmap = !1,
            this.wrapMode = 33071,
            this.type = 6408,
            this.internalFormat = 5121
        }
          , wc = function(e) {
            function TextureSystem2(t) {
                e.call(this, t),
                this.boundTextures = [],
                this.currentLocation = -1,
                this.managedTextures = [],
                this._unknownBoundTextures = !1,
                this.unknownTexture = new ru
            }
            return e && (TextureSystem2.__proto__ = e),
            TextureSystem2.prototype = Object.create(e && e.prototype),
            TextureSystem2.prototype.constructor = TextureSystem2,
            TextureSystem2.prototype.contextChange = function contextChange() {
                var e = this.gl = this.renderer.gl;
                this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                this.webGLVersion = this.renderer.context.webGLVersion;
                var t = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);
                this.boundTextures.length = t;
                for (var n = 0; n < t; n++)
                    this.boundTextures[n] = null;
                this.emptyTextures = {};
                var a = new xc(e.createTexture());
                e.bindTexture(e.TEXTURE_2D, a.texture),
                e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, 1, 1, 0, e.RGBA, e.UNSIGNED_BYTE, new Uint8Array(4)),
                this.emptyTextures[e.TEXTURE_2D] = a,
                this.emptyTextures[e.TEXTURE_CUBE_MAP] = new xc(e.createTexture()),
                e.bindTexture(e.TEXTURE_CUBE_MAP, this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);
                for (var l = 0; l < 6; l++)
                    e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X + l, 0, e.RGBA, 1, 1, 0, e.RGBA, e.UNSIGNED_BYTE, null);
                e.texParameteri(e.TEXTURE_CUBE_MAP, e.TEXTURE_MAG_FILTER, e.LINEAR),
                e.texParameteri(e.TEXTURE_CUBE_MAP, e.TEXTURE_MIN_FILTER, e.LINEAR);
                for (var f = 0; f < this.boundTextures.length; f++)
                    this.bind(null, f)
            }
            ,
            TextureSystem2.prototype.bind = function bind2(e, t) {
                void 0 === t && (t = 0);
                var n = this.gl;
                if (e) {
                    if ((e = e.baseTexture || e).valid) {
                        e.touched = this.renderer.textureGC.count;
                        var a = e._glTextures[this.CONTEXT_UID] || this.initTexture(e);
                        this.boundTextures[t] !== e && (this.currentLocation !== t && (this.currentLocation = t,
                        n.activeTexture(n.TEXTURE0 + t)),
                        n.bindTexture(e.target, a.texture)),
                        a.dirtyId !== e.dirtyId && (this.currentLocation !== t && (this.currentLocation = t,
                        n.activeTexture(n.TEXTURE0 + t)),
                        this.updateTexture(e)),
                        this.boundTextures[t] = e
                    }
                } else
                    this.currentLocation !== t && (this.currentLocation = t,
                    n.activeTexture(n.TEXTURE0 + t)),
                    n.bindTexture(n.TEXTURE_2D, this.emptyTextures[n.TEXTURE_2D].texture),
                    this.boundTextures[t] = null
            }
            ,
            TextureSystem2.prototype.reset = function reset2() {
                this._unknownBoundTextures = !0,
                this.currentLocation = -1;
                for (var e = 0; e < this.boundTextures.length; e++)
                    this.boundTextures[e] = this.unknownTexture
            }
            ,
            TextureSystem2.prototype.unbind = function unbind2(e) {
                var t = this.gl
                  , n = this.boundTextures;
                if (this._unknownBoundTextures) {
                    this._unknownBoundTextures = !1;
                    for (var a = 0; a < n.length; a++)
                        n[a] === this.unknownTexture && this.bind(null, a)
                }
                for (var l = 0; l < n.length; l++)
                    n[l] === e && (this.currentLocation !== l && (t.activeTexture(t.TEXTURE0 + l),
                    this.currentLocation = l),
                    t.bindTexture(t.TEXTURE_2D, this.emptyTextures[e.target].texture),
                    n[l] = null)
            }
            ,
            TextureSystem2.prototype.initTexture = function initTexture(e) {
                var t = new xc(this.gl.createTexture());
                return t.dirtyId = -1,
                e._glTextures[this.CONTEXT_UID] = t,
                this.managedTextures.push(e),
                e.on("dispose", this.destroyTexture, this),
                t
            }
            ,
            TextureSystem2.prototype.initTextureType = function initTextureType(e, t) {
                if (t.internalFormat = e.format,
                t.type = e.type,
                2 === this.webGLVersion) {
                    var n = this.renderer.gl;
                    e.type === n.FLOAT && e.format === n.RGBA && (t.internalFormat = n.RGBA32F),
                    e.type === Na.HALF_FLOAT && (t.type = n.HALF_FLOAT),
                    t.type === n.HALF_FLOAT && e.format === n.RGBA && (t.internalFormat = n.RGBA16F)
                }
            }
            ,
            TextureSystem2.prototype.updateTexture = function updateTexture(e) {
                var t = e._glTextures[this.CONTEXT_UID];
                if (t) {
                    var n = this.renderer;
                    if (this.initTextureType(e, t),
                    e.resource && e.resource.upload(n, e, t))
                        ;
                    else {
                        var a = e.realWidth
                          , l = e.realHeight
                          , f = n.gl;
                        (t.width !== a || t.height !== l || t.dirtyId < 0) && (t.width = a,
                        t.height = l,
                        f.texImage2D(e.target, 0, t.internalFormat, a, l, 0, e.format, t.type, null))
                    }
                    e.dirtyStyleId !== t.dirtyStyleId && this.updateTextureStyle(e),
                    t.dirtyId = e.dirtyId
                }
            }
            ,
            TextureSystem2.prototype.destroyTexture = function destroyTexture(e, t) {
                var n = this.gl;
                if ((e = e.baseTexture || e)._glTextures[this.CONTEXT_UID] && (this.unbind(e),
                n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),
                e.off("dispose", this.destroyTexture, this),
                delete e._glTextures[this.CONTEXT_UID],
                !t)) {
                    var a = this.managedTextures.indexOf(e);
                    -1 !== a && removeItems(this.managedTextures, a, 1)
                }
            }
            ,
            TextureSystem2.prototype.updateTextureStyle = function updateTextureStyle(e) {
                var t = e._glTextures[this.CONTEXT_UID];
                t && (e.mipmap !== Fa.POW2 && 2 === this.webGLVersion || e.isPowerOfTwo ? t.mipmap = e.mipmap >= 1 : t.mipmap = 0,
                2 === this.webGLVersion || e.isPowerOfTwo ? t.wrapMode = e.wrapMode : t.wrapMode = Ba.CLAMP,
                e.resource && e.resource.style(this.renderer, e, t) || this.setStyle(e, t),
                t.dirtyStyleId = e.dirtyStyleId)
            }
            ,
            TextureSystem2.prototype.setStyle = function setStyle(e, t) {
                var n = this.gl;
                if (t.mipmap && n.generateMipmap(e.target),
                n.texParameteri(e.target, n.TEXTURE_WRAP_S, t.wrapMode),
                n.texParameteri(e.target, n.TEXTURE_WRAP_T, t.wrapMode),
                t.mipmap) {
                    n.texParameteri(e.target, n.TEXTURE_MIN_FILTER, e.scaleMode ? n.LINEAR_MIPMAP_LINEAR : n.NEAREST_MIPMAP_NEAREST);
                    var a = this.renderer.context.extensions.anisotropicFiltering;
                    if (a && e.anisotropicLevel > 0 && e.scaleMode === La.LINEAR) {
                        var l = Math.min(e.anisotropicLevel, n.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
                        n.texParameterf(e.target, a.TEXTURE_MAX_ANISOTROPY_EXT, l)
                    }
                } else
                    n.texParameteri(e.target, n.TEXTURE_MIN_FILTER, e.scaleMode ? n.LINEAR : n.NEAREST);
                n.texParameteri(e.target, n.TEXTURE_MAG_FILTER, e.scaleMode ? n.LINEAR : n.NEAREST)
            }
            ,
            TextureSystem2
        }(lu)
          , Pc = new ws
          , Tc = function(e) {
            function Renderer2(t) {
                void 0 === t && (t = {}),
                e.call(this, "WebGL", t),
                t = this.options,
                this.type = Aa.WEBGL,
                this.gl = null,
                this.CONTEXT_UID = 0,
                this.runners = {
                    destroy: new Zs("destroy"),
                    contextChange: new Zs("contextChange",1),
                    reset: new Zs("reset"),
                    update: new Zs("update"),
                    postrender: new Zs("postrender"),
                    prerender: new Zs("prerender"),
                    resize: new Zs("resize",2)
                },
                this.globalUniforms = new Iu({
                    projectionMatrix: new ws
                },!0),
                this.addSystem(fc, "mask").addSystem(Bu, "context").addSystem(Ac, "state").addSystem(Ec, "shader").addSystem(wc, "texture").addSystem(ju, "geometry").addSystem($u, "framebuffer").addSystem(pc, "scissor").addSystem(mc, "stencil").addSystem(gc, "projection").addSystem(Sc, "textureGC").addSystem(Nu, "filter").addSystem(yc, "renderTexture").addSystem(Lu, "batch"),
                this.initPlugins(Renderer2.__plugins),
                t.context ? this.context.initFromContext(t.context) : this.context.initFromOptions({
                    alpha: this.transparent,
                    antialias: t.antialias,
                    premultipliedAlpha: this.transparent && "notMultiplied" !== this.transparent,
                    stencil: !0,
                    preserveDrawingBuffer: t.preserveDrawingBuffer,
                    powerPreference: this.options.powerPreference
                }),
                this.renderingToScreen = !0,
                function sayHello(e) {
                    var t;
                    if (!ls) {
                        if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
                            var n = ["\n %c %c %c PixiJS 5.2.1 - âœ° " + e + " âœ°  %c  %c  http://www.pixijs.com/  %c %c â™¥%câ™¥%câ™¥ \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                            (t = window.console).log.apply(t, n)
                        } else
                            window.console && window.console.log("PixiJS 5.2.1 - " + e + " - http://www.pixijs.com/");
                        ls = !0
                    }
                }(2 === this.context.webGLVersion ? "WebGL 2" : "WebGL 1"),
                this.resize(this.options.width, this.options.height)
            }
            return e && (Renderer2.__proto__ = e),
            Renderer2.prototype = Object.create(e && e.prototype),
            Renderer2.prototype.constructor = Renderer2,
            Renderer2.create = function create3(e) {
                if (function isWebGLSupported() {
                    return void 0 === cs && (cs = function supported2() {
                        var e = {
                            stencil: !0,
                            failIfMajorPerformanceCaveat: la.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT
                        };
                        try {
                            if (!window.WebGLRenderingContext)
                                return !1;
                            var t = document.createElement("canvas")
                              , n = t.getContext("webgl", e) || t.getContext("experimental-webgl", e)
                              , a = !(!n || !n.getContextAttributes().stencil);
                            if (n) {
                                var l = n.getExtension("WEBGL_lose_context");
                                l && l.loseContext()
                            }
                            return n = null,
                            a
                        } catch (f) {
                            return !1
                        }
                    }()),
                    cs
                }())
                    return new Renderer2(e);
                throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')
            }
            ,
            Renderer2.prototype.addSystem = function addSystem(e, t) {
                t || (t = e.name);
                var n = new e(this);
                if (this[t])
                    throw new Error('Whoops! The name "' + t + '" is already in use');
                for (var a in this[t] = n,
                this.runners)
                    this.runners[a].add(n);
                return this
            }
            ,
            Renderer2.prototype.render = function render2(e, t, n, a, l) {
                if (this.renderingToScreen = !t,
                this.runners.prerender.run(),
                this.emit("prerender"),
                this.projection.transform = a,
                !this.context.isLost) {
                    if (t || (this._lastObjectRendered = e),
                    !l) {
                        var f = e.parent;
                        e.parent = this._tempDisplayObjectParent,
                        e.updateTransform(),
                        e.parent = f
                    }
                    this.renderTexture.bind(t),
                    this.batch.currentRenderer.start(),
                    (void 0 !== n ? n : this.clearBeforeRender) && this.renderTexture.clear(),
                    e.render(this),
                    this.batch.currentRenderer.flush(),
                    t && t.baseTexture.update(),
                    this.runners.postrender.run(),
                    this.projection.transform = null,
                    this.emit("postrender")
                }
            }
            ,
            Renderer2.prototype.resize = function resize3(t, n) {
                e.prototype.resize.call(this, t, n),
                this.runners.resize.run(t, n)
            }
            ,
            Renderer2.prototype.reset = function reset2() {
                return this.runners.reset.run(),
                this
            }
            ,
            Renderer2.prototype.clear = function clear5() {
                this.framebuffer.bind(),
                this.framebuffer.clear()
            }
            ,
            Renderer2.prototype.destroy = function destroy10(t) {
                for (var n in this.runners.destroy.run(),
                this.runners)
                    this.runners[n].destroy();
                e.prototype.destroy.call(this, t),
                this.gl = null
            }
            ,
            Renderer2.registerPlugin = function registerPlugin(e, t) {
                Renderer2.__plugins = Renderer2.__plugins || {},
                Renderer2.__plugins[e] = t
            }
            ,
            Renderer2
        }(function(e) {
            function AbstractRenderer2(t, n) {
                e.call(this),
                (n = Object.assign({}, la.RENDER_OPTIONS, n)).roundPixels && (la.ROUND_PIXELS = n.roundPixels,
                deprecation("5.0.0", "Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS", 2)),
                this.options = n,
                this.type = Aa.UNKNOWN,
                this.screen = new Ds(0,0,n.width,n.height),
                this.view = n.view || document.createElement("canvas"),
                this.resolution = n.resolution || la.RESOLUTION,
                this.transparent = n.transparent,
                this.autoDensity = n.autoDensity || n.autoResize || !1,
                this.preserveDrawingBuffer = n.preserveDrawingBuffer,
                this.clearBeforeRender = n.clearBeforeRender,
                this._backgroundColor = 0,
                this._backgroundColorRgba = [0, 0, 0, 0],
                this._backgroundColorString = "#000000",
                this.backgroundColor = n.backgroundColor || this._backgroundColor,
                this._tempDisplayObjectParent = new qs,
                this._lastObjectRendered = this._tempDisplayObjectParent,
                this.plugins = {}
            }
            e && (AbstractRenderer2.__proto__ = e),
            AbstractRenderer2.prototype = Object.create(e && e.prototype),
            AbstractRenderer2.prototype.constructor = AbstractRenderer2;
            var t = {
                width: {
                    configurable: !0
                },
                height: {
                    configurable: !0
                },
                backgroundColor: {
                    configurable: !0
                }
            };
            return AbstractRenderer2.prototype.initPlugins = function initPlugins(e) {
                for (var t in e)
                    this.plugins[t] = new e[t](this)
            }
            ,
            t.width.get = function() {
                return this.view.width
            }
            ,
            t.height.get = function() {
                return this.view.height
            }
            ,
            AbstractRenderer2.prototype.resize = function resize3(e, t) {
                this.screen.width = e,
                this.screen.height = t,
                this.view.width = e * this.resolution,
                this.view.height = t * this.resolution,
                this.autoDensity && (this.view.style.width = e + "px",
                this.view.style.height = t + "px")
            }
            ,
            AbstractRenderer2.prototype.generateTexture = function generateTexture(e, t, n, a) {
                0 === (a = a || e.getLocalBounds()).width && (a.width = 1),
                0 === a.height && (a.height = 1);
                var l = yu.create(0 | a.width, 0 | a.height, t, n);
                return Pc.tx = -a.x,
                Pc.ty = -a.y,
                this.render(e, l, !1, Pc, !!e.parent),
                l
            }
            ,
            AbstractRenderer2.prototype.destroy = function destroy10(e) {
                for (var t in this.plugins)
                    this.plugins[t].destroy(),
                    this.plugins[t] = null;
                e && this.view.parentNode && this.view.parentNode.removeChild(this.view),
                this.plugins = null,
                this.type = Aa.UNKNOWN,
                this.view = null,
                this.screen = null,
                this.resolution = 0,
                this.transparent = !1,
                this.autoDensity = !1,
                this.blendModes = null,
                this.options = null,
                this.preserveDrawingBuffer = !1,
                this.clearBeforeRender = !1,
                this._backgroundColor = 0,
                this._backgroundColorRgba = null,
                this._backgroundColorString = null,
                this._tempDisplayObjectParent = null,
                this._lastObjectRendered = null
            }
            ,
            t.backgroundColor.get = function() {
                return this._backgroundColor
            }
            ,
            t.backgroundColor.set = function(e) {
                this._backgroundColor = e,
                this._backgroundColorString = hex2string(e),
                hex2rgb(e, this._backgroundColorRgba)
            }
            ,
            Object.defineProperties(AbstractRenderer2.prototype, t),
            AbstractRenderer2
        }(fa));
        function autoDetectRenderer(e) {
            return Tc.create(e)
        }
        var Mc = function BatchDrawCall2() {
            this.texArray = null,
            this.blend = 0,
            this.type = Pa.TRIANGLES,
            this.start = 0,
            this.size = 0,
            this.data = null
        }
          , kc = function BatchTextureArray2() {
            this.elements = [],
            this.ids = [],
            this.count = 0
        };
        kc.prototype.clear = function clear4() {
            for (var e = 0; e < this.count; e++)
                this.elements[e] = null;
            this.count = 0
        }
        ;
        var Ic = function ViewableBuffer2(e) {
            this.rawBinaryData = new ArrayBuffer(e),
            this.uint32View = new Uint32Array(this.rawBinaryData),
            this.float32View = new Float32Array(this.rawBinaryData)
        }
          , Oc = {
            int8View: {
                configurable: !0
            },
            uint8View: {
                configurable: !0
            },
            int16View: {
                configurable: !0
            },
            uint16View: {
                configurable: !0
            },
            int32View: {
                configurable: !0
            }
        };
        Oc.int8View.get = function() {
            return this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)),
            this._int8View
        }
        ,
        Oc.uint8View.get = function() {
            return this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)),
            this._uint8View
        }
        ,
        Oc.int16View.get = function() {
            return this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)),
            this._int16View
        }
        ,
        Oc.uint16View.get = function() {
            return this._uint16View || (this._uint16View = new Uint16Array(this.rawBinaryData)),
            this._uint16View
        }
        ,
        Oc.int32View.get = function() {
            return this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)),
            this._int32View
        }
        ,
        Ic.prototype.view = function view(e) {
            return this[e + "View"]
        }
        ,
        Ic.prototype.destroy = function destroy9() {
            this.rawBinaryData = null,
            this._int8View = null,
            this._uint8View = null,
            this._int16View = null,
            this._uint16View = null,
            this._int32View = null,
            this.uint32View = null,
            this.float32View = null
        }
        ,
        Ic.sizeOf = function sizeOf(e) {
            switch (e) {
            case "int8":
            case "uint8":
                return 1;
            case "int16":
            case "uint16":
                return 2;
            case "int32":
            case "uint32":
            case "float32":
                return 4;
            default:
                throw new Error(e + " isn't a valid view type")
            }
        }
        ,
        Object.defineProperties(Ic.prototype, Oc);
        var Nc = function(e) {
            function AbstractBatchRenderer2(t) {
                e.call(this, t),
                this.shaderGenerator = null,
                this.geometryClass = null,
                this.vertexSize = null,
                this.state = ic.for2d(),
                this.size = 4 * la.SPRITE_BATCH_SIZE,
                this._vertexCount = 0,
                this._indexCount = 0,
                this._bufferedElements = [],
                this._bufferedTextures = [],
                this._bufferSize = 0,
                this._shader = null,
                this._packedGeometries = [],
                this._packedGeometryPoolSize = 2,
                this._flushId = 0,
                this._aBuffers = {},
                this._iBuffers = {},
                this.MAX_TEXTURES = 1,
                this.renderer.on("prerender", this.onPrerender, this),
                t.runners.contextChange.add(this),
                this._dcIndex = 0,
                this._aIndex = 0,
                this._iIndex = 0,
                this._attributeBuffer = null,
                this._indexBuffer = null,
                this._tempBoundTextures = []
            }
            return e && (AbstractBatchRenderer2.__proto__ = e),
            AbstractBatchRenderer2.prototype = Object.create(e && e.prototype),
            AbstractBatchRenderer2.prototype.constructor = AbstractBatchRenderer2,
            AbstractBatchRenderer2.prototype.contextChange = function contextChange() {
                var e = this.renderer.gl;
                la.PREFER_ENV === Ca.WEBGL_LEGACY ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS), la.SPRITE_MAX_TEXTURES),
                this.MAX_TEXTURES = function checkMaxIfStatementsInShader(e, t) {
                    if (0 === e)
                        throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
                    for (var n = t.createShader(t.FRAGMENT_SHADER); ; ) {
                        var a = Yu.replace(/%forloop%/gi, generateIfTestSrc(e));
                        if (t.shaderSource(n, a),
                        t.compileShader(n),
                        t.getShaderParameter(n, t.COMPILE_STATUS))
                            break;
                        e = e / 2 | 0
                    }
                    return e
                }(this.MAX_TEXTURES, e)),
                this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES);
                for (var t = 0; t < this._packedGeometryPoolSize; t++)
                    this._packedGeometries[t] = new this.geometryClass;
                this.initFlushBuffers()
            }
            ,
            AbstractBatchRenderer2.prototype.initFlushBuffers = function initFlushBuffers() {
                for (var e = AbstractBatchRenderer2._drawCallPool, t = AbstractBatchRenderer2._textureArrayPool, n = this.size / 4, a = Math.floor(n / this.MAX_TEXTURES) + 1; e.length < n; )
                    e.push(new Mc);
                for (; t.length < a; )
                    t.push(new kc);
                for (var l = 0; l < this.MAX_TEXTURES; l++)
                    this._tempBoundTextures[l] = null
            }
            ,
            AbstractBatchRenderer2.prototype.onPrerender = function onPrerender() {
                this._flushId = 0
            }
            ,
            AbstractBatchRenderer2.prototype.render = function render2(e) {
                e._texture.valid && (this._vertexCount + e.vertexData.length / 2 > this.size && this.flush(),
                this._vertexCount += e.vertexData.length / 2,
                this._indexCount += e.indices.length,
                this._bufferedTextures[this._bufferSize] = e._texture.baseTexture,
                this._bufferedElements[this._bufferSize++] = e)
            }
            ,
            AbstractBatchRenderer2.prototype.buildTexturesAndDrawCalls = function buildTexturesAndDrawCalls() {
                var e = this._bufferedTextures
                  , t = this.MAX_TEXTURES
                  , n = AbstractBatchRenderer2._textureArrayPool
                  , a = this.renderer.batch
                  , l = this._tempBoundTextures
                  , f = this.renderer.textureGC.count
                  , h = ++ru._globalBatch
                  , p = 0
                  , m = n[0]
                  , g = 0;
                a.copyBoundTextures(l, t);
                for (var v = 0; v < this._bufferSize; ++v) {
                    var y = e[v];
                    e[v] = null,
                    y._batchEnabled !== h && (m.count >= t && (a.boundArray(m, l, h, t),
                    this.buildDrawCalls(m, g, v),
                    g = v,
                    m = n[++p],
                    ++h),
                    y._batchEnabled = h,
                    y.touched = f,
                    m.elements[m.count++] = y)
                }
                m.count > 0 && (a.boundArray(m, l, h, t),
                this.buildDrawCalls(m, g, this._bufferSize),
                ++p,
                ++h);
                for (var b = 0; b < l.length; b++)
                    l[b] = null;
                ru._globalBatch = h
            }
            ,
            AbstractBatchRenderer2.prototype.buildDrawCalls = function buildDrawCalls(e, t, n) {
                var a = this
                  , l = a._bufferedElements
                  , f = a._attributeBuffer
                  , h = a._indexBuffer
                  , p = a.vertexSize
                  , m = AbstractBatchRenderer2._drawCallPool
                  , g = this._dcIndex
                  , v = this._aIndex
                  , y = this._iIndex
                  , b = m[g];
                b.start = this._iIndex,
                b.texArray = e;
                for (var _ = t; _ < n; ++_) {
                    var C = l[_]
                      , A = C._texture.baseTexture
                      , S = ds[A.alphaMode ? 1 : 0][C.blendMode];
                    l[_] = null,
                    t < _ && b.blend !== S && (b.size = y - b.start,
                    t = _,
                    (b = m[++g]).texArray = e,
                    b.start = y),
                    this.packInterleavedGeometry(C, f, h, v, y),
                    v += C.vertexData.length / 2 * p,
                    y += C.indices.length,
                    b.blend = S
                }
                t < n && (b.size = y - b.start,
                ++g),
                this._dcIndex = g,
                this._aIndex = v,
                this._iIndex = y
            }
            ,
            AbstractBatchRenderer2.prototype.bindAndClearTexArray = function bindAndClearTexArray(e) {
                for (var t = this.renderer.texture, n = 0; n < e.count; n++)
                    t.bind(e.elements[n], e.ids[n]),
                    e.elements[n] = null;
                e.count = 0
            }
            ,
            AbstractBatchRenderer2.prototype.updateGeometry = function updateGeometry() {
                var e = this
                  , t = e._packedGeometries
                  , n = e._attributeBuffer
                  , a = e._indexBuffer;
                la.CAN_UPLOAD_SAME_BUFFER ? (t[this._flushId]._buffer.update(n.rawBinaryData),
                t[this._flushId]._indexBuffer.update(a),
                this.renderer.geometry.updateBuffers()) : (this._packedGeometryPoolSize <= this._flushId && (this._packedGeometryPoolSize++,
                t[this._flushId] = new this.geometryClass),
                t[this._flushId]._buffer.update(n.rawBinaryData),
                t[this._flushId]._indexBuffer.update(a),
                this.renderer.geometry.bind(t[this._flushId]),
                this.renderer.geometry.updateBuffers(),
                this._flushId++)
            }
            ,
            AbstractBatchRenderer2.prototype.drawBatches = function drawBatches() {
                for (var e = this._dcIndex, t = this.renderer, n = t.gl, a = t.state, l = AbstractBatchRenderer2._drawCallPool, f = null, h = 0; h < e; h++) {
                    var p = l[h]
                      , m = p.texArray
                      , g = p.type
                      , v = p.size
                      , y = p.start
                      , b = p.blend;
                    f !== m && (f = m,
                    this.bindAndClearTexArray(m)),
                    this.state.blendMode = b,
                    a.set(this.state),
                    n.drawElements(g, v, n.UNSIGNED_SHORT, 2 * y)
                }
            }
            ,
            AbstractBatchRenderer2.prototype.flush = function flush2() {
                0 !== this._vertexCount && (this._attributeBuffer = this.getAttributeBuffer(this._vertexCount),
                this._indexBuffer = this.getIndexBuffer(this._indexCount),
                this._aIndex = 0,
                this._iIndex = 0,
                this._dcIndex = 0,
                this.buildTexturesAndDrawCalls(),
                this.updateGeometry(),
                this.drawBatches(),
                this._bufferSize = 0,
                this._vertexCount = 0,
                this._indexCount = 0)
            }
            ,
            AbstractBatchRenderer2.prototype.start = function start2() {
                this.renderer.state.set(this.state),
                this.renderer.shader.bind(this._shader),
                la.CAN_UPLOAD_SAME_BUFFER && this.renderer.geometry.bind(this._packedGeometries[this._flushId])
            }
            ,
            AbstractBatchRenderer2.prototype.stop = function stop2() {
                this.flush()
            }
            ,
            AbstractBatchRenderer2.prototype.destroy = function destroy10() {
                for (var t = 0; t < this._packedGeometryPoolSize; t++)
                    this._packedGeometries[t] && this._packedGeometries[t].destroy();
                this.renderer.off("prerender", this.onPrerender, this),
                this._aBuffers = null,
                this._iBuffers = null,
                this._packedGeometries = null,
                this._attributeBuffer = null,
                this._indexBuffer = null,
                this._shader && (this._shader.destroy(),
                this._shader = null),
                e.prototype.destroy.call(this)
            }
            ,
            AbstractBatchRenderer2.prototype.getAttributeBuffer = function getAttributeBuffer(e) {
                var t = nextPow2(Math.ceil(e / 8))
                  , n = log2(t)
                  , a = 8 * t;
                this._aBuffers.length <= n && (this._iBuffers.length = n + 1);
                var l = this._aBuffers[a];
                return l || (this._aBuffers[a] = l = new Ic(a * this.vertexSize * 4)),
                l
            }
            ,
            AbstractBatchRenderer2.prototype.getIndexBuffer = function getIndexBuffer(e) {
                var t = nextPow2(Math.ceil(e / 12))
                  , n = log2(t)
                  , a = 12 * t;
                this._iBuffers.length <= n && (this._iBuffers.length = n + 1);
                var l = this._iBuffers[n];
                return l || (this._iBuffers[n] = l = new Uint16Array(a)),
                l
            }
            ,
            AbstractBatchRenderer2.prototype.packInterleavedGeometry = function packInterleavedGeometry(e, t, n, a, l) {
                for (var f = t.uint32View, h = t.float32View, p = a / this.vertexSize, m = e.uvs, g = e.indices, v = e.vertexData, y = e._texture.baseTexture._batchLocation, b = Math.min(e.worldAlpha, 1), _ = b < 1 && e._texture.baseTexture.alphaMode ? premultiplyTint(e._tintRGB, b) : e._tintRGB + (255 * b << 24), C = 0; C < v.length; C += 2)
                    h[a++] = v[C],
                    h[a++] = v[C + 1],
                    h[a++] = m[C],
                    h[a++] = m[C + 1],
                    f[a++] = _,
                    h[a++] = y;
                for (var A = 0; A < g.length; A++)
                    n[l++] = p + g[A]
            }
            ,
            AbstractBatchRenderer2
        }(Ru);
        Nc._drawCallPool = [],
        Nc._textureArrayPool = [];
        var Rc = function BatchShaderGenerator2(e, t) {
            if (this.vertexSrc = e,
            this.fragTemplate = t,
            this.programCache = {},
            this.defaultGroupCache = {},
            t.indexOf("%count%") < 0)
                throw new Error('Fragment template must contain "%count%".');
            if (t.indexOf("%forloop%") < 0)
                throw new Error('Fragment template must contain "%forloop%".')
        };
        Rc.prototype.generateShader = function generateShader(e) {
            if (!this.programCache[e]) {
                for (var t = new Int32Array(e), n = 0; n < e; n++)
                    t[n] = n;
                this.defaultGroupCache[e] = Iu.from({
                    uSamplers: t
                }, !0);
                var a = this.fragTemplate;
                a = (a = a.replace(/%count%/gi, "" + e)).replace(/%forloop%/gi, this.generateSampleSrc(e)),
                this.programCache[e] = new tc(this.vertexSrc,a)
            }
            var l = {
                tint: new Float32Array([1, 1, 1, 1]),
                translationMatrix: new ws,
                default: this.defaultGroupCache[e]
            };
            return new rc(this.programCache[e],l)
        }
        ,
        Rc.prototype.generateSampleSrc = function generateSampleSrc(e) {
            var t = "";
            t += "\n",
            t += "\n";
            for (var n = 0; n < e; n++)
                n > 0 && (t += "\nelse "),
                n < e - 1 && (t += "if(vTextureId < " + n + ".5)"),
                t += "\n{",
                t += "\n\tcolor = texture2D(uSamplers[" + n + "], vTextureCoord);",
                t += "\n}";
            return t += "\n",
            t += "\n"
        }
        ;
        var Lc = function(e) {
            function BatchGeometry2(t) {
                void 0 === t && (t = !1),
                e.call(this),
                this._buffer = new Eu(null,t,!1),
                this._indexBuffer = new Eu(null,t,!0),
                this.addAttribute("aVertexPosition", this._buffer, 2, !1, Na.FLOAT).addAttribute("aTextureCoord", this._buffer, 2, !1, Na.FLOAT).addAttribute("aColor", this._buffer, 4, !0, Na.UNSIGNED_BYTE).addAttribute("aTextureId", this._buffer, 1, !0, Na.FLOAT).addIndex(this._indexBuffer)
            }
            return e && (BatchGeometry2.__proto__ = e),
            BatchGeometry2.prototype = Object.create(e && e.prototype),
            BatchGeometry2.prototype.constructor = BatchGeometry2,
            BatchGeometry2
        }(Pu)
          , Dc = "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"
          , Bc = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"
          , $c = function BatchPluginFactory2() {}
          , Fc = {
            defaultVertexSrc: {
                configurable: !0
            },
            defaultFragmentTemplate: {
                configurable: !0
            }
        };
        $c.create = function create2(e) {
            var t = Object.assign({
                vertex: Dc,
                fragment: Bc,
                geometryClass: Lc,
                vertexSize: 6
            }, e)
              , n = t.vertex
              , a = t.fragment
              , l = t.vertexSize
              , f = t.geometryClass;
            return function(e) {
                function BatchPlugin(t) {
                    e.call(this, t),
                    this.shaderGenerator = new Rc(n,a),
                    this.geometryClass = f,
                    this.vertexSize = l
                }
                return e && (BatchPlugin.__proto__ = e),
                BatchPlugin.prototype = Object.create(e && e.prototype),
                BatchPlugin.prototype.constructor = BatchPlugin,
                BatchPlugin
            }(Nc)
        }
        ,
        Fc.defaultVertexSrc.get = function() {
            return Dc
        }
        ,
        Fc.defaultFragmentTemplate.get = function() {
            return Bc
        }
        ,
        Object.defineProperties($c, Fc);
        var Hc = $c.create()
    },
    95653: function(e, t, n) {
        "use strict";
        n.d(t, {
            A: function() {
                return pick
            },
            B: function() {
                return invertObject
            },
            C: function() {
                return onMount
            },
            D: function() {
                return D
            },
            E: function() {
                return destroy_each
            },
            F: function() {
                return capitalizeFirstLetter
            },
            G: function() {
                return component_subscribe
            },
            H: function() {
                return HtmlTag
            },
            I: function() {
                return onDestroy
            },
            J: function() {
                return p
            },
            K: function() {
                return writable
            },
            L: function() {
                return a
            },
            S: function() {
                return Store
            },
            a: function() {
                return createEventEmitter
            },
            b: function() {
                return SvelteComponent
            },
            c: function() {
                return createStateMachine
            },
            d: function() {
                return safe_not_equal
            },
            e: function() {
                return enableSound
            },
            f: function() {
                return element
            },
            g: function() {
                return get
            },
            h: function() {
                return text
            },
            i: function() {
                return init
            },
            j: function() {
                return attr
            },
            k: function() {
                return insert
            },
            l: function() {
                return loadSound
            },
            m: function() {
                return append
            },
            n: function() {
                return null_to_empty
            },
            o: function() {
                return set_data
            },
            p: function() {
                return playSound
            },
            q: function() {
                return detach
            },
            r: function() {
                return space
            },
            s: function() {
                return set
            },
            t: function() {
                return toSelector
            },
            u: function() {
                return empty
            },
            v: function() {
                return toggle_class
            },
            w: function() {
                return listen
            },
            x: function() {
                return noop
            },
            y: function() {
                return run_all
            },
            z: function() {
                return createEventDispatcher
            }
        });
        var a = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== n.g ? n.g : "undefined" != typeof self ? self : {}
          , l = {
            exports: {}
        };
        !function(e) {
            /*!
   * Chess.com (c) 2020 | all rights reserved
   */
            /*!
   * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
   */
            var t, n, a, l;
            t = function() {
                var e = [[2637767806, 863464769], [720845184, 95069639], [1155203408, 610415943], [2618685246, 1655139042], [1971536997, 1218186377], [848342074, 540017087], [263957791, 1627660921], [3896152207, 4076560586], [226391645, 1484086288], [436746274, 3467632685], [2516964848, 3797861296], [3491888988, 3510251221], [1086189917, 1248276018], [18044180, 1876255637], [1572111136, 1190386149], [597658413, 2146900428], [97624494, 2243205793], [1738507407, 1854916977], [1950989311, 2149575947], [2098318769, 3283594736], [2194108574, 2015279052], [4079062812, 2500884588], [856979699, 2941369318], [1270058469, 3877737539], [2858720366, 3170717948], [2378012835, 1387254795], [2278688587, 2178388503], [435406673, 3555273441], [3031118064, 1655806655], [2063925420, 1107589828], [3376753832, 436852829], [615148625, 1302492416], [1285502018, 1963045959], [346460119, 1016137793], [2803604355, 1176288659], [55085973, 2968618255], [1669016372, 4287873088], [164740250, 1037634196], [896886403, 883023163], [1935551383, 2764331555], [410153072, 4055711755], [533441746, 1505690343], [3541084098, 3466290517], [3214426080, 4267541060], [2675233103, 1951705124], [1374411850, 3115986997], [1552073989, 3684348154], [4244110986, 875606593], [844343081, 3115990494], [2356462440, 135999605], [3116133511, 377238503], [2129956651, 2197966368], [299173332, 3276914047], [1701379241, 745972291], [1306570996, 254977976], [2530644806, 214138461], [1122123979, 1667800879], [1831591130, 3801192033], [1116211970, 920967505], [1594837592, 2551651254], [972591349, 2046373768], [2479207924, 1935030411], [1675376029, 2367888248], [3960916618, 3935874422], [1398143232, 3265801671], [133930885, 1520005442], [1351827834, 2829577566], [2076951437, 2723839804], [435980918, 2364847828], [1668970368, 3738157273], [2185864314, 3993911799], [2041407829, 31969768], [346864372, 2004703094], [4047877822, 3437142421], [3669961416, 538399484], [616810829, 4190688246], [3144558884, 4030272234], [216165387, 2513010905], [2761740594, 3216997572], [3919406634, 4096014649], [669429112, 2434161727], [2234904640, 3111407601], [1421079802, 1598085235], [1924213810, 310373675], [4002762044, 2067865415], [2592451728, 2586110625], [1890340057, 4031717877], [4189625662, 2577429954], [2276713138, 3049850801], [2741429688, 3310307512], [2924122950, 3426712818], [421576781, 1193704381], [2277442246, 3030264553], [153237420, 595540057], [4278711886, 4176286928], [2380848297, 4030514510], [2618700582, 1303682185], [3018992701, 185284845], [957243316, 1291916363], [1543415220, 1898408169], [504378001, 531073412], [2591337657, 1692896435], [1333852064, 903543556], [1661259930, 188168388], [561112646, 2197961224], [1536910315, 2632972300], [1349168372, 2307429186], [411152329, 2745631190], [1694697476, 1081411140], [3755185459, 2631660711], [4019355068, 4027326706], [2066937809, 3761668332], [3120395808, 3878773315], [94890149, 2109283191], [3045629038, 358812277], [1249184265, 3465901047], [3477490924, 2308583306], [4114113436, 3875911716], [1014604031, 1434513279], [3991324799, 2222416029], [2040431088, 1539915569], [2253613964, 4081224332], [2547464012, 1611168627], [2722521980, 4281500978], [71289574, 213969824], [2450408597, 903689630], [1894451515, 364024012], [1939968537, 374938813], [1447259295, 3785468557], [4021046128, 1664847745], [3139524504, 3562928047], [1173487682, 4065269608], [2467266804, 3907744866], [4284945151, 3486998177], [2925674454, 1953016432], [3710671816, 1271453948], [2129465869, 1422863833], [587093076, 18243356], [3373793513, 2411305257], [2156648078, 1791034213], [3737413652, 1534461430], [468575139, 2935304962], [1129551363, 3603256834], [2861996892, 1763494778], [2826449619, 2465197654], [1704209531, 1014895022], [3738359347, 3402630390], [569410928, 4095796581], [3021312909, 2108247612], [2444777957, 2664129360], [282063667, 3773661258], [682545472, 3188439005], [3318488457, 1917822038], [1447622272, 4045023041], [757420137, 4038580915], [2613420942, 4146703316], [4012836163, 150381244], [2938127093, 3428591704], [1208226490, 3086335530], [2935205706, 1446903363], [430957978, 3830532479], [1381578755, 3757172800], [4109399782, 1596778224], [288855589, 1954372339], [3169178148, 2256716053], [2644780093, 3895892303], [107966643, 1071681559], [1304747544, 2607225372], [1359190711, 1898207171], [3229237120, 3273634996], [3027167685, 3863637628], [3011615298, 2883984519], [564135827, 978463264], [770797430, 362326607], [1983662611, 1907583229], [4153656423, 48268960], [3609759233, 720080177], [3727911466, 1270989899], [200708787, 2366086947], [744508026, 393422515], [1213261630, 65757284], [3485747185, 3845951003], [2958861301, 1680248217], [2598470344, 3163845864], [2767997908, 4233451722], [3881113485, 1492930166], [1773764017, 2764062206], [4189435844, 2898689174], [4234838742, 1267095035], [2624081078, 3302114327], [2395569449, 390426320], [1728307101, 690284926], [3309827454, 1118258254], [2028172868, 3888829086], [4271523049, 909051386], [146617804, 942892565], [2467685867, 974297806], [2483428231, 503635829], [3743260573, 2018222096], [1002067894, 2289153437], [3535252974, 3738302271], [4154611160, 1002664952], [3623154244, 2349656961], [3646679180, 3524329383], [862933752, 4282853607], [2806008282, 3272780913], [2734037942, 3828874677], [1328176304, 2137666995], [2278785213, 2780788825], [381286368, 1816476193], [2074232908, 2316293454], [4087773386, 3651330956], [967884669, 3728964514], [4239349185, 3213509668], [419231360, 1463788948], [1275421624, 2672384707], [1088456595, 436245261], [2365565249, 783696577], [1758083333, 845223583], [2048846183, 3530914274], [2635948261, 124738415], [940630937, 3069598626], [839474029, 1253439921], [902477345, 165479306], [2836079689, 2681188273], [2007115168, 2093139645], [1363041891, 1282466609], [1130479818, 1063857938], [3644959908, 1260430427], [1385135238, 46497915], [1386975934, 3110156681], [2635987502, 4233461619], [1915744629, 4117939016], [487743653, 285736599], [2049219159, 3960249250], [69242857, 3908563670], [1511066720, 1488527520], [215590039, 1703564952], [1459430344, 4184955468], [676103291, 2642967214], [83799035, 3182827979], [1949179493, 476101251], [2593534694, 1493478716], [2283504289, 995211746], [1349412676, 3449243940], [2954378677, 1878813305], [249149717, 3329151870], [1578231917, 1483986052], [4135085182, 890874990], [461755528, 3505523909], [3669622373, 634949665], [219487622, 2914465301], [2825233742, 3703631897], [2479105382, 2935590907], [2582097898, 3187672881], [1221328648, 1843341402], [2140891889, 3958868911], [1482849818, 345750049], [751922730, 3178831411], [3546542069, 4036458902], [216179596, 877293293], [444615341, 3117393729], [2424254530, 494454238], [1344234989, 3003337991], [929188581, 2760877801], [2507911009, 1879899982], [980166547, 1311840394], [3566535507, 1790747461], [143525013, 2311336672], [4181962471, 4273938872], [1815842366, 862009811], [911175674, 1179575598], [3591335374, 3694215714], [1452686093, 3393294272], [385158879, 2447709103], [4011414929, 1264623507], [1448477120, 911094312], [3971299641, 2289992053], [3133647265, 2234591563], [3007628400, 964409938], [1708345684, 3673411261], [3031964479, 2843021794], [3022128657, 2480338599], [118850112, 473449293], [2048127371, 3202109429], [3158349745, 382018770], [1505327237, 3807570472], [2568424029, 3272693060], [1866609495, 3888556537], [844703982, 1852802964], [3504617058, 682636099], [1448882679, 3733580327], [821387540, 2215744532], [3631471417, 311618895], [2077838877, 2383929020], [3352949096, 1688694420], [2491080787, 3998672444], [3368630402, 4182204255], [983299419, 2837414346], [3651215291, 1033373924], [265429091, 3988955082], [3019003608, 2896212153], [2955948456, 3025235588], [903690197, 2266253487], [3925215275, 89402958], [3959093811, 3609545561], [2455088053, 223552128], [3115011301, 2133669107], [1765081558, 673805649], [3324795129, 2111392191], [3443871631, 432345706], [3152559950, 3425427147], [3699649406, 672784944], [3129545774, 7668664], [2747044893, 173040075], [3925243406, 852328481], [164095314, 3161868591], [2234471571, 1302682825], [2164784335, 105893718], [159995093, 536831360], [599199451, 425051327], [3274759746, 1680930461], [1192619331, 3903085578], [2832721114, 3078660237], [91404660, 4030521531], [3044880024, 1578375623], [3906596030, 754177855], [803516785, 1894094672], [288455592, 2030430096], [2143232492, 2317305324], [388352703, 3406060288], [2521731420, 3588403719], [1043041227, 4028028525], [3195290851, 2468913324], [4166724431, 3168683191], [1228226538, 968516529], [500177583, 3444787306], [533367442, 4252082053], [4236023256, 657816314], [413575568, 3367198397], [3435884549, 3334062733], [1004255532, 1135705894], [2859513268, 4170618274], [3914086821, 1251487871], [3080761716, 3489067886], [3571165255, 699353261], [773372954, 3648014952], [769693293, 2939128604], [3116440923, 507748478], [1687629160, 3739431776], [2489486648, 3502376324], [3686847158, 2878383449], [3530767427, 902211375], [2121652637, 2493976397], [1827477891, 930064171], [2549918411, 4029725732], [2071415163, 844118802], [2236083679, 3088894868], [2040110303, 4144562891], [3489536313, 1133419300], [2190878435, 2301466071], [2465915458, 2448602097], [1675766804, 2073834499], [3329799896, 1613253148], [1483966600, 1348836071], [159505618, 2527621997], [2674227354, 1695130688], [2683539437, 1927873839], [3833196123, 2570082188], [3891433165, 759819981], [1455453349, 2179602430], [1430583255, 1957776111], [2067726741, 4235143439], [303380021, 2998980439], [2136024795, 3126725799], [2054591852, 1051702291], [1029141665, 489794361], [2317027384, 569642164], [2068461795, 624418658], [2499875684, 1830645251], [1302894490, 4319401], [1002663431, 2406815191], [1560941298, 2060652753], [2141002286, 515773223], [3661248027, 475092913], [3705503008, 2419919909], [914567990, 3496539911], [3462935583, 2039034761], [2878378006, 2379243316], [1133857586, 1390159333], [3023618742, 2140726761], [282908558, 944874642], [3686955701, 1148723903], [2604456805, 4163675010], [3061545110, 377179268], [3218002352, 76459088], [2836503392, 916455101], [536836808, 151306053], [2886925079, 404221671], [2936593041, 2011015485], [453815187, 1852163908], [3042568989, 82176306], [3279635891, 4174836410], [3282689058, 2360003049], [4088968807, 1516570623], [2680453086, 1322680794], [1731693966, 3438253771], [1842894553, 1294307894], [2736377365, 2964642609], [121205621, 521330014], [2324595870, 3005710757], [3784465521, 676493813], [1958759409, 2030833406], [1306150933, 1016370058], [2636541290, 482366508], [1950415745, 1695073534], [322077955, 3746046623], [3602873262, 3829181504], [1211684447, 1861645455], [504701736, 4080111082], [2407799203, 1223857855], [1925743434, 1498920209], [3617596327, 845198428], [2498480299, 3484773806], [2680229135, 2560201696], [3731399221, 1536412390], [2756509305, 2924710846], [2635957500, 3459716133], [1372762539, 769635894], [802677945, 3878474636], [1707760534, 3075809808], [3714687192, 2872792173], [1615679922, 1606381794], [1940556374, 1337437342], [445390489, 731124040], [2864974375, 64601760], [1984806574, 2141516710], [513390958, 1890172555], [744398315, 1475299139], [982749166, 852662657], [652663695, 4260736510], [1184061125, 82616221], [3363191899, 147951756], [1064069880, 1507328085], [2138882964, 547595589], [2616926846, 3186935246], [2298715513, 3606862940], [2414381911, 811477686], [2694745228, 900437726], [4202576185, 2201114451], [3602305260, 3323446937], [3756663274, 2658490339], [3061587876, 2171079416], [3390977925, 2850497765], [486312941, 224925241], [3515712841, 3510684394], [1322319486, 2647200565], [3839619171, 1148450258], [392296762, 1154854654], [1401523788, 957405781], [1934485528, 527352730], [645968162, 3131215255], [696971825, 3361451947], [2038689491, 1946699733], [1723966113, 2785859721], [2652365974, 1118037185], [3988018407, 3134982149], [1354171594, 3053634345], [1287854075, 2631782435], [1723106141, 2662328866], [563845090, 1878819261], [639520332, 171129501], [534957223, 1696062352], [3612364282, 2283204027], [3109494688, 1304463816], [500957989, 630925278], [3477030536, 2149497258], [4109750364, 281719363], [951472732, 564407054], [922095147, 2767874048], [3946156928, 829677774], [2622281253, 2086286851], [2936811901, 850242186], [630086272, 3340782667], [2340986210, 1296336989], [4107355543, 3865114709], [3560210278, 3968418243], [3868847493, 2967450637], [611513888, 2083325060], [3265390517, 3025776309], [2874106961, 3424470508], [1668707698, 2923258228], [2778598353, 24320552], [292356118, 3415510793], [754567370, 86994591], [185141877, 1621715171], [2884558258, 3722473457], [1492107531, 111281805], [3336927864, 4225337056], [782994598, 1021838039], [346133860, 18281270], [2080909533, 1649329040], [3612065399, 3859901127], [2151962287, 284556115], [3957975594, 3745718727], [52533817, 3998775856], [1232633839, 397383972], [2716413964, 3629253960], [1531307298, 3836851439], [3030137657, 2500401718], [3561556693, 653345841], [313061910, 2945718466], [2065276, 3342140708], [410498334, 1470588117], [2726640512, 4051654894], [2570984935, 758567696], [3008987264, 3462702678], [623860175, 228525243], [3527183895, 1829844480], [467272850, 3890501742], [568376656, 650516927], [990477018, 4035508558], [2366955227, 817792110], [4183621538, 989198068], [946958343, 1639184195], [3395758993, 3924097558], [1690887473, 3220519765], [605184237, 1255270525], [275515833, 1926424610], [2142902612, 283494960], [2021972412, 1823828440], [105373677, 3448326697], [1666662384, 1042433908], [1338566998, 261206307], [498685668, 1344755577], [3101233780, 3119109371], [2733370951, 3808165089], [3656512268, 3449289481], [4025308119, 1607880299], [778896067, 1612183167], [2846510368, 3674754715], [3058428120, 2991822529], [1892379383, 3268787440], [2565895844, 4154602030], [3213117192, 98999135], [2495816991, 116985075], [1040203361, 1785041385], [3106252493, 69316595], [1639829808, 2087117568], [3213709576, 3799911752], [604681594, 2340981536], [4236730699, 2938666503], [4009938384, 1878897714], [2701667332, 1725918218], [2182473079, 1258184], [3550198211, 2760750799], [657991062, 875584532], [1640976276, 3380476221], [460041378, 2924352091], [1972323596, 2287414795], [2510248061, 1350206297], [2959337826, 3762681165], [1625877874, 3235902929], [2070189957, 1429368735], [4245163299, 1839731898], [2358312347, 138364248], [275739390, 2179122576], [2037777210, 972544338], [2766930226, 1984733259], [1933485829, 4209310327], [3034118011, 3286589799], [2653025529, 62078937], [2641780289, 2679545709], [3540781195, 2787026415], [1569993599, 3215949659], [441337890, 3947723353], [1878946792, 459505587], [3724105660, 920173002], [1691411102, 3934795955], [148741087, 3647709027], [142506469, 2776440083], [3811107376, 3823285243], [472209891, 252266174], [1913386482, 1867329194], [2960608550, 482740699], [1145005292, 1513558421], [1091751784, 1687823886], [3625186042, 3086337482], [1712140887, 940065262], [1504455800, 1945702563], [3896940088, 2003245591], [2478191531, 4197739e3], [3233871270, 250924495], [3404865229, 1131917964], [1462204167, 429621621], [1349259705, 3641608989], [3627860584, 2048468319], [1244251718, 1513180369], [3979211282, 371413143], [3043187861, 4285699810], [581894202, 3060983825], [1390895705, 1811317301], [2599134010, 3337406128], [2488233440, 2436161462], [1816641224, 2208816697], [1792034756, 815866116], [2779893723, 2695577703], [2084952115, 2951772258], [1351806869, 169269771], [2469979804, 86740603], [1163545420, 4264616949], [1795352113, 2511146232], [1796715044, 3134635815], [3521170642, 1538900329], [3725363621, 1455009392], [1342594643, 1512127734], [2618386938, 662157428], [2028859350, 2494504685], [1841905045, 648351336], [4002935891, 4033319405], [850071259, 1768358867], [979915719, 3876018087], [830889197, 1629549437], [1744763229, 2455795856], [522919199, 368499868], [3063822504, 2522639205], [2861636095, 407686388], [4097602344, 1945259027], [4215946617, 1251639506], [894485042, 534122652], [924809191, 1807237502], [1811585710, 1589663609], [3439653887, 1722232], [3810997538, 105152714], [2677100683, 4291805514], [77233985, 102407776], [4239834691, 2851274395], [148802076, 2006440603], [2409138150, 126301601], [3048474397, 3217504870], [588133437, 4221603123], [1139638106, 263087485], [982032635, 3165674595], [562514827, 1294842959], [467575086, 905357513], [1405117894, 3370530088], [3813285157, 242912619], [3601878331, 1985076606], [1586505598, 2092146221], [738488098, 103663229], [2970334297, 321718822], [1068097019, 1742926233], [235518094, 420804527], [283685722, 4092504887], [2666392744, 3799169331], [3569817788, 1256762975], [2169728352, 292617248], [2444571896, 2239859206], [3967907832, 1066404216], [420376911, 2913277294], [3046293305, 2956347747], [2311278792, 2477686209], [2885955184, 4172514290], [3030078181, 2275536480], [4212469731, 4280736393], [1046900335, 1773022229], [995380926, 1414273529], [3892683234, 2429494358], [615726237, 2127712535], [3880203074, 2071130305], [176180504, 3070850165], [1474506861, 2283723599], [1256707747, 1857412043], [764236850, 359687368], [3521530334, 511649419], [2318567964, 3992868140], [128167623, 2518992858], [2220129756, 1042300052], [2567608573, 1349636707], [441446694, 384760969], [4143447316, 829506048], [817912603, 2738025500], [2368091832, 357934982], [1187643061, 1561463042], [3438021235, 3030161697], [1318922279, 895468690], [434876457, 1130220303], [1180291767, 1132759596], [2520707785, 1798553137], [1962430872, 2958700157], [1510954061, 3534879512], [57831539, 3269538993], [3354831405, 3852135009], [891783098, 2698494511], [2555636406, 996018997], [2881342935, 3982231648], [3473267445, 2894952368], [1238029452, 3958679326], [2051805420, 559465638], [3655936674, 1186951582], [330209165, 167662935], [1929681327, 2450868735], [1313566811, 2458925988], [4283920930, 3243182650], [1438004300, 4185567150], [3093439067, 89876832], [3401620219, 3721579956], [3673745794, 2682874719], [3053321309, 825410712], [822915968, 3681514755], [3900685126, 561657358], [553823814, 1857753416], [4166295066, 983949325], [128359165, 3426887194], [3300989119, 3884968622], [4193552686, 3647722552], [452189154, 1569670618], [4122259632, 3537825460], [2519387887, 2821594244], [74333898, 2940550377], [4032631446, 2173999692], [2521268686, 1934310532], [2620314688, 2177785789], [1378755571, 2455646622], [394133753, 4231198609], [734399075, 2800989170], [573292462, 1634883078], [1214417373, 3426576256], [2110224475, 2399009920], [2331215665, 3224086912], [531326186, 698539511], [3839443603, 583861850], [2644531398, 2017784332], [616620850, 3070237104], [590349237, 2798642861], [3582377217, 3317831670], [1582708616, 1596570667], [2126148205, 2358511947], [173450736, 3219362418], [3616831144, 1323437318], [2655785577, 3131359031], [401600069, 2967397952], [496349349, 4244179910], [2479612086, 2579650653], [1710903074, 2049666425], [3589924952, 690291925], [3266682943, 1900485231], [1496318498, 3025542656], [3459221058, 3389461212], [2091479615, 3140389256], [663040899, 1207089672], [3323704225, 1105530508], [353318429, 2879253542], [2674540957, 941987316], [1688550857, 620657353], [338551967, 4286217277], [204689992, 2239736295], [178008789, 3940832005], [3871613304, 3300636974], [1911672356, 2429684487], [4055679954, 1974461722], [3878217928, 1009991796], [2533095482, 310920740], [2174833823, 3596041637], [1604814460, 2939543881], [1452830254, 4092397851], [2441027029, 4169690209], [3524103304, 3372213855]]
                  , t = [[836181454, 1689436944], [2776523577, 3710710688], [4049974663, 3750330768], [519497435, 2979405513]]
                  , n = [[1892447193, 197291556], [3793382197, 3742120663], [3838936, 2994760034], [479846099, 1018728609], [3476112862, 182272649], [3504620154, 1427438450], [2009473484, 2679350403], [1738755500, 1129731339]]
                  , a = [4174784170, 2938602761]
                  , l = {
                    p: 0,
                    P: 1,
                    n: 2,
                    N: 3,
                    b: 4,
                    B: 5,
                    r: 6,
                    R: 7,
                    q: 8,
                    Q: 9,
                    k: 10,
                    K: 11
                }
                  , f = [];
                f[5] = 1,
                f[6] = 0,
                f[9] = 3,
                f[10] = 2,
                f[17] = 5,
                f[18] = 4,
                f[33] = 7,
                f[34] = 6,
                f[65] = 9,
                f[66] = 8,
                f[129] = 11,
                f[130] = 10;
                var h, p = [2, 5, 10, 20, 40, 80, 160, 64], m = ["", "0000000", "000000", "00000", "0000", "000", "00", "0", ""];
                function to32BitHex(e) {
                    var t = e.toString(16);
                    return m[t.length] + t
                }
                function to64BitHex(e) {
                    return to32BitHex(e[0]) + to32BitHex(e[1])
                }
                function hash(f, h) {
                    var m, g, v, y, b, _, C, A, S, x, w, P, T = f.split(" "), M = T[0].split("/"), k = "w" === T[1], I = 0, O = Number(k), N = O ? 3 : 4;
                    for (v = 7; v >= 0; v -= 1)
                        for (y = 0,
                        C = (b = M[v]).length,
                        _ = 0; _ < C; _ += 1)
                            A = b[_],
                            (w = l[A]) >= 0 && (m = (m ^ (S = e[64 * w + 8 * (7 - v) + y])[0]) >>> 0,
                            g = (g ^ S[1]) >>> 0,
                            w === O && v === N && (I |= 1 << y)),
                            y += Number(A) || 1;
                    return "-" !== T[2] && ((x = T[2]).indexOf("K") > -1 && (m = (m ^ (S = t[0])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0),
                    x.indexOf("Q") > -1 && (m = (m ^ (S = t[2])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0),
                    x.indexOf("k") > -1 && (m = (m ^ (S = t[1])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0),
                    x.indexOf("q") > -1 && (m = (m ^ (S = t[3])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0)),
                    T[3] && "-" !== T[3] && (P = T[3].charCodeAt(0) - 97,
                    p[P] & I && (m = (m ^ (S = n[P])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0)),
                    k && (m = (m ^ a[0]) >>> 0,
                    g = (g ^ a[1]) >>> 0),
                    h && "hex" === h ? to64BitHex([m, g]) : [m, g]
                }
                function wrap(e) {
                    var t, n, a, l, f = {};
                    function parseBook(e, t) {
                        var a, l, f, h, p, m, g = n.getUint16(e + 8), v = n.getUint16(e + 10);
                        return l = g >> 9 & 7,
                        h = g >> 3 & 7,
                        p = 7 & g,
                        m = g >> 12 & 7,
                        4 == (f = g >> 6 & 7) && t && l === h && "-" !== t && (7 === p && (0 === l && t.indexOf("K") > -1 || 7 === l && t.indexOf("k") > -1) ? p -= 1 : 0 === p && (0 === l && t.indexOf("Q") > -1 || 7 === l && t.indexOf("q") > -1) && (p += 2)),
                        a = String.fromCharCode(f + 97) + (l + 1) + String.fromCharCode(p + 97) + (h + 1),
                        m && (a += "nbrq"[m - 1]),
                        {
                            move: a,
                            weight: v
                        }
                    }
                    function query(e) {
                        return "string" == typeof e && (e = {
                            fen: e
                        }),
                        t(e)
                    }
                    if (f = {
                        query: query,
                        pick: function pick2(e) {
                            var t, n, a, l, f, h = 0;
                            if (function sortMoves(e) {
                                e.sort((function sorter(e, t) {
                                    return t.weight - e.weight
                                }
                                ))
                            }(t = (e = e || {}).moves || query(e)),
                            a = t.length) {
                                if (e.type && 1 !== a && "best" !== e.type) {
                                    if ("random" === e.type) {
                                        for (l = Math.floor(Math.random() * t.sum) + 1,
                                        f = 0; f < a - 1 && !(l <= (h += t[f].weight)); f += 1)
                                            ;
                                        return t[f].move
                                    }
                                    return "randomDisregardWeight" === e.type ? t[Math.floor(Math.random() * a)].move : "worst" === e.type ? t[a - 1].move : ((n = parseInt(e.type) || 1) < 0 && (n = a + n + 1),
                                    n < 1 ? n = 1 : n > a && (n = a),
                                    t[n - 1].move)
                                }
                                return t[0].move
                            }
                        }
                    },
                    e.getUint32)
                        t = function bufferBookFind(e) {
                            var t, a, l, f, h, p = n.length || n.byteLength || 0, m = e.offset || 0, g = e.fen, v = e.chess960, y = e.checkAll, b = [], _ = 0;
                            for (e.hash ? "string" == typeof (t = e.hash) && (t = function hex64ToDec(e) {
                                return [parseInt(e.substr(0, 8), 16), parseInt(e.substr(8), 16)]
                            }(t)) : t = hash(g),
                            !v && g && (h = g.split(" ")[2]),
                            m = 0; m < p; m += 16)
                                if (n.getUint32(m) === t[0] && n.getUint32(m + 4) === t[1])
                                    l = parseBook(m, h),
                                    b[b.length] = l,
                                    _ += l.weight,
                                    a = !0;
                                else if (a && !y)
                                    break;
                            if (b.sum = _,
                            e.relative)
                                for (f = b.length - 1; f >= 0; f -= 1)
                                    b[f].relative = Math.round(b[f].weight / _ * 1e4);
                            return b
                        }
                        ,
                        n = e,
                        f.buffer = n;
                    else
                        for (l in t = function jsonBookFind(e) {
                            var t, n, l, h, p, m, g = 0, v = e.fen;
                            if (f.useFen)
                                l = v.replace(/ \d+ \d+$/, ""),
                                (t = a[l]) || (h = l.replace(/[a-h][1-8]$/, "-")) !== l && (t = a[h]);
                            else if (e.hash || (e.hash = hash(v, "hex")),
                            t = a[e.hash]) {
                                if (t[0] && t[0].n && (t = t[0]),
                                t.n && !t.b)
                                    return [];
                                if (t.b)
                                    t = function decompressMoves(e) {
                                        var t, n = [], a = e.b.length;
                                        for (t = 0; t < a; ++t)
                                            n.push({
                                                move: e.b[t],
                                                weight: e.w[t]
                                            });
                                        return n
                                    }(t);
                                else if (!e.chess960 && v)
                                    for (m = v.split(" ")[2],
                                    n = t.length - 1; n >= 0; n -= 1)
                                        (p = t[n].move.match(/e([18])([ah])\1/)) && ("h" === p[2] && ("1" === p[1] && m.indexOf("K") > -1 || "8" === p[1] && m.indexOf("k") > -1) ? t[n] = {
                                            move: "e" + p[1] + "g" + p[1],
                                            weight: t[n].weight
                                        } : "a" === p[2] && ("1" === p[1] && m.indexOf("Q") > -1 || "8" === p[1] && m.indexOf("q") > -1) && (t[n] = {
                                            move: "e" + p[1] + "c" + p[1],
                                            weight: t[n].weight
                                        }))
                            }
                            if (t)
                                for (n = t.length - 1; n >= 0; n -= 1)
                                    g += Number(t[n].weight);
                            else
                                t = [];
                            return t.sum = g,
                            t
                        }
                        ,
                        a = e,
                        f.json = a,
                        a) {
                            f.useFen = l.indexOf(" ") > -1;
                            break
                        }
                    return f
                }
                function getBook(e, t) {
                    !function ajaxLoad(e, t) {
                        var n = new XMLHttpRequest
                          , a = e.toLowerCase().indexOf(".json") > -1;
                        function onload() {
                            var e;
                            if (n.status >= 200 && n.status < 300 || 304 === n.status || 0 === n.status || 1223 === n.status)
                                if (a)
                                    try {
                                        t(null, JSON.parse(n.response))
                                    } catch (l) {
                                        t(l)
                                    }
                                else
                                    e = new DataView(n.response),
                                    t(null, e);
                            else
                                t(new Error("Error code: " + n.status))
                        }
                        n.open("GET", e, !0),
                        a || (n.responseType = "arraybuffer"),
                        n.onload = onload,
                        n.onerror = onload,
                        n.send()
                    }(e, (function onload(e, n) {
                        var a;
                        if (n && (a = wrap(n)),
                        t)
                            return t(e, a);
                        if (e)
                            throw e;
                        return a
                    }
                    ))
                }
                return {
                    hash: hash,
                    loadBook: (h = {},
                    function loadBook2(e, t) {
                        h[e] ? h[e].book ? setTimeout((function() {
                            t(null, h[e].book)
                        }
                        ), 0) : h[e].cbs.push(t) : (h[e] = {
                            cbs: [t]
                        },
                        getBook(e, (function onload(t, n) {
                            var a = h[e].cbs;
                            t ? delete h[e] : (h[e].book = n,
                            h[e].cbs = void 0),
                            a.forEach((function(e) {
                                setTimeout((function() {
                                    e(t, n)
                                }
                                ), 0)
                            }
                            ))
                        }
                        )))
                    }
                    ),
                    to64BitHex: to64BitHex,
                    zobristPiece: e,
                    zobristCastle: t,
                    zobristEnPassant: n,
                    zobristTurn: a,
                    zobristPieceValue: l,
                    zobristPieceValueNumbers: f
                }
            }(),
            n = function init2() {
                var e, n, a, l, f = {
                    Chess: 0,
                    Chess960: 1,
                    Crazyhouse: 2,
                    "3-check": 3,
                    "King of the Hill": 4,
                    Bughouse: 5,
                    chess960: 1,
                    fischerandom: 1,
                    fischerrandom: 1,
                    fischer: 1,
                    chess9lx: 1,
                    960: 1,
                    crazyhouse: 2,
                    "three-check": 3,
                    threecheck: 3,
                    "3check": 3,
                    kingofthehill: 4,
                    koth: 4,
                    bughouse: 5
                }, h = ["Chess", "Chess960", "Crazyhouse", "3-check", "King of the Hill", "Bughouse"], p = {
                    a8: 0,
                    b8: 1,
                    c8: 2,
                    d8: 3,
                    e8: 4,
                    f8: 5,
                    g8: 6,
                    h8: 7,
                    a7: 16,
                    b7: 17,
                    c7: 18,
                    d7: 19,
                    e7: 20,
                    f7: 21,
                    g7: 22,
                    h7: 23,
                    a6: 32,
                    b6: 33,
                    c6: 34,
                    d6: 35,
                    e6: 36,
                    f6: 37,
                    g6: 38,
                    h6: 39,
                    a5: 48,
                    b5: 49,
                    c5: 50,
                    d5: 51,
                    e5: 52,
                    f5: 53,
                    g5: 54,
                    h5: 55,
                    a4: 64,
                    b4: 65,
                    c4: 66,
                    d4: 67,
                    e4: 68,
                    f4: 69,
                    g4: 70,
                    h4: 71,
                    a3: 80,
                    b3: 81,
                    c3: 82,
                    d3: 83,
                    e3: 84,
                    f3: 85,
                    g3: 86,
                    h3: 87,
                    a2: 96,
                    b2: 97,
                    c2: 98,
                    d2: 99,
                    e2: 100,
                    f2: 101,
                    g2: 102,
                    h2: 103,
                    a1: 112,
                    b1: 113,
                    c1: 114,
                    d1: 115,
                    e1: 116,
                    f1: 117,
                    g1: 118,
                    h1: 119
                }, m = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], g = 0, v = 0, y = 0, b = -1, _ = 32, C = 128, A = 252, S = 255, x = 512, w = 112, P = 14, T = 21, M = 127, k = "pnbrqkPNBRQK", I = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", O = [];
                O[5] = [-16, -17, -15],
                O[6] = [16, 17, 15],
                O[8] = [-18, -33, -31, -14, 18, 33, 31, 14],
                O[16] = [-17, -15, 17, 15],
                O[32] = [-16, 1, 16, -1],
                O[64] = [-17, -16, -15, 1, 17, 16, 15, -1],
                O[128] = [-17, -16, -15, 1, 17, 16, 15, -1];
                var N = {
                    P: 5,
                    p: 6,
                    N: 9,
                    n: 10,
                    B: 17,
                    b: 18,
                    R: 33,
                    r: 34,
                    Q: 65,
                    q: 66,
                    K: 129,
                    k: 130
                }
                  , R = {
                    P: 4,
                    p: 4,
                    N: 8,
                    n: 8,
                    B: 16,
                    b: 16,
                    R: 32,
                    r: 32,
                    Q: 64,
                    q: 64,
                    K: 128,
                    k: 128
                }
                  , L = {
                    5: "P",
                    6: "p",
                    9: "N",
                    10: "n",
                    17: "B",
                    18: "b",
                    33: "R",
                    34: "r",
                    65: "Q",
                    66: "q",
                    129: "K",
                    130: "k"
                }
                  , D = {
                    9: "N",
                    10: "N",
                    17: "B",
                    18: "B",
                    33: "R",
                    34: "R",
                    65: "Q",
                    66: "Q",
                    129: "K",
                    130: "K"
                }
                  , B = [80, 0, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 0, 80, 0, 0, 80, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 80, 0, 0, 0, 0, 80, 0, 0, 0, 0, 96, 0, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 96, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 96, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 8, 96, 8, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 212, 224, 212, 8, 0, 0, 0, 0, 0, 0, 96, 96, 96, 96, 96, 96, 224, 0, 224, 96, 96, 96, 96, 96, 96, 0, 0, 0, 0, 0, 0, 8, 212, 224, 212, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 8, 96, 8, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 96, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 96, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 0, 96, 0, 0, 0, 0, 80, 0, 0, 0, 0, 80, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 80, 0, 0, 80, 0, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 0, 80]
                  , $ = [336, 80, 80, 0, 0, 0, 96, 352, 96, 0, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 352, 352, 352, 352, 360, 508, 252, 0, 252, 508, 360, 352, 352, 352, 352, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 0, 96, 352, 96, 0, 0, 0, 80, 80, 336]
                  , F = [336, 80, 80, 0, 0, 0, 96, 352, 96, 96, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 352, 352, 352, 352, 360, 508, 252, 0, 252, 508, 488, 352, 352, 352, 352, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 0, 96, 352, 96, 96, 0, 0, 80, 80, 336]
                  , H = [336, 80, 80, 0, 0, 96, 96, 352, 96, 0, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 352, 352, 352, 352, 488, 508, 252, 0, 252, 508, 360, 352, 352, 352, 352, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 96, 96, 352, 96, 0, 0, 0, 80, 80, 336]
                  , j = [336, 80, 80, 0, 0, 96, 96, 352, 96, 96, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 352, 352, 352, 352, 488, 508, 252, 0, 252, 508, 488, 352, 352, 352, 352, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 96, 96, 352, 96, 96, 0, 0, 80, 80, 336]
                  , U = [336, 80, 80, 112, 112, 112, 96, 352, 96, 96, 112, 112, 112, 80, 336, 0, 80, 336, 80, 112, 112, 112, 112, 352, 96, 112, 112, 112, 112, 336, 80, 0, 80, 80, 336, 112, 112, 112, 112, 368, 112, 112, 112, 112, 368, 80, 80, 0, 80, 80, 80, 368, 112, 112, 112, 368, 112, 112, 112, 368, 112, 80, 80, 0, 80, 80, 80, 112, 368, 120, 120, 376, 120, 120, 368, 112, 112, 80, 80, 0, 0, 80, 88, 120, 120, 508, 252, 508, 252, 508, 120, 120, 120, 88, 80, 0, 96, 104, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 104, 0, 352, 352, 480, 480, 488, 508, 252, 0, 252, 508, 488, 480, 480, 480, 352, 0, 96, 104, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 104, 0, 0, 80, 88, 120, 120, 508, 252, 508, 252, 508, 120, 120, 120, 88, 80, 0, 80, 80, 80, 112, 368, 120, 120, 376, 120, 120, 368, 112, 112, 80, 80, 0, 80, 80, 80, 368, 112, 112, 112, 368, 112, 112, 112, 368, 112, 80, 80, 0, 80, 80, 336, 112, 112, 112, 112, 368, 112, 112, 112, 112, 368, 80, 80, 0, 80, 336, 80, 112, 112, 112, 112, 352, 96, 112, 112, 112, 112, 336, 80, 0, 336, 80, 80, 112, 112, 112, 96, 352, 96, 96, 112, 112, 112, 80, 336]
                  , V = [17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0, 0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 33, 16, 31, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 17, 16, 15, 14, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0, -14, -15, -16, -17, -18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, -31, -16, -33, -17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0, 0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0, -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17]
                  , G = [0, 5, 8, 11, 14]
                  , q = [31, 7, 7, 7, 63]
                  , z = {
                    P: 0,
                    p: 0,
                    N: 5,
                    n: 5,
                    B: 8,
                    b: 8,
                    R: 11,
                    r: 11,
                    Q: 14,
                    q: 14
                }
                  , W = [4, 8, 16, _, 64]
                  , K = ["", "N", "B", "R", "Q"]
                  , Z = {
                    CAPTURE: 1,
                    BIG_PAWN: 2,
                    EP_CAPTURE: 4,
                    ANY_CAPTURE: 5,
                    PROMOTION: 8,
                    KSIDE_CASTLE: 16,
                    QSIDE_CASTLE: 32,
                    KQSIDE_CASTLE: 48,
                    DROP: 64,
                    DROP_OR_PROMOTE: 72
                }
                  , X = [0, 6, 1]
                  , Q = {
                    K: 119,
                    Q: 112,
                    k: 7,
                    q: 0,
                    A: 112,
                    B: 113,
                    C: 114,
                    D: 115,
                    E: 116,
                    F: 117,
                    G: 118,
                    H: 119,
                    a: 0,
                    b: 1,
                    c: 2,
                    d: 3,
                    e: 4,
                    f: 5,
                    g: 6,
                    h: 7
                }
                  , Y = ["Event", "Site", "Date", "Round", "White", "Black", "Result"]
                  , J = ["Event", "Site", "Date", "Round", "White", "Black", "Result", "Variant", "SetUp", "FEN", "WhiteA", "WhiteB", "BlackA", "BlackB"];
                function rank(e) {
                    return e >> 4
                }
                function file(e) {
                    return 7 & e
                }
                function algebraic(e) {
                    return String.fromCharCode(file(e) + 97) + (8 - rank(e))
                }
                function swapColor(e) {
                    return 3 - e
                }
                function hashNum(e, t) {
                    e[0] = (e[0] ^ t[0]) >>> 0,
                    e[1] = (e[1] ^ t[1]) >>> 0
                }
                function completeFen(e) {
                    var t, n;
                    return (t = ["", " w - - 0 1", " - - 0 1", " - 0 1", " 0 1", " 1"][(n = (e = e.trim()).split(" ")).length]) && e ? e += t : "0" === n[5] && (n[5] = 1,
                    e = n.join(" ")),
                    e
                }
                function createVariantZobristNumbers() {
                    t.zobristCheck = [[441249556, 340005552], [1040760204, 311043682], [1621584863, 1749286446], [1006868636, 1625552915], [1953853171, 24921145], [161251506, 1935545265]]
                }
                function validateFen(e, t) {
                    var n, a, l, h, p, m, g, v, y, b, _, C, A, S, x, w, P, T, M, I, O = /^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/, N = f[t] || 1 * t || f[String(t).replace(/\s/g, "").toLowerCase()], R = N === f.Crazyhouse || N === f.Bughouse, L = 0, D = 0, B = !0, $ = "", F = {
                        0: 0,
                        7: 0
                    }, H = {
                        0: 0,
                        7: 0
                    }, j = {
                        0: "k",
                        7: "K"
                    }, U = {
                        0: "r",
                        7: "R"
                    }, V = N === f.Chess960;
                    if (!e)
                        return 1;
                    if (N === f.Bughouse && 2 === (p = e.split(" | ")).length)
                        return 0 === (m = validateFen(p[0], t)) && (m = validateFen(p[1], t)),
                        m;
                    if (p = e.split(/\s+/),
                    N === f["3-check"] && 7 === p.length && (h = p.pop(),
                    !/^\+[0-3]\+[0-3]$/.test(h) || "+3+3" === h))
                        return 14;
                    if (6 !== p.length)
                        return 1;
                    if (/\D|.{7,}|^0|^$/.test(p[5]))
                        return 2;
                    if (/\D|.{7,}|^0.|^$/.test(p[4]))
                        return 3;
                    if (!/^(?:-|[abcdefgh][36])$/.test(p[3]))
                        return 4;
                    if (b = p[2],
                    V) {
                        if (!O.test(b))
                            return 12
                    } else if (!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(b)) {
                        if (void 0 !== t || !O.test(b))
                            return 5;
                        V = !0
                    }
                    if ("w" !== p[1] && "b" !== p[1])
                        return 6;
                    if (R && (p[0] = p[0].replace(/~(?=.*\/)/g, "")),
                    a = p[0].split("/"),
                    R && 9 === a.length && (h = a.pop(),
                    !/^[pnbrq]{0,63}$/i.test(h)))
                        return 13;
                    if (8 !== a.length)
                        return 7;
                    if ("3" === p[3][1] && "w" === p[1] || "6" === p[3][1] && "b" === p[1])
                        return 11;
                    for ("-" !== p[3] && (g = 4 == (D = "3" === p[3][1] ? 4 : 3) ? 5 : 2,
                    L = p[3].charCodeAt(0) - 97,
                    B = !1,
                    $ = 4 === D ? "P" : "p"),
                    n = 0; n < a.length; ++n) {
                        for (T = 0,
                        M = !1,
                        I = 0; I < a[n].length; I++)
                            if (+(l = a[n][I]) == +l) {
                                if (M)
                                    return 8;
                                T += 1 * l,
                                M = !0
                            } else {
                                if (-1 === k.indexOf(l))
                                    return 9;
                                if (B || D !== n || L !== T || $ !== l || (B = !0),
                                g === n && L === T)
                                    return 11;
                                n % 7 == 0 && (l === j[n] ? H[n] = 1 << T : l === U[n] && (F[n] |= 1 << T)),
                                ++T,
                                M = !1
                            }
                        if (8 !== T)
                            return 10
                    }
                    if (!B)
                        return 11;
                    if ("-" !== b)
                        if (V)
                            for (C = {
                                0: 0,
                                1: 0,
                                2: 252,
                                4: 248,
                                8: 240,
                                16: 224,
                                32: 192,
                                64: 128,
                                128: 0
                            },
                            _ = {
                                0: 0,
                                1: 0,
                                2: 1,
                                4: 3,
                                8: 7,
                                16: 15,
                                32: 31,
                                64: 63,
                                128: 0
                            },
                            P = {
                                0: [0, 0],
                                7: [0, 0]
                            },
                            n = b.length - 1; n >= 0; --n) {
                                if (x = b.charCodeAt(n),
                                w && w > x && w - x < 8)
                                    return 15;
                                if (75 === x ? A = F[S = 7] & C[H[S]] : 81 === x ? A = F[S = 7] & _[H[S]] : 107 === x ? A = F[S = 0] & C[H[S]] : 113 === x ? A = F[S = 0] & _[H[S]] : (A = 1 << x - ((S = x >= 97 ? 0 : 7) ? 65 : 97),
                                w = x),
                                !A || 0 != (A & A - 1))
                                    return 15;
                                if (H[S] < 2 || H[S] > 64 || (A & F[S]) !== A)
                                    return 15;
                                if (++P[S][1 * (H[S] < A)] > 1)
                                    return 15
                            }
                        else {
                            if ((v = (b.indexOf("K") > -1 ? 128 : 0) | (b.indexOf("Q") > -1 ? 1 : 0)) && (16 !== H[7] || (v & F[7]) !== v))
                                return 15;
                            if ((y = (b.indexOf("k") > -1 ? 128 : 0) | (b.indexOf("q") > -1 ? 1 : 0)) && (16 !== H[0] || (y & F[0]) !== y))
                                return 15
                        }
                    return 0
                }
                function handToString(e, t) {
                    var n, a, l = "", f = 0, h = t ? 6 : 0;
                    if (e)
                        for (; f < 5; ) {
                            for (n = e >> G[f] & q[f],
                            a = 0; a < n; ++a)
                                l += k[f + h];
                            ++f
                        }
                    return l
                }
                function hashEP(e, n, a, l) {
                    e[a + 1] !== l && e[a - 1] !== l || hashNum(n, t.zobristEnPassant[file(a)])
                }
                function addPawnMove(e, t, a, l) {
                    var f;
                    (0 === n || 2 & e[a + 8]) && (rank(a) % 7 == 0 ? (f = l | Z.PROMOTION | t << 7 | a << P,
                    m[v++] = 8388608 | f,
                    m[v++] = 6291456 | f,
                    m[v++] = 4194304 | f,
                    m[v++] = 2097152 | f) : m[v++] = l | t << 7 | a << P)
                }
                function kingOfTheHillWin(e) {
                    switch (e) {
                    case 67:
                    case 68:
                    case 51:
                    case 52:
                        return !0
                    }
                    return !1
                }
                function canCastle960(e, t, n, a) {
                    var l, f, h, p = t + (n - t % 8), m = n > t % 8 ? 1 : -1;
                    for (h = t + m; h !== p; h += m)
                        if (e[h])
                            return !1;
                    if (f = (l = 1 === a ? 1 === m ? 118 : 114 : 1 === m ? 6 : 2) - m,
                    e[l + 8] || e[l] && l !== t && l !== p || e[f] && f !== t && f !== p)
                        return !1;
                    if (l !== t)
                        for (h = t + (m = l > t ? 1 : -1); h !== l; h += m)
                            if (h !== p && e[h] || e[h + 8])
                                return !1;
                    return !0
                }
                var ee = function() {
                    function createLine(e, t, n, a, l, h, p) {
                        var m, g, v, y, b, _, C, A, S, x, w, P = [], T = "", M = !0, k = t[n], I = k.length, O = "";
                        if (k.commands)
                            for (y in k.commands)
                                (!h || h.indexOf(y) > -1) && (O += "[%" + y + " " + k.commands[y] + "]");
                        for (k.initComment && !p && (O = (O + " " + k.initComment.replace(/(\"|\}|\%|\\)/g, "\\$1")).trim()),
                        O && P.push("{" + O + "}"),
                        g = 0; g < I; ++g) {
                            if (_ = 1 === (m = k[g]).color,
                            T = "",
                            O = "",
                            a !== f.Bughouse ? (M && !_ ? T = e + "..." : _ && (T = e + "."),
                            l && (_ || M) && (T += " ")) : (P.bughouseOrder || (P.bughouseOrder = []),
                            P.bughouseOrder.push(m.bughouseOrder),
                            g || (P.blackCountOffset = 2 === k[0].color ? 1 : 0)),
                            T += m.san,
                            m.annotation && (T += m.annotation),
                            m.additionalAnnotation && (T += " " + m.additionalAnnotation.join(" ")),
                            M = !1,
                            void 0 === m.time || m.commands || (m.commands = {
                                clk: (S = m.time,
                                x = void 0,
                                w = void 0,
                                x = Math.floor(S % 36e3 / 600),
                                w = Math.floor(S % 36e3 % 600) / 10,
                                Math.floor(S / 36e3) + ":" + (x < 10 ? "0" : "") + x + ":" + (w < 10 ? "0" : "") + w)
                            }),
                            m.commands)
                                for (y in m.commands)
                                    (!h || h.indexOf(y) > -1) && (O += "[%" + y + " " + m.commands[y] + "]");
                            if (m.comment && !p && (O = (O + " " + m.comment.replace(/(\"|\}|\%|\\)/g, "\\$1")).trim()),
                            O && (T += " {" + O + "}",
                            M = !0),
                            P.push(T),
                            m.lines)
                                for (C = m.lines.length,
                                v = 0; v < C; ++v)
                                    t[A = m.lines[v]].length && ((b = createLine(e, t, A, a, l, h, p))[0] = "(" + b[0],
                                    b[b.length - 1] += ")",
                                    P = P.concat(b),
                                    M = !0);
                            _ || e++
                        }
                        return P
                    }
                    function createHeader(e, t) {
                        return "[" + e + ' "' + String(t).replace(/(\"|\\)/g, "\\$1") + '"]'
                    }
                    return function generatePgn2(e, t, n, a, l, h) {
                        var p, m, g = "string" == typeof e.newline ? e.newline : "\n", v = void 0 === e.spaceAfterPeriods || e.spaceAfterPeriods, y = "";
                        for (p in y += createHeader("Event", t.Event) + g,
                        y += createHeader("Site", t.Site) + g,
                        y += createHeader("Date", t.Date) + g,
                        y += createHeader("Round", t.Round) + g,
                        l === f.Bughouse ? (y += createHeader("WhiteA", t.WhiteA || "?") + g,
                        y += createHeader("BlackA", t.BlackA || "?") + g,
                        y += createHeader("WhiteB", t.WhiteB || "?") + g,
                        y += createHeader("BlackB", t.BlackB || "?") + g) : (y += createHeader("White", t.White) + g,
                        y += createHeader("Black", t.Black) + g),
                        y += createHeader("Result", t.Result) + g,
                        l && (y += createHeader("Variant", t.Variant) + g),
                        t.FEN && t.FEN !== I && (y += createHeader("SetUp", "1") + g,
                        y += createHeader("FEN", t.FEN) + g),
                        t)
                            -1 === J.indexOf(p) && (y += createHeader(p, t[p]) + g);
                        if (y += g,
                        m = createLine(a, n, 0, l, v, e.hideCommands ? [] : e.restrictCommands, e.hideComments),
                        l === f.Bughouse) {
                            if (h.isDependent)
                                return m;
                            m = function makeBugHousePgn(e, t, n) {
                                var a = t
                                  , l = e.siblingGame.pgn()
                                  , f = 0
                                  , h = 0
                                  , p = [];
                                for (t.bughouseOrder = t.bughouseOrder || [],
                                l.bughouseOrder = l.bughouseOrder || []; t.bughouseOrder.length || l.bughouseOrder.length; )
                                    !t.bughouseOrder.length || l.bughouseOrder.length && t.bughouseOrder[0] > l.bughouseOrder[0] ? (l.bughouseOrder.shift(),
                                    p.push("B")) : (t.bughouseOrder.shift(),
                                    p.push("A"));
                                return t = [],
                                p.forEach((function(p) {
                                    var m, g, v, y = "";
                                    "A" === p ? (m = a,
                                    g = ++f,
                                    v = e.startingMoveNumber()) : (m = l,
                                    g = ++h,
                                    v = e.siblingGame.startingMoveNumber()),
                                    y = String(Math.floor((g + 1) / 2) + v - 1),
                                    (m.blackCountOffset + g) % 2 ? y += p : y += p.toLowerCase(),
                                    y += "." + (n ? " " : "") + m.shift(),
                                    t.push(y)
                                }
                                )),
                                t
                            }(h, m, v)
                        }
                        return m.push(t.Result),
                        y + function wordWrap(e, t, n) {
                            return t < 1 ? e : (t = "number" == typeof t ? t : 80,
                            e.replace(new RegExp("(.{1," + t + "})(?: |$|\r?\n)","g"), "$1" + n).slice(0, -n.length))
                        }(m.join(" "), e.maxWidth, g)
                    }
                }()
                  , te = function() {
                    var e = "!?â€¼â‡â‰âˆâ–¡âˆ‡Î”âˆžâ©²â©±Â±âˆ“â¨€âŸ³â†’â†‘â‡†âˆ†âŒ“â‡”â‡—âŸ«âŸªâœ•âŠ¥âŠ•â—‹â‡„â†»âŠ™~"
                      , t = /\[%(\S+)\s([^\]]+)\]/
                      , n = /^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;
                    function extractCommands(e) {
                        for (var n, a = e.commands || {}; n = t.exec(e.value); )
                            e.value = e.value.replace(n[0], "").trim(),
                            a[n[1]] = n[2],
                            e.commands = a
                    }
                    function isSplitGame(e, t, n, a) {
                        for (var l; ++t < n; )
                            if ((l = e[t].trim()) && "%" !== l[0])
                                return "[" === l[0] && (!a || /^\[\S+\s+".*"\]$/.test(l))
                    }
                    return function tokenize(t, a) {
                        var l, f, h, p, m, g, v, y = "tags", b = [], _ = {
                            type: y,
                            value: ""
                        }, C = 0, A = [], S = !0;
                        a = a || {},
                        p = (l = t.split(/\r?\n/)).length;
                        e: for (f = 0; f < p; ++f)
                            if ("%" !== (h = l[f].trim())[0])
                                if (h) {
                                    if (g = (h = " " + h + " ").length,
                                    m = 0,
                                    S)
                                        for (; m < g; ++m)
                                            if (v = h[m],
                                            "tags" === y) {
                                                if ("[" === v)
                                                    _ = {
                                                        type: y = "tagName",
                                                        value: ""
                                                    };
                                                else if (v.trim()) {
                                                    _ = {
                                                        type: y = "san",
                                                        value: ""
                                                    },
                                                    S = !1;
                                                    break
                                                }
                                            } else if ("tagName" === y)
                                                _.value && "" === v.trim() ? (b.push(_),
                                                y = "tagValueStart") : " " !== v && (_.value += v);
                                            else if ("tagValueStart" === y) {
                                                if ('"' === v || "â€œ" === v)
                                                    _ = {
                                                        type: y = "tagValue",
                                                        value: ""
                                                    };
                                                else if (v.trim()) {
                                                    b.push({
                                                        type: "tagValue",
                                                        value: h.slice(m, -1).match(/(.*?)"?\]?$/)[1]
                                                    }),
                                                    _ = {
                                                        type: y = "tags",
                                                        value: ""
                                                    };
                                                    continue e
                                                }
                                            } else if ("tagValue" === y)
                                                if ('"' === v || "â€" === v)
                                                    if (b.push(_),
                                                    "]" === h[m + 1])
                                                        _ = {
                                                            type: y = "tags",
                                                            value: ""
                                                        },
                                                        ++m;
                                                    else {
                                                        if ("]" === h.slice(-2, -1)) {
                                                            _.value += h.substr(m).match(/(.*?)"?\s*\] $/)[1],
                                                            _ = {
                                                                type: y = "tags",
                                                                value: ""
                                                            };
                                                            continue e
                                                        }
                                                        y = "tagEnd"
                                                    }
                                                else
                                                    "\\" === v && m + 2 < g && (v = h[++m]),
                                                    m > 0 && (_.value += v);
                                            else {
                                                if ("]" !== v) {
                                                    if (!v.trim())
                                                        continue;
                                                    --m
                                                }
                                                _ = {
                                                    type: y = "tags",
                                                    value: ""
                                                }
                                            }
                                    for (; m < g; ++m)
                                        if (v = h[m],
                                        "san" === y)
                                            if (e.indexOf(v) > -1)
                                                "!" === v || "?" === v || e.indexOf(v) < 6 && (v = ["!!", "??", "!?", "?!"][e.indexOf(v) - 2]) ? (_.value && b.push(_),
                                                _ = {
                                                    type: "a",
                                                    value: v
                                                },
                                                "!" !== h[m + 1] && "?" !== h[m + 1] || (_.value += h[++m]),
                                                b.push(_),
                                                _ = {
                                                    type: "san",
                                                    value: ""
                                                }) : ("âˆž" === v && "=/" === _.value ? (_.type = "aa",
                                                _.value += v) : (_.value && (n.test(_.value) && ("--" !== _.value || a.rejectNullMoves) && (_.type = "aa"),
                                                b.push(_)),
                                                _ = {
                                                    type: "aa",
                                                    value: v
                                                },
                                                "â†‘" === v && "â†‘" === h[m + 1] && (_.value = "â†»",
                                                ++m)),
                                                b.push(_),
                                                _ = {
                                                    type: "san",
                                                    value: ""
                                                });
                                            else if (" " === v || "\t" === v || "\r" === v || "{" === v || "(" === v || ")" === v) {
                                                if (_.value) {
                                                    if ("$" === _.value[0])
                                                        _.type = "nag";
                                                    else if ("*" === _.value || "1-0" === _.value || "0-1" === _.value || "1/2-1/2" === _.value || "Â½-Â½" === _.value) {
                                                        if (!(C || m + 1 < g)) {
                                                            if (_.type = "result",
                                                            "Â½-Â½" === _.value && (_.value = "1/2-1/2"),
                                                            b.push(_),
                                                            A.push(b),
                                                            f + 1 === p || f + 2 === p && !l[f + 1])
                                                                return A;
                                                            S = !0,
                                                            _ = {
                                                                type: y = "tags",
                                                                value: ""
                                                            },
                                                            b = [];
                                                            break
                                                        }
                                                        _.type = "*" === _.value ? "cont" : "comment"
                                                    }
                                                    n.test(_.value) && ("--" !== _.value || a.rejectNullMoves) && (_.type = "aa"),
                                                    b.push(_),
                                                    _ = {
                                                        type: y,
                                                        value: ""
                                                    }
                                                }
                                                if (" " === v || "\t" === v || "\r" === v)
                                                    y = "san";
                                                else if ("{" === v)
                                                    y = "comment",
                                                    b.length && "comment" === b[b.length - 1].type && ((_ = b.pop()).value += " ");
                                                else if ("(" === v)
                                                    y = "san",
                                                    b.push({
                                                        type: "variationStart",
                                                        value: ++C
                                                    });
                                                else {
                                                    if (C < 1) {
                                                        if (!a.commentErrors)
                                                            return !1
                                                    } else
                                                        b.push({
                                                            type: "variationEnd",
                                                            value: C--
                                                        });
                                                    y = "san"
                                                }
                                                _.type = y
                                            } else if ("." === v || !_.value && +v == +v && "-" !== h[m + 1] && "/" !== h[m + 1]) {
                                                if (+v == +v)
                                                    switch (_.number || (_.number = ""),
                                                    _.number += v,
                                                    h[m + 1]) {
                                                    case "A":
                                                    case "a":
                                                    case "B":
                                                    case "b":
                                                        _.number += h[++m],
                                                        b.push({
                                                            type: "number",
                                                            value: _.number
                                                        }),
                                                        delete _.number
                                                    }
                                            } else
                                                _.value += v;
                                        else
                                            0 === m && (_.value = _.value.trim()),
                                            "}" !== v ? ("\\" === v && m + 2 < g && (v = h[++m]),
                                            _.value += v) : (_.value = _.value.trim(),
                                            _.value.indexOf("[") > -1 && extractCommands(_),
                                            b.push(_),
                                            _ = {
                                                type: y = "san",
                                                value: ""
                                            })
                                } else
                                    b.length && ("tags" === y ? (y = "san",
                                    S = !1) : "tagValueStart" !== y && isSplitGame(l, f, p, C || "comment" === y) && ("comment" === y && b.push(_),
                                    "tagValue" !== b[b.length - 1].type && (A.push(b),
                                    b = []),
                                    y = "tags",
                                    S = !0,
                                    C = 0));
                        return _.value && b.push(_),
                        !b.length && A.length || A.push(b),
                        A
                    }
                }();
                function Chess2(J, ne) {
                    var re, oe, ie = 0, ae = !0, se = [], ue = 1, ce = [], le = b, de = 0, fe = 1, he = 1, pe = [], me = [pe], ge = 0;
                    pe.id = ge;
                    var ve = {}
                      , ye = []
                      , be = !1
                      , _e = !1
                      , Ce = makeMoveChess
                      , moveToSan = function(e, t) {
                        var n, a, l, f, h, p, b = "";
                        return e & Z.KQSIDE_CASTLE ? b = e & Z.KSIDE_CASTLE ? "O-O" : "O-O-O" : e & Z.DROP ? ((n = e >> T) && (b += K[n]),
                        b += "@" + algebraic(l = e >> P & M)) : (l = e >> P & M,
                        4 & (f = oe[a = e >> 7 & M]) ? (e & Z.ANY_CAPTURE && (b += String.fromCharCode(file(a) + 97) + "x"),
                        b += algebraic(l),
                        e & Z.PROMOTION && (b += "=" + K[n = e >> T])) : (b += D[f & S],
                        y > 1 && (b += function getDisambiguator(e, t, n) {
                            var a, l, f, h, p, g;
                            if (v < 2)
                                return "";
                            for (e &= A,
                            g = 0; g < v; ++g)
                                if (n === (a = m[g]) >> P && (f = a >> 7 & M) !== t && oe[f] & e) {
                                    if (l = !0,
                                    rank(t) === rank(f)) {
                                        if (h)
                                            return algebraic(t);
                                        p = !0
                                    }
                                    if (file(t) === file(f)) {
                                        if (p)
                                            return algebraic(t);
                                        h = !0
                                    }
                                }
                            return l ? h ? String(8 - rank(t)) : String.fromCharCode(file(t) + 97) : ""
                        }(f, a, l)),
                        e & Z.ANY_CAPTURE && (b += "x"),
                        b += algebraic(l))),
                        t || (e & Z.KQSIDE_CASTLE ? (a = e >> 7 & M,
                        l = e >> P & M) : e & Z.DROP_OR_PROMOTE && (f = W[n] + ue),
                        inCheckAfterMove(f, a, l, e) && (Ce(e, a, l, n),
                        h = g,
                        g = v,
                        p = y,
                        ie && isVariantWin() || generateMoves() === g ? b += "#" : b += "+",
                        v = g,
                        g = h,
                        y = p,
                        reverseMove(pe.pop()))),
                        b
                    };
                    function hashPosition() {
                        var e, n, a, l = 1 === ue ? [4174784170, 2938602761] : [0, 0];
                        for (a = 0; a < 120; ++a)
                            136 & a && (a += 8),
                            (e = oe[a]) && hashNum(l, t.zobristPiece[64 * t.zobristPieceValueNumbers[e & S] + 8 * (7 - rank(a)) + file(a)]);
                        if (_e)
                            for (n = 1; n < 3; ++n)
                                ce[n] && (0 != (ce[n] & ce[n] - 1) ? (hashNum(l, t.zobristCastle[n - 1]),
                                hashNum(l, t.zobristCastle[n + 1])) : ce[n] > 1 << file(se[n]) ? hashNum(l, t.zobristCastle[n - 1]) : hashNum(l, t.zobristCastle[n + 1]));
                        else {
                            for (n = 1; n < 3; ++n)
                                ce[n] && (ce[n] & Z.KSIDE_CASTLE && hashNum(l, t.zobristCastle[n - 1]),
                                ce[n] & Z.QSIDE_CASTLE && hashNum(l, t.zobristCastle[n + 1]));
                            be ? function hashHand(e, n) {
                                var a, l, f, h, p, m, g, v = 0;
                                for (a = 1; a < 3; ++a) {
                                    if (l = n[a])
                                        for (f = 0; f < 5; ) {
                                            for (p = v + 63 * f,
                                            h = l >> G[f] & q[f],
                                            m = 0; m < h; ++m)
                                                hashNum(e, [31 * (g = t.zobristPiece[p++])[0] >>> 0, 17 * g[1] >>> 0]);
                                            ++f
                                        }
                                    v = 315
                                }
                            }(l, re._hand) : ie === f["3-check"] && function hash3Check(e, n) {
                                n[1] && hashNum(e, t.zobristCheck[n[1] - 1]),
                                n[2] && hashNum(e, t.zobristCheck[n[2] + 2])
                            }(l, ye)
                        }
                        return le !== b && hashEP(oe, l, le + (1 === ue ? 16 : -16), 4 | ue),
                        l
                    }
                    function getCurrentHash() {
                        var e;
                        return pe.length ? e = pe[pe.length - 1].hash : (pe.hash || (pe.hash = hashPosition()),
                        e = pe.hash),
                        [e[0], e[1]]
                    }
                    function bughouseify(e) {
                        function fixBughouseSan(e) {
                            return /#/.test(e) && checkIsPotentiallyBlockable() && (e = e.replace("#", "+")),
                            e
                        }
                        function bughouseFunc(t, n) {
                            var a = e(t, n);
                            return a && ("string" == typeof a ? a = fixBughouseSan(a) : (a.san = fixBughouseSan(a.san),
                            pe[pe.length - 1].san = a.san)),
                            a
                        }
                        return bughouseFunc._isBughouseified = !0,
                        bughouseFunc._orig = e,
                        bughouseFunc
                    }
                    function setVariant(e, t) {
                        ie !== (ie = e ? f[e] || 1 * e || f[String(e).replace(/\s/g, "").toLowerCase()] || f.Chess : 0) && (ie === f.Bughouse ? (be = !0,
                        re.isDependent || (re.siblingGame = Chess2(),
                        re.siblingGame.hashing(ae),
                        re.siblingGame.isDependent = !0,
                        re.siblingGame.siblingGame = re,
                        re.siblingGame.header({
                            Variant: "Bughouse"
                        })),
                        createVariantZobristNumbers(),
                        Ce = makeMoveVariant,
                        moveToSan = bughouseify(moveToSan),
                        re.move = bughouseify(re.move)) : (delete re.siblingGame,
                        be = ie === f.Crazyhouse,
                        _e = ie === f.Chess960,
                        ie ? (createVariantZobristNumbers(),
                        Ce = makeMoveVariant) : Ce = makeMoveChess,
                        moveToSan._isBughouseified && (moveToSan = moveToSan._orig,
                        re.move = re.move._orig)),
                        t || updateSetup(generateFen()))
                    }
                    function disambiguate960Rook(e, t) {
                        for (var n, a, l = e > 7 ? 1 : 2; !(136 & e); ) {
                            if ((n = oe[e]) & l)
                                if (n & _) {
                                    if (a)
                                        return;
                                    a = e % 8 + (1 === l ? 65 : 97)
                                } else if (n & C)
                                    return a;
                            e += t
                        }
                    }
                    function clear(e, t, n) {
                        oe = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        ue = 1,
                        se[1] = b,
                        se[2] = b,
                        ce[1] = 0,
                        ce[2] = 0,
                        re._hand[1] = 0,
                        re._hand[2] = 0,
                        ye[1] = 0,
                        ye[2] = 0,
                        le = b,
                        de = 0,
                        fe = 1,
                        t || (me = [pe = []],
                        ge = 0,
                        pe.id = ge,
                        ve = {
                            Event: "?",
                            Site: "?",
                            Date: "????.??.??",
                            Round: "?",
                            White: "?",
                            Black: "?",
                            Result: "*"
                        },
                        e ? setHeader(["Variant", e]) : setVariant(!1, n),
                        n || updateSetup(generateFen()))
                    }
                    function reset() {
                        clear(0, !1, !0),
                        pe.hash = [1178310168, 378666140],
                        oe = [34, 10, 18, 66, 130, 18, 10, 34, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 6, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 33, 9, 17, 65, 129, 17, 9, 33, 0, 0, 0, 0, 0, 0, 0, 0],
                        he = 1,
                        se[1] = 116,
                        se[2] = 4,
                        ce[1] = 48,
                        ce[2] = 48
                    }
                    function load(e, t, n, a) {
                        var l, m, g, v, y, A, S, w, P, T, M, k, I = 0;
                        if (a ? (k = (l = e.split(" "))[3],
                        M = l[2]) : (k = (l = e.trim().split(/\s+/))[3] || "-",
                        M = l[2] || "-"),
                        void 0 === t ? (31 & M.charCodeAt(0)) < 9 && setVariant(f.Chess960, !0) : setVariant(t, !0),
                        m = l[0],
                        !a && !(m = function fixFenPieces(e, t) {
                            var n, a, l = e.length, h = 0, p = 0, m = t && (t === f.Crazyhouse || t === f.Bughouse);
                            for (n = 0; n < l; ++n)
                                if (+(a = e[n]) != +a)
                                    if ("/" === a) {
                                        if (8 !== p && (e = e.substr(0, n) + (8 - p) + e.substr(n),
                                        ++n,
                                        ++l),
                                        p = 0,
                                        ++h > 7) {
                                            if (!m && n < l - 1 || !/^[pnbrq]{0,63}$/i.test(e.substr(n + 1)))
                                                return !1;
                                            break
                                        }
                                    } else if (N[a]) {
                                        if (++p > 8)
                                            return !1
                                    } else {
                                        if ("~" !== a)
                                            return !1;
                                        m && n && /[nbrq]/i.test(e[n - 1]) || (e = e.substr(0, n) + e.substr(n + 1),
                                        --n,
                                        --l)
                                    }
                                else
                                    (p += 1 * a) > 8 && (e = e.substr(0, n) + (a - (p - 8)) + e.substr(n + 1),
                                    p = 8);
                            return e
                        }(m, ie)))
                            return !1;
                        if (v = m.length,
                        clear(h[ie], n, !0),
                        be) {
                            if (ie === f.Bughouse && !re.isDependent && (A = e.split(" | "),
                            !re.siblingGame.load(1 === A.length ? e : A[1], t, n, a)))
                                return reset(),
                                !1;
                            for (y = 0; y < v; ++y)
                                if (+(S = m[y]) != +S)
                                    if ("/" === S) {
                                        if (I > 111) {
                                            for (++y; y < v; ++y)
                                                S = m[y],
                                                re._hand[S < "a" ? 1 : 2] += 1 << z[S] >>> 0;
                                            break
                                        }
                                        I += 8
                                    } else
                                        oe[I] = N[S],
                                        "~" === m[y + 1] && (++y,
                                        oe[I] |= x),
                                        oe[I] & C && (se[3 & oe[I]] = I),
                                        ++I;
                                else
                                    I += 1 * S
                        } else
                            for (y = 0; y < v; ++y)
                                +(S = m[y]) != +S ? "/" === S ? I += 8 : (oe[I] = N[S],
                                oe[I] & C && (se[3 & oe[I]] = I),
                                ++I) : I += 1 * S;
                        if (ue = "b" === l[1] ? 2 : 1,
                        "-" !== M)
                            if (_e) {
                                for (P = {
                                    1: [0, 0],
                                    2: [0, 0]
                                },
                                y = M.length - 1; y >= 0; --y)
                                    75 === (g = M.charCodeAt(y)) ? g = disambiguate960Rook(119, -1) : 81 === g ? g = disambiguate960Rook(112, 1) : 107 === g ? g = disambiguate960Rook(7, -1) : 113 === g && (g = disambiguate960Rook(0, 1)),
                                    w = g < 97 ? 1 : 2,
                                    T = Q[String.fromCharCode(g)],
                                    (a || oe[T] === (_ | w)) && (g >= 97 ? se[w] >= 1 && se[w] <= 6 && (ce[w] |= 1 << T) : se[w] >= 113 && se[w] <= 118 && (ce[w] |= 1 << T - 112),
                                    ++P[w][1 * (se[w] < T)]);
                                (P[1][0] > 1 || P[1][1] > 1) && (ce[1] = 0),
                                (P[2][0] > 1 || P[2][1] > 1) && (ce[2] = 0)
                            } else {
                                if (!a)
                                    for (y = M.length - 1; y >= 0; --y)
                                        w = M.charCodeAt(y) < 97 ? 1 : 2,
                                        oe[Q[M[y]]] === (_ | w) && se[w] === (1 === w ? 116 : 4) || (M = M.substr(0, y) + M.substr(y + 1));
                                for (y = M.length - 1; y >= 0; --y)
                                    switch (M[y]) {
                                    case "K":
                                        ce[1] |= Z.KSIDE_CASTLE;
                                        break;
                                    case "Q":
                                        ce[1] |= Z.QSIDE_CASTLE;
                                        break;
                                    case "k":
                                        ce[2] |= Z.KSIDE_CASTLE;
                                        break;
                                    case "q":
                                        ce[2] |= Z.QSIDE_CASTLE
                                    }
                            }
                        return !a && (2 !== k.length || 1 === ue && "6" !== k[1] || 2 === ue && "3" !== k[1] || oe[k.charCodeAt(0) - 97 + 16 * (8 - ("3" === k[1] ? 4 : 5))] !== (4 | swapColor(ue)) || oe[p[k]]) && (k = "-"),
                        le = "-" === k ? b : p[k],
                        de = 1 * l[4] || 0,
                        fe = 1 * l[5] || 1,
                        ie === f["3-check"] && (l[6] && "+3+3" !== l[6] && (A = l[6].match(/^\+([0-3])\+([0-3])$/)),
                        A = A || [0, 0, 0],
                        ye[1] = 1 * A[1],
                        ye[2] = 1 * A[2]),
                        n || (he = fe,
                        updateSetup(generateFen())),
                        !0
                    }
                    function generateFen() {
                        return ie ? function generateVariantFen() {
                            var e, t, n, a = 0, l = "", h = "";
                            for (e = 0; e < 120; ++e)
                                136 & e && (a && (l += a),
                                l += "/",
                                a = 0,
                                e += 8),
                                (n = oe[e]) ? (a && (l += a,
                                a = 0),
                                l += L[n & S],
                                be && n & x && (l += "~")) : ++a;
                            if (a && (l += a),
                            be && (l += "/" + handToString(re._hand[1], !0) + handToString(re._hand[2])),
                            _e) {
                                for (t = ce[2],
                                e = 0; t; )
                                    1 & t && (h = String.fromCharCode(e + 97) + h),
                                    t >>= 1,
                                    ++e;
                                for (t = ce[1],
                                e = 0; t; )
                                    1 & t && (h = String.fromCharCode(e + 65) + h),
                                    t >>= 1,
                                    ++e
                            } else
                                ce[1] & Z.KSIDE_CASTLE && (h += "K"),
                                ce[1] & Z.QSIDE_CASTLE && (h += "Q"),
                                ce[2] & Z.KSIDE_CASTLE && (h += "k"),
                                ce[2] & Z.QSIDE_CASTLE && (h += "q");
                            return l += " " + (1 === ue ? "w" : "b") + " " + (h || "-") + " " + (le === b ? "-" : algebraic(le)) + " " + de + " " + fe,
                            ie === f["3-check"] ? l += " +" + ye[1] + "+" + ye[2] : ie !== f.Bughouse || re.isDependent || (l += " | " + re.siblingGame.fen()),
                            l
                        }() : function generateStandardFen() {
                            var e, t, n = 0, a = "", l = "";
                            for (e = 0; e < 120; ++e)
                                136 & e && (n && (a += n),
                                a += "/",
                                n = 0,
                                e += 8),
                                (t = oe[e]) ? (n && (a += n,
                                n = 0),
                                a += L[t & S]) : ++n;
                            return n && (a += n),
                            ce[1] & Z.KSIDE_CASTLE && (l += "K"),
                            ce[1] & Z.QSIDE_CASTLE && (l += "Q"),
                            ce[2] & Z.KSIDE_CASTLE && (l += "k"),
                            ce[2] & Z.QSIDE_CASTLE && (l += "q"),
                            a + " " + (1 === ue ? "w" : "b") + " " + (l || "-") + " " + (le === b ? "-" : algebraic(le)) + " " + de + " " + fe
                        }()
                    }
                    function setHeader(e) {
                        var t, n, a;
                        for (t = 0; t < e.length; t += 2)
                            n = e[t],
                            a = e[t + 1],
                            n && ("Variant" === n && (setVariant(a),
                            a = ie ? h[ie] : void 0),
                            "Result" === n && "*" !== a && "1-0" !== a && "0-1" !== a && "1/2-1/2" !== a && (a = "*"),
                            void 0 !== a ? ve[n] = String(a) : Y.indexOf(n) > -1 ? ve[n] = "Date" === n ? "????.??.??" : "?" : delete ve[n]);
                        return ve
                    }
                    function updateSetup(e) {
                        pe.length > 0 || ge || (e !== I ? (ve.SetUp = "1",
                        ve.FEN = e,
                        pe.hash = null) : (delete ve.SetUp,
                        delete ve.FEN,
                        pe.hash = [1178310168, 378666140]))
                    }
                    function get2(e) {
                        var t = oe[p[e]];
                        return t ? {
                            type: L[t & A | 2],
                            color: 3 & t,
                            promoted: 0 != (t & x)
                        } : null
                    }
                    function calculateLegalMoveInfo(t, f) {
                        var h, p, m, g, v, y, _, C, S, x, P, T, M, k = ue, I = oe;
                        if (e = [],
                        n = 0,
                        a = 0,
                        l = 0,
                        I[8] = I[9] = I[10] = I[11] = I[12] = I[13] = I[14] = I[15] = I[24] = I[25] = I[26] = I[27] = I[28] = I[29] = I[30] = I[31] = I[40] = I[41] = I[42] = I[43] = I[44] = I[45] = I[46] = I[47] = I[56] = I[57] = I[58] = I[59] = I[60] = I[61] = I[62] = I[63] = I[72] = I[73] = I[74] = I[75] = I[76] = I[77] = I[78] = I[79] = I[88] = I[89] = I[90] = I[91] = I[92] = I[93] = I[94] = I[95] = I[104] = I[105] = I[106] = I[107] = I[108] = I[109] = I[110] = I[111] = I[120] = I[121] = I[122] = I[123] = I[124] = I[125] = I[126] = I[127] = 0,
                        f !== b) {
                            for (T = function chooseKingThreats(e, t) {
                                return _e && ce[e] ? U : ce[e] & Z.KSIDE_CASTLE && !oe[t + 1] && !oe[t + 2] ? ce[e] & Z.QSIDE_CASTLE && !oe[t - 1] && !oe[t - 2] && !oe[t - 3] ? (l = Z.KQSIDE_CASTLE,
                                j) : (l = Z.KSIDE_CASTLE,
                                F) : ce[e] & Z.QSIDE_CASTLE && !oe[t - 1] && !oe[t - 2] && !oe[t - 3] ? (l = Z.QSIDE_CASTLE,
                                H) : $
                            }(k, f),
                            h = 0; h < 120; ++h)
                                if (136 & h && (h += 8),
                                g = oe[h])
                                    if (g & k)
                                        (!t || (0 | g) & t) && e.push(h);
                                    else if (0 != ((M = T[h - f + 119]) & g))
                                        if (4 & g)
                                            for (S = O[g],
                                            p = 1; p < 3; ++p)
                                                136 & (_ = h + S[p]) || (I[_ + 8] |= 1,
                                                _ === f && (++n,
                                                I[h + 8] |= 2));
                                        else {
                                            C = (S = O[g & A]).length,
                                            P = g & w;
                                            e: for (p = 0; p < C; ++p)
                                                if (x = S[p],
                                                !(f > (_ = h) && x < 0 && f - _ > 16 || f < _ && x > 0 && _ - f > 16))
                                                    for (; 0 == (136 & (_ += x)); ) {
                                                        if (I[_ + 8] |= 1,
                                                        v = oe[_]) {
                                                            if (v & k)
                                                                if (_ === f) {
                                                                    for (m = _ - x; m !== h; m -= x)
                                                                        I[m + 8] |= 2;
                                                                    I[h + 8] |= 2,
                                                                    ++n,
                                                                    P && 0 == (136 & (_ += x)) && (I[_ + 8] |= 1)
                                                                } else if (P && 256 & M) {
                                                                    for (y = _; (y += x) !== f; )
                                                                        if (136 & y || oe[y])
                                                                            continue e;
                                                                    I[_ + 8] |= 4 + (Math.abs(x) << 3),
                                                                    ++a
                                                                }
                                                            break
                                                        }
                                                        if (!P)
                                                            break
                                                    }
                                        }
                            n > 1 && (e = [f])
                        } else
                            e = function getPieces(e, t) {
                                var n, a, l = [];
                                for (n = 0; n < 120; ++n)
                                    136 & n && (n += 8),
                                    (a = e[n]) && (a & t) === t && l.push(n);
                                return l
                            }(oe, k | t)
                    }
                    function validateEnPassant(e, t) {
                        var a, l, f, h = t + 16 * (1 === ue ? 1 : -1);
                        return (1 !== n || 0 != (2 & oe[t + 8]) || 0 != (2 & oe[h + 8])) && (a = oe[e],
                        oe[t] = a,
                        oe[e] = 0,
                        l = oe[h],
                        oe[h] = 0,
                        f = inCheck(),
                        oe[e] = a,
                        oe[t] = 0,
                        oe[h] = l,
                        !f)
                    }
                    function addCastlingMoves(e) {
                        var t, n, a;
                        if (_e) {
                            if (ce[e])
                                for (n = (t = se[e]) % 8,
                                a = 0; a < 8; ++a)
                                    ce[e] & 1 << a && canCastle960(oe, t, a, e) && (m[v++] = (a > n ? Z.KSIDE_CASTLE : Z.QSIDE_CASTLE) + (t << 7) + (t + (a - n) << P),
                                    ++a)
                        } else
                            l & Z.KSIDE_CASTLE && (n = (t = se[e]) + 2,
                            0 === oe[t + 9] && 0 === oe[t + 10] && (m[v++] = Z.KSIDE_CASTLE + (t << 7) + (n << P))),
                            l & Z.QSIDE_CASTLE && (n = (t = se[e]) - 2,
                            0 === oe[t + 7] && 0 === oe[t + 6] && (m[v++] = Z.QSIDE_CASTLE + (t << 7) + (n << P)))
                    }
                    function generateMoves(t, l) {
                        var f, h, p, b, _, C, S, x, M, k, I = ue, N = swapColor(I), R = se[I];
                        for (calculateLegalMoveInfo(t, R),
                        y = e.length,
                        v = g,
                        M = 0; M < y; ++M)
                            if (f = e[M],
                            b = oe[f],
                            !(n && a && 4 & oe[f + 8]))
                                if (4 & b)
                                    for (C = O[b],
                                    0 !== a && 0 != (4 & oe[f + 8]) && oe[f + 8] >> 3 != 16 || (_ = f + C[0],
                                    0 === oe[_] && (addPawnMove(oe, f, _, 0),
                                    X[I] === rank(f) && (_ += C[0],
                                    oe[_] || addPawnMove(oe, f, _, Z.BIG_PAWN)))),
                                    h = 1; h < 3; ++h)
                                        136 & (_ = f + (S = C[h])) || a && 4 & oe[f + 8] && oe[f + 8] >> 3 !== Math.abs(S) || (oe[_] & N ? addPawnMove(oe, f, _, Z.CAPTURE) : _ === le && validateEnPassant(f, _) && (m[v++] = Z.EP_CAPTURE | f << 7 | _ << P));
                                else {
                                    if (a && 4 & oe[f + 8]) {
                                        if (8 & b)
                                            continue;
                                        if (!(B[f - se[I] + 119] & b))
                                            continue;
                                        C = [S = oe[f + 8] >> 3, -S]
                                    } else
                                        C = O[b & A];
                                    if (k = f << 7,
                                    f === R) {
                                        for (h = 0; h < 8; ++h)
                                            0 == (136 & (_ = f + (S = C[h]))) && (oe[_] ? oe[_] & N && 0 == (1 & oe[_ + 8]) && (m[v++] = Z.CAPTURE | k | _ << P) : 0 == (1 & oe[_ + 8]) && (m[v++] = k | _ << P));
                                        0 === n && addCastlingMoves(I)
                                    } else
                                        for (p = C.length,
                                        x = b & w,
                                        h = 0; h < p; ++h)
                                            for (S = C[h],
                                            _ = f; !(136 & (_ += S)); ) {
                                                if (oe[_]) {
                                                    oe[_] & N && (0 === n || 2 & oe[_ + 8]) && (m[v++] = Z.CAPTURE | k | _ << P);
                                                    break
                                                }
                                                if ((0 === n || 2 & oe[_ + 8]) && (m[v++] = k | _ << P),
                                                !x)
                                                    break
                                            }
                                }
                        return ie && (be ? function drop(e, t, a) {
                            var l, f, h, p, g;
                            if (!e)
                                for (t && (t >>= 26),
                                p = 0; p < 5; ++p)
                                    if ((!t || (0 | t) == 1 << p) && re._hand[a] & q[p] << G[p]) {
                                        for (0 === p ? (l = 16,
                                        f = 103,
                                        h = Z.DROP) : (l = 0,
                                        f = 119,
                                        h = Z.DROP | p << T),
                                        g = l; g <= f; ++g)
                                            136 & g && (g += 8),
                                            oe[g] || (0 === n || 1 === n && 2 & oe[g + 8]) && (m[v++] = h | g << P);
                                        if (t)
                                            return
                                    }
                        }(l, t, I) : !_e && isVariantWin() && (v = g)),
                        v
                    }
                    function inCheckAfterMove(e, t, n, a) {
                        var l, h, p, m, g, v, y, A;
                        if (ie === f["King of the Hill"] && e & C && kingOfTheHillWin(n))
                            return !0;
                        if (a & Z.KQSIDE_CASTLE && (n = 1 === ue ? a & Z.KSIDE_CASTLE ? 117 : 115 : a & Z.KSIDE_CASTLE ? 5 : 3,
                        e = _,
                        A = !0),
                        (l = se[swapColor(ue)]) === b)
                            return !1;
                        if (0 == (e & C) && B[n - l + 119] & e)
                            for (g = e & w,
                            m = n + (p = V[n - l + 119]); 0 == (136 & m); ) {
                                if (m === l) {
                                    if (4 & e) {
                                        if (1 == (3 & e) ? l - n < 0 : l - n > 0)
                                            return !0;
                                        break
                                    }
                                    return !0
                                }
                                if (m !== t && oe[m] || !g)
                                    break;
                                m += p
                            }
                        if (!A) {
                            if ((h = B[t - l + 119]) & w && (p = V[t - l + 119]) !== V[n - l + 119])
                                for (m = l - p; 0 == (136 & m); ) {
                                    if (m !== t && (v = oe[m])) {
                                        if (v & ue && h & v && v & w)
                                            return !0;
                                        break
                                    }
                                    m -= p
                                }
                            if (a & Z.EP_CAPTURE && (h = B[(y = n + 16 * (1 === ue ? 1 : -1)) - l + 119]) & w)
                                for (m = l - (p = V[y - l + 119]); 0 == (136 & m); ) {
                                    if (m !== t && m !== y) {
                                        if (m === n)
                                            break;
                                        if (v = oe[m]) {
                                            if (v & ue && h & v && v & w)
                                                return !0;
                                            break
                                        }
                                    }
                                    m -= p
                                }
                        }
                        return !1
                    }
                    function attacked(e, t) {
                        var n, a, l, f, h = O[8], p = 8 | e;
                        for (n = 0; n < 8; ++n)
                            if (0 == (136 & (l = t + h[n])) && ((a = oe[l]) & p) === p)
                                return !0;
                        for (h = O[128],
                        n = 0; n < 8; ++n)
                            for (l = t + (f = h[n]); 0 == (136 & l); ) {
                                if (a = oe[l]) {
                                    if (a & e && B[t - l + 119] & a) {
                                        if (!(4 & a))
                                            return !0;
                                        if (1 === e ? t - l < 0 : t - l > 0)
                                            return !0
                                    }
                                    break
                                }
                                l += f
                            }
                        return !1
                    }
                    function kingAttacked(e) {
                        return se[e] !== b && attacked(swapColor(e), se[e])
                    }
                    function inCheck() {
                        return kingAttacked(ue)
                    }
                    function checkIsPotentiallyBlockable() {
                        var e, t, n, a = 1 << G[4];
                        return re._hand[ue] += a,
                        e = g,
                        g = v,
                        t = y,
                        n = generateMoves() !== g,
                        v = g,
                        g = e,
                        y = t,
                        re._hand[ue] -= a,
                        n
                    }
                    function inCheckmate() {
                        return inCheck() && (m[0] = 0) === generateMoves() && !m[0] && (ie !== f.Bughouse || !checkIsPotentiallyBlockable())
                    }
                    function inStalemate() {
                        var e = !inCheck() && (m[0] = 0) === generateMoves() && !m[0];
                        return e && ie === f.Bughouse && !re.isDependent && (e = re.siblingGame.inStalemate()),
                        e && se[ue] !== b
                    }
                    function insufficientMaterial(e) {
                        var t, n, a = 0, l = 0, f = 0;
                        for (n = 0; n < 120; ++n)
                            if (136 & n && (n += 8),
                            t = oe[n]) {
                                if (e && 0 == (t & e))
                                    continue;
                                if (100 & t)
                                    return !1;
                                if (8 & t) {
                                    if (l || a++)
                                        return !1
                                } else if (16 & t) {
                                    if (a)
                                        return !1;
                                    if (++l,
                                    (rank(n) + n) % 2 && ++f,
                                    f && l !== f)
                                        return !1
                                }
                            }
                        return se[1] !== b && se[2] !== b
                    }
                    function inThreefoldRepetition() {
                        if (de < 8)
                            return !1;
                        for (var e, t = getCurrentHash(), n = !1, a = de, l = !1, f = pe, h = f.length - 1; ; ) {
                            if ((h -= 2) < 0) {
                                if (f.id) {
                                    h = f.atMoveNode + h + 2,
                                    f = me[f.parentId];
                                    continue
                                }
                                if (-2 === h)
                                    return !1;
                                e = f.hash,
                                l = !0
                            } else
                                e = f[h].hash,
                                f[h].halfMoves > a || a < 2 ? l = !0 : a = f[h].halfMoves;
                            if (e[0] === t[0] && e[1] === t[1]) {
                                if (n)
                                    return !0;
                                n = !0
                            }
                            if (l)
                                return !1
                        }
                    }
                    function modifyHand(e) {
                        var n, a, l, h, p, m, g, v, y, b = e.move;
                        if (ie === f.Crazyhouse || b & Z.DROP ? (a = re._hand,
                        p = e.hash,
                        y = e.color) : (a = re.siblingGame._hand,
                        e.handSibling = !0,
                        ae && ((m = re.siblingGame._history()).length ? p = m[m.length - 1].hash : (m.hash || (m.hash = re.siblingGame._hashPosition()),
                        p = m.hash)),
                        y = swapColor(e.color)),
                        e.captured) {
                            switch ((e.captured & x ? 4 : e.captured & A) & A) {
                            case 4:
                                g = 0;
                                break;
                            case 8:
                                g = 1;
                                break;
                            case 16:
                                g = 2;
                                break;
                            case _:
                                g = 3;
                                break;
                            default:
                                g = 4
                            }
                            n = 1 << G[g],
                            ae && (h = a[y] >> G[g] & q[g],
                            v = t.zobristPiece[h + 63 * g + (1 === y ? 0 : 315)])
                        } else
                            n = -1 << G[l = b >> T],
                            ae && (h = a[y] >> G[l] & q[l],
                            v = t.zobristPiece[h - 1 + 63 * l + (1 === y ? 0 : 315)]);
                        a[y] += n,
                        e.handChange = n,
                        ae && hashNum(p, [31 * v[0] >>> 0, 17 * v[1] >>> 0])
                    }
                    function makeMoveChess(e, n, a, l) {
                        var f, h, p, m, g, v, y, A, w = ue, P = swapColor(w), T = {
                            move: e,
                            epSquare: le,
                            halfMoves: de,
                            castlingW: ce[1],
                            castlingB: ce[2],
                            color: w
                        }, M = 1 === w;
                        ae && (m = getCurrentHash(),
                        T.hash = m,
                        hashNum(m, t.zobristTurn),
                        le !== b && hashEP(oe, m, le + (M ? 16 : -16), 4 | w)),
                        0 == (e & Z.KQSIDE_CASTLE) ? be && e & Z.DROP ? (oe[a] = W[l] | w,
                        ae && hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[oe[a]] + 8 * (7 - rank(a)) + file(a)]),
                        modifyHand(T),
                        y = 0) : (y = oe[n],
                        (A = oe[a]) && (T.captured = A,
                        ae && hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[oe[a] & S] + 8 * (7 - rank(a)) + file(a)]),
                        A & _ && ce[P] && (_e ? rank(a) === (M ? 0 : 7) && (p = 1 << file(a),
                        ce[P] & p && (ce[P] ^= p,
                        ae && (p > 1 << file(se[w]) ? hashNum(m, t.zobristCastle[P - 1]) : hashNum(m, t.zobristCastle[P + 1])))) : a === (M ? 7 : 119) ? ce[P] & Z.KSIDE_CASTLE && (ce[P] ^= Z.KSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[P - 1])) : a === (M ? 0 : 112) && ce[P] & Z.QSIDE_CASTLE && (ce[P] ^= Z.QSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[P + 1])))),
                        oe[a] = e & Z.PROMOTION ? W[l] | w | x : oe[n],
                        oe[n] = 0,
                        ae && (hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[y & S] + 8 * (7 - rank(n)) + file(n)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[oe[a] & S] + 8 * (7 - rank(a)) + file(a)]))) : y = C,
                        e & Z.EP_CAPTURE ? (M ? (v = a + 16,
                        g = 6) : (v = a - 16,
                        g = 8),
                        T.captured = 4 | P,
                        oe[v] = 0,
                        ae && hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[4 | P] + 8 * (g - rank(a)) + file(a)])) : y & C ? (_e ? (e & Z.KQSIDE_CASTLE && (oe[a] = 0,
                        oe[n] = 0,
                        e & Z.KSIDE_CASTLE ? M ? (f = 118,
                        h = 117) : (f = 6,
                        h = 5) : M ? (f = 114,
                        h = 115) : (f = 2,
                        h = 3),
                        oe[f] = w | C,
                        oe[h] = w | _,
                        ae && (hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(n)) + file(n)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(a)) + file(a)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(f)) + file(f)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(h)) + file(h)]))),
                        ae && (0 != (ce[w] & ce[w] - 1) ? (hashNum(m, t.zobristCastle[w - 1]),
                        hashNum(m, t.zobristCastle[w + 1])) : ce[w] > 1 << file(se[w]) ? hashNum(m, t.zobristCastle[w - 1]) : hashNum(m, t.zobristCastle[w + 1])),
                        se[w] = f || a) : (e & Z.KQSIDE_CASTLE && (oe[a] = oe[n],
                        oe[n] = 0,
                        e & Z.KSIDE_CASTLE ? (f = a - 1,
                        h = a + 1) : (f = a + 1,
                        h = a - 2),
                        oe[f] = oe[h],
                        oe[h] = 0,
                        ae && (hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(n)) + file(n)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(h)) + file(h)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(a)) + file(a)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(f)) + file(f)]))),
                        ae && (ce[w] & Z.KSIDE_CASTLE && hashNum(m, t.zobristCastle[w - 1]),
                        ce[w] & Z.QSIDE_CASTLE && hashNum(m, t.zobristCastle[w + 1])),
                        se[w] = a),
                        ce[w] = 0) : y & _ && ce[w] && (_e ? rank(n) === (M ? 7 : 0) && (p = 1 << file(n),
                        ce[w] & p && (ce[w] ^= p,
                        ae && (p > 1 << file(se[w]) ? hashNum(m, t.zobristCastle[w - 1]) : hashNum(m, t.zobristCastle[w + 1])))) : n === (M ? 119 : 7) ? ce[w] & Z.KSIDE_CASTLE && (ce[w] ^= Z.KSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[w - 1])) : n === (M ? 112 : 0) && ce[w] & Z.QSIDE_CASTLE && (ce[w] ^= Z.QSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[w + 1]))),
                        e & Z.BIG_PAWN ? (le = M ? a + 16 : a - 16,
                        ae && hashEP(oe, m, a, 4 | P)) : le = b,
                        4 & y || e & Z.ANY_CAPTURE ? de = 0 : de++,
                        ue = P,
                        pe.push(T)
                    }
                    function makeMoveVariant(e, n, a, l) {
                        var h, p = ue;
                        makeMoveChess(e, n, a, l),
                        h = pe[pe.length - 1],
                        be ? (de = h.halfMoves + 1,
                        h.captured && modifyHand(h),
                        ie === f.Bughouse && (h.bughouseOrder = re.moveCount() - 1 + re.siblingGame.moveCount())) : ie === f["3-check"] && kingAttacked(ue) && (h.checked = !0,
                        ae && ye[p] && hashNum(h.hash, t.zobristCheck[ye[p] + (1 === p ? -1 : 2)]),
                        ++ye[p],
                        ae && hashNum(h.hash, t.zobristCheck[ye[p] + (1 === p ? -1 : 2)]))
                    }
                    function reverseMove(e) {
                        var t, n, a = ue, l = swapColor(a), h = e.move, p = h >> P & M, m = h >> 7 & M;
                        if (ue = l,
                        ce[2] = e.castlingB,
                        ce[1] = e.castlingW,
                        le = e.epSquare,
                        de = e.halfMoves,
                        ie) {
                            if (_e && h & Z.KQSIDE_CASTLE)
                                return h & Z.KSIDE_CASTLE ? 1 === l ? (n = 118,
                                t = 117) : (n = 6,
                                t = 5) : 1 === l ? (n = 114,
                                t = 115) : (n = 2,
                                t = 3),
                                oe[n] = 0,
                                oe[t] = 0,
                                oe[m] = l | C,
                                oe[p] = l | _,
                                void (se[l] = m);
                            if (e.handChange && (ie !== f.Crazyhouse && e.handSibling ? re.siblingGame._hand[swapColor(l)] -= e.handChange : re._hand[l] -= e.handChange),
                            h & Z.DROP)
                                return void (oe[p] = 0);
                            e.checked && --ye[l]
                        }
                        h & Z.PROMOTION ? (oe[m] = 4 | l,
                        oe[p] = h & Z.CAPTURE ? e.captured : 0) : (oe[m] = oe[p],
                        h & Z.KQSIDE_CASTLE ? (oe[p] = 0,
                        h & Z.KSIDE_CASTLE ? (t = p + 1,
                        n = p - 1) : (t = p - 2,
                        n = p + 1),
                        oe[t] = l | _,
                        oe[n] = 0,
                        se[l] = m) : (p === se[l] && (se[l] = m),
                        h & Z.CAPTURE ? oe[p] = e.captured : (oe[p] = 0,
                        h & Z.EP_CAPTURE && (oe[p - (1 === l ? -16 : 16)] = 4 | a))))
                    }
                    function beautifyMove(e, t, n) {
                        var a, l, f = e >> P & M, h = {
                            color: ue,
                            to: algebraic(f),
                            flags: e & M
                        };
                        return be && 0 != (e & Z.DROP) ? (l = e >> T,
                        h.drop = l,
                        h.piece = W[l] + ue) : (a = e >> 7 & M,
                        h.from = algebraic(a),
                        h.piece = oe[a],
                        e & Z.PROMOTION && (l = e >> T,
                        h.promotion = W[l] + ue),
                        e & Z.CAPTURE ? h.captured = oe[f] : e & Z.EP_CAPTURE && (h.captured = 4 | swapColor(ue))),
                        h.san = t || moveToSan(e, n),
                        h
                    }
                    function isVariantWin() {
                        return ie === f["3-check"] ? 3 === ye[swapColor(ue)] : ie === f["King of the Hill"] ? kingOfTheHillWin(se[swapColor(ue)]) : void 0
                    }
                    function isBughouseWin() {
                        if (ie === f.Bughouse)
                            return re.siblingGame.inCheckmate()
                    }
                    function createVariation() {
                        var e = []
                          , t = generateFen()
                          , n = pe.length - 1
                          , a = pe[n];
                        return !!a && (e.parentId = ge,
                        e.id = me.length,
                        pe.curFen = t,
                        a.lines || (a.lines = []),
                        a.lines.push(e.id),
                        a.move ? reverseMove(a) : (le = a.epSquare,
                        --de,
                        ue = swapColor(ue)),
                        2 === ue && --fe,
                        e.atMoveNode = n,
                        e.hash = n ? pe[n - 1].hash : pe.hash,
                        ge = e.id,
                        me.push(e),
                        pe = e,
                        !0)
                    }
                    function selectLine(e) {
                        var t = generateFen();
                        pe.curFen = t,
                        pe = me[e],
                        ge = e,
                        load(pe.curFen, ie, !0, !0)
                    }
                    return re = {
                        WHITE: 1,
                        BLACK: 2,
                        PAWN: 4,
                        KNIGHT: 8,
                        BISHOP: 16,
                        ROOK: _,
                        QUEEN: 64,
                        KING: C,
                        FLAGS: Z,
                        load: load,
                        reset: reset,
                        moves: function(e) {
                            var t, n, a, l = [], f = moveToSan;
                            for (e && (e.verbose && (f = beautifyMove),
                            e.type && (n = e.type | e.type << 24),
                            a = e.noDrop),
                            generateMoves(n, a),
                            t = 0; t < v; ++t)
                                l.push(f(m[t]));
                            return l
                        },
                        inCheck: inCheck,
                        inCheckmate: inCheckmate,
                        inStalemate: inStalemate,
                        isBughouseWin: isBughouseWin,
                        in50MoveRule: function() {
                            return de >= 100
                        },
                        inDraw: function() {
                            return de >= 100 || inStalemate() || insufficientMaterial() || inThreefoldRepetition() || Boolean(function isBughouseDraw() {
                                if (ie === f.Bughouse)
                                    return re.siblingGame.in50MoveRule() || re.siblingGame.inThreefoldRepetition()
                            }())
                        },
                        insufficientMaterial: insufficientMaterial,
                        inThreefoldRepetition: inThreefoldRepetition,
                        isVariantWin: isVariantWin,
                        gameOver: function() {
                            return re.inDraw() || inCheckmate() || Boolean(isVariantWin()) || Boolean(isBughouseWin())
                        },
                        isPositionValid: function(e) {
                            var t, n, a, l = 0;
                            if (!1 !== (e = e || {}).pawns)
                                for (t = 0; t <= 119; ) {
                                    if (4 & (a = oe[t]))
                                        return !1;
                                    8 == ++t && (t = 112)
                                }
                            if (!1 !== e.kings) {
                                for (t = 0; t <= 119; ++t)
                                    if (136 & t && (t += 8),
                                    (a = oe[t]) & C) {
                                        if (++l > 2)
                                            return !1;
                                        if (n && n & a)
                                            return !1;
                                        n = 3 & a
                                    }
                                if (2 !== l)
                                    return !1
                            }
                            return !1 === e.check || !1 === e.kings && se[swapColor(ue)] === b || !kingAttacked(swapColor(ue))
                        },
                        validateFen: validateFen,
                        fen: generateFen,
                        pgn: function(e) {
                            return (e = e || {}).useResultHeader || ge || (isVariantWin() || inCheckmate() ? ve.Result = 2 === ue ? "1-0" : "0-1" : re.inStalemate() ? ve.Result = "1/2-1/2" : isBughouseWin() && (ve.Result = 1 === re.siblingGame.turn() ? "1-0" : "0-1")),
                            ee(e, ve, me, he, ie, re)
                        },
                        loadPgn: function(e, t, n) {
                            var a, l, f, h, p, m, g, v, y, b = {}, _ = 0;
                            if ("number" != typeof t && (n = n || t,
                            t = 0),
                            n = n || {},
                            "string" == typeof e && (n.singleGame && (e = e.replace(/(?:\r?\n\s*){2,}/g, "\n")),
                            e = re.tokenizePgn(e, n)),
                            t < 0 && (t = e.length + t),
                            !(h = e[t]))
                                return !1;
                            for (reset(),
                            l = h.length,
                            a = 0; a < l && "tagName" === (f = h[a]).type; ++a) {
                                if (!h[a + 1] || "tagValue" !== h[a + 1].type)
                                    return !1;
                                ++a,
                                "FEN" === f.value ? g = completeFen(h[a].value) : b[f.value] = h[a].value
                            }
                            if (n.variant && (b.Variant = n.variant),
                            b.Variant && !g && (g = I),
                            g || "1" === b.SetUp)
                                if ("0" === b.SetUp)
                                    b.FEN = g;
                                else if (!g || !load(g, b.Variant))
                                    return !1;
                            for (re.header(b),
                            m = (p = re)._history(); a < l; ++a)
                                if ("san" === (f = h[a]).type && 0 === _) {
                                    if (!p.move(f.value) && ("Z0" !== f.value && "<>" !== f.value || n.rejectNullMoves || !p.move("--")))
                                        if (n.commentErrors)
                                            m.length ? m[m.length - 1].comment = ((m[m.length - 1].comment || "") + " " + f.value).trim() : m.initComment = ((m.initComment || "") + " " + f.value).trim();
                                        else {
                                            if (!n.skipBadLines || !(0 !== ge || pe.length && n.allowBadMainLine))
                                                return reset(),
                                                !1;
                                            _ = 1
                                        }
                                } else if ("result" === f.type && "*" === ve.Result)
                                    setHeader(["Result", f.value]);
                                else if ("a" === f.type && 0 === _ && m[m.length - 1])
                                    m[m.length - 1].annotation = f.value;
                                else if ("nag" !== f.type && "aa" !== f.type || 0 !== _ || !m[m.length - 1])
                                    if ("comment" === f.type && 0 === _)
                                        m.length ? (f.value && (m[m.length - 1].comment = f.value),
                                        f.commands && (m[m.length - 1].commands = f.commands,
                                        f.commands.clk && (m[m.length - 1].time = (v = f.commands.clk,
                                        y = void 0,
                                        10 * (3600 * (y = v.split(":"))[0] + 60 * y[1] + 1 * y[2]))))) : (m.initComment = String(f.value),
                                        f.commands && (m.commands = f.commands));
                                    else if ("variationStart" === f.type) {
                                        if (_ > 0)
                                            ++_;
                                        else if (!createVariation())
                                            return reset(),
                                            !1;
                                        m = p._history()
                                    } else if ("variationEnd" === f.type)
                                        _ > 0 && --_,
                                        0 === _ && (selectLine(m.parentId),
                                        m = p._history());
                                    else if ("number" === f.type) {
                                        if (!(p = /b/i.test(f.value.slice(-1)) ? re.siblingGame : re))
                                            return !1;
                                        m = p._history()
                                    } else
                                        "cont" === f.type && ge && !m.length && p.move(p._lines()[m.parentId][m.atMoveNode].san);
                                else
                                    m[m.length - 1].additionalAnnotation || (m[m.length - 1].additionalAnnotation = []),
                                    -1 === m[m.length - 1].additionalAnnotation.indexOf(f.value) && m[m.length - 1].additionalAnnotation.push(f.value);
                            return !0
                        },
                        header: function(e) {
                            return Array.isArray(e) ? setHeader(e) : "object" == typeof e ? (Object.keys(e).forEach((function(t) {
                                setHeader([t, e[t]])
                            }
                            )),
                            ve) : ve
                        },
                        turn: function(e) {
                            return 1 !== e && 2 !== e || (ue = e),
                            ue
                        },
                        move: function playMove(e) {
                            var n, a, l, f, h, g, y, _, S, w, I, O, N;
                            if ("string" == typeof e) {
                                switch (e[f = e.length - 1]) {
                                case "+":
                                case "#":
                                    e = e.substr(0, f)
                                }
                                for (S = k.indexOf(e[0]) > 6 ? R[e[0]] : "O" === e[0] ? C : 4,
                                be && (-1 === e.indexOf("@") ? w = !0 : (w = !1,
                                S <<= 24)),
                                generateMoves(S, w),
                                f = 0; f < v; ++f)
                                    if (e === (g = moveToSan(m[f], !0))) {
                                        a = m[f];
                                        break
                                    }
                                if (!a) {
                                    if ("--" === e)
                                        return function makeNullMove() {
                                            var e, n = {
                                                color: ue,
                                                san: "--",
                                                epSquare: le
                                            }, a = {
                                                color: ue,
                                                san: "--"
                                            };
                                            return ae && (e = getCurrentHash(),
                                            n.hash = e,
                                            hashNum(e, t.zobristTurn),
                                            le !== b && hashEP(oe, e, le + (1 === ue ? 16 : -16), 4 | ue)),
                                            le = b,
                                            de++,
                                            1 === (ue = swapColor(ue)) && ++fe,
                                            pe.push(n),
                                            a
                                        }();
                                    if (e = re.fixMove(e))
                                        try {
                                            return playMove(e)
                                        } catch (L) {}
                                    return null
                                }
                                y = a >> 7 & M,
                                _ = a >> P & M,
                                l = a >> T
                            } else {
                                if (e.drop) {
                                    switch (e.drop) {
                                    case "p":
                                        l = 0;
                                        break;
                                    case "n":
                                        l = 1;
                                        break;
                                    case "b":
                                        l = 2;
                                        break;
                                    case "r":
                                        l = 3;
                                        break;
                                    case "q":
                                        l = 4;
                                        break;
                                    default:
                                        return null
                                    }
                                    S = 1 << 26 + l
                                } else {
                                    if (e.promotion)
                                        switch (e.promotion) {
                                        case "q":
                                            l = 4;
                                            break;
                                        case "n":
                                            l = 1;
                                            break;
                                        case "r":
                                            l = 3;
                                            break;
                                        case "b":
                                            l = 2;
                                            break;
                                        default:
                                            return null
                                        }
                                    y = p[e.from],
                                    w = !0,
                                    S = oe[y] & A
                                }
                                for (_ = p[e.to],
                                n = ((l ? l << T : 0) | _ << P) >> 7 | y,
                                generateMoves(S, w),
                                f = 0; f < v; ++f)
                                    if (m[f] >> 7 === n) {
                                        a = m[f];
                                        break
                                    }
                                if (!a)
                                    return (e = re.fixMove(e)) ? playMove(e) : null
                            }
                            return N = a & Z.DROP_OR_PROMOTE ? W[l] + ue : oe[y],
                            h = beautifyMove(a, g, !0),
                            I = inCheckAfterMove(N, y, _, a),
                            Ce(a, y, _, l),
                            I && (ie && isVariantWin() || 0 === generateMoves() ? h.san += "#" : h.san += "+"),
                            (O = pe[pe.length - 1]).san = h.san,
                            h.piece & x && (O.promoted = !0),
                            1 === ue && ++fe,
                            h
                        },
                        undo: function(e) {
                            var t = pe.pop();
                            return t ? (1 === ue && --fe,
                            t.move ? (reverseMove(t),
                            !!e || beautifyMove(t.move, t.san)) : (le = t.epSquare,
                            --de,
                            ue = swapColor(ue),
                            !!e || {
                                san: "--",
                                color: t.color
                            })) : null
                        },
                        clear: function(e) {
                            clear(e)
                        },
                        put: function(e, t, n) {
                            var a, l = p[t], f = !1, h = oe[l], m = 3 & h, g = e.color;
                            if (isNaN(l) || !e.type || !g || -1 === k.indexOf(e.type))
                                return !1;
                            if (oe[l] = R[e.type] | g | (e.promoted ? x : 0),
                            oe[l] & C && (se[g] = l),
                            h && oe[se[m]] && oe[se[m]] !== (C | m)) {
                                for (a = 0; a < 120; ++a)
                                    136 & a && (a += 8),
                                    oe[a] === (C | m) && (se[m] = a,
                                    f = !0);
                                f || (se[m] = b)
                            }
                            return n || load(generateFen(), ie, !1, !1),
                            !0
                        },
                        get: get2,
                        remove: function(e, t) {
                            var n, a = oe[p[e]], l = get2(e), f = 3 & a;
                            if (oe[p[e]] = 0,
                            a & C)
                                for (se[f] = b,
                                ce[f] = 0,
                                n = 0; n < 120; ++n)
                                    if (136 & n && (n += 8),
                                    oe[n] === (C | f)) {
                                        se[a.color] = n;
                                        break
                                    }
                            return t || load(generateFen(), ie, !0, !1),
                            l
                        },
                        history: function(e, t) {
                            for (var n, a = [], l = pe, f = l.length; ; ) {
                                if (-1 == --f) {
                                    if (l.id && !t) {
                                        f = l.atMoveNode,
                                        l = me[l.parentId];
                                        continue
                                    }
                                    break
                                }
                                e ? ((n = beautifyMove(l[f].move, l[f].san)).color = l[f].color,
                                !f && l.initComment && (n.firstComment = l.initComment),
                                void 0 !== l[f].comment && (n.comment = l[f].comment),
                                void 0 !== l[f].time && (n.time = l[f].time),
                                void 0 !== l[f].annotation && (n.annotation = l[f].annotation),
                                void 0 !== l[f].additionalAnnotation && (n.additionalAnnotation = l[f].additionalAnnotation),
                                void 0 !== l[f].commands && (n.commands = l[f].commands),
                                void 0 !== l[f].captured && (n.captured = l[f].captured),
                                void 0 !== l[f].promoted && (n.promoted = l[f].promoted),
                                void 0 !== l[f].lines && (n.lines = l[f].lines),
                                void 0 !== l[f].bughouseOrder && (n.bughouseOrder = l[f].bughouseOrder),
                                k.indexOf(l[f].san[0]) > 6 ? n.piece = R[l[f].san[0]] : "O" === l[f].san[0] ? n.piece = C : n.piece = 4,
                                n.piece |= n.color,
                                a.unshift(n)) : a.unshift(l[f].san)
                            }
                            return a
                        },
                        hashes: function() {
                            for (var e = [], t = pe, n = t.length; ; ) {
                                if (-1 == --n) {
                                    if (t.id) {
                                        n = t.atMoveNode,
                                        t = me[t.parentId];
                                        continue
                                    }
                                    t.hash || getCurrentHash(),
                                    e.unshift(t.hash);
                                    break
                                }
                                e.unshift(t[n].hash)
                            }
                            return e
                        },
                        moveCount: function() {
                            return pe.length
                        },
                        startingMoveNumber: function() {
                            return he
                        },
                        completeFen: completeFen,
                        createVariation: createVariation,
                        selectLine: selectLine,
                        hash: function() {
                            var e = getCurrentHash();
                            return ie !== f.Bughouse || re.isDependent ? e : [e, re.siblingGame.hash()]
                        },
                        hashing: function(e) {
                            ae = e,
                            ie !== f.Bughouse || re.isDependent || re.siblingGame.hashing(ae)
                        },
                        hand: function() {
                            if (be)
                                return handToString(re._hand[1], !0) + handToString(re._hand[2])
                        },
                        checks: function() {
                            if (ie === f["3-check"])
                                return [ye[1], ye[2]]
                        },
                        threats: function() {
                            var e, t, l, f, h, p, y, _ = ue, C = swapColor(_), S = [], x = [], w = [], k = [], I = [], O = le;
                            if (calculateLegalMoveInfo(0, se[_]),
                            n || a)
                                for (e = 0; e < 120; ++e)
                                    136 & e && (e += 8),
                                    2 & oe[e + 8] && oe[e] ? w.push(algebraic(e)) : 4 & oe[e + 8] && S.push(algebraic(e));
                            for (ue = C,
                            le = b,
                            generateMoves(),
                            e = v; e--; ) {
                                if (h = (t = m[e]) >> P & M,
                                p = t >> 7 & M,
                                t & Z.DROP_OR_PROMOTE) {
                                    if (f = W[y = t >> T] | C,
                                    t & Z.PROMOTION && y % 3 != 1)
                                        continue
                                } else
                                    f = oe[p],
                                    y = 0;
                                if (inCheckAfterMove(f, p, h, t) && (Ce(t, p, h, y),
                                g = e,
                                (ie && isVariantWin() || generateMoves() === e) && x.push((t & Z.DROP ? L[f].toLowerCase() + "@" : algebraic(p)) + algebraic(h)),
                                reverseMove(pe.pop()),
                                t & Z.CAPTURE)) {
                                    for (l = 0,
                                    e = v; e > g; )
                                        if ((m[--e] >> P & M) === h) {
                                            l = 1,
                                            e = g;
                                            break
                                        }
                                    if (!l) {
                                        k.push(algebraic(p) + algebraic(h));
                                        continue
                                    }
                                }
                                t & Z.CAPTURE && 1 !== y && (l = 124 & oe[h]) && (attacked(_, h) ? l > (f = oe[p] & A) && l - f != 8 && I.push(algebraic(p) + algebraic(h)) : k.push(algebraic(p) + algebraic(h)))
                            }
                            return g = 0,
                            ue = _,
                            le = O,
                            {
                                pins: S,
                                checkers: w,
                                mates: x,
                                undefended: k,
                                underdefended: I
                            }
                        },
                        tokenizePgn: te,
                        fixMove: function(e) {
                            var t, n, a;
                            if ("string" == typeof e) {
                                if (/0|[?!+#]$|[18][QNRB]$|^P/i.test(e))
                                    return e.replace(/[?!+#]+$/, "").replace(/0/g, "O").replace(/([18])([QNRB])$/i, "$1=$2").replace(/^P+/i, "");
                                if (n = e.indexOf("=") > 0 ? -4 : -2,
                                "number" == typeof (t = p[e.substr(n, 2)])) {
                                    if (oe[t] & swapColor(ue) || /^[a-h]x?[a-h][36]$/.test(e)) {
                                        if (-1 === e.indexOf("x"))
                                            return e.slice(0, n) + "x" + e.substr(n)
                                    } else if (e.indexOf("x") > -1)
                                        return e.replace(/x/g, "");
                                    if (a = e.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])x?([a-h][1-8])=?(.?)$/)) {
                                        if (oe[p[a[2]]])
                                            return {
                                                from: a[2],
                                                to: a[3],
                                                promotion: a[4].toLowerCase()
                                            };
                                        if (/^\d$/.test(a[2])) {
                                            for (e = 0,
                                            generateMoves(R[a[1]], !0),
                                            n = 0; n < v; ++n)
                                                if (m[n] >> P === t && rank(m[n] >> 7 & M) === 8 - a[2]) {
                                                    if (e)
                                                        return;
                                                    e = m[n]
                                                }
                                            if (e)
                                                return moveToSan(e, !0)
                                        }
                                        return a[1] + a[3] + a[4]
                                    }
                                }
                            } else if (oe[p[e.from]] === (C | ue) && e.to && e.from[1] === e.to[1]) {
                                if (e.from < e.to)
                                    return "O-O";
                                if (e.from > e.to)
                                    return "O-O-O"
                            }
                        },
                        _hand: [],
                        _history: function(e) {
                            return e && (ge = (pe = e).id),
                            pe
                        },
                        _lines: function() {
                            return me
                        },
                        _hashPosition: hashPosition,
                        _board: function() {
                            return oe
                        }
                    },
                    J && load(J, ne) || reset(),
                    re
                }
                return Chess2.variants = h,
                Chess2
            }(),
            a = function(e) {
                var n = ["bench", "d", "eval", "flip", "isready", "ponderhit", "stop", "uci", "ucinewgame"]
                  , a = [{
                    cmd: "position",
                    args: ["fen", "startpos", "moves", "continuation"]
                }, {
                    cmd: "go",
                    args: ["binc", "btime", "confidence", "depth", "infinite", "mate", "mindepth", "mintime", "maxdepth", "maxtime", "movestogo", "movetime", "ponder", "searchmoves", "shallow", "winc", "wtime"]
                }]
                  , l = ["moves", "searchmoves"]
                  , f = ["ponder", "infinite", "startpos"]
                  , h = {
                    depth: 1,
                    seldepth: 1,
                    time: 1,
                    nodes: 1,
                    multipv: 1,
                    cp: 1,
                    mate: 1,
                    currmovenumber: 1,
                    hashfull: 1,
                    nps: 1,
                    tbhits: 1,
                    sbhits: 1,
                    cpuload: 1,
                    bmc: 1,
                    score: 2,
                    lowerbound: 2,
                    upperbound: 2,
                    bestmove: 3,
                    ponder: 3,
                    baseTurn: 3,
                    bestmoveSan: 3,
                    ponderSan: 3,
                    pv: 4,
                    pvSan: 4,
                    string: 4,
                    refutation: 4,
                    currline: 4
                }
                  , p = /(?:Total|Final) Evaluation[\s\S]+\n$/i;
                function createWebWorker(e, t, n) {
                    var a = new Worker(e || "stockfish.js")
                      , l = {
                        terminate: function terminate() {
                            a.terminate()
                        },
                        postMessage: function postMessage(e) {
                            a.postMessage(e)
                        }
                    };
                    function requeue(e) {
                        var t = e.concat();
                        e.length = 0,
                        t.forEach((function(e) {
                            e.cmd ? "go" !== e.cmd.substr(0, 2) && n.send(e.cmd, e.cb, e.stream) : (clearTimeout(e.timer),
                            n.getBestMove(e.args, e.cb, e.stream))
                        }
                        ))
                    }
                    return a.onmessage = function(e) {
                        "string" == typeof e.data && l.onmessage(e.data)
                    }
                    ,
                    a.onerror = function(f) {
                        if (n.fallbackPath && n.fallbackPath !== e) {
                            try {
                                f.preventDefault()
                            } catch (h) {}
                            try {
                                a.terminate()
                            } catch (h) {}
                            return (a = createWebWorker(n.fallbackPath, t, n)).onmessage = function(e) {
                                l.onmessage(e)
                            }
                            ,
                            requeue(n._activeCommands()),
                            requeue(n._bestMoveQueue()),
                            !1
                        }
                        if (t.onError)
                            return t.onError(f)
                    }
                    ,
                    l
                }
                function createWorker(t, n) {
                    var a;
                    return function getSupportedEngines(t, n) {
                        n.fallbackPath = t.pathToNonWasmEngine,
                        n.path = t.enginePath || t.pathToEngineWorker,
                        n.wasmPath = t.pathToWasmEngine,
                        t.engines && (t.engines.multiThreaded && e.supportsMultithreading() ? (n.path = t.engines.multiThreaded.loader,
                        n.wasmPath = t.engines.multiThreaded.engine) : t.engines.singleThreaded && (n.path = t.engines.singleThreaded.loader,
                        n.wasmPath = t.engines.singleThreaded.engine),
                        n.fallbackPath = t.engines.asm || n.fallbackPath)
                    }(t, n),
                    a = n.path,
                    (n.fallbackPath && "undefined" == typeof WebAssembly || !a) && (a = n.fallbackPath),
                    n.wasmPath && (a += "#" + n.wasmPath),
                    createWebWorker(a, t, n)
                }
                function parseSearchLine(e) {
                    for (var t, n, a = e.split(" "), l = a.length, f = "info" === a[0] ? 1 : 0, p = {
                        mtype: a[0]
                    }; f < l; ++f)
                        if (n = a[f])
                            if (1 === (t = h[n])) {
                                for (; !a[++f] && f < l; )
                                    ;
                                p[n] = Number(a[f])
                            } else if (2 === t)
                                p[n] = !0;
                            else if (3 === t) {
                                for (; !a[++f] && f < l; )
                                    ;
                                p[n] = a[f]
                            } else
                                for (p[n] = [],
                                ++f; f < l; ++f) {
                                    if (h[a[f]]) {
                                        --f;
                                        break
                                    }
                                    a[f] && p[n].push(a[f])
                                }
                    return "(none)" !== p.bestmove && "0000" !== p.bestmove || (p.bestmove = void 0,
                    p.bestmoveSan = void 0),
                    "(none)" !== p.ponder && "0000" !== p.ponder || (p.ponder = void 0,
                    p.ponderSan = void 0),
                    p
                }
                function getFirstWord(e) {
                    var t = e.indexOf(" ");
                    return -1 === t ? e : e.substr(0, t)
                }
                return function loadEngine(h, m) {
                    var g, v, y, b = {}, _ = [], C = [], A = null;
                    function bestMoveSearch() {
                        var t, n, a, l, f, h = 1, p = [], m = [], g = null, y = C[0].args, _ = C[0].cb, A = C[0].stream, S = 1, x = [], w = loadEngine._previousCP;
                        function convertpv(e) {
                            var t = []
                              , n = m[e] || createSanPv(p[e]);
                            return p[e].forEach((function oneach(e, a) {
                                t.push({
                                    moveSan: n[a],
                                    moveLan: e
                                })
                            }
                            )),
                            t
                        }
                        function getpv(e, t, n, a) {
                            var l;
                            for (l = p.length - 1; l >= 0; l -= 1)
                                if (p[l][0] === e)
                                    return convertpv(l);
                            return n ? [{
                                moveSan: t,
                                moveLan: e
                            }, {
                                moveSan: a,
                                moveLan: n
                            }] : t ? [{
                                moveSan: t,
                                moveLan: e
                            }] : []
                        }
                        function convertScore(e) {
                            0 === e.mate ? (e.mateIn = 0,
                            e.cp = -31800 * S) : (e.mateIn = Number(e.mate * S) || null,
                            "number" != typeof e.mateIn || isNaN(e.mateIn) || "number" == typeof e.cp ? (e.cp *= S,
                            9 === Math.abs(e.cp) && (e.cp = 0),
                            y.normalize && e.depth <= 14 && "number" == typeof w && 1 === e.multipv && function normalize(e) {
                                var t = .03 * Math.pow(32, e.depth / 14);
                                e.cp = w + (e.cp - w) * t
                            }(e)) : e.cp = 31800 * S * (e.mate / Math.abs(e.mate))),
                            e.score = e.cp / 100
                        }
                        function addBestMoveProps(f) {
                            var p;
                            f.baseTurn = a,
                            f.cp = t,
                            f.score = t / 100,
                            f.mate = n,
                            f.mateIn = g,
                            f.depth = h,
                            f.moveLan = f.bestmove,
                            f.moveLan && (f.move = e.uciToObj(f.moveLan)[0],
                            (p = l.move(f.move)) && (f.moveSan = f.bestmoveSan = p.san,
                            f.ponder && (p = l.move(e.uciToObj(f.ponder)[0])) && (f.ponderSan = p.san,
                            l.undo(!0)),
                            l.undo(!0)))
                        }
                        function createSanPv(t) {
                            var n, a, f = t.length, h = [];
                            for (n = 0; n < f && (a = l.move(e.uciToObj(t[n])[0])); ++n)
                                h.push(a.san);
                            for (; n > 0; --n)
                                l.undo(!0);
                            return h
                        }
                        function createTimeout() {
                            y.timeout && (clearTimeout(v),
                            C[0].timer = v = setTimeout((function() {
                                b.stop(),
                                _ && (_(),
                                _ = void 0)
                            }
                            ), y.timeout))
                        }
                        C[0].started = !0,
                        loadEngine._previousCP = null,
                        y.difficulty >= 0 && y.difficulty < 20 ? (b.setoption("Skill Level", y.difficulty),
                        y.maximumError >= 0 && y.maximumError <= 4999 && b.setoption("Skill Level Maximum Error", y.maximumError),
                        y.errorProbability >= 1 && y.errorProbability <= 128 && b.setoption("Skill Level Probability", y.errorProbability)) : b.setoption("Skill Level", 20),
                        void 0 !== y.contempt ? b.setoption("Contempt", y.contempt) : b.setoption("Contempt", "0"),
                        y.multiPv > 1 ? b.setoption("MultiPV", y.multiPv) : b.setoption("MultiPV", 1),
                        y.movetime || y.wtime && y.btime || y.depth || (y.btime = y.btime || 72e3,
                        y.wtime = y.wtime || 72e3),
                        !y.startpos && y.fen || y.moves || y.variant ? (l = e.createGame({
                            fen: y.fen ? (f = y.fen,
                            (f + "").replace(/\[([qrbnp]*)\]/i, "/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/, (function(e, t, n, a) {
                                return a + " +" + (3 - t) + "+" + (3 - n)
                            }
                            ))) : "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
                            moves: y.moves,
                            variant: y.variant,
                            disableHashing: !0
                        })).turn() === l.WHITE ? a = "w" : (a = "b",
                        S = -1) : (a = "w",
                        l = e.createGame({
                            disableHashing: !0
                        })),
                        b.setVariant(y.variant),
                        b.position(y),
                        b.go(y, (function returnBestMove(e) {
                            var n = parseSearchLine(e);
                            if (addBestMoveProps(n),
                            h > 14 && t < 5e3 && t > -5e3 && (loadEngine._previousCP = t),
                            n.pv = getpv(n.moveLan, n.moveSan),
                            1 === n.pv.length && n.ponder && (n.pv = getpv(n.moveLan, n.moveSan, n.ponder, n.ponderSan)),
                            x.length > 1)
                                x.splice(x.indexOf(n.moveLan), 1),
                                y.searchmoves = x,
                                y.getNextBest = 0,
                                queueBestMoveSearch(y, (function done() {
                                    _(n)
                                }
                                ), (function streamer(e) {
                                    A && (e.multipv = 2,
                                    A(e))
                                }
                                ));
                            else if (_)
                                try {
                                    _(n)
                                } catch (a) {
                                    console.error(a)
                                }
                            C.shift(),
                            clearTimeout(v),
                            C.length > 0 && bestMoveSearch()
                        }
                        ), (function streamInfo(e) {
                            var l = parseSearchLine(e);
                            l.score && (l.baseTurn = a,
                            convertScore(l),
                            !l.multipv && l.depth && (l.multipv = 1),
                            1 !== l.multipv && 0 !== l.depth || (t = l.cp,
                            n = l.mate,
                            g = l.mateIn)),
                            l.pv && A && (l.pvSan = createSanPv(l.pv)),
                            !l.pv || l.lowerbound || l.upperbound || (p.push(l.pv),
                            A && m.push(l.pvSan)),
                            l.depth > h ? h = l.depth : "bestmove" === l.mtype && addBestMoveProps(l),
                            !A || 0 === l.mateIn && l.pv || A(l),
                            createTimeout()
                        }
                        )),
                        y.getNextBest && _ && l.moves({
                            verbose: !0
                        }).forEach((function toLan(t) {
                            t = e.normalizeMoveObj(t),
                            x.push(t.from + t.to + (t.promotion || ""))
                        }
                        )),
                        createTimeout()
                    }
                    function queueBestMoveSearch(e, t, n) {
                        C.push({
                            args: e,
                            cb: t,
                            stream: n
                        }),
                        1 === C.length && bestMoveSearch()
                    }
                    function cbIfReady() {
                        b.ready && (b.bookLoaded || !b.pathToBook) && m && m(b)
                    }
                    return b.send = function(t, n, a) {
                        var l;
                        !function isPrintingCommand(e) {
                            return "ucinewgame" !== e && "flip" !== e && "stop" !== e && "ponderhit" !== e && 0 !== e.indexOf("position") && 0 !== e.indexOf("setoption") && 0 !== e.indexOf("variation") && 0 !== e.indexOf("threat-variation") && 0 !== e.indexOf("push") && 0 !== e.indexOf("pop") && 0 !== e.indexOf("serve") && 0 !== e.indexOf("speech")
                        }(t = String(t).trim()) ? l = !0 : _[_.length] = {
                            cmd: t,
                            cb: n,
                            stream: a
                        },
                        g && (e.log && console.log("stdin: " + t),
                        g.postMessage(t),
                        l && n && setTimeout(n, 0))
                    }
                    ,
                    b._activeCommands = function() {
                        return _
                    }
                    ,
                    b._bestMoveQueue = function() {
                        return C
                    }
                    ,
                    b.quit = function() {
                        if (g && g.terminate) {
                            try {
                                b.send("quit")
                            } catch (e) {}
                            g.terminate(),
                            g = null,
                            b.ready = void 0
                        }
                        clearTimeout(v)
                    }
                    ,
                    n.forEach((function oneach(e) {
                        b[e] = function makeSCmd(t, n) {
                            b.send(e, t, n)
                        }
                    }
                    )),
                    a.forEach((function oneach(e) {
                        b[e.cmd] = function makeCCmd(t, n, a) {
                            var h = [e.cmd];
                            y && t.fen && (t.fen = function convertStockfishVariantFen(e) {
                                return (e + "").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i, "$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/, (function(e, t, n, a) {
                                    return " " + (3 - n) + "+" + (3 - a) + t
                                }
                                ))
                            }(t.fen)),
                            e.args.forEach((function oneach2(e) {
                                if (t[e] || 0 === t[e]) {
                                    if (l.indexOf(e) > -1) {
                                        if (!t[e] || !t[e].length)
                                            return;
                                        Array.isArray(t[e]) && (t[e] = t[e].join(" "))
                                    }
                                    h.push(e),
                                    -1 === f.indexOf(e) && h.push(t[e])
                                }
                            }
                            )),
                            b.send(h.join(" "), n, a)
                        }
                    }
                    )),
                    b.setoption = function(e, t) {
                        b.send("setoption name " + e + " value " + t)
                    }
                    ,
                    b.setVariant = function(e) {
                        var t;
                        e !== y && (t = String(e).toLowerCase().replace(/ |-/g, ""),
                        e && "chess" !== t ? "chess960" === t ? (b.setoption("UCI_Variant", "chess"),
                        b.setoption("UCI_Chess960", "true")) : ("threecheck" === t && (t = "3check"),
                        b.setoption("UCI_Variant", t),
                        b.setoption("UCI_Chess960", "false")) : (t = void 0,
                        b.setoption("UCI_Variant", "chess"),
                        b.setoption("UCI_Chess960", "false")),
                        y = t)
                    }
                    ,
                    b.loadBook = function(e, n) {
                        b.pathToBook = e,
                        t.loadBook(e, (function onload(e, t) {
                            b.book = t,
                            b.bookLoaded = !0,
                            e && (console.error("Error loading opening book."),
                            console.error(e),
                            b.pathToBook = null,
                            b.bookLoaded = !1),
                            n()
                        }
                        ))
                    }
                    ,
                    b.getBookMove = function(t) {
                        var n = e.createGame(t)
                          , a = b.book.pick({
                            fen: n.fen(),
                            type: void 0 !== t.bookPick ? t.bookPick : "random",
                            chess960: "Chess960" === n.header().Variant
                        })
                          , l = a && n.move(a);
                        if (l)
                            return {
                                moveSan: l.san,
                                moveLan: a,
                                move: {
                                    from: l.from,
                                    to: l.to,
                                    promotion: l.promotion || null
                                },
                                baseTurn: 1 === n.turn() ? "b" : "w",
                                pv: [{
                                    moveSan: l.san,
                                    moveLan: a
                                }],
                                depth: null,
                                score: null,
                                mateIn: null,
                                isBookMove: !0
                            }
                    }
                    ,
                    b.getBestMove = function(e, t, n) {
                        var a;
                        if ((e = e || {}).fen = e.fen || e.baseFen,
                        e.is960 && (e.variant = "Chess960"),
                        b.bookLoaded && e.useBook && (a = b.getBookMove(e)))
                            return setTimeout((function() {
                                a.mtype = "bestmove",
                                t(a)
                            }
                            ), 0);
                        queueBestMoveSearch(e, t, n)
                    }
                    ,
                    b.stopAll = function(t) {
                        var n, a = _.length, l = 0;
                        function ondiscard() {
                            0 == (l -= 1) && t()
                        }
                        for (C = [],
                        n = 0; n < a; n += 1)
                            e.log && console.log("debug (stop_moves): " + n, getFirstWord(_[n].cmd)),
                            "go" !== getFirstWord(_[n].cmd) || _[n].discard || (b.stop(),
                            _[n].discard = !0,
                            t && (l += 1,
                            _[n].ondiscard = ondiscard));
                        t && !l && b.isready(t)
                    }
                    ,
                    b.restartEngine = function(e) {
                        return b.stopAll(),
                        b.quit(),
                        _ = [],
                        C = [],
                        b.bookLoaded && !h.book && ((h = JSON.parse(JSON.stringify(h))).book = b.book),
                        loadEngine(h, e)
                    }
                    ,
                    b.stopFast = function(e, t) {
                        var n;
                        b.stopAll((function() {
                            clearTimeout(n),
                            e(b)
                        }
                        )),
                        n = setTimeout((function() {
                            b.restartEngine(e)
                        }
                        ), t || 5e3)
                    }
                    ,
                    "undefined" != typeof Worker && (h.ceeMode && (function addCeeInterface(t, n) {
                        var a, l, f = 1e3, h = 0;
                        function createInterruptHook(e) {
                            function interruptHook(e) {
                                var t = interruptHook.callbacks;
                                for (var n in interruptHook.callbacks = {},
                                interruptHook.original && interruptHook.original(e),
                                t)
                                    t[n](e)
                            }
                            return interruptHook.callbacks = {},
                            interruptHook.original = e,
                            interruptHook
                        }
                        function analyze(n, p, m, g) {
                            var v, y = Date.now(), b = !1, _ = ++h;
                            function cleanup() {
                                clearTimeout(v),
                                delete a.callbacks[_],
                                delete l.callbacks[_],
                                b = !0
                            }
                            function handleError(e) {
                                b || (cleanup(),
                                g({
                                    data: e,
                                    action: p,
                                    uci: n
                                }, n))
                            }
                            function onProcessCrash(t) {
                                handleError({
                                    msg: "CEE process crashed unexpectedly",
                                    code: e.ERROR_CODES.CRASH,
                                    exitCode: t,
                                    err: new Error("CEE process exited with " + t)
                                })
                            }
                            a.callbacks[_] = onProcessCrash,
                            l.callbacks[_] = onProcessCrash,
                            v = setTimeout((function() {
                                handleError({
                                    msg: "CEE timed out",
                                    code: e.ERROR_CODES.TIMEOUT,
                                    timeout: f,
                                    duration: Date.now() - y,
                                    err: new Error("CEE timed out")
                                })
                            }
                            ), f);
                            for (var C = 0; C < n.length; ++C)
                                t.send(n[C]);
                            t.send("fetch " + p, (function onFetchDone(e) {
                                b || (cleanup(),
                                m(e, n))
                            }
                            ), (function onFetchStream(n) {
                                n.indexOf("info string CEEError") >= 0 ? handleError({
                                    msg: "CEE crashed with error code",
                                    code: e.ERROR_CODES.ERROR,
                                    log: n.match(/info string CEEError\s*(.*)/)[1],
                                    err: new Error(n.match(/info string CEEError\s*(.*)/)[1])
                                }) : t.ceeDebug && n.indexOf("not recognized") >= 0 && handleError({
                                    msg: "CEE received unknown UCI option (engine.ceeDebug mode on)",
                                    option: n,
                                    code: e.ERROR_CODES.NONFATAL_ERROR,
                                    err: new Error(n)
                                })
                            }
                            ))
                        }
                        n.onError = a = createInterruptHook(n.onError),
                        n.onSignal = l = createInterruptHook(n.onSignal),
                        t.fetch = function(t, n, a) {
                            var l, f;
                            l = (t = t || []).action || "analysis",
                            Array.isArray(t) ? f = t : (f = t.uciCommands ? t.uciCommands.map((function(e) {
                                return e
                            }
                            )) : [],
                            t.startFen && (t.options = t.options || {},
                            void 0 === t.options.ScoreWhiteToMove && (t.options.ScoreWhiteToMove = !0),
                            void 0 === t.options.SerializeLikeCEAC && (t.options.SerializeLikeCEAC = !0),
                            e.CEE_LIB.addOptions(f, t.options),
                            e.CEE_LIB.addVariant(f, t.variant),
                            e.CEE_LIB.addPosition(f, t.startFen)),
                            e.CEE_LIB.addVariations(f, t.evals && t.evals[0]),
                            e.CEE_LIB.addVariations(f, t.threats && t.threats[0], "threat-variation"),
                            (t.moves || []).forEach((function(n, a) {
                                var l = a + 1;
                                e.CEE_LIB.addPush(f, n),
                                e.CEE_LIB.addVariations(f, t.evals && t.evals[l]),
                                e.CEE_LIB.addVariations(f, t.threats && t.threats[l], "threat-variation")
                            }
                            ))),
                            analyze(f, l, n, a)
                        }
                        ,
                        t.fetch.setTimeout = function(e) {
                            f = e
                        }
                        ,
                        e.ERROR_CODES = {
                            TIMEOUT: 1,
                            CRASH: 2,
                            ERROR: 3,
                            NONFATAL_ERROR: 4
                        }
                    }(b, h),
                    b.ceeVersion = function() {
                        return JSON.parse(JSON.stringify(A))
                    }
                    ),
                    (g = createWorker(h, b)).onmessage = function onmessage(t) {
                        var n, a, l, f, m;
                        if (t.indexOf("\n") > -1)
                            for (f = t.split("\n"),
                            m = 0; m < f.length; m += 1)
                                onmessage(f[m]);
                        else if (e.log && console.log("debug (onmessage): " + t),
                        b.stream && b.stream(t),
                        _.length && 0 !== t.indexOf("No such option") && 0 !== t.indexOf("Stockfish") && 0 !== t.indexOf("Komodo") && 0 !== t.indexOf("Explanation Engine") && 0 !== t.indexOf("info string variant")) {
                            if (a = function determineQueueNum(e, t) {
                                var n, a, l, f, h = getFirstWord(e);
                                for (n = "uciok" === h || "option" === h ? "uci" : "readyok" === h || "ready" === h ? "isready" : "json" === h || e.indexOf("info string CEEError") >= 0 ? "fetch" : "bestmove" === h || "info" === h ? "go" : "other",
                                f = t.length,
                                l = 0; l < f; l += 1)
                                    if ((a = getFirstWord(t[l].cmd)) === n || "other" === n && ("d" === a || "eval" === a))
                                        return l;
                                return 0
                            }(t, _),
                            (l = _[a]).stream && !l.discard && l.stream(t),
                            void 0 === l.message ? l.message = "" : "" !== l.message && (l.message += "\n"),
                            l.message += t,
                            0 === t.indexOf("uciok"))
                                b.name = function parseEngineName(e) {
                                    var t = e.match(/id name ((\S+) ([\d.a-z]+).*)/i);
                                    if (t)
                                        return {
                                            all: t[1].trim(),
                                            short: t[2],
                                            version: t[3],
                                            full: t[2] + " " + t[3],
                                            wasm: / wasm/i.test(e),
                                            multithreaded: / multithreaded/i.test(e)
                                        }
                                }(l.message),
                                n = !0;
                            else if (0 === t.indexOf("ready"))
                                n = !0;
                            else if (0 !== t.indexOf("bestmove") && "bestmove" !== getFirstWord(t) || "bench" === l.cmd)
                                if ("d" === l.cmd)
                                    0 !== t.indexOf("Legal uci moves") && 0 !== t.indexOf("Key is") || (l.done = !0,
                                    n = !0);
                                else if (0 === l.cmd.indexOf("fetch"))
                                    try {
                                        var g = l.message.split("\n").filter((function(e) {
                                            return e.includes("json")
                                        }
                                        )).join("\n");
                                        g && (l.message = JSON.parse(g.replace(/^json /gm, "").replace(/\n/g, "")),
                                        n = !0)
                                    } catch (y) {}
                                else
                                    "eval" === l.cmd ? p.test(l.message) && (n = !0) : (0 === t.indexOf("pawn key") || 0 === t.indexOf("Nodes/second") || 0 === t.indexOf("Unknown command")) && (n = !0);
                            else
                                n = !0,
                                l.message = t;
                            n && (_.splice(a, 1),
                            l.cb && !l.discard ? l.cb(l.message) : l.ondiscard && l.ondiscard())
                        } else if (h.ceeMode && 0 === t.indexOf("Explanation Engine")) {
                            var v = t.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\s*\(C\)/);
                            v ? A = {
                                date: v[1],
                                increment: v[2]
                            } : (v = t.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\.([0-9]+)/),
                            A = {
                                major: v[1],
                                minor: v[2],
                                patch: v[3]
                            })
                        }
                    }
                    ,
                    h.book && (b.book = h.book,
                    b.bookLoaded = !0,
                    b.pathToBook = h.pathToBook),
                    b.getFenFromMoves = e.getFenFromMoves,
                    b.getLegalMoves = e.getLegalMoves,
                    b.getPositionInfo = e.getPositionInfo,
                    b.isFenValid = e.isFenValid,
                    b.ready = !1,
                    function startUp() {
                        b.uci((function onstart() {
                            h.settings && Object.keys(h.settings).forEach((function oneach(e) {
                                b.setoption(e, h.settings[e])
                            }
                            )),
                            b.ready = !0,
                            cbIfReady()
                        }
                        ))
                    }(),
                    !b.book && h.pathToBook && b.loadBook(h.pathToBook, cbIfReady),
                    b)
                }
            }
            ,
            l = function() {
                var e, l = n(), f = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", h = 252, p = {
                    4: "p",
                    5: "P",
                    6: "p",
                    8: "n",
                    9: "N",
                    10: "n",
                    16: "b",
                    17: "B",
                    18: "b",
                    32: "r",
                    33: "R",
                    34: "r",
                    64: "q",
                    65: "Q",
                    66: "q",
                    128: "k",
                    129: "K",
                    130: "k"
                }, m = 512, g = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=", v = "qnrbkp";
                function decodeTCN(e) {
                    var t, n, a, l, f = e.length, h = [];
                    for (t = 0; t < f; t += 2)
                        l = {},
                        n = g.indexOf(e[t]),
                        (a = g.indexOf(e[t + 1])) > 63 && (l.promotion = v[Math.floor((a - 64) / 3)],
                        a = n + (n < 16 ? -8 : 8) + (a - 1) % 3 - 1),
                        n > 75 ? l.drop = v[n - 79] : l.from = g[n % 8] + (Math.floor(n / 8) + 1),
                        l.to = g[a % 8] + (Math.floor(a / 8) + 1),
                        h.push(l);
                    return h
                }
                function uciToObj(e) {
                    var t, n, a = e.split(" "), l = a.length, f = [];
                    if (e)
                        for (t = 0; t < l; ++t)
                            4 === (n = a[t]).length ? "@" === n[1] ? f.push({
                                drop: n[0].toLowerCase(),
                                to: n.substr(2, 2)
                            }) : f.push({
                                from: n.substr(0, 2),
                                to: n.substr(2, 2)
                            }) : f.push({
                                from: n.substr(0, 2),
                                to: n.substr(2, 2),
                                promotion: n[4]
                            });
                    return f
                }
                function isSameMove(e, t) {
                    return !(e.san !== t.san && (e.to !== t.to || e.from !== t.from && (e.from || t.from) || e.promotion !== t.promotion && (e.promotion || t.promotion) || e.drop !== t.drop && (e.drop || t.drop)))
                }
                function getPremoves(e, t, a) {
                    var l, f, h, p, m, g, v, y, b, _, C = [], A = 1, S = 8, x = 1, w = 8, P = {
                        verbose: !0
                    };
                    for (b = 3 - (_ = e.turn()),
                    (p = n("/", t)).turn(b),
                    a && (A = S = +a[1],
                    x = w = a.charCodeAt(0) - 96),
                    l = A; l <= S; ++l)
                        for (f = x; f <= w; ++f)
                            m = String.fromCharCode(f + 96) + l,
                            (h = e.get(m)) && h.color === b && (p.put(h, m, !0),
                            "p" === h.type ? (g = String.fromCharCode(f - 1 + 96) + (l + (1 === b ? 1 : -1)),
                            v = String.fromCharCode(f + 1 + 96) + (l + (1 === b ? 1 : -1)),
                            p.put({
                                type: "n",
                                color: _
                            }, g, !0),
                            p.put({
                                type: "n",
                                color: _
                            }, v, !0)) : "k" === h.type && "-" !== (y = e.fen().split(" ")[2]) && p.load(p.fen().replace(/^(\S+\s\S\s)(\S+)/, "$1" + y), t, !0, !0),
                            C = C.concat(p.moves(P)),
                            p.remove(m, !0),
                            "p" === h.type && (p.remove(g, !0),
                            p.remove(v, !0)));
                    return t && e.hand() && (p._hand[b] = 18721,
                    C = C.concat(p.moves({
                        verbose: !0
                    }).filter((function(e) {
                        return !a || e.to === a
                    }
                    )))),
                    C.forEach((function(e) {
                        normalizeMoveObj(e)
                    }
                    )),
                    C
                }
                function makePremove(e, t) {
                    var n, a, f, h, p, m = e.header().Variant, g = getPremoves(e, m, t.from), v = 3 - e.turn();
                    for (n = g.length - 1; n >= 0; --n)
                        if (isSameMove(a = g[n], t)) {
                            f = !0;
                            break
                        }
                    return f ? (a.drop ? e.put({
                        type: a.drop,
                        color: v
                    }, a.to) : (h = e.remove(a.from, !0),
                    a.flags === l.FLAGS.KSIDE_CASTLE ? (p = e.remove("Chess960" === m ? a.to : "h" + a.from[1], !0),
                    e.put(h, "g" + a.from[1], !0),
                    e.put(p, "f" + a.from[1])) : a.flags === l.FLAGS.QSIDE_CASTLE ? (p = e.remove("Chess960" === m ? a.to : "a" + a.from[1], !0),
                    e.put(h, "c" + a.from[1], !0),
                    e.put(p, "d" + a.from[1])) : (a.promotion && (h.type = a.promotion,
                    h.promoted = !0),
                    p = e.get(a.to),
                    e.put(h, a.to, "k" !== h.type && "r" !== h.type && (!p || p.color !== v || "r" !== p.type)))),
                    a) : t.from && (e.turn(v),
                    t = e.fixMove(t),
                    e.turn(3 - v),
                    t) ? makePremove(e, {
                        san: t,
                        from: t.from
                    }) : void 0
                }
                function getPieces(e, t) {
                    var n, a, l, f = t ? {} : [], v = e._board();
                    if (t)
                        for (n = 112; n >= 0; ++n)
                            136 & n && (n -= 24),
                            (a = v[n]) && (f[l = g[7 & n] + (8 - (n >> 4))] = {
                                type: p[a & h],
                                color: 3 & a,
                                promoted: 0 != (a & m),
                                square: l
                            });
                    else
                        for (n = 112; n >= 0; ++n)
                            136 & n && (n -= 24),
                            (a = v[n]) && f.push({
                                type: p[a & h],
                                color: 3 & a,
                                promoted: 0 != (a & m),
                                rank: 8 - (n >> 4),
                                file: 1 + (7 & n)
                            });
                    return f
                }
                function makeMoves(e, t, n, a) {
                    var l, f, h, p, m, g, v, y, b, _;
                    for (n = n || {},
                    "string" == typeof t && (t = t.trim().split(" ")),
                    h = t.length,
                    l = 0; l < h; l += 1) {
                        if (m = "b" === t[l].board || "B" === t[l].board ? e.siblingGame : e,
                        g = "string" == typeof t[l].moveLan ? uciToObj(t[l].moveLan)[0] : "string" == typeof t[l] ? uciToObj(t[l])[0] : t[l].san ? t[l].san : t[l],
                        !m.move(g)) {
                            if (!n.autoPromote) {
                                if (n.skipBadLines)
                                    break;
                                return !1
                            }
                            if (!0 === n.autoPromote ? g.promotion = "q" : g.promotion = n.autoPromote,
                            !m.move(g)) {
                                if (n.skipBadLines)
                                    break;
                                return !1
                            }
                        }
                        if (y = (v = m._history())[v.length - 1],
                        a && (b = parseInt(a[l], 10)),
                        ("number" != typeof b || isNaN(b)) && (b = parseInt(t[l].time, 10)),
                        "number" != typeof b || isNaN(b) || (y.time = b,
                        b = void 0),
                        t[l].firstComment && (v.initComment = t[l].firstComment),
                        t[l].comment && (y.comment = t[l].comment),
                        t[l].annotation && (y.annotation = t[l].annotation),
                        t[l].additionalAnnotation && (y.additionalAnnotation = t[l].additionalAnnotation),
                        t[l].commands && (y.commands = t[l].commands),
                        t[l].lines)
                            for (p = t[l].lines.length,
                            f = 0; f < p; ++f) {
                                if (_ = e._history().id,
                                e.createVariation(),
                                !makeMoves(e, t[l].lines[f], n) && !n.skipBadLines)
                                    return !1;
                                e.selectLine(_)
                            }
                    }
                    return !0
                }
                function extendChess(e) {
                    var t, a, h, p, m = -1, g = 0;
                    function swapMoveAttributes(e, t) {
                        var n = {
                            moveTime: e.moveTime,
                            firstComment: e.firstComment,
                            comment: e.comment,
                            annotation: e.annotation,
                            additionalAnnotation: e.additionalAnnotation,
                            commands: e.commands
                        };
                        Object.keys(n).forEach((function(a) {
                            e[a] = t[a],
                            t[a] = n[a]
                        }
                        ))
                    }
                    e.extended || (e.extended = !0,
                    t = {
                        header: e.header,
                        load: e.load,
                        loadPgn: e.loadPgn,
                        createVariation: e.createVariation,
                        undo: e.undo,
                        pgn: e.pgn
                    },
                    e._move = e.move,
                    e.undo = function() {
                        return e.siblingGame ? e.deleteBughouseMove(e.curBughouseMove()) : e.deletePosition(m, g)
                    }
                    ,
                    e.getMove = function(n) {
                        return n && ("string" == typeof n || n.to && (n.from || n.drop)) && e._move(n) && normalizeMoveObj(t.undo()) || null
                    }
                    ,
                    e.premove = {
                        queue: p = [],
                        move: function(t) {
                            var a;
                            return !(a = makePremove(h = h || n(e.fen(), e.header().Variant), t)) || g || m !== e._history().length - 1 ? (p.length || (h = void 0),
                            null) : (p.push(a),
                            a)
                        },
                        consume: function() {
                            var t, a, l, f = p.shift();
                            if (f) {
                                if (t = e.move(f)) {
                                    if (h = void 0,
                                    a = p.length)
                                        for (h = n(e.fen(), e.header().Variant),
                                        l = 0; l < a; ++l)
                                            makePremove(h, p[l]);
                                    return t
                                }
                                e.premove.cancel()
                            }
                        },
                        moves: function(t) {
                            return !g && m === e._history().length - 1 && getPremoves(h || e, e.header().Variant, t)
                        },
                        getPieces: function(t) {
                            return getPieces(h || e, t)
                        },
                        fen: function() {
                            return (h || e).fen()
                        },
                        cancel: function() {
                            p.length = 0,
                            h = void 0
                        }
                    },
                    e.getPieces = function(t) {
                        return getPieces(e, t)
                    }
                    ,
                    e.material = function() {
                        var t, n, a, l = e.getPieces(), f = {
                            imbalance: 0,
                            white: {
                                p: 8,
                                n: 2,
                                b: 2,
                                r: 2,
                                q: 1,
                                count: 0
                            },
                            black: {
                                p: 8,
                                n: 2,
                                b: 2,
                                r: 2,
                                q: 1,
                                count: 0
                            }
                        }, h = {
                            p: 1,
                            n: 3,
                            b: 3,
                            r: 5,
                            q: 9,
                            k: 0
                        };
                        for (t = l.length - 1; t >= 0; --t)
                            1 === l[t].color ? (n = f.white,
                            a = f.black) : (n = f.black,
                            a = f.white),
                            a[l[t].type] && --a[l[t].type],
                            n.count += h[l[t].type];
                        return f.imbalance = f.white.count - f.black.count,
                        f
                    }
                    ,
                    e.origHistory = e.history,
                    e.history = function(t, n) {
                        var a, l, f, h = [], p = e._history(), m = p.length, g = e._lines();
                        for ("boolean" == typeof t && (t = {
                            verbose: t
                        }),
                        t = t || {},
                        n && (t.noParentLines = n),
                        t.toCurrent && (m = e.ids().move + 1); ; ) {
                            if (-1 == --m) {
                                if (p.id && !t.noParentLines) {
                                    m = p.atMoveNode,
                                    p = g[p.parentId];
                                    continue
                                }
                                break
                            }
                            if (t.verbose) {
                                for (l in a = {},
                                p[m])
                                    if (p[m][l] && "object" == typeof p[m][l])
                                        for (f in a[l] = p[m][l].constructor === Array ? [] : {},
                                        p[m][l])
                                            a[l][f] = p[m][l][f];
                                    else
                                        a[l] = p[m][l];
                                h.unshift(a)
                            } else
                                h.unshift(p[m].san)
                        }
                        return h
                    }
                    ,
                    e._getPos = function(n, a) {
                        var l, h, p;
                        return "number" != typeof n && (n = m),
                        "number" != typeof a && (a = g),
                        l = (h = e._lines())[a],
                        n >= 0 ? l[n] : l.id ? l.atMoveNode ? h[l.parentId][l.atMoveNode - 1] : e._getPos(l.atMoveNode - 1, l.parentId) : (p = {
                            fen: t.header().FEN || f,
                            hash: l.hash,
                            initial: !0,
                            ids: {
                                move: -1,
                                line: 0
                            }
                        },
                        e.siblingGame && (p.bughouseOrder = -1),
                        p)
                    }
                    ,
                    e.move = function(t, n) {
                        var a, l, f, h, p = e._history();
                        if (t && ("string" == typeof t || t.to && (t.from || t.drop))) {
                            if (g === p.id && m < p.length - 1 || n) {
                                if (e.moveForward(n, t))
                                    return !0;
                                m < p.length - 1 && (e.selectPosition(m + 1),
                                e.createVariation(),
                                p = e._history())
                            }
                            e.siblingGame && (f = e.isDependent ? e.siblingGame.fen() : e.fen()),
                            (a = e._move(t)) && (normalizeMoveObj(a),
                            g = p.id,
                            l = p[m = p.length - 1],
                            h = e._getPos(m - 1),
                            e.siblingGame ? (l.fen = e.isDependent ? e.siblingGame.fen() : e.fen(),
                            l.beforeFen = f,
                            l.siblingIds = e.siblingGame.ids()) : (l.fen = e.fen(),
                            l.beforeFen = h.fen),
                            h.initial ? (l.moveNumber = 0,
                            l.previous = null) : (l.moveNumber = h.moveNumber + 1,
                            l.previous = h.ids),
                            g && 0 === m && e._lines()[p.parentId][p.atMoveNode].move === l.move && (l.isContinuation = !0),
                            l.flags = a.flags,
                            l.to = a.to,
                            l.from = a.from,
                            l.drop = a.drop,
                            l.capturedStr = a.captured,
                            l.promotion = a.promotion,
                            l.piece = a.piece,
                            a.promoted && (l.promoted = !0),
                            a.capturedPromotedPawn && (l.capturedPromotedPawn = !0),
                            l.ids = {
                                move: m,
                                line: g
                            })
                        }
                        return a
                    }
                    ,
                    e.moveDetails = function(t) {
                        return (t = t || e._history()[m]) && (t.lines = t.lines || null,
                        t.flags === l.FLAGS.KSIDE_CASTLE ? (t.rookFrom = "Chess960" === e.header().Variant ? t.to : "h" + t.to[1],
                        t.rookTo = "f" + t.to[1],
                        t.kingTo = "g" + t.to[1]) : t.flags === l.FLAGS.QSIDE_CASTLE ? (t.rookFrom = "Chess960" === e.header().Variant ? t.to : "a" + t.to[1],
                        t.rookTo = "d" + t.to[1],
                        t.kingTo = "c" + t.to[1]) : t.flags === l.FLAGS.EP_CAPTURE && (t.epCapture = t.to[0] + t.from[1])),
                        t
                    }
                    ,
                    e.header = e.headers = function(n) {
                        var a = t.header(n);
                        return e.siblingGame && extendChess(e.siblingGame),
                        a
                    }
                    ,
                    e.load = function(n, a, l, f) {
                        var h = t.load(n, a, l, f);
                        return e.siblingGame && extendChess(e.siblingGame),
                        h && !l && (m = -1,
                        g = 0),
                        h
                    }
                    ,
                    e.removeEmptyLines = function() {
                        var t, n, a = e._lines();
                        for (t = a.length - 1; t > 0; --t)
                            a[t].length || (a[t] = void 0,
                            n = !0);
                        n && e.reorderLines()
                    }
                    ,
                    e.loadPgn = function(n, a, l) {
                        var f = t.loadPgn(n, a, l)
                          , h = e._history();
                        return e.removeEmptyLines(),
                        m = h.length - 1,
                        (g = h.id) && e.selectLine(0),
                        f
                    }
                    ,
                    e.ids = function() {
                        return {
                            move: m,
                            line: g
                        }
                    }
                    ,
                    e.selectLine = function(t) {
                        e.selectPosition(null, t)
                    }
                    ,
                    e.curBughouseMove = function() {
                        return Math.max(e._getPos().bughouseOrder, e.siblingGame._getPos().bughouseOrder)
                    }
                    ,
                    e.deleteBughouseMove = function(t) {
                        var n, a, l, f = e.curBughouseMove(), h = !1, p = e;
                        if (t >= 0)
                            for (f >= t && e.selectBughouseMove(t - 1); ; ) {
                                for (a = (n = p._history()).length,
                                l = 0; l < a; ++l)
                                    if (n[l].bughouseOrder >= t) {
                                        n.length = l,
                                        h = !0;
                                        break
                                    }
                                if (p === e.siblingGame)
                                    break;
                                p = e.siblingGame
                            }
                        return h
                    }
                    ,
                    e.selectBughouseMove = function(t) {
                        var n, a, l = e.isDependent ? e.siblingGame : e, f = l;
                        if (-1 === t)
                            return f.selectPosition(-1, 0, !0),
                            f.siblingGame.selectPosition(-1, 0, !0),
                            l.load(l.header().FEN, "Bughouse", !0, !0);
                        for (; ; ) {
                            for (a = (n = f._history()).length - 1; a >= 0; --a)
                                if (n[a].bughouseOrder === t)
                                    return f.selectPosition(n[a].ids.move, 0, !0),
                                    f.siblingGame.selectPosition(n[a].siblingIds.move, 0, !0),
                                    l.load(n[a].fen, "Bughouse", !0, !0);
                            if (f === l.siblingGame)
                                return !1;
                            f = l.siblingGame
                        }
                    }
                    ,
                    e.moveBackward = function(t) {
                        var n;
                        if (e.siblingGame)
                            return e.selectBughouseMove(e.curBughouseMove() - 1);
                        if (m <= 1)
                            if (0 === g) {
                                if (-1 === m)
                                    return !1;
                                e.selectPosition(m - 1)
                            } else
                                (n = e._getPos(m - 1, g)).isContinuation && !t && (n = e._getPos(n.ids.move - 1, n.ids.line),
                                n = e._getPos(n.ids.move + 1, n.ids.line)),
                                e.selectPosition(n.ids.move, n.ids.line);
                        else
                            e.selectPosition(m - 1);
                        return !0
                    }
                    ,
                    e.moveForward = function(t, n) {
                        var a, l, f, h, p, v, y = e._lines();
                        if (e.siblingGame)
                            return e.selectBughouseMove(e.curBughouseMove() + 1);
                        if ("string" == typeof n && (n = {
                            san: n
                        }),
                        !(a = y[g][m + 1]) || n && !isSameMove(n, a)) {
                            if (n && a && a.lines)
                                for (p = a.lines.length,
                                h = 0; h < p; ++h)
                                    if ((f = y[a.lines[h]][0]) && isSameMove(n, f)) {
                                        a = f,
                                        v = !0;
                                        break
                                    }
                            if (!v && t && (l = y[g][m]) && l.lines)
                                for (p = l.lines.length,
                                h = 0; h < p; ++h)
                                    if ((f = y[l.lines[h]][0]) && f.isContinuation && (f = y[l.lines[h]][1]) && (!n || isSameMove(n, f))) {
                                        a = f,
                                        v = !0;
                                        break
                                    }
                            if (!v) {
                                try {
                                    if (n && n.san && (n = e.fixMove(n.san)) || n && n.to && n.from && Math.abs(n.to.charCodeAt(0) - n.from.charCodeAt(0)) > 1 && (n = e.fixMove(n)))
                                        return e.moveForward(t, n)
                                } catch (b) {}
                                return !1
                            }
                        }
                        return e.selectPosition(a.ids.move, a.ids.line)
                    }
                    ,
                    e.moveVariation = function(t, n) {
                        var a, l, f, h = e._lines(), p = h[t];
                        if (p && p.id)
                            for (l = (a = h[p.parentId][p.atMoveNode].lines).length - 1; l >= 0; --l)
                                if (a[l] === t && a[f = l - (n ? 1 : -1)])
                                    return a[l] = a[f],
                                    a[f] = t,
                                    e.reorderLines(),
                                    !0;
                        return !1
                    }
                    ,
                    e.promoteVariation = function(t, n) {
                        for (var a, l, f, h, p, v, y = e._lines(), b = y[t]; b && b[0] && b.id && (-1 !== n || b.parentId); ) {
                            for (a = y[f = b.parentId],
                            h = b.atMoveNode,
                            b[0].lines = a[h].lines.concat(b[0].lines || []),
                            a[h].lines = void 0,
                            v = a.length - h,
                            l = a.splice(h, v),
                            p = 0; p < v; ++p)
                                l[p].ids.line = t,
                                l[p].ids.move = p;
                            for (l.id = t,
                            l.parentId = f,
                            l.atMoveNode = h,
                            l.hash = b.hash,
                            0 === h ? (l.initComment = a.initComment,
                            a.initComment = b.initComment) : b.initComment && (a[h - 1].comment = ((a[h - 1].comment || "") + " " + b.initComment).trim()),
                            y[t] = l,
                            v = b.length,
                            p = 0; p < v; ++p)
                                b[p].ids.line = f,
                                b[p].ids.move = p + h,
                                a.push(b[p]);
                            for (l[0].isContinuation = !!b[0].isContinuation,
                            a[h].isContinuation = !h && "number" == typeof a.parentId && y[a.parentId][a.atMoveNode].move === a[0].move,
                            v = a[h].lines.length,
                            p = 0; p < v; ++p)
                                y[a[h].lines[p]].atMoveNode = h,
                                y[a[h].lines[p]][0] && (y[a[h].lines[p]][0].isContinuation = y[a[h].lines[p]][0].move === a[h].move);
                            if (g === t ? (g = f,
                            m += h) : g === f && m >= h && (g = t,
                            m -= h),
                            1 === n)
                                break;
                            b = y[t = f]
                        }
                        return void 0 !== a && (e._history(y[g]),
                        e.reorderLines(),
                        !m && y[g][0].isContinuation && e.selectPosition(y[g].atMoveNode, y[g].parentId),
                        !0)
                    }
                    ,
                    e.reorderLines = function(t, n) {
                        var l, f, h, p, m, v, y, b, _, C, A = e._lines(), S = !1;
                        for (t ? _ = n.length - 1 : (t = 0,
                        n = [A[0]],
                        _ = 0,
                        a = !1),
                        h = (l = A[t]).length,
                        f = 0; f < h; ++f)
                            if ((p = l[f]).ids.line !== _ && (S = !0,
                            p.ids.line = _),
                            p.lines)
                                for (m = p.lines.length,
                                v = 0; v < m; ++v)
                                    (b = A[y = p.lines[v]]) ? (b.atMoveNode = f,
                                    C = n.length,
                                    p.lines[v] = C,
                                    b.parentId = _,
                                    a || y !== g || (a = !0,
                                    g = C),
                                    n.push(b),
                                    S = e.reorderLines(y, n) || S) : (1 === p.lines.length ? delete p.lines : p.lines.splice(v, 1),
                                    --v,
                                    --m);
                        return t || e.saveLines(n, !0),
                        S
                    }
                    ,
                    e.createVariation = function() {
                        var n, a, l, f = e._history(), h = e._lines();
                        return m === f.length - 1 ? (n = t.createVariation(),
                        f = e._history(),
                        m = f.length - 1,
                        g = f.id,
                        n) : -1 !== m && (a = [],
                        l = f[m],
                        a.parentId = f.id,
                        a.id = h.length,
                        l.lines || (l.lines = []),
                        l.lines.push(a.id),
                        a.hash = e._getPos(m - 1).hash,
                        a.atMoveNode = m,
                        h.push(a),
                        e.selectPosition(-1, a.id))
                    }
                    ,
                    e.selectLineEnd = function(t) {
                        return e.siblingGame ? e.selectBughouseMove(e._history().length + e.siblingGame._history().length - 1) : ("number" != typeof t && (t = g),
                        (t !== g || m < e._history().length - 1) && e.selectPosition(null, t, !0))
                    }
                    ,
                    e.selectLineStart = function() {
                        var t, n;
                        return e.siblingGame ? e.selectBughouseMove(-1) : g ? (m > 1 || 1 === m && !e._getPos(0).isContinuation ? t = e._history() : (n = e._getPos(-1),
                        t = e._lines()[n.ids.line]),
                        e.selectPosition(t.id ? t[1] && t[0].isContinuation ? 1 : 0 : -1, t.id)) : -1 !== m && e.selectPosition(-1, 0)
                    }
                    ,
                    e.selectPosition = function(n, a, l) {
                        var f = e._lines()
                          , h = e._history();
                        if ("number" == typeof a && (a !== g || l)) {
                            if (a < 0 || a >= f.length)
                                return !1;
                            if (h = f[a],
                            "number" != typeof n)
                                n = h.length - 1;
                            else if (n < -1 || n >= h.length)
                                return !1;
                            g = a,
                            e._history(h),
                            l = !0
                        }
                        if ("number" == typeof n && (n !== m || l)) {
                            if (n < -1 || n >= h.length)
                                return !1;
                            t.load(e._getPos(n).fen, t.header().Variant, !0, !0),
                            m = n
                        }
                        return !0
                    }
                    ,
                    e.resetToMainLine = function() {
                        var t = e._lines();
                        e.selectLineEnd(0),
                        t.length > 1 && (t.length = 1,
                        e.reorderLines())
                    }
                    ,
                    e.updateNode = function(t, n, a) {
                        var l, f, h = e._lines();
                        for (f in n = "number" == typeof n ? n : m,
                        l = h[a = "number" == typeof a ? a : g][n] || h[a],
                        t)
                            l[f] = t[f]
                    }
                    ,
                    e.updateLineComment = function(t, n) {
                        e.updateNode({
                            initComment: t
                        }, -1, n)
                    }
                    ,
                    e.saveLines = function(t, n) {
                        var a, l, f, h = e._lines(), p = t.length;
                        for (t !== h && (h.length = 0),
                        l = 0; l < p; ++l) {
                            if (a = t[l],
                            l && "number" != typeof a.parentId)
                                return !1;
                            t !== h && h.push(a),
                            a.id = l
                        }
                        return e._history(e._history()),
                        n || (f = e.ids(),
                        e.selectPosition(-1, 0, !0),
                        e.selectPosition(f.move, f.line)),
                        !0
                    }
                    ,
                    e.deletePosition = function(t, n) {
                        var a, l, f = e._lines();
                        return !(!f[n] || !(f[n][t] || -1 === t && 0 !== n)) && (n && (0 === t || 1 === t && f[n][0].isContinuation) && (t = -1),
                        g > 0 && n !== g ? (a = function descendsFromMove(e, t, n) {
                            for (var a, l = e[t]; "number" == typeof (a = l.parentId); ) {
                                if (a === n)
                                    return l.atMoveNode;
                                l = e[a]
                            }
                            return !1
                        }(f, g, n),
                        l = !1 !== a && a >= t) : l = n === g && t <= m,
                        l && (t > 1 ? e.selectPosition(t - 1, n) : (e.selectPosition((f[n][0].isContinuation || 1 === t) && f[n][1] ? 1 : 0, n),
                        e.moveBackward())),
                        t > 0 ? f[n].length = t : n ? f[n] = null : f[0].length = 0,
                        e.reorderLines(),
                        e.ids())
                    }
                    ,
                    e.mark = function(t, n) {
                        var a = m < 0 ? e._lines()[g] : e._lines()[g][m]
                          , l = t.type
                          , f = 1;
                        t.color && ("arrow" === l ? e.mark({
                            key: t.color + t.key,
                            type: "cal"
                        }, n) : "square" === l && e.mark({
                            key: t.color + t.key,
                            type: "csl"
                        }, n)),
                        "cal" !== l && "csl" !== l && (l = "c_" + l,
                        f = 0),
                        a.commands && a.commands[l] && (a.commands[l] = a.commands[l].split(",").filter((function rm(e) {
                            return e.slice(f).split(";")[0] !== t.key.slice(f)
                        }
                        )).join(","),
                        a.commands[l] || delete a.commands[l]),
                        n || (a.commands || (a.commands = {}),
                        a.commands[l] = (a.commands[l] ? a.commands[l] + "," : "") + t.key + (t.data ? ";" + t.data.join(";") : ""))
                    }
                    ,
                    e.markings = function() {
                        var t, n, a, l, f, h, p, v, y = {}, b = m < 0 ? e._lines()[g] : e._lines()[g][m], _ = {
                            cal: "arrow",
                            csl: "square"
                        };
                        for (n in b.commands) {
                            if (a = b.commands[n],
                            _[n])
                                n = _[n],
                                l = 0;
                            else {
                                if ("c_" !== n.substr(0, 2))
                                    continue;
                                n = n.slice(2),
                                l = 1
                            }
                            for (y[n] = y[n] || {},
                            h = (f = a.split(",")).length,
                            t = 0; t < h; ++t)
                                l ? (v = (p = f[t].split(";")).shift(),
                                y[n][v] = y[n][v] || {
                                    type: n,
                                    key: v
                                },
                                y[n][v].data = p) : (v = f[t].slice(1),
                                y[n][v] = y[n][v] || {
                                    type: n,
                                    key: v
                                },
                                y[n][v].color = f[t][0])
                        }
                        return y
                    }
                    ,
                    e.clearMarkings = function() {
                        var t, n = m < 0 ? e._lines()[g] : e._lines()[g][m];
                        for (t in n.commands)
                            /^c[sa]l$|^c_/.test(t) && delete n.commands[t]
                    }
                    ,
                    e.pgn = function(n) {
                        var a, l = e.ids();
                        return e.selectLineEnd(0),
                        a = t.pgn(n),
                        e.selectPosition(l.move, l.line),
                        a
                    }
                    ,
                    e.loadMoves = function(t, n) {
                        var a, l, f, h, p;
                        if (n = n || {},
                        "string" == typeof t && (t = decodeTCN(t)),
                        t) {
                            for (n.atCurrent || e.selectPosition(-1, 0),
                            f = g,
                            l = t.length,
                            a = 0; a < l; ++a) {
                                if (!((h = e.move(t[a], !0)) || (t[a].promotion = !0 === n.autoPromote ? "q" : n.autoPromote,
                                h = e.move(t[a], !0))))
                                    return !1;
                                g !== f && "merge" !== n.method && (e.promoteVariation(g, 1),
                                "promote" !== n.method && (e._history()[m].lines = void 0,
                                e.reorderLines()),
                                f = g)
                            }
                            if ("promote" === n.method) {
                                if (l) {
                                    for (e._history()[m + 1] && (h = e._history()[m],
                                    e.createVariation(),
                                    e.move(h),
                                    swapMoveAttributes(e._history()[0], h),
                                    e.promoteVariation(g, 1)),
                                    a = (p = e._lines()).length - 1; a >= 0; --a)
                                        1 === p[a].length && p[a][0].isContinuation && (swapMoveAttributes(p[a][0], p[p[a].parentId][p[a].atMoveNode]),
                                        p[a].length = 0);
                                    e.removeEmptyLines()
                                }
                            } else
                                "merge" !== n.method && e.deletePosition(m + 1, g)
                        }
                        return !0
                    }
                    )
                }
                function createGame(e) {
                    var t, a;
                    if ((e = e || {}).game)
                        return e.game;
                    if (t = n(),
                    e.analysis && extendChess(t),
                    e.disableHashing && t.hashing(!1),
                    e.pgn) {
                        if (!(t.loadPgn(e.pgn, e.index, e.options) || "detect" === e.variant && n.variants.some((function(n) {
                            return e.options = e.options || {},
                            e.options.variant = n,
                            t.loadPgn(e.pgn, e.index, e.options)
                        }
                        ))))
                            return !1
                    } else {
                        if (e.headers && (e.variant = e.headers.Variant || e.variant,
                        e.fen || (e.fen = e.headers.FEN)),
                        "detect" === e.variant && e.fen && (e.fen.indexOf("|") > -1 ? e.variant = "Bughouse" : 9 === e.fen.split("/").length ? e.variant = "Crazyhouse" : e.fen.indexOf("+") > -1 ? e.variant = "3-check" : e.variant = void 0),
                        (e.fen || e.variant) && !t.load(e.fen || f, e.variant))
                            return !1;
                        e.headers && "object" == typeof e.headers && !Array.isArray(e.headers) && t.header(e.headers)
                    }
                    if (e.tcn)
                        if ("object" == typeof e.tcn) {
                            if (!function playBughouseTCN(e, t, n) {
                                var a, l, f, h = [decodeTCN(t[0]), decodeTCN(t[1])], p = [0, 0], m = [0, 0], g = h[0].length + h[1].length, v = Math.max(0 | n[0][0], 0 | n[0][1], 0 | n[1][0], 0 | n[1][1]), y = [0, 0], b = [0, 0];
                                for (a = [[v += 600 - v % 600, v], [v, v]]; g--; ) {
                                    if (b[0] = y[0] + a[0][m[0]] - n[0][p[0]] || 0,
                                    b[1] = y[1] + a[1][m[1]] - n[1][p[1]] || 0,
                                    h[l = b[0] <= b[1] ? 0 : 1][p[l]] || (l ^= 1),
                                    (!(f = l ? e.siblingGame : e).move(h[l][p[l]]) || g && f.inCheckmate() && f.undo(!0)) && !(f = (l ^= 1) ? e.siblingGame : e).move(h[l][p[l]]))
                                        return !1;
                                    f._history()[p[l]].time = n[l][p[l]],
                                    a[l][m[l]] = n[l][p[l]],
                                    y[l] = b[l],
                                    m[l] ^= 1,
                                    ++p[l]
                                }
                                return !0
                            }(t, e.tcn, e.timestamps || [[], []]))
                                return !1
                        } else
                            a = decodeTCN(e.tcn);
                    else
                        a = e.moves;
                    return !(a && !makeMoves(t, a, e, e.timestamps)) && t
                }
                function normalizeMoveObj(e) {
                    return e && (e.piece & m && (e.promoted = !0),
                    e.piece = p[e.piece & h],
                    e.captured && (e.captured & m && (e.capturedPromotedPawn = !0),
                    e.captured = p[255 & e.captured]),
                    e.promotion && (e.promotion = p[e.promotion & h]),
                    void 0 !== e.drop && (e.drop = "pnbrq"[e.drop])),
                    e
                }
                function normalizeHistory(e) {
                    var t, n, a, l, f, h, p, m = e.history(!0, !0);
                    if (e.siblingGame) {
                        for (t = e.siblingGame.history(!0, !0),
                        a = m.length + t.length,
                        n = [],
                        l = 0; l < a; ++l)
                            !m.length || t.length && t[0].bughouseOrder < m[0].bughouseOrder ? (f = t.shift()).board = "b" : (f = m.shift()).board = "a",
                            n.push(f);
                        m = n
                    }
                    for (a = m.length,
                    l = 0; l < a; ++l)
                        if ((h = m[l]).fen || normalizeMoveObj(h),
                        h.lines)
                            for (p = h.lines.length - 1; p >= 0; --p)
                                e.selectLine(h.lines[p]),
                                h.lines[p] = normalizeHistory(e).moves;
                    return {
                        moves: m
                    }
                }
                function getLegalMoves(e, t) {
                    var n, a, f, h;
                    if ("string" == typeof e) {
                        if ((a = l).reset(),
                        !a.load(e, t))
                            return null
                    } else
                        a = createGame(e);
                    for (h = (n = a.moves({
                        verbose: !0
                    })).length,
                    f = 0; f < h; ++f)
                        normalizeMoveObj(n[f]);
                    return n
                }
                function jce(t, n) {
                    return (e = e || a(jce))(t, n)
                }
                return jce.supportsMultithreading = function() {
                    var e, t = Boolean(jce._hasThreads);
                    if ("boolean" != typeof jce._hasThreads) {
                        try {
                            (e = new Worker("data:application/javascript,")).postMessage(new SharedArrayBuffer(1)),
                            t = !0
                        } catch (n) {}
                        try {
                            e.terminate()
                        } catch (n) {}
                        jce._hasThreads = t
                    }
                    return t
                }
                ,
                jce.gameFingerprints = function gameFingerprints(e) {
                    var n, a, l, h, p, m, g, v, y, b = createGame(e), _ = [""], C = [];
                    if (!b)
                        return !1;
                    for (y = (v = b.header()).Variant || "",
                    m = b.hashes(),
                    n = "function" == typeof b.origHistory ? b.origHistory(!0) : b.history(!0),
                    p = m.length,
                    a = [m[0][0], m[0][1]],
                    C.push(t.to64BitHex(a) + y),
                    m[0] = t.to64BitHex(m[0]),
                    l = 1; l < p; ++l)
                        a[0] = (a[0] ^ m[l][0] * (l + 58465)) >>> 0,
                        a[1] = (a[1] ^ m[l][1] * (l + 984)) >>> 0,
                        m[l] = t.to64BitHex(m[l]),
                        C.push(t.to64BitHex(a) + y),
                        normalizeMoveObj(n[h = l - 1]),
                        g = (n[h].from ? n[h].from : n[h].drop.toUpperCase() + "@") + n[h].to + (n[h].promotion || ""),
                        h && (g = _[h] + " " + g),
                        _.push(g);
                    return {
                        startingFen: v.FEN || f,
                        hashes: m,
                        fingerprints: C,
                        moves: _,
                        variant: v.Variant
                    }
                }
                ,
                jce.getFenFromMoves = function getFenFromMoves(e, t, n) {
                    return l.reset(),
                    l.load(e, n),
                    !(t && !makeMoves(l, t)) && l.fen()
                }
                ,
                jce.getLegalMoves = getLegalMoves,
                jce.getPositionInfo = function getPositionInfo(e, t, n) {
                    var a, f, h = {
                        gameOver: !1,
                        check: !1,
                        checkmate: !1,
                        draw: !1,
                        stalemate: !1,
                        threefold: !1,
                        insufficient: !1
                    };
                    if (Array.isArray(t) || (n = t,
                    t = null),
                    "boolean" == typeof n ? (a = n,
                    n = {}) : a = (n = n || {}).variant,
                    "string" == typeof e) {
                        if ((f = l).reset(),
                        0 !== f.validateFen(e, a) || !f.load(e, a))
                            return !1
                    } else
                        f = createGame(e);
                    return !(t && !makeMoves(f, t)) && (n.getLegalMoves && (h.legalMoves = getLegalMoves({
                        game: f
                    })),
                    f.inCheck() ? (h.check = !0,
                    h.checkmate = f.inCheckmate()) : h.stalemate = f.inStalemate(),
                    h.threefold = f.inThreefoldRepetition(),
                    h.insufficient = f.insufficientMaterial(n.color),
                    h.fiftyMoveRule = f.in50MoveRule(),
                    h.draw = h.stalemate || h.threefold || h.insufficient || h.fiftyMoveRule || f.inDraw(),
                    n.skipValidation || (h.isValid = f.isPositionValid(n)),
                    a && (h.variantWin = f.isVariantWin(),
                    void 0 === h.variantWin && (h.variantWin = f.isBughouseWin())),
                    h.gameOver = h.checkmate || h.draw || Boolean(h.variantWin),
                    h)
                }
                ,
                jce.isFenValid = function isFenValid(e, t) {
                    return 0 === l.validateFen(e, t)
                }
                ,
                jce.encodeTCN = function encodeTCN(e) {
                    var t, n, a, l, f = "";
                    for (Array.isArray(e) || (e = [e]),
                    n = e.length,
                    t = 0; t < n; t += 1)
                        a = e[t].drop ? 79 + v.indexOf(e[t].drop) : g.indexOf(e[t].from[0]) + 8 * (e[t].from[1] - 1),
                        l = g.indexOf(e[t].to[0]) + 8 * (e[t].to[1] - 1),
                        e[t].promotion && (l = 3 * v.indexOf(e[t].promotion) + 64 + (l < a ? 9 + l - a : l - a - 7)),
                        f += g[a] + g[l];
                    return f
                }
                ,
                jce.decodeTCN = decodeTCN,
                jce.uciToObj = uciToObj,
                jce.generatePgn = function generatePgn(e) {
                    var t;
                    return (e = e || {}).disableHashing = !0,
                    !!(t = createGame(e)) && t.pgn(e)
                }
                ,
                jce.pgnToFen = function pgnToFen(e, t) {
                    var n, a, f = [];
                    if (l.reset(),
                    !l.loadPgn(e))
                        return !1;
                    if (n = l.moveCount(),
                    "number" == typeof t) {
                        for (t < 0 && (t = n + t + 1),
                        a = n - 1; a >= t && a >= 0; a -= 1)
                            l.undo();
                        return l.fen()
                    }
                    for (a = 0; a <= n; a += 1)
                        f.unshift(l.fen()),
                        l.undo();
                    return f
                }
                ,
                jce.pgnToJson = function pgnToJson(e, t, n) {
                    var a, f = [], h = l;
                    return "number" != typeof t && (n = t,
                    t = void 0),
                    a = h.tokenizePgn(e, n),
                    t < 0 && (t = a.length + t),
                    !!a && (n && n.includeFen && (h = createGame({
                        analysis: !0
                    })),
                    a.forEach((function(e, a) {
                        var l, p;
                        a === t || void 0 === t ? h.loadPgn([e], 0, n) ? (p = normalizeHistory(h),
                        l = h.header(),
                        f.push({
                            headers: l,
                            moves: p.moves
                        })) : f.push(!1) : f.push(void 0)
                    }
                    )),
                    "number" == typeof t ? f[t] : f)
                }
                ,
                jce.sanToObj = function sanToObj(e, t, n) {
                    return l.reset(),
                    !!l.load(t, n) && normalizeMoveObj(l.move(e))
                }
                ,
                jce.completeFen = l.completeFen,
                jce.shortenFen = function shortenFen(e, t) {
                    return l.completeFen(e).split(" ").slice(0, t || 4).join(" ")
                }
                ,
                jce.createGame = createGame,
                jce.getPositionDetails = function getPositionDetails(e, t) {
                    var n, a, l, f;
                    if ((e = e || {}).disableHashing = !0,
                    !(n = createGame(e)))
                        return null;
                    if (t) {
                        if (!(l = n.move(t)))
                            return null;
                        n.extended || normalizeMoveObj(l)
                    }
                    return f = n.fen(),
                    e.skipValidation || n.isPositionValid(e) ? (a = f.split(" "),
                    {
                        fen: f,
                        pieces: getPieces(n),
                        sideToMove: n.turn(),
                        castling: a[2],
                        epSquare: "-" === a[3] ? null : a[3],
                        halfMoves: +a[4],
                        moveNumber: +a[5],
                        move: l,
                        hand: n.hand(),
                        checks: n.checks()
                    }) : null
                }
                ,
                jce.predict = function predict(e, t) {
                    var n = Math.min(Math.max(.20773843 * Math.atan(2.49085889 * e / 100 - 2.47841945 * t / 100) + .02262979 * e / 100 - .02256839 * t / 100 + .52239679, 0), 1)
                      , a = Math.min(Math.max(-.20720905 * Math.atan(2.49626837 * e / 100 - 2.48220286 * t / 100) + -.02352551 * e / 100 + .02172627 * t / 100 + .49443923, 0), 1)
                      , l = Math.min(Math.max(Math.exp(.037043456 * e / 100 + .178106427 * t / 100 - 8.069742932) + .004823544 * Math.exp(-1.364136591 * Math.pow(e / 100 - t / 100, 2)) + -.001625539, 0), 1)
                      , f = n + a + l;
                    return {
                        w: n / f,
                        b: a / f,
                        d: l / f
                    }
                }
                ,
                jce.normalizeMoveObj = normalizeMoveObj,
                jce.FLAGS = l.FLAGS,
                jce.loadECO = function loadECO(e, n) {
                    t.loadBook(e, (function onload(e, a) {
                        if (!a || !a.json)
                            return n(e || new Error("Invalid book"));
                        n(e, (function queryECO(e) {
                            var n, l, f, h, p, m, g, v, y;
                            if (e.hash)
                                l = "string" == typeof e.hash ? [t.hex64ToDec(e.hash)] : [e.hash],
                                h = 1;
                            else {
                                if (!(n = createGame(e)))
                                    return !1;
                                h = (l = n.hashes()).length
                            }
                            for (f = 0; f < h; ++f)
                                if (p = a.json[t.to64BitHex(l[f])]) {
                                    if (p.constructor === Array)
                                        if (m && -1 === p[0].m.indexOf(m.m)) {
                                            for (v = p.length - 1; v >= 0; --v)
                                                if (!v || -1 !== p[v].m.indexOf(m.m)) {
                                                    (y = p[v]).e = p[0].e,
                                                    y.s = p[0].s,
                                                    y.mate = p[0].mate,
                                                    y.v = p[0].v,
                                                    y.h = p[0].h,
                                                    y.n = y.n || p[0].n,
                                                    y.u = y.u || p[0].u,
                                                    y.c = y.c || p[0].c;
                                                    break
                                                }
                                        } else
                                            y = p[0];
                                    else
                                        y = p;
                                    (y.n || e.allowNameless) && (m = y)
                                } else
                                    e.mustEndInBook && (m = void 0);
                            if (m)
                                return g = {
                                    name: m.n
                                },
                                m.m && (g.moves = m.m),
                                void 0 !== m.d && (g.sdiff = m.d / 100),
                                m.c && (g.code = m.c,
                                g.url = m.u || m.n.replace(/[\u00e1-\u00e5]/g, "a").replace(/[\u0107\u010d]/g, "c").replace(/[\u00e9\u00e8\u0117\u0113]/g, "e").replace(/[\u00f3\u00f6\u00f8]/g, "o").replace(/[\u016f\u00fc]/g, "u").replace(/['+,]/g, "").replace(/[^a-z0-9.]+/gi, "-").replace(/(with-\d|St)\.+-?/, "$1-")),
                                m.e ? (g.eval = m.e,
                                g.depth = m.h,
                                g.score = m.e[0].cp / 100,
                                void 0 !== m.e[0].mate && (g.mate = m.e[0].mate)) : (g.score = m.s / 100,
                                void 0 !== m.mate && (g.mate = m.mate)),
                                m.v && (g.bad = !0),
                                g
                        }
                        ), a.json)
                    }
                    ))
                }
                ,
                jce.CEE_LIB = {
                    addOptions: function(e, t) {
                        for (var n in t)
                            void 0 !== t[n] && e.push("setoption name " + n + " value " + t[n]);
                        return e
                    },
                    addVariations: function(e, t, n) {
                        var a, l;
                        t = t || [],
                        n = n || "variation";
                        for (var f = 0; f < t.length; ++f)
                            (a = t[f]).pv = Array.isArray(a.pv) && a.pv.join(" ") || a.pv || "",
                            l = n + " " + a.pv,
                            "number" == typeof a.mateIn ? l += " mate " + a.mateIn : "number" == typeof a.mate ? l += " mate " + a.mate : l += " cp " + Math.round(a.cp),
                            "number" == typeof a.depth && (l += " depth " + a.depth),
                            e.push(l);
                        return e
                    },
                    addPush: function(e, t) {
                        var n;
                        return "string" == typeof t && (t = {
                            moveLan: t
                        }),
                        n = "push " + t.moveLan,
                        t.isBook && (n += " isBook"),
                        t.isRetry && (n += " isRetry"),
                        e.push(n),
                        e
                    },
                    addPosition: function(e, t) {
                        return e.push("position fen " + t),
                        e
                    },
                    addVariant: function(e, t) {
                        return "chess960" === String(t).toLowerCase().replace(/ |-/g, "") ? (e.push("setoption name UCI_Variant value chess"),
                        e.push("setoption name UCI_Chess960 value " + !0)) : (e.push("setoption name UCI_Variant value chess"),
                        e.push("setoption name UCI_Chess960 value " + !1)),
                        e
                    }
                },
                jce
            }(),
            e.exports = l
        }(l);
        var f, h, p = l.exports;
        function createEventEmitter() {
            const e = [];
            return {
                emit: function emit(t, n) {
                    let a;
                    for (a of e)
                        a.type !== t && "all" !== a.type || a.handler(n)
                },
                listeners: e,
                off: off,
                offAll: function offAll(e) {
                    return off({
                        handler: e,
                        type: "all"
                    })
                },
                offMany: function offMany(e=[]) {
                    e.forEach((e=>off(e)))
                },
                on: on,
                onAll: function onAll(e) {
                    on("all", e)
                },
                onMany: function onMany(e=[], t) {
                    e.forEach((e=>on(e, t)))
                },
                once: function once(t, n) {
                    const a = {
                        handler: (...e)=>{
                            off(a),
                            n(...e)
                        }
                        ,
                        type: t
                    };
                    e.push(a)
                }
            };
            function off(t) {
                const n = e.findIndex((e=>t.type === e.type && t.handler === e.handler));
                -1 !== n && e.splice(n, 1)
            }
            function on(t, n) {
                const a = {
                    handler: n,
                    type: t
                };
                e.push(a)
            }
        }
        function createStateMachine({data: e, initialState: t, states: n}, a=createEventEmitter()) {
            let l = t;
            return Object.assign(Object.assign({}, a), {
                getCurrentState: function getCurrentState() {
                    return l
                },
                getData: function getData() {
                    return Object.assign({}, e)
                },
                transition: function transition(t, h) {
                    if (!n[l][t])
                        return a.emit(f.Event.Types.NoTransition, {
                            action: t,
                            data: e,
                            state: l
                        }),
                        !1;
                    const p = n[l][t](h)
                      , m = "string" == typeof p ? p : p.nextState
                      , buildEvent = n=>({
                        action: t,
                        currentState: l,
                        data: e,
                        event: n,
                        nextState: m,
                        params: h
                    });
                    l !== m && a.emit(f.Event.Types.OnExit, buildEvent(f.Event.Types.OnExit));
                    p.data && Object.assign(e, p.data);
                    l !== m && a.emit(f.Event.Types.OnEnter, buildEvent(f.Event.Types.OnEnter));
                    l === m ? a.emit(f.Event.Types.OnReEnter, buildEvent(f.Event.Types.OnReEnter)) : l = m;
                    return !0
                }
            })
        }
        (function(e) {
            var t;
            (t = e.Types || (e.Types = {})).NoTransition = "NoTransition",
            t.OnEnter = "Enter",
            t.OnExit = "Exit",
            t.OnReEnter = "ReEnter"
        }
        )((h = f || (f = {})).Event || (h.Event = {}));
        const m = ["mousedown", "keydown", "touchstart", "touchend"];
        let g = !1;
        const v = window.chesscom || {}
          , y = window.AudioContext || window.webkitAudioContext;
        let b = Boolean(y);
        function isSuspended() {
            return b
        }
        function resumeAudio(e) {
            if (y) {
                if (v.audioContext || (v.audioContext = function newAudioContext() {
                    try {
                        return new y
                    } catch (e) {
                        return null
                    }
                }()),
                !v.audioContext || !v.audioContext.resume)
                    return b = !1,
                    void e();
                v.audioContext.resume().then((()=>{
                    b = !1,
                    e()
                }
                ))
            }
        }
        var _ = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== n.g ? n.g : "undefined" != typeof self ? self : {};
        /*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
        var C, A, S = function createCommonjsModule(e) {
            var t = {
                exports: {}
            };
            return e(t, t.exports),
            t.exports
        }((function(e, t) {
            !function() {
                var HowlerGlobal2 = function() {
                    this.init()
                };
                HowlerGlobal2.prototype = {
                    init: function() {
                        var t = this || e;
                        return t._counter = 1e3,
                        t._html5AudioPool = [],
                        t.html5PoolSize = 10,
                        t._codecs = {},
                        t._howls = [],
                        t._muted = !1,
                        t._volume = 1,
                        t._canPlayEvent = "canplaythrough",
                        t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null,
                        t.masterGain = null,
                        t.noAudio = !1,
                        t.usingWebAudio = !0,
                        t.autoSuspend = !0,
                        t.ctx = null,
                        t.autoUnlock = !0,
                        t._setup(),
                        t
                    },
                    volume: function(t) {
                        var n = this || e;
                        if (t = parseFloat(t),
                        n.ctx || setupAudioContext(),
                        void 0 !== t && t >= 0 && t <= 1) {
                            if (n._volume = t,
                            n._muted)
                                return n;
                            n.usingWebAudio && n.masterGain.gain.setValueAtTime(t, e.ctx.currentTime);
                            for (var a = 0; a < n._howls.length; a++)
                                if (!n._howls[a]._webAudio)
                                    for (var l = n._howls[a]._getSoundIds(), f = 0; f < l.length; f++) {
                                        var h = n._howls[a]._soundById(l[f]);
                                        h && h._node && (h._node.volume = h._volume * t)
                                    }
                            return n
                        }
                        return n._volume
                    },
                    mute: function(t) {
                        var n = this || e;
                        n.ctx || setupAudioContext(),
                        n._muted = t,
                        n.usingWebAudio && n.masterGain.gain.setValueAtTime(t ? 0 : n._volume, e.ctx.currentTime);
                        for (var a = 0; a < n._howls.length; a++)
                            if (!n._howls[a]._webAudio)
                                for (var l = n._howls[a]._getSoundIds(), f = 0; f < l.length; f++) {
                                    var h = n._howls[a]._soundById(l[f]);
                                    h && h._node && (h._node.muted = !!t || h._muted)
                                }
                        return n
                    },
                    stop: function() {
                        for (var t = this || e, n = 0; n < t._howls.length; n++)
                            t._howls[n].stop();
                        return t
                    },
                    unload: function() {
                        for (var t = this || e, n = t._howls.length - 1; n >= 0; n--)
                            t._howls[n].unload();
                        return t.usingWebAudio && t.ctx && void 0 !== t.ctx.close && (t.ctx.close(),
                        t.ctx = null,
                        setupAudioContext()),
                        t
                    },
                    codecs: function(t) {
                        return (this || e)._codecs[t.replace(/^x-/, "")]
                    },
                    _setup: function() {
                        var t = this || e;
                        if (t.state = t.ctx && t.ctx.state || "suspended",
                        t._autoSuspend(),
                        !t.usingWebAudio)
                            if ("undefined" != typeof Audio)
                                try {
                                    void 0 === (new Audio).oncanplaythrough && (t._canPlayEvent = "canplay")
                                } catch (n) {
                                    t.noAudio = !0
                                }
                            else
                                t.noAudio = !0;
                        try {
                            (new Audio).muted && (t.noAudio = !0)
                        } catch (n) {}
                        return t.noAudio || t._setupCodecs(),
                        t
                    },
                    _setupCodecs: function() {
                        var t = this || e
                          , n = null;
                        try {
                            n = "undefined" != typeof Audio ? new Audio : null
                        } catch (v) {
                            return t
                        }
                        if (!n || "function" != typeof n.canPlayType)
                            return t;
                        var a = n.canPlayType("audio/mpeg;").replace(/^no$/, "")
                          , l = t._navigator ? t._navigator.userAgent : ""
                          , f = l.match(/OPR\/([0-6].)/g)
                          , h = f && parseInt(f[0].split("/")[1], 10) < 33
                          , p = -1 !== l.indexOf("Safari") && -1 === l.indexOf("Chrome")
                          , m = l.match(/Version\/(.*?) /)
                          , g = p && m && parseInt(m[1], 10) < 15;
                        return t._codecs = {
                            mp3: !(h || !a && !n.canPlayType("audio/mp3;").replace(/^no$/, "")),
                            mpeg: !!a,
                            opus: !!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                            ogg: !!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                            oga: !!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                            wav: !!(n.canPlayType('audio/wav; codecs="1"') || n.canPlayType("audio/wav")).replace(/^no$/, ""),
                            aac: !!n.canPlayType("audio/aac;").replace(/^no$/, ""),
                            caf: !!n.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                            m4a: !!(n.canPlayType("audio/x-m4a;") || n.canPlayType("audio/m4a;") || n.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            m4b: !!(n.canPlayType("audio/x-m4b;") || n.canPlayType("audio/m4b;") || n.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            mp4: !!(n.canPlayType("audio/x-mp4;") || n.canPlayType("audio/mp4;") || n.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            weba: !(g || !n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
                            webm: !(g || !n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
                            dolby: !!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                            flac: !!(n.canPlayType("audio/x-flac;") || n.canPlayType("audio/flac;")).replace(/^no$/, "")
                        },
                        t
                    },
                    _unlockAudio: function() {
                        var t = this || e;
                        if (!t._audioUnlocked && t.ctx) {
                            t._audioUnlocked = !1,
                            t.autoUnlock = !1,
                            t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0,
                            t.unload()),
                            t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050);
                            var unlock = function(e) {
                                for (; t._html5AudioPool.length < t.html5PoolSize; )
                                    try {
                                        var n = new Audio;
                                        n._unlocked = !0,
                                        t._releaseHtml5Audio(n)
                                    } catch (m) {
                                        t.noAudio = !0;
                                        break
                                    }
                                for (var a = 0; a < t._howls.length; a++)
                                    if (!t._howls[a]._webAudio)
                                        for (var l = t._howls[a]._getSoundIds(), f = 0; f < l.length; f++) {
                                            var h = t._howls[a]._soundById(l[f]);
                                            h && h._node && !h._node._unlocked && (h._node._unlocked = !0,
                                            h._node.load())
                                        }
                                t._autoResume();
                                var p = t.ctx.createBufferSource();
                                p.buffer = t._scratchBuffer,
                                p.connect(t.ctx.destination),
                                void 0 === p.start ? p.noteOn(0) : p.start(0),
                                "function" == typeof t.ctx.resume && t.ctx.resume(),
                                p.onended = function() {
                                    p.disconnect(0),
                                    t._audioUnlocked = !0,
                                    document.removeEventListener("touchstart", unlock, !0),
                                    document.removeEventListener("touchend", unlock, !0),
                                    document.removeEventListener("click", unlock, !0),
                                    document.removeEventListener("keydown", unlock, !0);
                                    for (var e = 0; e < t._howls.length; e++)
                                        t._howls[e]._emit("unlock")
                                }
                            };
                            return document.addEventListener("touchstart", unlock, !0),
                            document.addEventListener("touchend", unlock, !0),
                            document.addEventListener("click", unlock, !0),
                            document.addEventListener("keydown", unlock, !0),
                            t
                        }
                    },
                    _obtainHtml5Audio: function() {
                        var t = this || e;
                        if (t._html5AudioPool.length)
                            return t._html5AudioPool.pop();
                        var n = (new Audio).play();
                        return n && "undefined" != typeof Promise && (n instanceof Promise || "function" == typeof n.then) && n.catch((function() {
                            console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")
                        }
                        )),
                        new Audio
                    },
                    _releaseHtml5Audio: function(t) {
                        var n = this || e;
                        return t._unlocked && n._html5AudioPool.push(t),
                        n
                    },
                    _autoSuspend: function() {
                        var t = this;
                        if (t.autoSuspend && t.ctx && void 0 !== t.ctx.suspend && e.usingWebAudio) {
                            for (var n = 0; n < t._howls.length; n++)
                                if (t._howls[n]._webAudio)
                                    for (var a = 0; a < t._howls[n]._sounds.length; a++)
                                        if (!t._howls[n]._sounds[a]._paused)
                                            return t;
                            return t._suspendTimer && clearTimeout(t._suspendTimer),
                            t._suspendTimer = setTimeout((function() {
                                if (t.autoSuspend) {
                                    t._suspendTimer = null,
                                    t.state = "suspending";
                                    var handleSuspension = function() {
                                        t.state = "suspended",
                                        t._resumeAfterSuspend && (delete t._resumeAfterSuspend,
                                        t._autoResume())
                                    };
                                    t.ctx.suspend().then(handleSuspension, handleSuspension)
                                }
                            }
                            ), 3e4),
                            t
                        }
                    },
                    _autoResume: function() {
                        var t = this;
                        if (t.ctx && void 0 !== t.ctx.resume && e.usingWebAudio)
                            return "running" === t.state && "interrupted" !== t.ctx.state && t._suspendTimer ? (clearTimeout(t._suspendTimer),
                            t._suspendTimer = null) : "suspended" === t.state || "running" === t.state && "interrupted" === t.ctx.state ? (t.ctx.resume().then((function() {
                                t.state = "running";
                                for (var e = 0; e < t._howls.length; e++)
                                    t._howls[e]._emit("resume")
                            }
                            )),
                            t._suspendTimer && (clearTimeout(t._suspendTimer),
                            t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0),
                            t
                    }
                };
                var e = new HowlerGlobal2
                  , Howl2 = function(e) {
                    e.src && 0 !== e.src.length ? this.init(e) : console.error("An array of source files must be passed with any new Howl.")
                };
                Howl2.prototype = {
                    init: function(t) {
                        var n = this;
                        return e.ctx || setupAudioContext(),
                        n._autoplay = t.autoplay || !1,
                        n._format = "string" != typeof t.format ? t.format : [t.format],
                        n._html5 = t.html5 || !1,
                        n._muted = t.mute || !1,
                        n._loop = t.loop || !1,
                        n._pool = t.pool || 5,
                        n._preload = "boolean" != typeof t.preload && "metadata" !== t.preload || t.preload,
                        n._rate = t.rate || 1,
                        n._sprite = t.sprite || {},
                        n._src = "string" != typeof t.src ? t.src : [t.src],
                        n._volume = void 0 !== t.volume ? t.volume : 1,
                        n._xhr = {
                            method: t.xhr && t.xhr.method ? t.xhr.method : "GET",
                            headers: t.xhr && t.xhr.headers ? t.xhr.headers : null,
                            withCredentials: !(!t.xhr || !t.xhr.withCredentials) && t.xhr.withCredentials
                        },
                        n._duration = 0,
                        n._state = "unloaded",
                        n._sounds = [],
                        n._endTimers = {},
                        n._queue = [],
                        n._playLock = !1,
                        n._onend = t.onend ? [{
                            fn: t.onend
                        }] : [],
                        n._onfade = t.onfade ? [{
                            fn: t.onfade
                        }] : [],
                        n._onload = t.onload ? [{
                            fn: t.onload
                        }] : [],
                        n._onloaderror = t.onloaderror ? [{
                            fn: t.onloaderror
                        }] : [],
                        n._onplayerror = t.onplayerror ? [{
                            fn: t.onplayerror
                        }] : [],
                        n._onpause = t.onpause ? [{
                            fn: t.onpause
                        }] : [],
                        n._onplay = t.onplay ? [{
                            fn: t.onplay
                        }] : [],
                        n._onstop = t.onstop ? [{
                            fn: t.onstop
                        }] : [],
                        n._onmute = t.onmute ? [{
                            fn: t.onmute
                        }] : [],
                        n._onvolume = t.onvolume ? [{
                            fn: t.onvolume
                        }] : [],
                        n._onrate = t.onrate ? [{
                            fn: t.onrate
                        }] : [],
                        n._onseek = t.onseek ? [{
                            fn: t.onseek
                        }] : [],
                        n._onunlock = t.onunlock ? [{
                            fn: t.onunlock
                        }] : [],
                        n._onresume = [],
                        n._webAudio = e.usingWebAudio && !n._html5,
                        void 0 !== e.ctx && e.ctx && e.autoUnlock && e._unlockAudio(),
                        e._howls.push(n),
                        n._autoplay && n._queue.push({
                            event: "play",
                            action: function() {
                                n.play()
                            }
                        }),
                        n._preload && "none" !== n._preload && n.load(),
                        n
                    },
                    load: function() {
                        var t = this
                          , n = null;
                        if (e.noAudio)
                            t._emit("loaderror", null, "No audio support.");
                        else {
                            "string" == typeof t._src && (t._src = [t._src]);
                            for (var a = 0; a < t._src.length; a++) {
                                var l, f;
                                if (t._format && t._format[a])
                                    l = t._format[a];
                                else {
                                    if ("string" != typeof (f = t._src[a])) {
                                        t._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                        continue
                                    }
                                    (l = /^data:audio\/([^;,]+);/i.exec(f)) || (l = /\.([^.]+)$/.exec(f.split("?", 1)[0])),
                                    l && (l = l[1].toLowerCase())
                                }
                                if (l || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),
                                l && e.codecs(l)) {
                                    n = t._src[a];
                                    break
                                }
                            }
                            if (n)
                                return t._src = n,
                                t._state = "loading",
                                "https:" === window.location.protocol && "http:" === n.slice(0, 5) && (t._html5 = !0,
                                t._webAudio = !1),
                                new Sound2(t),
                                t._webAudio && loadBuffer(t),
                                t;
                            t._emit("loaderror", null, "No codec support for selected audio sources.")
                        }
                    },
                    play: function(t, n) {
                        var a = this
                          , l = null;
                        if ("number" == typeof t)
                            l = t,
                            t = null;
                        else {
                            if ("string" == typeof t && "loaded" === a._state && !a._sprite[t])
                                return null;
                            if (void 0 === t && (t = "__default",
                            !a._playLock)) {
                                for (var f = 0, h = 0; h < a._sounds.length; h++)
                                    a._sounds[h]._paused && !a._sounds[h]._ended && (f++,
                                    l = a._sounds[h]._id);
                                1 === f ? t = null : l = null
                            }
                        }
                        var p = l ? a._soundById(l) : a._inactiveSound();
                        if (!p)
                            return null;
                        if (l && !t && (t = p._sprite || "__default"),
                        "loaded" !== a._state) {
                            p._sprite = t,
                            p._ended = !1;
                            var m = p._id;
                            return a._queue.push({
                                event: "play",
                                action: function() {
                                    a.play(m)
                                }
                            }),
                            m
                        }
                        if (l && !p._paused)
                            return n || a._loadQueue("play"),
                            p._id;
                        a._webAudio && e._autoResume();
                        var g = Math.max(0, p._seek > 0 ? p._seek : a._sprite[t][0] / 1e3)
                          , v = Math.max(0, (a._sprite[t][0] + a._sprite[t][1]) / 1e3 - g)
                          , y = 1e3 * v / Math.abs(p._rate)
                          , b = a._sprite[t][0] / 1e3
                          , _ = (a._sprite[t][0] + a._sprite[t][1]) / 1e3;
                        p._sprite = t,
                        p._ended = !1;
                        var setParams = function() {
                            p._paused = !1,
                            p._seek = g,
                            p._start = b,
                            p._stop = _,
                            p._loop = !(!p._loop && !a._sprite[t][2])
                        };
                        if (!(g >= _)) {
                            var C = p._node;
                            if (a._webAudio) {
                                var playWebAudio = function() {
                                    a._playLock = !1,
                                    setParams(),
                                    a._refreshBuffer(p);
                                    var t = p._muted || a._muted ? 0 : p._volume;
                                    C.gain.setValueAtTime(t, e.ctx.currentTime),
                                    p._playStart = e.ctx.currentTime,
                                    void 0 === C.bufferSource.start ? p._loop ? C.bufferSource.noteGrainOn(0, g, 86400) : C.bufferSource.noteGrainOn(0, g, v) : p._loop ? C.bufferSource.start(0, g, 86400) : C.bufferSource.start(0, g, v),
                                    y !== 1 / 0 && (a._endTimers[p._id] = setTimeout(a._ended.bind(a, p), y)),
                                    n || setTimeout((function() {
                                        a._emit("play", p._id),
                                        a._loadQueue()
                                    }
                                    ), 0)
                                };
                                "running" === e.state && "interrupted" !== e.ctx.state ? playWebAudio() : (a._playLock = !0,
                                a.once("resume", playWebAudio),
                                a._clearTimer(p._id))
                            } else {
                                var playHtml5 = function() {
                                    C.currentTime = g,
                                    C.muted = p._muted || a._muted || e._muted || C.muted,
                                    C.volume = p._volume * e.volume(),
                                    C.playbackRate = p._rate;
                                    try {
                                        var l = C.play();
                                        if (l && "undefined" != typeof Promise && (l instanceof Promise || "function" == typeof l.then) ? (a._playLock = !0,
                                        setParams(),
                                        l.then((function() {
                                            a._playLock = !1,
                                            C._unlocked = !0,
                                            n ? a._loadQueue() : a._emit("play", p._id)
                                        }
                                        )).catch((function() {
                                            a._playLock = !1,
                                            a._emit("playerror", p._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),
                                            p._ended = !0,
                                            p._paused = !0
                                        }
                                        ))) : n || (a._playLock = !1,
                                        setParams(),
                                        a._emit("play", p._id)),
                                        C.playbackRate = p._rate,
                                        C.paused)
                                            return void a._emit("playerror", p._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                                        "__default" !== t || p._loop ? a._endTimers[p._id] = setTimeout(a._ended.bind(a, p), y) : (a._endTimers[p._id] = function() {
                                            a._ended(p),
                                            C.removeEventListener("ended", a._endTimers[p._id], !1)
                                        }
                                        ,
                                        C.addEventListener("ended", a._endTimers[p._id], !1))
                                    } catch (f) {
                                        a._emit("playerror", p._id, f)
                                    }
                                };
                                "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA" === C.src && (C.src = a._src,
                                C.load());
                                var A = window && window.ejecta || !C.readyState && e._navigator.isCocoonJS;
                                if (C.readyState >= 3 || A)
                                    playHtml5();
                                else {
                                    a._playLock = !0,
                                    a._state = "loading";
                                    var listener = function() {
                                        a._state = "loaded",
                                        playHtml5(),
                                        C.removeEventListener(e._canPlayEvent, listener, !1)
                                    };
                                    C.addEventListener(e._canPlayEvent, listener, !1),
                                    a._clearTimer(p._id)
                                }
                            }
                            return p._id
                        }
                        a._ended(p)
                    },
                    pause: function(e) {
                        var t = this;
                        if ("loaded" !== t._state || t._playLock)
                            return t._queue.push({
                                event: "pause",
                                action: function() {
                                    t.pause(e)
                                }
                            }),
                            t;
                        for (var n = t._getSoundIds(e), a = 0; a < n.length; a++) {
                            t._clearTimer(n[a]);
                            var l = t._soundById(n[a]);
                            if (l && !l._paused && (l._seek = t.seek(n[a]),
                            l._rateSeek = 0,
                            l._paused = !0,
                            t._stopFade(n[a]),
                            l._node))
                                if (t._webAudio) {
                                    if (!l._node.bufferSource)
                                        continue;
                                    void 0 === l._node.bufferSource.stop ? l._node.bufferSource.noteOff(0) : l._node.bufferSource.stop(0),
                                    t._cleanBuffer(l._node)
                                } else
                                    isNaN(l._node.duration) && l._node.duration !== 1 / 0 || l._node.pause();
                            arguments[1] || t._emit("pause", l ? l._id : null)
                        }
                        return t
                    },
                    stop: function(e, t) {
                        var n = this;
                        if ("loaded" !== n._state || n._playLock)
                            return n._queue.push({
                                event: "stop",
                                action: function() {
                                    n.stop(e)
                                }
                            }),
                            n;
                        for (var a = n._getSoundIds(e), l = 0; l < a.length; l++) {
                            n._clearTimer(a[l]);
                            var f = n._soundById(a[l]);
                            f && (f._seek = f._start || 0,
                            f._rateSeek = 0,
                            f._paused = !0,
                            f._ended = !0,
                            n._stopFade(a[l]),
                            f._node && (n._webAudio ? f._node.bufferSource && (void 0 === f._node.bufferSource.stop ? f._node.bufferSource.noteOff(0) : f._node.bufferSource.stop(0),
                            n._cleanBuffer(f._node)) : isNaN(f._node.duration) && f._node.duration !== 1 / 0 || (f._node.currentTime = f._start || 0,
                            f._node.pause(),
                            f._node.duration === 1 / 0 && n._clearSound(f._node))),
                            t || n._emit("stop", f._id))
                        }
                        return n
                    },
                    mute: function(t, n) {
                        var a = this;
                        if ("loaded" !== a._state || a._playLock)
                            return a._queue.push({
                                event: "mute",
                                action: function() {
                                    a.mute(t, n)
                                }
                            }),
                            a;
                        if (void 0 === n) {
                            if ("boolean" != typeof t)
                                return a._muted;
                            a._muted = t
                        }
                        for (var l = a._getSoundIds(n), f = 0; f < l.length; f++) {
                            var h = a._soundById(l[f]);
                            h && (h._muted = t,
                            h._interval && a._stopFade(h._id),
                            a._webAudio && h._node ? h._node.gain.setValueAtTime(t ? 0 : h._volume, e.ctx.currentTime) : h._node && (h._node.muted = !!e._muted || t),
                            a._emit("mute", h._id))
                        }
                        return a
                    },
                    volume: function() {
                        var t, n, a, l = this, f = arguments;
                        if (0 === f.length)
                            return l._volume;
                        if (1 === f.length || 2 === f.length && void 0 === f[1]) {
                            var h = l._getSoundIds()
                              , p = h.indexOf(f[0]);
                            p >= 0 ? n = parseInt(f[0], 10) : t = parseFloat(f[0])
                        } else
                            f.length >= 2 && (t = parseFloat(f[0]),
                            n = parseInt(f[1], 10));
                        if (!(void 0 !== t && t >= 0 && t <= 1))
                            return (a = n ? l._soundById(n) : l._sounds[0]) ? a._volume : 0;
                        if ("loaded" !== l._state || l._playLock)
                            return l._queue.push({
                                event: "volume",
                                action: function() {
                                    l.volume.apply(l, f)
                                }
                            }),
                            l;
                        void 0 === n && (l._volume = t),
                        n = l._getSoundIds(n);
                        for (var m = 0; m < n.length; m++)
                            (a = l._soundById(n[m])) && (a._volume = t,
                            f[2] || l._stopFade(n[m]),
                            l._webAudio && a._node && !a._muted ? a._node.gain.setValueAtTime(t, e.ctx.currentTime) : a._node && !a._muted && (a._node.volume = t * e.volume()),
                            l._emit("volume", a._id));
                        return l
                    },
                    fade: function(t, n, a, l) {
                        var f = this;
                        if ("loaded" !== f._state || f._playLock)
                            return f._queue.push({
                                event: "fade",
                                action: function() {
                                    f.fade(t, n, a, l)
                                }
                            }),
                            f;
                        t = Math.min(Math.max(0, parseFloat(t)), 1),
                        n = Math.min(Math.max(0, parseFloat(n)), 1),
                        a = parseFloat(a),
                        f.volume(t, l);
                        for (var h = f._getSoundIds(l), p = 0; p < h.length; p++) {
                            var m = f._soundById(h[p]);
                            if (m) {
                                if (l || f._stopFade(h[p]),
                                f._webAudio && !m._muted) {
                                    var g = e.ctx.currentTime
                                      , v = g + a / 1e3;
                                    m._volume = t,
                                    m._node.gain.setValueAtTime(t, g),
                                    m._node.gain.linearRampToValueAtTime(n, v)
                                }
                                f._startFadeInterval(m, t, n, a, h[p], void 0 === l)
                            }
                        }
                        return f
                    },
                    _startFadeInterval: function(e, t, n, a, l, f) {
                        var h = this
                          , p = t
                          , m = n - t
                          , g = Math.abs(m / .01)
                          , v = Math.max(4, g > 0 ? a / g : a)
                          , y = Date.now();
                        e._fadeTo = n,
                        e._interval = setInterval((function() {
                            var l = (Date.now() - y) / a;
                            y = Date.now(),
                            p += m * l,
                            p = Math.round(100 * p) / 100,
                            p = m < 0 ? Math.max(n, p) : Math.min(n, p),
                            h._webAudio ? e._volume = p : h.volume(p, e._id, !0),
                            f && (h._volume = p),
                            (n < t && p <= n || n > t && p >= n) && (clearInterval(e._interval),
                            e._interval = null,
                            e._fadeTo = null,
                            h.volume(n, e._id),
                            h._emit("fade", e._id))
                        }
                        ), v)
                    },
                    _stopFade: function(t) {
                        var n = this
                          , a = n._soundById(t);
                        return a && a._interval && (n._webAudio && a._node.gain.cancelScheduledValues(e.ctx.currentTime),
                        clearInterval(a._interval),
                        a._interval = null,
                        n.volume(a._fadeTo, t),
                        a._fadeTo = null,
                        n._emit("fade", t)),
                        n
                    },
                    loop: function() {
                        var e, t, n, a = this, l = arguments;
                        if (0 === l.length)
                            return a._loop;
                        if (1 === l.length) {
                            if ("boolean" != typeof l[0])
                                return !!(n = a._soundById(parseInt(l[0], 10))) && n._loop;
                            e = l[0],
                            a._loop = e
                        } else
                            2 === l.length && (e = l[0],
                            t = parseInt(l[1], 10));
                        for (var f = a._getSoundIds(t), h = 0; h < f.length; h++)
                            (n = a._soundById(f[h])) && (n._loop = e,
                            a._webAudio && n._node && n._node.bufferSource && (n._node.bufferSource.loop = e,
                            e && (n._node.bufferSource.loopStart = n._start || 0,
                            n._node.bufferSource.loopEnd = n._stop,
                            a.playing(f[h]) && (a.pause(f[h], !0),
                            a.play(f[h], !0)))));
                        return a
                    },
                    rate: function() {
                        var t, n, a, l = this, f = arguments;
                        if (0 === f.length)
                            n = l._sounds[0]._id;
                        else if (1 === f.length) {
                            var h = l._getSoundIds()
                              , p = h.indexOf(f[0]);
                            p >= 0 ? n = parseInt(f[0], 10) : t = parseFloat(f[0])
                        } else
                            2 === f.length && (t = parseFloat(f[0]),
                            n = parseInt(f[1], 10));
                        if ("number" != typeof t)
                            return (a = l._soundById(n)) ? a._rate : l._rate;
                        if ("loaded" !== l._state || l._playLock)
                            return l._queue.push({
                                event: "rate",
                                action: function() {
                                    l.rate.apply(l, f)
                                }
                            }),
                            l;
                        void 0 === n && (l._rate = t),
                        n = l._getSoundIds(n);
                        for (var m = 0; m < n.length; m++)
                            if (a = l._soundById(n[m])) {
                                l.playing(n[m]) && (a._rateSeek = l.seek(n[m]),
                                a._playStart = l._webAudio ? e.ctx.currentTime : a._playStart),
                                a._rate = t,
                                l._webAudio && a._node && a._node.bufferSource ? a._node.bufferSource.playbackRate.setValueAtTime(t, e.ctx.currentTime) : a._node && (a._node.playbackRate = t);
                                var g = l.seek(n[m])
                                  , v = (l._sprite[a._sprite][0] + l._sprite[a._sprite][1]) / 1e3 - g
                                  , y = 1e3 * v / Math.abs(a._rate);
                                !l._endTimers[n[m]] && a._paused || (l._clearTimer(n[m]),
                                l._endTimers[n[m]] = setTimeout(l._ended.bind(l, a), y)),
                                l._emit("rate", a._id)
                            }
                        return l
                    },
                    seek: function() {
                        var t, n, a = this, l = arguments;
                        if (0 === l.length)
                            a._sounds.length && (n = a._sounds[0]._id);
                        else if (1 === l.length) {
                            var f = a._getSoundIds()
                              , h = f.indexOf(l[0]);
                            h >= 0 ? n = parseInt(l[0], 10) : a._sounds.length && (n = a._sounds[0]._id,
                            t = parseFloat(l[0]))
                        } else
                            2 === l.length && (t = parseFloat(l[0]),
                            n = parseInt(l[1], 10));
                        if (void 0 === n)
                            return 0;
                        if ("number" == typeof t && ("loaded" !== a._state || a._playLock))
                            return a._queue.push({
                                event: "seek",
                                action: function() {
                                    a.seek.apply(a, l)
                                }
                            }),
                            a;
                        var p = a._soundById(n);
                        if (p) {
                            if (!("number" == typeof t && t >= 0)) {
                                if (a._webAudio) {
                                    var m = a.playing(n) ? e.ctx.currentTime - p._playStart : 0
                                      , g = p._rateSeek ? p._rateSeek - p._seek : 0;
                                    return p._seek + (g + m * Math.abs(p._rate))
                                }
                                return p._node.currentTime
                            }
                            var v = a.playing(n);
                            v && a.pause(n, !0),
                            p._seek = t,
                            p._ended = !1,
                            a._clearTimer(n),
                            a._webAudio || !p._node || isNaN(p._node.duration) || (p._node.currentTime = t);
                            var seekAndEmit = function() {
                                v && a.play(n, !0),
                                a._emit("seek", n)
                            };
                            if (v && !a._webAudio) {
                                var emitSeek = function() {
                                    a._playLock ? setTimeout(emitSeek, 0) : seekAndEmit()
                                };
                                setTimeout(emitSeek, 0)
                            } else
                                seekAndEmit()
                        }
                        return a
                    },
                    playing: function(e) {
                        var t = this;
                        if ("number" == typeof e) {
                            var n = t._soundById(e);
                            return !!n && !n._paused
                        }
                        for (var a = 0; a < t._sounds.length; a++)
                            if (!t._sounds[a]._paused)
                                return !0;
                        return !1
                    },
                    duration: function(e) {
                        var t = this
                          , n = t._duration
                          , a = t._soundById(e);
                        return a && (n = t._sprite[a._sprite][1] / 1e3),
                        n
                    },
                    state: function() {
                        return this._state
                    },
                    unload: function() {
                        for (var t = this, a = t._sounds, l = 0; l < a.length; l++)
                            a[l]._paused || t.stop(a[l]._id),
                            t._webAudio || (t._clearSound(a[l]._node),
                            a[l]._node.removeEventListener("error", a[l]._errorFn, !1),
                            a[l]._node.removeEventListener(e._canPlayEvent, a[l]._loadFn, !1),
                            a[l]._node.removeEventListener("ended", a[l]._endFn, !1),
                            e._releaseHtml5Audio(a[l]._node)),
                            delete a[l]._node,
                            t._clearTimer(a[l]._id);
                        var f = e._howls.indexOf(t);
                        f >= 0 && e._howls.splice(f, 1);
                        var h = !0;
                        for (l = 0; l < e._howls.length; l++)
                            if (e._howls[l]._src === t._src || t._src.indexOf(e._howls[l]._src) >= 0) {
                                h = !1;
                                break
                            }
                        return n && h && delete n[t._src],
                        e.noAudio = !1,
                        t._state = "unloaded",
                        t._sounds = [],
                        t = null,
                        null
                    },
                    on: function(e, t, n, a) {
                        var l = this["_on" + e];
                        return "function" == typeof t && l.push(a ? {
                            id: n,
                            fn: t,
                            once: a
                        } : {
                            id: n,
                            fn: t
                        }),
                        this
                    },
                    off: function(e, t, n) {
                        var a = this
                          , l = a["_on" + e]
                          , f = 0;
                        if ("number" == typeof t && (n = t,
                        t = null),
                        t || n)
                            for (f = 0; f < l.length; f++) {
                                var h = n === l[f].id;
                                if (t === l[f].fn && h || !t && h) {
                                    l.splice(f, 1);
                                    break
                                }
                            }
                        else if (e)
                            a["_on" + e] = [];
                        else {
                            var p = Object.keys(a);
                            for (f = 0; f < p.length; f++)
                                0 === p[f].indexOf("_on") && Array.isArray(a[p[f]]) && (a[p[f]] = [])
                        }
                        return a
                    },
                    once: function(e, t, n) {
                        return this.on(e, t, n, 1),
                        this
                    },
                    _emit: function(e, t, n) {
                        for (var a = this, l = a["_on" + e], f = l.length - 1; f >= 0; f--)
                            l[f].id && l[f].id !== t && "load" !== e || (setTimeout(function(e) {
                                e.call(this, t, n)
                            }
                            .bind(a, l[f].fn), 0),
                            l[f].once && a.off(e, l[f].fn, l[f].id));
                        return a._loadQueue(e),
                        a
                    },
                    _loadQueue: function(e) {
                        var t = this;
                        if (t._queue.length > 0) {
                            var n = t._queue[0];
                            n.event === e && (t._queue.shift(),
                            t._loadQueue()),
                            e || n.action()
                        }
                        return t
                    },
                    _ended: function(t) {
                        var n = this
                          , a = t._sprite;
                        if (!n._webAudio && t._node && !t._node.paused && !t._node.ended && t._node.currentTime < t._stop)
                            return setTimeout(n._ended.bind(n, t), 100),
                            n;
                        var l = !(!t._loop && !n._sprite[a][2]);
                        if (n._emit("end", t._id),
                        !n._webAudio && l && n.stop(t._id, !0).play(t._id),
                        n._webAudio && l) {
                            n._emit("play", t._id),
                            t._seek = t._start || 0,
                            t._rateSeek = 0,
                            t._playStart = e.ctx.currentTime;
                            var f = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                            n._endTimers[t._id] = setTimeout(n._ended.bind(n, t), f)
                        }
                        return n._webAudio && !l && (t._paused = !0,
                        t._ended = !0,
                        t._seek = t._start || 0,
                        t._rateSeek = 0,
                        n._clearTimer(t._id),
                        n._cleanBuffer(t._node),
                        e._autoSuspend()),
                        n._webAudio || l || n.stop(t._id, !0),
                        n
                    },
                    _clearTimer: function(e) {
                        var t = this;
                        if (t._endTimers[e]) {
                            if ("function" != typeof t._endTimers[e])
                                clearTimeout(t._endTimers[e]);
                            else {
                                var n = t._soundById(e);
                                n && n._node && n._node.removeEventListener("ended", t._endTimers[e], !1)
                            }
                            delete t._endTimers[e]
                        }
                        return t
                    },
                    _soundById: function(e) {
                        for (var t = this, n = 0; n < t._sounds.length; n++)
                            if (e === t._sounds[n]._id)
                                return t._sounds[n];
                        return null
                    },
                    _inactiveSound: function() {
                        var e = this;
                        e._drain();
                        for (var t = 0; t < e._sounds.length; t++)
                            if (e._sounds[t]._ended)
                                return e._sounds[t].reset();
                        return new Sound2(e)
                    },
                    _drain: function() {
                        var e = this
                          , t = e._pool
                          , n = 0
                          , a = 0;
                        if (!(e._sounds.length < t)) {
                            for (a = 0; a < e._sounds.length; a++)
                                e._sounds[a]._ended && n++;
                            for (a = e._sounds.length - 1; a >= 0; a--) {
                                if (n <= t)
                                    return;
                                e._sounds[a]._ended && (e._webAudio && e._sounds[a]._node && e._sounds[a]._node.disconnect(0),
                                e._sounds.splice(a, 1),
                                n--)
                            }
                        }
                    },
                    _getSoundIds: function(e) {
                        if (void 0 === e) {
                            for (var t = [], n = 0; n < this._sounds.length; n++)
                                t.push(this._sounds[n]._id);
                            return t
                        }
                        return [e]
                    },
                    _refreshBuffer: function(t) {
                        return t._node.bufferSource = e.ctx.createBufferSource(),
                        t._node.bufferSource.buffer = n[this._src],
                        t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node),
                        t._node.bufferSource.loop = t._loop,
                        t._loop && (t._node.bufferSource.loopStart = t._start || 0,
                        t._node.bufferSource.loopEnd = t._stop || 0),
                        t._node.bufferSource.playbackRate.setValueAtTime(t._rate, e.ctx.currentTime),
                        this
                    },
                    _cleanBuffer: function(t) {
                        var n = e._navigator && e._navigator.vendor.indexOf("Apple") >= 0;
                        if (e._scratchBuffer && t.bufferSource && (t.bufferSource.onended = null,
                        t.bufferSource.disconnect(0),
                        n))
                            try {
                                t.bufferSource.buffer = e._scratchBuffer
                            } catch (a) {}
                        return t.bufferSource = null,
                        this
                    },
                    _clearSound: function(t) {
                        /MSIE |Trident\//.test(e._navigator && e._navigator.userAgent) || (t.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")
                    }
                };
                var Sound2 = function(e) {
                    this._parent = e,
                    this.init()
                };
                Sound2.prototype = {
                    init: function() {
                        var t = this
                          , n = t._parent;
                        return t._muted = n._muted,
                        t._loop = n._loop,
                        t._volume = n._volume,
                        t._rate = n._rate,
                        t._seek = 0,
                        t._paused = !0,
                        t._ended = !0,
                        t._sprite = "__default",
                        t._id = ++e._counter,
                        n._sounds.push(t),
                        t.create(),
                        t
                    },
                    create: function() {
                        var t = this
                          , n = t._parent
                          , a = e._muted || t._muted || t._parent._muted ? 0 : t._volume;
                        return n._webAudio ? (t._node = void 0 === e.ctx.createGain ? e.ctx.createGainNode() : e.ctx.createGain(),
                        t._node.gain.setValueAtTime(a, e.ctx.currentTime),
                        t._node.paused = !0,
                        t._node.connect(e.masterGain)) : e.noAudio || (t._node = e._obtainHtml5Audio(),
                        t._errorFn = t._errorListener.bind(t),
                        t._node.addEventListener("error", t._errorFn, !1),
                        t._loadFn = t._loadListener.bind(t),
                        t._node.addEventListener(e._canPlayEvent, t._loadFn, !1),
                        t._endFn = t._endListener.bind(t),
                        t._node.addEventListener("ended", t._endFn, !1),
                        t._node.src = n._src,
                        t._node.preload = !0 === n._preload ? "auto" : n._preload,
                        t._node.volume = a * e.volume(),
                        t._node.load()),
                        t
                    },
                    reset: function() {
                        var t = this
                          , n = t._parent;
                        return t._muted = n._muted,
                        t._loop = n._loop,
                        t._volume = n._volume,
                        t._rate = n._rate,
                        t._seek = 0,
                        t._rateSeek = 0,
                        t._paused = !0,
                        t._ended = !0,
                        t._sprite = "__default",
                        t._id = ++e._counter,
                        t
                    },
                    _errorListener: function() {
                        var e = this;
                        e._parent._emit("loaderror", e._id, e._node.error ? e._node.error.code : 0),
                        e._node.removeEventListener("error", e._errorFn, !1)
                    },
                    _loadListener: function() {
                        var t = this
                          , n = t._parent;
                        n._duration = Math.ceil(10 * t._node.duration) / 10,
                        0 === Object.keys(n._sprite).length && (n._sprite = {
                            __default: [0, 1e3 * n._duration]
                        }),
                        "loaded" !== n._state && (n._state = "loaded",
                        n._emit("load"),
                        n._loadQueue()),
                        t._node.removeEventListener(e._canPlayEvent, t._loadFn, !1)
                    },
                    _endListener: function() {
                        var e = this
                          , t = e._parent;
                        t._duration === 1 / 0 && (t._duration = Math.ceil(10 * e._node.duration) / 10,
                        t._sprite.__default[1] === 1 / 0 && (t._sprite.__default[1] = 1e3 * t._duration),
                        t._ended(e)),
                        e._node.removeEventListener("ended", e._endFn, !1)
                    }
                };
                var n = {}
                  , loadBuffer = function(e) {
                    var t = e._src;
                    if (n[t])
                        return e._duration = n[t].duration,
                        void loadSound2(e);
                    if (/^data:[^;]+;base64,/.test(t)) {
                        for (var a = atob(t.split(",")[1]), l = new Uint8Array(a.length), f = 0; f < a.length; ++f)
                            l[f] = a.charCodeAt(f);
                        decodeAudioData(l.buffer, e)
                    } else {
                        var h = new XMLHttpRequest;
                        h.open(e._xhr.method, t, !0),
                        h.withCredentials = e._xhr.withCredentials,
                        h.responseType = "arraybuffer",
                        e._xhr.headers && Object.keys(e._xhr.headers).forEach((function(t) {
                            h.setRequestHeader(t, e._xhr.headers[t])
                        }
                        )),
                        h.onload = function() {
                            var t = (h.status + "")[0];
                            "0" === t || "2" === t || "3" === t ? decodeAudioData(h.response, e) : e._emit("loaderror", null, "Failed loading audio file with status: " + h.status + ".")
                        }
                        ,
                        h.onerror = function() {
                            e._webAudio && (e._html5 = !0,
                            e._webAudio = !1,
                            e._sounds = [],
                            delete n[t],
                            e.load())
                        }
                        ,
                        safeXhrSend(h)
                    }
                }
                  , safeXhrSend = function(e) {
                    try {
                        e.send()
                    } catch (t) {
                        e.onerror()
                    }
                }
                  , decodeAudioData = function(t, a) {
                    var error = function() {
                        a._emit("loaderror", null, "Decoding audio data failed.")
                    }
                      , success = function(e) {
                        e && a._sounds.length > 0 ? (n[a._src] = e,
                        loadSound2(a, e)) : error()
                    };
                    "undefined" != typeof Promise && 1 === e.ctx.decodeAudioData.length ? e.ctx.decodeAudioData(t).then(success).catch(error) : e.ctx.decodeAudioData(t, success, error)
                }
                  , loadSound2 = function(e, t) {
                    t && !e._duration && (e._duration = t.duration),
                    0 === Object.keys(e._sprite).length && (e._sprite = {
                        __default: [0, 1e3 * e._duration]
                    }),
                    "loaded" !== e._state && (e._state = "loaded",
                    e._emit("load"),
                    e._loadQueue())
                }
                  , setupAudioContext = function() {
                    if (e.usingWebAudio) {
                        try {
                            "undefined" != typeof AudioContext ? e.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? e.ctx = new webkitAudioContext : e.usingWebAudio = !1
                        } catch (f) {
                            e.usingWebAudio = !1
                        }
                        e.ctx || (e.usingWebAudio = !1);
                        var t = /iP(hone|od|ad)/.test(e._navigator && e._navigator.platform)
                          , n = e._navigator && e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)
                          , a = n ? parseInt(n[1], 10) : null;
                        if (t && a && a < 9) {
                            var l = /safari/.test(e._navigator && e._navigator.userAgent.toLowerCase());
                            e._navigator && !l && (e.usingWebAudio = !1)
                        }
                        e.usingWebAudio && (e.masterGain = void 0 === e.ctx.createGain ? e.ctx.createGainNode() : e.ctx.createGain(),
                        e.masterGain.gain.setValueAtTime(e._muted ? 0 : e._volume, e.ctx.currentTime),
                        e.masterGain.connect(e.ctx.destination)),
                        e._setup()
                    }
                };
                t.Howler = e,
                t.Howl = Howl2,
                void 0 !== _ ? (_.HowlerGlobal = HowlerGlobal2,
                _.Howler = e,
                _.Howl = Howl2,
                _.Sound = Sound2) : "undefined" != typeof window && (window.HowlerGlobal = HowlerGlobal2,
                window.Howler = e,
                window.Howl = Howl2,
                window.Sound = Sound2)
            }(),
            /*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
            function() {
                var e;
                HowlerGlobal.prototype._pos = [0, 0, 0],
                HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0],
                HowlerGlobal.prototype.stereo = function(e) {
                    var t = this;
                    if (!t.ctx || !t.ctx.listener)
                        return t;
                    for (var n = t._howls.length - 1; n >= 0; n--)
                        t._howls[n].stereo(e);
                    return t
                }
                ,
                HowlerGlobal.prototype.pos = function(e, t, n) {
                    var a = this;
                    return a.ctx && a.ctx.listener ? (t = "number" != typeof t ? a._pos[1] : t,
                    n = "number" != typeof n ? a._pos[2] : n,
                    "number" != typeof e ? a._pos : (a._pos = [e, t, n],
                    void 0 !== a.ctx.listener.positionX ? (a.ctx.listener.positionX.setTargetAtTime(a._pos[0], Howler.ctx.currentTime, .1),
                    a.ctx.listener.positionY.setTargetAtTime(a._pos[1], Howler.ctx.currentTime, .1),
                    a.ctx.listener.positionZ.setTargetAtTime(a._pos[2], Howler.ctx.currentTime, .1)) : a.ctx.listener.setPosition(a._pos[0], a._pos[1], a._pos[2]),
                    a)) : a
                }
                ,
                HowlerGlobal.prototype.orientation = function(e, t, n, a, l, f) {
                    var h = this;
                    if (!h.ctx || !h.ctx.listener)
                        return h;
                    var p = h._orientation;
                    return t = "number" != typeof t ? p[1] : t,
                    n = "number" != typeof n ? p[2] : n,
                    a = "number" != typeof a ? p[3] : a,
                    l = "number" != typeof l ? p[4] : l,
                    f = "number" != typeof f ? p[5] : f,
                    "number" != typeof e ? p : (h._orientation = [e, t, n, a, l, f],
                    void 0 !== h.ctx.listener.forwardX ? (h.ctx.listener.forwardX.setTargetAtTime(e, Howler.ctx.currentTime, .1),
                    h.ctx.listener.forwardY.setTargetAtTime(t, Howler.ctx.currentTime, .1),
                    h.ctx.listener.forwardZ.setTargetAtTime(n, Howler.ctx.currentTime, .1),
                    h.ctx.listener.upX.setTargetAtTime(a, Howler.ctx.currentTime, .1),
                    h.ctx.listener.upY.setTargetAtTime(l, Howler.ctx.currentTime, .1),
                    h.ctx.listener.upZ.setTargetAtTime(f, Howler.ctx.currentTime, .1)) : h.ctx.listener.setOrientation(e, t, n, a, l, f),
                    h)
                }
                ,
                Howl.prototype.init = (e = Howl.prototype.init,
                function(t) {
                    var n = this;
                    return n._orientation = t.orientation || [1, 0, 0],
                    n._stereo = t.stereo || null,
                    n._pos = t.pos || null,
                    n._pannerAttr = {
                        coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : 360,
                        coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : 360,
                        coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : 0,
                        distanceModel: void 0 !== t.distanceModel ? t.distanceModel : "inverse",
                        maxDistance: void 0 !== t.maxDistance ? t.maxDistance : 1e4,
                        panningModel: void 0 !== t.panningModel ? t.panningModel : "HRTF",
                        refDistance: void 0 !== t.refDistance ? t.refDistance : 1,
                        rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : 1
                    },
                    n._onstereo = t.onstereo ? [{
                        fn: t.onstereo
                    }] : [],
                    n._onpos = t.onpos ? [{
                        fn: t.onpos
                    }] : [],
                    n._onorientation = t.onorientation ? [{
                        fn: t.onorientation
                    }] : [],
                    e.call(this, t)
                }
                ),
                Howl.prototype.stereo = function(e, t) {
                    var n = this;
                    if (!n._webAudio)
                        return n;
                    if ("loaded" !== n._state)
                        return n._queue.push({
                            event: "stereo",
                            action: function() {
                                n.stereo(e, t)
                            }
                        }),
                        n;
                    var a = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                    if (void 0 === t) {
                        if ("number" != typeof e)
                            return n._stereo;
                        n._stereo = e,
                        n._pos = [e, 0, 0]
                    }
                    for (var l = n._getSoundIds(t), f = 0; f < l.length; f++) {
                        var h = n._soundById(l[f]);
                        if (h) {
                            if ("number" != typeof e)
                                return h._stereo;
                            h._stereo = e,
                            h._pos = [e, 0, 0],
                            h._node && (h._pannerAttr.panningModel = "equalpower",
                            h._panner && h._panner.pan || setupPanner(h, a),
                            "spatial" === a ? void 0 !== h._panner.positionX ? (h._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime),
                            h._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime),
                            h._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : h._panner.setPosition(e, 0, 0) : h._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)),
                            n._emit("stereo", h._id)
                        }
                    }
                    return n
                }
                ,
                Howl.prototype.pos = function(e, t, n, a) {
                    var l = this;
                    if (!l._webAudio)
                        return l;
                    if ("loaded" !== l._state)
                        return l._queue.push({
                            event: "pos",
                            action: function() {
                                l.pos(e, t, n, a)
                            }
                        }),
                        l;
                    if (t = "number" != typeof t ? 0 : t,
                    n = "number" != typeof n ? -.5 : n,
                    void 0 === a) {
                        if ("number" != typeof e)
                            return l._pos;
                        l._pos = [e, t, n]
                    }
                    for (var f = l._getSoundIds(a), h = 0; h < f.length; h++) {
                        var p = l._soundById(f[h]);
                        if (p) {
                            if ("number" != typeof e)
                                return p._pos;
                            p._pos = [e, t, n],
                            p._node && (p._panner && !p._panner.pan || setupPanner(p, "spatial"),
                            void 0 !== p._panner.positionX ? (p._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime),
                            p._panner.positionY.setValueAtTime(t, Howler.ctx.currentTime),
                            p._panner.positionZ.setValueAtTime(n, Howler.ctx.currentTime)) : p._panner.setPosition(e, t, n)),
                            l._emit("pos", p._id)
                        }
                    }
                    return l
                }
                ,
                Howl.prototype.orientation = function(e, t, n, a) {
                    var l = this;
                    if (!l._webAudio)
                        return l;
                    if ("loaded" !== l._state)
                        return l._queue.push({
                            event: "orientation",
                            action: function() {
                                l.orientation(e, t, n, a)
                            }
                        }),
                        l;
                    if (t = "number" != typeof t ? l._orientation[1] : t,
                    n = "number" != typeof n ? l._orientation[2] : n,
                    void 0 === a) {
                        if ("number" != typeof e)
                            return l._orientation;
                        l._orientation = [e, t, n]
                    }
                    for (var f = l._getSoundIds(a), h = 0; h < f.length; h++) {
                        var p = l._soundById(f[h]);
                        if (p) {
                            if ("number" != typeof e)
                                return p._orientation;
                            p._orientation = [e, t, n],
                            p._node && (p._panner || (p._pos || (p._pos = l._pos || [0, 0, -.5]),
                            setupPanner(p, "spatial")),
                            void 0 !== p._panner.orientationX ? (p._panner.orientationX.setValueAtTime(e, Howler.ctx.currentTime),
                            p._panner.orientationY.setValueAtTime(t, Howler.ctx.currentTime),
                            p._panner.orientationZ.setValueAtTime(n, Howler.ctx.currentTime)) : p._panner.setOrientation(e, t, n)),
                            l._emit("orientation", p._id)
                        }
                    }
                    return l
                }
                ,
                Howl.prototype.pannerAttr = function() {
                    var e, t, n, a = this, l = arguments;
                    if (!a._webAudio)
                        return a;
                    if (0 === l.length)
                        return a._pannerAttr;
                    if (1 === l.length) {
                        if ("object" != typeof l[0])
                            return (n = a._soundById(parseInt(l[0], 10))) ? n._pannerAttr : a._pannerAttr;
                        e = l[0],
                        void 0 === t && (e.pannerAttr || (e.pannerAttr = {
                            coneInnerAngle: e.coneInnerAngle,
                            coneOuterAngle: e.coneOuterAngle,
                            coneOuterGain: e.coneOuterGain,
                            distanceModel: e.distanceModel,
                            maxDistance: e.maxDistance,
                            refDistance: e.refDistance,
                            rolloffFactor: e.rolloffFactor,
                            panningModel: e.panningModel
                        }),
                        a._pannerAttr = {
                            coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : a._coneInnerAngle,
                            coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : a._coneOuterAngle,
                            coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : a._coneOuterGain,
                            distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : a._distanceModel,
                            maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : a._maxDistance,
                            refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : a._refDistance,
                            rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : a._rolloffFactor,
                            panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : a._panningModel
                        })
                    } else
                        2 === l.length && (e = l[0],
                        t = parseInt(l[1], 10));
                    for (var f = a._getSoundIds(t), h = 0; h < f.length; h++)
                        if (n = a._soundById(f[h])) {
                            var p = n._pannerAttr;
                            p = {
                                coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : p.coneInnerAngle,
                                coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : p.coneOuterAngle,
                                coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : p.coneOuterGain,
                                distanceModel: void 0 !== e.distanceModel ? e.distanceModel : p.distanceModel,
                                maxDistance: void 0 !== e.maxDistance ? e.maxDistance : p.maxDistance,
                                refDistance: void 0 !== e.refDistance ? e.refDistance : p.refDistance,
                                rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : p.rolloffFactor,
                                panningModel: void 0 !== e.panningModel ? e.panningModel : p.panningModel
                            };
                            var m = n._panner;
                            m ? (m.coneInnerAngle = p.coneInnerAngle,
                            m.coneOuterAngle = p.coneOuterAngle,
                            m.coneOuterGain = p.coneOuterGain,
                            m.distanceModel = p.distanceModel,
                            m.maxDistance = p.maxDistance,
                            m.refDistance = p.refDistance,
                            m.rolloffFactor = p.rolloffFactor,
                            m.panningModel = p.panningModel) : (n._pos || (n._pos = a._pos || [0, 0, -.5]),
                            setupPanner(n, "spatial"))
                        }
                    return a
                }
                ,
                Sound.prototype.init = function(e) {
                    return function() {
                        var t = this
                          , n = t._parent;
                        t._orientation = n._orientation,
                        t._stereo = n._stereo,
                        t._pos = n._pos,
                        t._pannerAttr = n._pannerAttr,
                        e.call(this),
                        t._stereo ? n.stereo(t._stereo) : t._pos && n.pos(t._pos[0], t._pos[1], t._pos[2], t._id)
                    }
                }(Sound.prototype.init),
                Sound.prototype.reset = function(e) {
                    return function() {
                        var t = this
                          , n = t._parent;
                        return t._orientation = n._orientation,
                        t._stereo = n._stereo,
                        t._pos = n._pos,
                        t._pannerAttr = n._pannerAttr,
                        t._stereo ? n.stereo(t._stereo) : t._pos ? n.pos(t._pos[0], t._pos[1], t._pos[2], t._id) : t._panner && (t._panner.disconnect(0),
                        t._panner = void 0,
                        n._refreshBuffer(t)),
                        e.call(this)
                    }
                }(Sound.prototype.reset);
                var setupPanner = function(e, t) {
                    "spatial" === (t = t || "spatial") ? (e._panner = Howler.ctx.createPanner(),
                    e._panner.coneInnerAngle = e._pannerAttr.coneInnerAngle,
                    e._panner.coneOuterAngle = e._pannerAttr.coneOuterAngle,
                    e._panner.coneOuterGain = e._pannerAttr.coneOuterGain,
                    e._panner.distanceModel = e._pannerAttr.distanceModel,
                    e._panner.maxDistance = e._pannerAttr.maxDistance,
                    e._panner.refDistance = e._pannerAttr.refDistance,
                    e._panner.rolloffFactor = e._pannerAttr.rolloffFactor,
                    e._panner.panningModel = e._pannerAttr.panningModel,
                    void 0 !== e._panner.positionX ? (e._panner.positionX.setValueAtTime(e._pos[0], Howler.ctx.currentTime),
                    e._panner.positionY.setValueAtTime(e._pos[1], Howler.ctx.currentTime),
                    e._panner.positionZ.setValueAtTime(e._pos[2], Howler.ctx.currentTime)) : e._panner.setPosition(e._pos[0], e._pos[1], e._pos[2]),
                    void 0 !== e._panner.orientationX ? (e._panner.orientationX.setValueAtTime(e._orientation[0], Howler.ctx.currentTime),
                    e._panner.orientationY.setValueAtTime(e._orientation[1], Howler.ctx.currentTime),
                    e._panner.orientationZ.setValueAtTime(e._orientation[2], Howler.ctx.currentTime)) : e._panner.setOrientation(e._orientation[0], e._orientation[1], e._orientation[2])) : (e._panner = Howler.ctx.createStereoPanner(),
                    e._panner.pan.setValueAtTime(e._stereo, Howler.ctx.currentTime)),
                    e._panner.connect(e._node),
                    e._paused || e._parent.pause(e._id, !0).play(e._id, !0)
                }
            }()
        }
        ));
        class Sound$1 {
            constructor(e, t=!1) {
                this.howler = null,
                this.useAudioElement = !1;
                const n = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
                this.assets = n ? e.filter((e=>e.endsWith("mp3"))).concat(e.filter((e=>!e.endsWith("mp3")))) : e,
                this.useAudioElement = t
            }
            load() {
                this.unload(),
                this.howler || (this.howler = new S.Howl({
                    html5: this.useAudioElement,
                    src: this.assets,
                    onloaderror: ()=>{
                        console.warn("Howler: sounds failed to load, falling back to html5 audio"),
                        this.howler = new S.Howl({
                            html5: !0,
                            src: this.assets,
                            onloaderror: ()=>{
                                console.error("Howler: html5 audio fallback failed to load")
                            }
                        })
                    }
                }))
            }
            unload() {
                var e;
                null === (e = this.howler) || void 0 === e || e.unload()
            }
            play() {
                var e;
                this.howler || this.load(),
                null === (e = this.howler) || void 0 === e || e.play(),
                window.Cypress && (window.Cypress.howlerHistory || (window.Cypress.howlerHistory = []),
                window.Cypress.howlerHistory.push({
                    time: Date.now(),
                    src: this.assets.slice(0)
                }))
            }
        }
        (A = C || (C = {})).Suspended = "web-ui-sound-suspended",
        A.Enabled = "web-ui-sound-enabled";
        let x, w = 0, P = !1;
        function whenEnabled(e) {
            !function waitMessage(e, t) {
                window.addEventListener("message", (function listener(n) {
                    var a;
                    (null === (a = null == n ? void 0 : n.data) || void 0 === a ? void 0 : a.key) === e && (t(),
                    window.removeEventListener("message", listener))
                }
                ))
            }(C.Enabled, e)
        }
        function enableSound() {
            isSuspended() && resumeAudio((()=>{
                window.postMessage({
                    key: C.Enabled
                }, window.location.origin),
                function removeWindowEvents(e) {
                    g && (g = !1,
                    m.forEach((t=>window.removeEventListener(t, e))))
                }(enableSound)
            }
            ))
        }
        function loadSound(e, t=!1) {
            const n = new Sound$1(e,t);
            return isSuspended() ? (!function addWindowEvents(e) {
                g || (g = !0,
                m.forEach((t=>window.addEventListener(t, e))))
            }(enableSound),
            whenEnabled((()=>n.load()))) : n.load(),
            n
        }
        function playSound(e) {
            isSuspended() ? !P && w > 3 ? (w = 0,
            P = !0,
            window.postMessage({
                key: C.Suspended
            }, window.location.origin)) : P || (w++,
            enableSound(),
            whenEnabled((()=>e.play()))) : e.play()
        }
        class Store {
            constructor(e="keyval-store", t="keyval") {
                this.storeName = t,
                this._dbp = new Promise(((n,a)=>{
                    const l = indexedDB.open(e, 1);
                    l.onerror = ()=>a(l.error),
                    l.onsuccess = ()=>n(l.result),
                    l.onupgradeneeded = ()=>{
                        l.result.createObjectStore(t)
                    }
                }
                ))
            }
            _withIDBStore(e, t) {
                return this._dbp.then((n=>new Promise(((a,l)=>{
                    const f = n.transaction(this.storeName, e);
                    f.oncomplete = ()=>a(),
                    f.onabort = f.onerror = ()=>l(f.error),
                    t(f.objectStore(this.storeName))
                }
                ))))
            }
        }
        function getDefaultStore() {
            return x || (x = new Store),
            x
        }
        function get(e, t=getDefaultStore()) {
            let n;
            return t._withIDBStore("readonly", (t=>{
                n = t.get(e)
            }
            )).then((()=>n.result))
        }
        function set(e, t, n=getDefaultStore()) {
            return n._withIDBStore("readwrite", (n=>{
                n.put(t, e)
            }
            ))
        }
        var T, M, k, I, O, N;
        function toSelector(e, t=".") {
            return `${t}${e}`
        }
        function noop() {}
        function run(e) {
            return e()
        }
        function blank_object() {
            return Object.create(null)
        }
        function run_all(e) {
            e.forEach(run)
        }
        function is_function(e) {
            return "function" == typeof e
        }
        function safe_not_equal(e, t) {
            return e != e ? t == t : e !== t || e && "object" == typeof e || "function" == typeof e
        }
        function component_subscribe(e, t, n) {
            e.$$.on_destroy.push(function subscribe(e, ...t) {
                if (null == e)
                    return noop;
                const n = e.subscribe(...t);
                return n.unsubscribe ? ()=>n.unsubscribe() : n
            }(t, n))
        }
        function null_to_empty(e) {
            return null == e ? "" : e
        }
        function append(e, t) {
            e.appendChild(t)
        }
        function insert(e, t, n) {
            e.insertBefore(t, n || null)
        }
        function detach(e) {
            e.parentNode.removeChild(e)
        }
        function destroy_each(e, t) {
            for (let n = 0; n < e.length; n += 1)
                e[n] && e[n].d(t)
        }
        function element(e) {
            return document.createElement(e)
        }
        function text(e) {
            return document.createTextNode(e)
        }
        function space() {
            return text(" ")
        }
        function empty() {
            return text("")
        }
        function listen(e, t, n, a) {
            return e.addEventListener(t, n, a),
            ()=>e.removeEventListener(t, n, a)
        }
        function attr(e, t, n) {
            null == n ? e.removeAttribute(t) : e.getAttribute(t) !== n && e.setAttribute(t, n)
        }
        function set_data(e, t) {
            t = "" + t,
            e.wholeText !== t && (e.data = t)
        }
        function toggle_class(e, t, n) {
            e.classList[n ? "add" : "remove"](t)
        }
        M = T || (T = {}),
        (k = M.Classes || (M.Classes = {})).Hidden = "hidden",
        k.Invisible = "invisible",
        O = I || (I = {}),
        (N = O.KeyCodes || (O.KeyCodes = {}))[N.Backspace = 8] = "Backspace",
        N[N.Delete = 46] = "Delete",
        N[N.DownArrow = 40] = "DownArrow",
        N[N.Enter = 13] = "Enter",
        N[N.Escape = 27] = "Escape",
        N[N.LeftArrow = 37] = "LeftArrow",
        N[N.RightArrow = 39] = "RightArrow",
        N[N.Spacebar = 32] = "Spacebar",
        N[N.Stop = 137] = "Stop",
        N[N.Tab = 9] = "Tab",
        N[N.UpArrow = 38] = "UpArrow";
        class HtmlTag {
            constructor() {
                this.e = this.n = null
            }
            c(e) {
                this.h(e)
            }
            m(e, t, n=null) {
                this.e || (this.e = element(t.nodeName),
                this.t = t,
                this.c(e)),
                this.i(n)
            }
            h(e) {
                this.e.innerHTML = e,
                this.n = Array.from(this.e.childNodes)
            }
            i(e) {
                for (let t = 0; t < this.n.length; t += 1)
                    insert(this.t, this.n[t], e)
            }
            p(e) {
                this.d(),
                this.h(e),
                this.i(this.a)
            }
            d() {
                this.n.forEach(detach)
            }
        }
        let R;
        function set_current_component(e) {
            R = e
        }
        function get_current_component() {
            if (!R)
                throw new Error("Function called outside component initialization");
            return R
        }
        function onMount(e) {
            get_current_component().$$.on_mount.push(e)
        }
        function onDestroy(e) {
            get_current_component().$$.on_destroy.push(e)
        }
        function createEventDispatcher() {
            const e = get_current_component();
            return (t,n)=>{
                const a = e.$$.callbacks[t];
                if (a) {
                    const l = function custom_event(e, t, n=!1) {
                        const a = document.createEvent("CustomEvent");
                        return a.initCustomEvent(e, n, !1, t),
                        a
                    }(t, n);
                    a.slice().forEach((t=>{
                        t.call(e, l)
                    }
                    ))
                }
            }
        }
        const L = []
          , D = []
          , B = []
          , $ = []
          , F = Promise.resolve();
        let H = !1;
        function add_render_callback(e) {
            B.push(e)
        }
        let j = !1;
        const U = new Set;
        function flush() {
            if (!j) {
                j = !0;
                do {
                    for (let e = 0; e < L.length; e += 1) {
                        const t = L[e];
                        set_current_component(t),
                        update(t.$$)
                    }
                    for (set_current_component(null),
                    L.length = 0; D.length; )
                        D.pop()();
                    for (let e = 0; e < B.length; e += 1) {
                        const t = B[e];
                        U.has(t) || (U.add(t),
                        t())
                    }
                    B.length = 0
                } while (L.length);
                for (; $.length; )
                    $.pop()();
                H = !1,
                j = !1,
                U.clear()
            }
        }
        function update(e) {
            if (null !== e.fragment) {
                e.update(),
                run_all(e.before_update);
                const t = e.dirty;
                e.dirty = [-1],
                e.fragment && e.fragment.p(e.ctx, t),
                e.after_update.forEach(add_render_callback)
            }
        }
        const V = new Set;
        function make_dirty(e, t) {
            -1 === e.$$.dirty[0] && (L.push(e),
            function schedule_update() {
                H || (H = !0,
                F.then(flush))
            }(),
            e.$$.dirty.fill(0)),
            e.$$.dirty[t / 31 | 0] |= 1 << t % 31
        }
        function init(e, t, n, a, l, f, h, p=[-1]) {
            const m = R;
            set_current_component(e);
            const g = e.$$ = {
                fragment: null,
                ctx: null,
                props: f,
                update: noop,
                not_equal: l,
                bound: blank_object(),
                on_mount: [],
                on_destroy: [],
                on_disconnect: [],
                before_update: [],
                after_update: [],
                context: new Map(m ? m.$$.context : t.context || []),
                callbacks: blank_object(),
                dirty: p,
                skip_bound: !1,
                root: t.target || m.$$.root
            };
            h && h(g.root);
            let v = !1;
            if (g.ctx = n ? n(e, t.props || {}, ((t,n,...a)=>{
                const f = a.length ? a[0] : n;
                return g.ctx && l(g.ctx[t], g.ctx[t] = f) && (!g.skip_bound && g.bound[t] && g.bound[t](f),
                v && make_dirty(e, t)),
                n
            }
            )) : [],
            g.update(),
            v = !0,
            run_all(g.before_update),
            g.fragment = !!a && a(g.ctx),
            t.target) {
                if (t.hydrate) {
                    const e = function children(e) {
                        return Array.from(e.childNodes)
                    }(t.target);
                    g.fragment && g.fragment.l(e),
                    e.forEach(detach)
                } else
                    g.fragment && g.fragment.c();
                t.intro && function transition_in(e, t) {
                    e && e.i && (V.delete(e),
                    e.i(t))
                }(e.$$.fragment),
                function mount_component(e, t, n, a) {
                    const {fragment: l, on_mount: f, on_destroy: h, after_update: p} = e.$$;
                    l && l.m(t, n),
                    a || add_render_callback((()=>{
                        const t = f.map(run).filter(is_function);
                        h ? h.push(...t) : run_all(t),
                        e.$$.on_mount = []
                    }
                    )),
                    p.forEach(add_render_callback)
                }(e, t.target, t.anchor, t.customElement),
                flush()
            }
            set_current_component(m)
        }
        class SvelteComponent {
            $destroy() {
                !function destroy_component(e, t) {
                    const n = e.$$;
                    null !== n.fragment && (run_all(n.on_destroy),
                    n.fragment && n.fragment.d(t),
                    n.on_destroy = n.fragment = null,
                    n.ctx = [])
                }(this, 1),
                this.$destroy = noop
            }
            $on(e, t) {
                const n = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
                return n.push(t),
                ()=>{
                    const e = n.indexOf(t);
                    -1 !== e && n.splice(e, 1)
                }
            }
            $set(e) {
                this.$$set && !function is_empty(e) {
                    return 0 === Object.keys(e).length
                }(e) && (this.$$.skip_bound = !0,
                this.$$set(e),
                this.$$.skip_bound = !1)
            }
        }
        function invertObject(e) {
            return Object.keys(e).reduce(((t,n)=>Object.assign(Object.assign({}, t), {
                [e[n]]: n
            })), {})
        }
        function pick(e, t) {
            return t.reduce(((t,n)=>(Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]),
            t)), {})
        }
        function capitalizeFirstLetter(e) {
            return `${e[0].toUpperCase()}${e.slice(1)}`
        }
        const G = [];
        function writable(e, t=noop) {
            let n;
            const a = new Set;
            function set2(t) {
                if (safe_not_equal(e, t) && (e = t,
                n)) {
                    const t = !G.length;
                    for (const n of a)
                        n[1](),
                        G.push(n, e);
                    if (t) {
                        for (let e = 0; e < G.length; e += 2)
                            G[e][0](G[e + 1]);
                        G.length = 0
                    }
                }
            }
            return {
                set: set2,
                update: function update2(t) {
                    set2(t(e))
                },
                subscribe: function subscribe2(l, f=noop) {
                    const h = [l, f];
                    return a.add(h),
                    1 === a.size && (n = t(set2) || noop),
                    l(e),
                    ()=>{
                        a.delete(h),
                        0 === a.size && (n(),
                        n = null)
                    }
                }
            }
        }
    },
    3527: function(e, t, n) {
        n(34155),
        function() {
            "use strict";
            var t = function() {
                var e = [[2637767806, 863464769], [720845184, 95069639], [1155203408, 610415943], [2618685246, 1655139042], [1971536997, 1218186377], [848342074, 540017087], [263957791, 1627660921], [3896152207, 4076560586], [226391645, 1484086288], [436746274, 3467632685], [2516964848, 3797861296], [3491888988, 3510251221], [1086189917, 1248276018], [18044180, 1876255637], [1572111136, 1190386149], [597658413, 2146900428], [97624494, 2243205793], [1738507407, 1854916977], [1950989311, 2149575947], [2098318769, 3283594736], [2194108574, 2015279052], [4079062812, 2500884588], [856979699, 2941369318], [1270058469, 3877737539], [2858720366, 3170717948], [2378012835, 1387254795], [2278688587, 2178388503], [435406673, 3555273441], [3031118064, 1655806655], [2063925420, 1107589828], [3376753832, 436852829], [615148625, 1302492416], [1285502018, 1963045959], [346460119, 1016137793], [2803604355, 1176288659], [55085973, 2968618255], [1669016372, 4287873088], [164740250, 1037634196], [896886403, 883023163], [1935551383, 2764331555], [410153072, 4055711755], [533441746, 1505690343], [3541084098, 3466290517], [3214426080, 4267541060], [2675233103, 1951705124], [1374411850, 3115986997], [1552073989, 3684348154], [4244110986, 875606593], [844343081, 3115990494], [2356462440, 135999605], [3116133511, 377238503], [2129956651, 2197966368], [299173332, 3276914047], [1701379241, 745972291], [1306570996, 254977976], [2530644806, 214138461], [1122123979, 1667800879], [1831591130, 3801192033], [1116211970, 920967505], [1594837592, 2551651254], [972591349, 2046373768], [2479207924, 1935030411], [1675376029, 2367888248], [3960916618, 3935874422], [1398143232, 3265801671], [133930885, 1520005442], [1351827834, 2829577566], [2076951437, 2723839804], [435980918, 2364847828], [1668970368, 3738157273], [2185864314, 3993911799], [2041407829, 31969768], [346864372, 2004703094], [4047877822, 3437142421], [3669961416, 538399484], [616810829, 4190688246], [3144558884, 4030272234], [216165387, 2513010905], [2761740594, 3216997572], [3919406634, 4096014649], [669429112, 2434161727], [2234904640, 3111407601], [1421079802, 1598085235], [1924213810, 310373675], [4002762044, 2067865415], [2592451728, 2586110625], [1890340057, 4031717877], [4189625662, 2577429954], [2276713138, 3049850801], [2741429688, 3310307512], [2924122950, 3426712818], [421576781, 1193704381], [2277442246, 3030264553], [153237420, 595540057], [4278711886, 4176286928], [2380848297, 4030514510], [2618700582, 1303682185], [3018992701, 185284845], [957243316, 1291916363], [1543415220, 1898408169], [504378001, 531073412], [2591337657, 1692896435], [1333852064, 903543556], [1661259930, 188168388], [561112646, 2197961224], [1536910315, 2632972300], [1349168372, 2307429186], [411152329, 2745631190], [1694697476, 1081411140], [3755185459, 2631660711], [4019355068, 4027326706], [2066937809, 3761668332], [3120395808, 3878773315], [94890149, 2109283191], [3045629038, 358812277], [1249184265, 3465901047], [3477490924, 2308583306], [4114113436, 3875911716], [1014604031, 1434513279], [3991324799, 2222416029], [2040431088, 1539915569], [2253613964, 4081224332], [2547464012, 1611168627], [2722521980, 4281500978], [71289574, 213969824], [2450408597, 903689630], [1894451515, 364024012], [1939968537, 374938813], [1447259295, 3785468557], [4021046128, 1664847745], [3139524504, 3562928047], [1173487682, 4065269608], [2467266804, 3907744866], [4284945151, 3486998177], [2925674454, 1953016432], [3710671816, 1271453948], [2129465869, 1422863833], [587093076, 18243356], [3373793513, 2411305257], [2156648078, 1791034213], [3737413652, 1534461430], [468575139, 2935304962], [1129551363, 3603256834], [2861996892, 1763494778], [2826449619, 2465197654], [1704209531, 1014895022], [3738359347, 3402630390], [569410928, 4095796581], [3021312909, 2108247612], [2444777957, 2664129360], [282063667, 3773661258], [682545472, 3188439005], [3318488457, 1917822038], [1447622272, 4045023041], [757420137, 4038580915], [2613420942, 4146703316], [4012836163, 150381244], [2938127093, 3428591704], [1208226490, 3086335530], [2935205706, 1446903363], [430957978, 3830532479], [1381578755, 3757172800], [4109399782, 1596778224], [288855589, 1954372339], [3169178148, 2256716053], [2644780093, 3895892303], [107966643, 1071681559], [1304747544, 2607225372], [1359190711, 1898207171], [3229237120, 3273634996], [3027167685, 3863637628], [3011615298, 2883984519], [564135827, 978463264], [770797430, 362326607], [1983662611, 1907583229], [4153656423, 48268960], [3609759233, 720080177], [3727911466, 1270989899], [200708787, 2366086947], [744508026, 393422515], [1213261630, 65757284], [3485747185, 3845951003], [2958861301, 1680248217], [2598470344, 3163845864], [2767997908, 4233451722], [3881113485, 1492930166], [1773764017, 2764062206], [4189435844, 2898689174], [4234838742, 1267095035], [2624081078, 3302114327], [2395569449, 390426320], [1728307101, 690284926], [3309827454, 1118258254], [2028172868, 3888829086], [4271523049, 909051386], [146617804, 942892565], [2467685867, 974297806], [2483428231, 503635829], [3743260573, 2018222096], [1002067894, 2289153437], [3535252974, 3738302271], [4154611160, 1002664952], [3623154244, 2349656961], [3646679180, 3524329383], [862933752, 4282853607], [2806008282, 3272780913], [2734037942, 3828874677], [1328176304, 2137666995], [2278785213, 2780788825], [381286368, 1816476193], [2074232908, 2316293454], [4087773386, 3651330956], [967884669, 3728964514], [4239349185, 3213509668], [419231360, 1463788948], [1275421624, 2672384707], [1088456595, 436245261], [2365565249, 783696577], [1758083333, 845223583], [2048846183, 3530914274], [2635948261, 124738415], [940630937, 3069598626], [839474029, 1253439921], [902477345, 165479306], [2836079689, 2681188273], [2007115168, 2093139645], [1363041891, 1282466609], [1130479818, 1063857938], [3644959908, 1260430427], [1385135238, 46497915], [1386975934, 3110156681], [2635987502, 4233461619], [1915744629, 4117939016], [487743653, 285736599], [2049219159, 3960249250], [69242857, 3908563670], [1511066720, 1488527520], [215590039, 1703564952], [1459430344, 4184955468], [676103291, 2642967214], [83799035, 3182827979], [1949179493, 476101251], [2593534694, 1493478716], [2283504289, 995211746], [1349412676, 3449243940], [2954378677, 1878813305], [249149717, 3329151870], [1578231917, 1483986052], [4135085182, 890874990], [461755528, 3505523909], [3669622373, 634949665], [219487622, 2914465301], [2825233742, 3703631897], [2479105382, 2935590907], [2582097898, 3187672881], [1221328648, 1843341402], [2140891889, 3958868911], [1482849818, 345750049], [751922730, 3178831411], [3546542069, 4036458902], [216179596, 877293293], [444615341, 3117393729], [2424254530, 494454238], [1344234989, 3003337991], [929188581, 2760877801], [2507911009, 1879899982], [980166547, 1311840394], [3566535507, 1790747461], [143525013, 2311336672], [4181962471, 4273938872], [1815842366, 862009811], [911175674, 1179575598], [3591335374, 3694215714], [1452686093, 3393294272], [385158879, 2447709103], [4011414929, 1264623507], [1448477120, 911094312], [3971299641, 2289992053], [3133647265, 2234591563], [3007628400, 964409938], [1708345684, 3673411261], [3031964479, 2843021794], [3022128657, 2480338599], [118850112, 473449293], [2048127371, 3202109429], [3158349745, 382018770], [1505327237, 3807570472], [2568424029, 3272693060], [1866609495, 3888556537], [844703982, 1852802964], [3504617058, 682636099], [1448882679, 3733580327], [821387540, 2215744532], [3631471417, 311618895], [2077838877, 2383929020], [3352949096, 1688694420], [2491080787, 3998672444], [3368630402, 4182204255], [983299419, 2837414346], [3651215291, 1033373924], [265429091, 3988955082], [3019003608, 2896212153], [2955948456, 3025235588], [903690197, 2266253487], [3925215275, 89402958], [3959093811, 3609545561], [2455088053, 223552128], [3115011301, 2133669107], [1765081558, 673805649], [3324795129, 2111392191], [3443871631, 432345706], [3152559950, 3425427147], [3699649406, 672784944], [3129545774, 7668664], [2747044893, 173040075], [3925243406, 852328481], [164095314, 3161868591], [2234471571, 1302682825], [2164784335, 105893718], [159995093, 536831360], [599199451, 425051327], [3274759746, 1680930461], [1192619331, 3903085578], [2832721114, 3078660237], [91404660, 4030521531], [3044880024, 1578375623], [3906596030, 754177855], [803516785, 1894094672], [288455592, 2030430096], [2143232492, 2317305324], [388352703, 3406060288], [2521731420, 3588403719], [1043041227, 4028028525], [3195290851, 2468913324], [4166724431, 3168683191], [1228226538, 968516529], [500177583, 3444787306], [533367442, 4252082053], [4236023256, 657816314], [413575568, 3367198397], [3435884549, 3334062733], [1004255532, 1135705894], [2859513268, 4170618274], [3914086821, 1251487871], [3080761716, 3489067886], [3571165255, 699353261], [773372954, 3648014952], [769693293, 2939128604], [3116440923, 507748478], [1687629160, 3739431776], [2489486648, 3502376324], [3686847158, 2878383449], [3530767427, 902211375], [2121652637, 2493976397], [1827477891, 930064171], [2549918411, 4029725732], [2071415163, 844118802], [2236083679, 3088894868], [2040110303, 4144562891], [3489536313, 1133419300], [2190878435, 2301466071], [2465915458, 2448602097], [1675766804, 2073834499], [3329799896, 1613253148], [1483966600, 1348836071], [159505618, 2527621997], [2674227354, 1695130688], [2683539437, 1927873839], [3833196123, 2570082188], [3891433165, 759819981], [1455453349, 2179602430], [1430583255, 1957776111], [2067726741, 4235143439], [303380021, 2998980439], [2136024795, 3126725799], [2054591852, 1051702291], [1029141665, 489794361], [2317027384, 569642164], [2068461795, 624418658], [2499875684, 1830645251], [1302894490, 4319401], [1002663431, 2406815191], [1560941298, 2060652753], [2141002286, 515773223], [3661248027, 475092913], [3705503008, 2419919909], [914567990, 3496539911], [3462935583, 2039034761], [2878378006, 2379243316], [1133857586, 1390159333], [3023618742, 2140726761], [282908558, 944874642], [3686955701, 1148723903], [2604456805, 4163675010], [3061545110, 377179268], [3218002352, 76459088], [2836503392, 916455101], [536836808, 151306053], [2886925079, 404221671], [2936593041, 2011015485], [453815187, 1852163908], [3042568989, 82176306], [3279635891, 4174836410], [3282689058, 2360003049], [4088968807, 1516570623], [2680453086, 1322680794], [1731693966, 3438253771], [1842894553, 1294307894], [2736377365, 2964642609], [121205621, 521330014], [2324595870, 3005710757], [3784465521, 676493813], [1958759409, 2030833406], [1306150933, 1016370058], [2636541290, 482366508], [1950415745, 1695073534], [322077955, 3746046623], [3602873262, 3829181504], [1211684447, 1861645455], [504701736, 4080111082], [2407799203, 1223857855], [1925743434, 1498920209], [3617596327, 845198428], [2498480299, 3484773806], [2680229135, 2560201696], [3731399221, 1536412390], [2756509305, 2924710846], [2635957500, 3459716133], [1372762539, 769635894], [802677945, 3878474636], [1707760534, 3075809808], [3714687192, 2872792173], [1615679922, 1606381794], [1940556374, 1337437342], [445390489, 731124040], [2864974375, 64601760], [1984806574, 2141516710], [513390958, 1890172555], [744398315, 1475299139], [982749166, 852662657], [652663695, 4260736510], [1184061125, 82616221], [3363191899, 147951756], [1064069880, 1507328085], [2138882964, 547595589], [2616926846, 3186935246], [2298715513, 3606862940], [2414381911, 811477686], [2694745228, 900437726], [4202576185, 2201114451], [3602305260, 3323446937], [3756663274, 2658490339], [3061587876, 2171079416], [3390977925, 2850497765], [486312941, 224925241], [3515712841, 3510684394], [1322319486, 2647200565], [3839619171, 1148450258], [392296762, 1154854654], [1401523788, 957405781], [1934485528, 527352730], [645968162, 3131215255], [696971825, 3361451947], [2038689491, 1946699733], [1723966113, 2785859721], [2652365974, 1118037185], [3988018407, 3134982149], [1354171594, 3053634345], [1287854075, 2631782435], [1723106141, 2662328866], [563845090, 1878819261], [639520332, 171129501], [534957223, 1696062352], [3612364282, 2283204027], [3109494688, 1304463816], [500957989, 630925278], [3477030536, 2149497258], [4109750364, 281719363], [951472732, 564407054], [922095147, 2767874048], [3946156928, 829677774], [2622281253, 2086286851], [2936811901, 850242186], [630086272, 3340782667], [2340986210, 1296336989], [4107355543, 3865114709], [3560210278, 3968418243], [3868847493, 2967450637], [611513888, 2083325060], [3265390517, 3025776309], [2874106961, 3424470508], [1668707698, 2923258228], [2778598353, 24320552], [292356118, 3415510793], [754567370, 86994591], [185141877, 1621715171], [2884558258, 3722473457], [1492107531, 111281805], [3336927864, 4225337056], [782994598, 1021838039], [346133860, 18281270], [2080909533, 1649329040], [3612065399, 3859901127], [2151962287, 284556115], [3957975594, 3745718727], [52533817, 3998775856], [1232633839, 397383972], [2716413964, 3629253960], [1531307298, 3836851439], [3030137657, 2500401718], [3561556693, 653345841], [313061910, 2945718466], [2065276, 3342140708], [410498334, 1470588117], [2726640512, 4051654894], [2570984935, 758567696], [3008987264, 3462702678], [623860175, 228525243], [3527183895, 1829844480], [467272850, 3890501742], [568376656, 650516927], [990477018, 4035508558], [2366955227, 817792110], [4183621538, 989198068], [946958343, 1639184195], [3395758993, 3924097558], [1690887473, 3220519765], [605184237, 1255270525], [275515833, 1926424610], [2142902612, 283494960], [2021972412, 1823828440], [105373677, 3448326697], [1666662384, 1042433908], [1338566998, 261206307], [498685668, 1344755577], [3101233780, 3119109371], [2733370951, 3808165089], [3656512268, 3449289481], [4025308119, 1607880299], [778896067, 1612183167], [2846510368, 3674754715], [3058428120, 2991822529], [1892379383, 3268787440], [2565895844, 4154602030], [3213117192, 98999135], [2495816991, 116985075], [1040203361, 1785041385], [3106252493, 69316595], [1639829808, 2087117568], [3213709576, 3799911752], [604681594, 2340981536], [4236730699, 2938666503], [4009938384, 1878897714], [2701667332, 1725918218], [2182473079, 1258184], [3550198211, 2760750799], [657991062, 875584532], [1640976276, 3380476221], [460041378, 2924352091], [1972323596, 2287414795], [2510248061, 1350206297], [2959337826, 3762681165], [1625877874, 3235902929], [2070189957, 1429368735], [4245163299, 1839731898], [2358312347, 138364248], [275739390, 2179122576], [2037777210, 972544338], [2766930226, 1984733259], [1933485829, 4209310327], [3034118011, 3286589799], [2653025529, 62078937], [2641780289, 2679545709], [3540781195, 2787026415], [1569993599, 3215949659], [441337890, 3947723353], [1878946792, 459505587], [3724105660, 920173002], [1691411102, 3934795955], [148741087, 3647709027], [142506469, 2776440083], [3811107376, 3823285243], [472209891, 252266174], [1913386482, 1867329194], [2960608550, 482740699], [1145005292, 1513558421], [1091751784, 1687823886], [3625186042, 3086337482], [1712140887, 940065262], [1504455800, 1945702563], [3896940088, 2003245591], [2478191531, 4197739e3], [3233871270, 250924495], [3404865229, 1131917964], [1462204167, 429621621], [1349259705, 3641608989], [3627860584, 2048468319], [1244251718, 1513180369], [3979211282, 371413143], [3043187861, 4285699810], [581894202, 3060983825], [1390895705, 1811317301], [2599134010, 3337406128], [2488233440, 2436161462], [1816641224, 2208816697], [1792034756, 815866116], [2779893723, 2695577703], [2084952115, 2951772258], [1351806869, 169269771], [2469979804, 86740603], [1163545420, 4264616949], [1795352113, 2511146232], [1796715044, 3134635815], [3521170642, 1538900329], [3725363621, 1455009392], [1342594643, 1512127734], [2618386938, 662157428], [2028859350, 2494504685], [1841905045, 648351336], [4002935891, 4033319405], [850071259, 1768358867], [979915719, 3876018087], [830889197, 1629549437], [1744763229, 2455795856], [522919199, 368499868], [3063822504, 2522639205], [2861636095, 407686388], [4097602344, 1945259027], [4215946617, 1251639506], [894485042, 534122652], [924809191, 1807237502], [1811585710, 1589663609], [3439653887, 1722232], [3810997538, 105152714], [2677100683, 4291805514], [77233985, 102407776], [4239834691, 2851274395], [148802076, 2006440603], [2409138150, 126301601], [3048474397, 3217504870], [588133437, 4221603123], [1139638106, 263087485], [982032635, 3165674595], [562514827, 1294842959], [467575086, 905357513], [1405117894, 3370530088], [3813285157, 242912619], [3601878331, 1985076606], [1586505598, 2092146221], [738488098, 103663229], [2970334297, 321718822], [1068097019, 1742926233], [235518094, 420804527], [283685722, 4092504887], [2666392744, 3799169331], [3569817788, 1256762975], [2169728352, 292617248], [2444571896, 2239859206], [3967907832, 1066404216], [420376911, 2913277294], [3046293305, 2956347747], [2311278792, 2477686209], [2885955184, 4172514290], [3030078181, 2275536480], [4212469731, 4280736393], [1046900335, 1773022229], [995380926, 1414273529], [3892683234, 2429494358], [615726237, 2127712535], [3880203074, 2071130305], [176180504, 3070850165], [1474506861, 2283723599], [1256707747, 1857412043], [764236850, 359687368], [3521530334, 511649419], [2318567964, 3992868140], [128167623, 2518992858], [2220129756, 1042300052], [2567608573, 1349636707], [441446694, 384760969], [4143447316, 829506048], [817912603, 2738025500], [2368091832, 357934982], [1187643061, 1561463042], [3438021235, 3030161697], [1318922279, 895468690], [434876457, 1130220303], [1180291767, 1132759596], [2520707785, 1798553137], [1962430872, 2958700157], [1510954061, 3534879512], [57831539, 3269538993], [3354831405, 3852135009], [891783098, 2698494511], [2555636406, 996018997], [2881342935, 3982231648], [3473267445, 2894952368], [1238029452, 3958679326], [2051805420, 559465638], [3655936674, 1186951582], [330209165, 167662935], [1929681327, 2450868735], [1313566811, 2458925988], [4283920930, 3243182650], [1438004300, 4185567150], [3093439067, 89876832], [3401620219, 3721579956], [3673745794, 2682874719], [3053321309, 825410712], [822915968, 3681514755], [3900685126, 561657358], [553823814, 1857753416], [4166295066, 983949325], [128359165, 3426887194], [3300989119, 3884968622], [4193552686, 3647722552], [452189154, 1569670618], [4122259632, 3537825460], [2519387887, 2821594244], [74333898, 2940550377], [4032631446, 2173999692], [2521268686, 1934310532], [2620314688, 2177785789], [1378755571, 2455646622], [394133753, 4231198609], [734399075, 2800989170], [573292462, 1634883078], [1214417373, 3426576256], [2110224475, 2399009920], [2331215665, 3224086912], [531326186, 698539511], [3839443603, 583861850], [2644531398, 2017784332], [616620850, 3070237104], [590349237, 2798642861], [3582377217, 3317831670], [1582708616, 1596570667], [2126148205, 2358511947], [173450736, 3219362418], [3616831144, 1323437318], [2655785577, 3131359031], [401600069, 2967397952], [496349349, 4244179910], [2479612086, 2579650653], [1710903074, 2049666425], [3589924952, 690291925], [3266682943, 1900485231], [1496318498, 3025542656], [3459221058, 3389461212], [2091479615, 3140389256], [663040899, 1207089672], [3323704225, 1105530508], [353318429, 2879253542], [2674540957, 941987316], [1688550857, 620657353], [338551967, 4286217277], [204689992, 2239736295], [178008789, 3940832005], [3871613304, 3300636974], [1911672356, 2429684487], [4055679954, 1974461722], [3878217928, 1009991796], [2533095482, 310920740], [2174833823, 3596041637], [1604814460, 2939543881], [1452830254, 4092397851], [2441027029, 4169690209], [3524103304, 3372213855]]
                  , t = [[836181454, 1689436944], [2776523577, 3710710688], [4049974663, 3750330768], [519497435, 2979405513]]
                  , n = [[1892447193, 197291556], [3793382197, 3742120663], [3838936, 2994760034], [479846099, 1018728609], [3476112862, 182272649], [3504620154, 1427438450], [2009473484, 2679350403], [1738755500, 1129731339]]
                  , a = [4174784170, 2938602761]
                  , l = {
                    p: 0,
                    P: 1,
                    n: 2,
                    N: 3,
                    b: 4,
                    B: 5,
                    r: 6,
                    R: 7,
                    q: 8,
                    Q: 9,
                    k: 10,
                    K: 11
                }
                  , f = [];
                f[5] = 1,
                f[6] = 0,
                f[9] = 3,
                f[10] = 2,
                f[17] = 5,
                f[18] = 4,
                f[33] = 7,
                f[34] = 6,
                f[65] = 9,
                f[66] = 8,
                f[129] = 11,
                f[130] = 10;
                var h, p = [2, 5, 10, 20, 40, 80, 160, 64], m = ["", "0000000", "000000", "00000", "0000", "000", "00", "0", ""];
                function to32BitHex(e) {
                    var t = e.toString(16);
                    return m[t.length] + t
                }
                function to64BitHex(e) {
                    return to32BitHex(e[0]) + to32BitHex(e[1])
                }
                function hash(f, h) {
                    var m, g, v, y, b, _, C, A, S, x, w, P, T = f.split(" "), M = T[0].split("/"), k = "w" === T[1], I = 0, O = Number(k), N = O ? 3 : 4;
                    for (v = 7; v >= 0; v -= 1)
                        for (y = 0,
                        C = (b = M[v]).length,
                        _ = 0; _ < C; _ += 1)
                            A = b[_],
                            (w = l[A]) >= 0 && (m = (m ^ (S = e[64 * w + 8 * (7 - v) + y])[0]) >>> 0,
                            g = (g ^ S[1]) >>> 0,
                            w === O && v === N && (I |= 1 << y)),
                            y += Number(A) || 1;
                    return "-" !== T[2] && ((x = T[2]).indexOf("K") > -1 && (m = (m ^ (S = t[0])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0),
                    x.indexOf("Q") > -1 && (m = (m ^ (S = t[2])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0),
                    x.indexOf("k") > -1 && (m = (m ^ (S = t[1])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0),
                    x.indexOf("q") > -1 && (m = (m ^ (S = t[3])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0)),
                    T[3] && "-" !== T[3] && (P = T[3].charCodeAt(0) - 97,
                    p[P] & I && (m = (m ^ (S = n[P])[0]) >>> 0,
                    g = (g ^ S[1]) >>> 0)),
                    k && (m = (m ^ a[0]) >>> 0,
                    g = (g ^ a[1]) >>> 0),
                    h && "hex" === h ? to64BitHex([m, g]) : [m, g]
                }
                function wrap(e) {
                    var t, n, a, l, f = {};
                    function parseBook(e, t) {
                        var a, l, f, h, p, m, g = n.getUint16(e + 8), v = n.getUint16(e + 10);
                        return l = g >> 9 & 7,
                        h = g >> 3 & 7,
                        p = 7 & g,
                        m = g >> 12 & 7,
                        4 === (f = g >> 6 & 7) && t && l === h && "-" !== t && (7 === p && (0 === l && t.indexOf("K") > -1 || 7 === l && t.indexOf("k") > -1) ? p -= 1 : 0 === p && (0 === l && t.indexOf("Q") > -1 || 7 === l && t.indexOf("q") > -1) && (p += 2)),
                        a = String.fromCharCode(f + 97) + (l + 1) + String.fromCharCode(p + 97) + (h + 1),
                        m && (a += "nbrq"[m - 1]),
                        {
                            move: a,
                            weight: v
                        }
                    }
                    function query(e) {
                        return "string" == typeof e && (e = {
                            fen: e
                        }),
                        t(e)
                    }
                    if (f = {
                        query: query,
                        pick: function pick(e) {
                            var t, n, a, l, f, h = 0;
                            if (function sortMoves(e) {
                                e.sort((function sorter(e, t) {
                                    return t.weight - e.weight
                                }
                                ))
                            }(t = (e = e || {}).moves || query(e)),
                            a = t.length) {
                                if (e.type && 1 !== a && "best" !== e.type) {
                                    if ("random" === e.type) {
                                        for (l = Math.floor(Math.random() * t.sum) + 1,
                                        f = 0; f < a - 1 && !(l <= (h += t[f].weight)); f += 1)
                                            ;
                                        return t[f].move
                                    }
                                    return "randomDisregardWeight" === e.type ? t[Math.floor(Math.random() * a)].move : "worst" === e.type ? t[a - 1].move : ((n = parseInt(e.type) || 1) < 0 && (n = a + n + 1),
                                    n < 1 ? n = 1 : n > a && (n = a),
                                    t[n - 1].move)
                                }
                                return t[0].move
                            }
                        }
                    },
                    e.getUint32)
                        t = function bufferBookFind(e) {
                            var t, a, l, f, h, p = n.length || n.byteLength || 0, m = e.offset || 0, g = e.fen, v = e.chess960, y = e.checkAll, b = [], _ = 0;
                            for (e.hash ? "string" == typeof (t = e.hash) && (t = function hex64ToDec(e) {
                                return [parseInt(e.substr(0, 8), 16), parseInt(e.substr(8), 16)]
                            }(t)) : t = hash(g),
                            !v && g && (h = g.split(" ")[2]),
                            m = 0; m < p; m += 16)
                                if (n.getUint32(m) === t[0] && n.getUint32(m + 4) === t[1])
                                    l = parseBook(m, h),
                                    b[b.length] = l,
                                    _ += l.weight,
                                    a = !0;
                                else if (a && !y)
                                    break;
                            if (b.sum = _,
                            e.relative)
                                for (f = b.length - 1; f >= 0; f -= 1)
                                    b[f].relative = Math.round(b[f].weight / _ * 1e4);
                            return b
                        }
                        ,
                        n = e,
                        f.buffer = n;
                    else
                        for (l in t = function jsonBookFind(e) {
                            var t, n, l, h, p, m, g = 0, v = e.fen;
                            if (f.useFen)
                                l = v.replace(/ \d+ \d+$/, ""),
                                (t = a[l]) || (h = l.replace(/[a-h][1-8]$/, "-")) !== l && (t = a[h]);
                            else if (e.hash || (e.hash = hash(v, "hex")),
                            t = a[e.hash]) {
                                if (t[0] && t[0].n && (t = t[0]),
                                t.n && !t.b)
                                    return [];
                                if (t.b)
                                    t = function decompressMoves(e) {
                                        var t, n = [], a = e.b.length;
                                        for (t = 0; t < a; ++t)
                                            n.push({
                                                move: e.b[t],
                                                weight: e.w[t]
                                            });
                                        return n
                                    }(t);
                                else if (!e.chess960 && v)
                                    for (m = v.split(" ")[2],
                                    n = t.length - 1; n >= 0; n -= 1)
                                        (p = t[n].move.match(/e([18])([ah])\1/)) && ("h" === p[2] && ("1" === p[1] && m.indexOf("K") > -1 || "8" === p[1] && m.indexOf("k") > -1) ? t[n] = {
                                            move: "e" + p[1] + "g" + p[1],
                                            weight: t[n].weight
                                        } : "a" === p[2] && ("1" === p[1] && m.indexOf("Q") > -1 || "8" === p[1] && m.indexOf("q") > -1) && (t[n] = {
                                            move: "e" + p[1] + "c" + p[1],
                                            weight: t[n].weight
                                        }))
                            }
                            if (t)
                                for (n = t.length - 1; n >= 0; n -= 1)
                                    g += Number(t[n].weight);
                            else
                                t = [];
                            return t.sum = g,
                            t
                        }
                        ,
                        a = e,
                        f.json = a,
                        a) {
                            f.useFen = l.indexOf(" ") > -1;
                            break
                        }
                    return f
                }
                function getBook(e, t) {
                    !function ajaxLoad(e, t) {
                        var n = new XMLHttpRequest
                          , a = e.toLowerCase().indexOf(".json") > -1;
                        function onload() {
                            var e;
                            if (n.status >= 200 && n.status < 300 || 304 === n.status || 0 === n.status || 1223 === n.status)
                                if (a)
                                    try {
                                        t(null, JSON.parse(n.response))
                                    } catch (l) {
                                        t(l)
                                    }
                                else
                                    e = new DataView(n.response),
                                    t(null, e);
                            else
                                t(new Error("Error code: " + n.status))
                        }
                        n.open("GET", e, !0),
                        a || (n.responseType = "arraybuffer"),
                        n.onload = onload,
                        n.onerror = onload,
                        n.send()
                    }(e, (function onload(e, n) {
                        var a;
                        if (n && (a = wrap(n)),
                        t)
                            return t(e, a);
                        if (e)
                            throw e;
                        return a
                    }
                    ))
                }
                return {
                    hash: hash,
                    loadBook: (h = {},
                    function loadBook(e, t) {
                        h[e] ? h[e].book ? setTimeout((function() {
                            t(null, h[e].book)
                        }
                        ), 0) : h[e].cbs.push(t) : (h[e] = {
                            cbs: [t]
                        },
                        getBook(e, (function onload(t, n) {
                            var a = h[e].cbs;
                            t ? delete h[e] : (h[e].book = n,
                            h[e].cbs = void 0),
                            a.forEach((function(e) {
                                setTimeout((function() {
                                    e(t, n)
                                }
                                ), 0)
                            }
                            ))
                        }
                        )))
                    }
                    ),
                    to64BitHex: to64BitHex,
                    zobristPiece: e,
                    zobristCastle: t,
                    zobristEnPassant: n,
                    zobristTurn: a,
                    zobristPieceValue: l,
                    zobristPieceValueNumbers: f
                }
            }()
              , n = function init() {
                var e, n, a, l, f = {
                    Chess: 0,
                    Chess960: 1,
                    Crazyhouse: 2,
                    "3-check": 3,
                    "King of the Hill": 4,
                    Bughouse: 5,
                    chess960: 1,
                    fischerandom: 1,
                    fischerrandom: 1,
                    fischer: 1,
                    chess9lx: 1,
                    960: 1,
                    crazyhouse: 2,
                    "three-check": 3,
                    threecheck: 3,
                    "3check": 3,
                    kingofthehill: 4,
                    koth: 4,
                    bughouse: 5
                }, h = ["Chess", "Chess960", "Crazyhouse", "3-check", "King of the Hill", "Bughouse"], p = {
                    a8: 0,
                    b8: 1,
                    c8: 2,
                    d8: 3,
                    e8: 4,
                    f8: 5,
                    g8: 6,
                    h8: 7,
                    a7: 16,
                    b7: 17,
                    c7: 18,
                    d7: 19,
                    e7: 20,
                    f7: 21,
                    g7: 22,
                    h7: 23,
                    a6: 32,
                    b6: 33,
                    c6: 34,
                    d6: 35,
                    e6: 36,
                    f6: 37,
                    g6: 38,
                    h6: 39,
                    a5: 48,
                    b5: 49,
                    c5: 50,
                    d5: 51,
                    e5: 52,
                    f5: 53,
                    g5: 54,
                    h5: 55,
                    a4: 64,
                    b4: 65,
                    c4: 66,
                    d4: 67,
                    e4: 68,
                    f4: 69,
                    g4: 70,
                    h4: 71,
                    a3: 80,
                    b3: 81,
                    c3: 82,
                    d3: 83,
                    e3: 84,
                    f3: 85,
                    g3: 86,
                    h3: 87,
                    a2: 96,
                    b2: 97,
                    c2: 98,
                    d2: 99,
                    e2: 100,
                    f2: 101,
                    g2: 102,
                    h2: 103,
                    a1: 112,
                    b1: 113,
                    c1: 114,
                    d1: 115,
                    e1: 116,
                    f1: 117,
                    g1: 118,
                    h1: 119
                }, m = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], g = 0, v = 0, y = 0, b = -1, _ = 32, C = 128, A = 252, S = 255, x = 512, w = 112, P = 14, T = 21, M = 127, k = "pnbrqkPNBRQK", I = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", O = [];
                O[5] = [-16, -17, -15],
                O[6] = [16, 17, 15],
                O[8] = [-18, -33, -31, -14, 18, 33, 31, 14],
                O[16] = [-17, -15, 17, 15],
                O[32] = [-16, 1, 16, -1],
                O[64] = [-17, -16, -15, 1, 17, 16, 15, -1],
                O[128] = [-17, -16, -15, 1, 17, 16, 15, -1];
                var N = {
                    P: 5,
                    p: 6,
                    N: 9,
                    n: 10,
                    B: 17,
                    b: 18,
                    R: 33,
                    r: 34,
                    Q: 65,
                    q: 66,
                    K: 129,
                    k: 130
                }
                  , R = {
                    P: 4,
                    p: 4,
                    N: 8,
                    n: 8,
                    B: 16,
                    b: 16,
                    R: 32,
                    r: 32,
                    Q: 64,
                    q: 64,
                    K: 128,
                    k: 128
                }
                  , L = {
                    5: "P",
                    6: "p",
                    9: "N",
                    10: "n",
                    17: "B",
                    18: "b",
                    33: "R",
                    34: "r",
                    65: "Q",
                    66: "q",
                    129: "K",
                    130: "k"
                }
                  , D = {
                    9: "N",
                    10: "N",
                    17: "B",
                    18: "B",
                    33: "R",
                    34: "R",
                    65: "Q",
                    66: "Q",
                    129: "K",
                    130: "K"
                }
                  , B = [80, 0, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 0, 80, 0, 0, 80, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 80, 0, 0, 0, 0, 80, 0, 0, 0, 0, 96, 0, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 96, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 96, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 8, 96, 8, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 212, 224, 212, 8, 0, 0, 0, 0, 0, 0, 96, 96, 96, 96, 96, 96, 224, 0, 224, 96, 96, 96, 96, 96, 96, 0, 0, 0, 0, 0, 0, 8, 212, 224, 212, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 8, 96, 8, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 96, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 96, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 0, 96, 0, 0, 0, 0, 80, 0, 0, 0, 0, 80, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 80, 0, 0, 80, 0, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 0, 80]
                  , $ = [336, 80, 80, 0, 0, 0, 96, 352, 96, 0, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 352, 352, 352, 352, 360, 508, 252, 0, 252, 508, 360, 352, 352, 352, 352, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 0, 96, 352, 96, 0, 0, 0, 80, 80, 336]
                  , F = [336, 80, 80, 0, 0, 0, 96, 352, 96, 96, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 352, 352, 352, 352, 360, 508, 252, 0, 252, 508, 488, 352, 352, 352, 352, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 0, 96, 352, 96, 96, 0, 0, 80, 80, 336]
                  , H = [336, 80, 80, 0, 0, 96, 96, 352, 96, 0, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 352, 352, 352, 352, 488, 508, 252, 0, 252, 508, 360, 352, 352, 352, 352, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 96, 96, 352, 96, 0, 0, 0, 80, 80, 336]
                  , j = [336, 80, 80, 0, 0, 96, 96, 352, 96, 96, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 352, 352, 352, 352, 488, 508, 252, 0, 252, 508, 488, 352, 352, 352, 352, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 96, 96, 352, 96, 96, 0, 0, 80, 80, 336]
                  , U = [336, 80, 80, 112, 112, 112, 96, 352, 96, 96, 112, 112, 112, 80, 336, 0, 80, 336, 80, 112, 112, 112, 112, 352, 96, 112, 112, 112, 112, 336, 80, 0, 80, 80, 336, 112, 112, 112, 112, 368, 112, 112, 112, 112, 368, 80, 80, 0, 80, 80, 80, 368, 112, 112, 112, 368, 112, 112, 112, 368, 112, 80, 80, 0, 80, 80, 80, 112, 368, 120, 120, 376, 120, 120, 368, 112, 112, 80, 80, 0, 0, 80, 88, 120, 120, 508, 252, 508, 252, 508, 120, 120, 120, 88, 80, 0, 96, 104, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 104, 0, 352, 352, 480, 480, 488, 508, 252, 0, 252, 508, 488, 480, 480, 480, 352, 0, 96, 104, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 104, 0, 0, 80, 88, 120, 120, 508, 252, 508, 252, 508, 120, 120, 120, 88, 80, 0, 80, 80, 80, 112, 368, 120, 120, 376, 120, 120, 368, 112, 112, 80, 80, 0, 80, 80, 80, 368, 112, 112, 112, 368, 112, 112, 112, 368, 112, 80, 80, 0, 80, 80, 336, 112, 112, 112, 112, 368, 112, 112, 112, 112, 368, 80, 80, 0, 80, 336, 80, 112, 112, 112, 112, 352, 96, 112, 112, 112, 112, 336, 80, 0, 336, 80, 80, 112, 112, 112, 96, 352, 96, 96, 112, 112, 112, 80, 336]
                  , V = [17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0, 0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 33, 16, 31, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 17, 16, 15, 14, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0, -14, -15, -16, -17, -18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, -31, -16, -33, -17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0, 0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0, -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17]
                  , G = [0, 5, 8, 11, 14]
                  , q = [31, 7, 7, 7, 63]
                  , z = {
                    P: 0,
                    p: 0,
                    N: 5,
                    n: 5,
                    B: 8,
                    b: 8,
                    R: 11,
                    r: 11,
                    Q: 14,
                    q: 14
                }
                  , W = [4, 8, 16, _, 64]
                  , K = ["", "N", "B", "R", "Q"]
                  , Z = {
                    CAPTURE: 1,
                    BIG_PAWN: 2,
                    EP_CAPTURE: 4,
                    ANY_CAPTURE: 5,
                    PROMOTION: 8,
                    KSIDE_CASTLE: 16,
                    QSIDE_CASTLE: 32,
                    KQSIDE_CASTLE: 48,
                    DROP: 64,
                    DROP_OR_PROMOTE: 72
                }
                  , X = [0, 6, 1]
                  , Q = {
                    K: 119,
                    Q: 112,
                    k: 7,
                    q: 0,
                    A: 112,
                    B: 113,
                    C: 114,
                    D: 115,
                    E: 116,
                    F: 117,
                    G: 118,
                    H: 119,
                    a: 0,
                    b: 1,
                    c: 2,
                    d: 3,
                    e: 4,
                    f: 5,
                    g: 6,
                    h: 7
                }
                  , Y = ["Event", "Site", "Date", "Round", "White", "Black", "Result"]
                  , J = ["Event", "Site", "Date", "Round", "White", "Black", "Result", "Variant", "SetUp", "FEN", "WhiteA", "WhiteB", "BlackA", "BlackB"];
                function rank(e) {
                    return e >> 4
                }
                function file(e) {
                    return 7 & e
                }
                function algebraic(e) {
                    return String.fromCharCode(file(e) + 97) + (8 - rank(e))
                }
                function swapColor(e) {
                    return 3 - e
                }
                function hashNum(e, t) {
                    e[0] = (e[0] ^ t[0]) >>> 0,
                    e[1] = (e[1] ^ t[1]) >>> 0
                }
                function completeFen(e) {
                    var t, n;
                    return (t = ["", " w - - 0 1", " - - 0 1", " - 0 1", " 0 1", " 1"][(n = (e = e.trim()).split(" ")).length]) && e ? e += t : "0" === n[5] && (n[5] = 1,
                    e = n.join(" ")),
                    e
                }
                function createVariantZobristNumbers() {
                    t.zobristCheck = [[441249556, 340005552], [1040760204, 311043682], [1621584863, 1749286446], [1006868636, 1625552915], [1953853171, 24921145], [161251506, 1935545265]]
                }
                function validateFen(e, t) {
                    var n, a, l, h, p, m, g, v, y, b, _, C, A, S, x, w, P, T, M, I, O = /^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/, N = f[t] || 1 * t || f[String(t).replace(/\s/g, "").toLowerCase()], R = N === f.Crazyhouse || N === f.Bughouse, L = 0, D = 0, B = !0, $ = "", F = {
                        0: 0,
                        7: 0
                    }, H = {
                        0: 0,
                        7: 0
                    }, j = {
                        0: "k",
                        7: "K"
                    }, U = {
                        0: "r",
                        7: "R"
                    }, V = N === f.Chess960;
                    if (!e)
                        return 1;
                    if (N === f.Bughouse && 2 === (p = e.split(" | ")).length)
                        return 0 === (m = validateFen(p[0], t)) && (m = validateFen(p[1], t)),
                        m;
                    if (p = e.split(/\s+/),
                    N === f["3-check"] && 7 === p.length && (h = p.pop(),
                    !/^\+[0-3]\+[0-3]$/.test(h) || "+3+3" === h))
                        return 14;
                    if (6 !== p.length)
                        return 1;
                    if (/\D|.{7,}|^0|^$/.test(p[5]))
                        return 2;
                    if (/\D|.{7,}|^0.|^$/.test(p[4]))
                        return 3;
                    if (!/^(?:-|[abcdefgh][36])$/.test(p[3]))
                        return 4;
                    if (b = p[2],
                    V) {
                        if (!O.test(b))
                            return 12
                    } else if (!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(b)) {
                        if (void 0 !== t || !O.test(b))
                            return 5;
                        V = !0
                    }
                    if ("w" !== p[1] && "b" !== p[1])
                        return 6;
                    if (R && (p[0] = p[0].replace(/~(?=.*\/)/g, "")),
                    a = p[0].split("/"),
                    R && 9 === a.length && (h = a.pop(),
                    !/^[pnbrq]{0,63}$/i.test(h)))
                        return 13;
                    if (8 !== a.length)
                        return 7;
                    if ("3" === p[3][1] && "w" === p[1] || "6" === p[3][1] && "b" === p[1])
                        return 11;
                    for ("-" !== p[3] && (g = 4 === (D = "3" === p[3][1] ? 4 : 3) ? 5 : 2,
                    L = p[3].charCodeAt(0) - 97,
                    B = !1,
                    $ = 4 === D ? "P" : "p"),
                    n = 0; n < a.length; ++n) {
                        for (T = 0,
                        M = !1,
                        I = 0; I < a[n].length; I++)
                            if (+(l = a[n][I]) == +l) {
                                if (M)
                                    return 8;
                                T += 1 * l,
                                M = !0
                            } else {
                                if (-1 === k.indexOf(l))
                                    return 9;
                                if (B || D !== n || L !== T || $ !== l || (B = !0),
                                g === n && L === T)
                                    return 11;
                                n % 7 == 0 && (l === j[n] ? H[n] = 1 << T : l === U[n] && (F[n] |= 1 << T)),
                                ++T,
                                M = !1
                            }
                        if (8 !== T)
                            return 10
                    }
                    if (!B)
                        return 11;
                    if ("-" !== b)
                        if (V)
                            for (C = {
                                0: 0,
                                1: 0,
                                2: 252,
                                4: 248,
                                8: 240,
                                16: 224,
                                32: 192,
                                64: 128,
                                128: 0
                            },
                            _ = {
                                0: 0,
                                1: 0,
                                2: 1,
                                4: 3,
                                8: 7,
                                16: 15,
                                32: 31,
                                64: 63,
                                128: 0
                            },
                            P = {
                                0: [0, 0],
                                7: [0, 0]
                            },
                            n = b.length - 1; n >= 0; --n) {
                                if (x = b.charCodeAt(n),
                                w && w > x && w - x < 8)
                                    return 15;
                                if (75 === x ? A = F[S = 7] & C[H[S]] : 81 === x ? A = F[S = 7] & _[H[S]] : 107 === x ? A = F[S = 0] & C[H[S]] : 113 === x ? A = F[S = 0] & _[H[S]] : (A = 1 << x - ((S = x >= 97 ? 0 : 7) ? 65 : 97),
                                w = x),
                                !A || 0 != (A & A - 1))
                                    return 15;
                                if (H[S] < 2 || H[S] > 64 || (A & F[S]) !== A)
                                    return 15;
                                if (++P[S][1 * (H[S] < A)] > 1)
                                    return 15
                            }
                        else {
                            if ((v = (b.indexOf("K") > -1 ? 128 : 0) | (b.indexOf("Q") > -1 ? 1 : 0)) && (16 !== H[7] || (v & F[7]) !== v))
                                return 15;
                            if ((y = (b.indexOf("k") > -1 ? 128 : 0) | (b.indexOf("q") > -1 ? 1 : 0)) && (16 !== H[0] || (y & F[0]) !== y))
                                return 15
                        }
                    return 0
                }
                function handToString(e, t) {
                    var n, a, l = "", f = 0, h = t ? 6 : 0;
                    if (e)
                        for (; f < 5; ) {
                            for (n = e >> G[f] & q[f],
                            a = 0; a < n; ++a)
                                l += k[f + h];
                            ++f
                        }
                    return l
                }
                function hashEP(e, n, a, l) {
                    e[a + 1] !== l && e[a - 1] !== l || hashNum(n, t.zobristEnPassant[file(a)])
                }
                function addPawnMove(e, t, a, l) {
                    var f;
                    (0 === n || 2 & e[a + 8]) && (rank(a) % 7 == 0 ? (f = l | Z.PROMOTION | t << 7 | a << P,
                    m[v++] = 8388608 | f,
                    m[v++] = 6291456 | f,
                    m[v++] = 4194304 | f,
                    m[v++] = 2097152 | f) : m[v++] = l | t << 7 | a << P)
                }
                function kingOfTheHillWin(e) {
                    switch (e) {
                    case 67:
                    case 68:
                    case 51:
                    case 52:
                        return !0
                    }
                    return !1
                }
                function canCastle960(e, t, n, a) {
                    var l, f, h, p = t + (n - t % 8), m = n > t % 8 ? 1 : -1;
                    for (h = t + m; h !== p; h += m)
                        if (e[h])
                            return !1;
                    if (f = (l = 1 === a ? 1 === m ? 118 : 114 : 1 === m ? 6 : 2) - m,
                    e[l + 8] || e[l] && l !== t && l !== p || e[f] && f !== t && f !== p)
                        return !1;
                    if (l !== t)
                        for (h = t + (m = l > t ? 1 : -1); h !== l; h += m)
                            if (h !== p && e[h] || e[h + 8])
                                return !1;
                    return !0
                }
                var ee = function() {
                    function createLine(e, t, n, a, l, h, p) {
                        var m, g, v, y, b, _, C, A, S, x, w, P = [], T = "", M = !0, k = t[n], I = k.length, O = "";
                        if (k.commands)
                            for (y in k.commands)
                                (!h || h.indexOf(y) > -1) && (O += "[%" + y + " " + k.commands[y] + "]");
                        for (k.initComment && !p && (O = (O + " " + k.initComment.replace(/(\"|\}|\%|\\)/g, "\\$1")).trim()),
                        O && P.push("{" + O + "}"),
                        g = 0; g < I; ++g) {
                            if (_ = 1 === (m = k[g]).color,
                            T = "",
                            O = "",
                            a !== f.Bughouse ? (M && !_ ? T = e + "..." : _ && (T = e + "."),
                            l && (_ || M) && (T += " ")) : (P.bughouseOrder || (P.bughouseOrder = []),
                            P.bughouseOrder.push(m.bughouseOrder),
                            g || (P.blackCountOffset = 2 === k[0].color ? 1 : 0)),
                            T += m.san,
                            m.annotation && (T += m.annotation),
                            m.additionalAnnotation && (T += " " + m.additionalAnnotation.join(" ")),
                            M = !1,
                            void 0 === m.time || m.commands || (m.commands = {
                                clk: (S = m.time,
                                x = void 0,
                                w = void 0,
                                x = Math.floor(S % 36e3 / 600),
                                w = Math.floor(S % 36e3 % 600) / 10,
                                Math.floor(S / 36e3) + ":" + (x < 10 ? "0" : "") + x + ":" + (w < 10 ? "0" : "") + w)
                            }),
                            m.commands)
                                for (y in m.commands)
                                    (!h || h.indexOf(y) > -1) && (O += "[%" + y + " " + m.commands[y] + "]");
                            if (m.comment && !p && (O = (O + " " + m.comment.replace(/(\"|\}|\%|\\)/g, "\\$1")).trim()),
                            O && (T += " {" + O + "}",
                            M = !0),
                            P.push(T),
                            m.lines)
                                for (C = m.lines.length,
                                v = 0; v < C; ++v)
                                    t[A = m.lines[v]].length && ((b = createLine(e, t, A, a, l, h, p))[0] = "(" + b[0],
                                    b[b.length - 1] += ")",
                                    P = P.concat(b),
                                    M = !0);
                            _ || e++
                        }
                        return P
                    }
                    function createHeader(e, t) {
                        return "[" + e + ' "' + String(t).replace(/(\"|\\)/g, "\\$1") + '"]'
                    }
                    return function generatePgn(e, t, n, a, l, h) {
                        var p, m, g = "string" == typeof e.newline ? e.newline : "\n", v = void 0 === e.spaceAfterPeriods || e.spaceAfterPeriods, y = "";
                        for (p in y += createHeader("Event", t.Event) + g,
                        y += createHeader("Site", t.Site) + g,
                        y += createHeader("Date", t.Date) + g,
                        y += createHeader("Round", t.Round) + g,
                        l === f.Bughouse ? (y += createHeader("WhiteA", t.WhiteA || "?") + g,
                        y += createHeader("BlackA", t.BlackA || "?") + g,
                        y += createHeader("WhiteB", t.WhiteB || "?") + g,
                        y += createHeader("BlackB", t.BlackB || "?") + g) : (y += createHeader("White", t.White) + g,
                        y += createHeader("Black", t.Black) + g),
                        y += createHeader("Result", t.Result) + g,
                        l && (y += createHeader("Variant", t.Variant) + g),
                        t.FEN && t.FEN !== I && (y += createHeader("SetUp", "1") + g,
                        y += createHeader("FEN", t.FEN) + g),
                        t)
                            -1 === J.indexOf(p) && (y += createHeader(p, t[p]) + g);
                        if (y += g,
                        m = createLine(a, n, 0, l, v, e.hideCommands ? [] : e.restrictCommands, e.hideComments),
                        l === f.Bughouse) {
                            if (h.isDependent)
                                return m;
                            m = function makeBugHousePgn(e, t, n) {
                                var a = t
                                  , l = e.siblingGame.pgn()
                                  , f = 0
                                  , h = 0
                                  , p = [];
                                for (t.bughouseOrder = t.bughouseOrder || [],
                                l.bughouseOrder = l.bughouseOrder || []; t.bughouseOrder.length || l.bughouseOrder.length; )
                                    !t.bughouseOrder.length || l.bughouseOrder.length && t.bughouseOrder[0] > l.bughouseOrder[0] ? (l.bughouseOrder.shift(),
                                    p.push("B")) : (t.bughouseOrder.shift(),
                                    p.push("A"));
                                return t = [],
                                p.forEach((function(p) {
                                    var m, g, v, y = "";
                                    "A" === p ? (m = a,
                                    g = ++f,
                                    v = e.startingMoveNumber()) : (m = l,
                                    g = ++h,
                                    v = e.siblingGame.startingMoveNumber()),
                                    y = String(Math.floor((g + 1) / 2) + v - 1),
                                    (m.blackCountOffset + g) % 2 ? y += p : y += p.toLowerCase(),
                                    y += "." + (n ? " " : "") + m.shift(),
                                    t.push(y)
                                }
                                )),
                                t
                            }(h, m, v)
                        }
                        return m.push(t.Result),
                        y + function wordWrap(e, t, n) {
                            return t < 1 ? e : (t = "number" == typeof t ? t : 80,
                            e.replace(new RegExp("(.{1," + t + "})(?: |$|\r?\n)","g"), "$1" + n).slice(0, -n.length))
                        }(m.join(" "), e.maxWidth, g)
                    }
                }()
                  , te = function() {
                    var e = "!?â€¼â‡â‰âˆâ–¡âˆ‡Î”âˆžâ©²â©±Â±âˆ“â¨€âŸ³â†’â†‘â‡†âˆ†âŒ“â‡”â‡—âŸ«âŸªâœ•âŠ¥âŠ•â—‹â‡„â†»âŠ™~"
                      , t = /\[%(\S+)\s([^\]]+)\]/
                      , n = /^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;
                    function extractCommands(e) {
                        for (var n, a = e.commands || {}; n = t.exec(e.value); )
                            e.value = e.value.replace(n[0], "").trim(),
                            a[n[1]] = n[2],
                            e.commands = a
                    }
                    function isSplitGame(e, t, n, a) {
                        for (var l; ++t < n; )
                            if ((l = e[t].trim()) && "%" !== l[0])
                                return "[" === l[0] && (!a || /^\[\S+\s+".*"\]$/.test(l))
                    }
                    return function tokenize(t, a) {
                        var l, f, h, p, m, g, v, y = "tags", b = [], _ = {
                            type: y,
                            value: ""
                        }, C = 0, A = [], S = !0;
                        a = a || {},
                        p = (l = t.split(/\r?\n/)).length;
                        e: for (f = 0; f < p; ++f)
                            if ("%" !== (h = l[f].trim())[0])
                                if (h) {
                                    if (g = (h = " " + h + " ").length,
                                    m = 0,
                                    S)
                                        for (; m < g; ++m)
                                            if (v = h[m],
                                            "tags" === y) {
                                                if ("[" === v)
                                                    _ = {
                                                        type: y = "tagName",
                                                        value: ""
                                                    };
                                                else if (v.trim()) {
                                                    _ = {
                                                        type: y = "san",
                                                        value: ""
                                                    },
                                                    S = !1;
                                                    break
                                                }
                                            } else if ("tagName" === y)
                                                _.value && "" === v.trim() ? (b.push(_),
                                                y = "tagValueStart") : " " !== v && (_.value += v);
                                            else if ("tagValueStart" === y) {
                                                if ('"' === v || "â€œ" === v)
                                                    _ = {
                                                        type: y = "tagValue",
                                                        value: ""
                                                    };
                                                else if (v.trim()) {
                                                    b.push({
                                                        type: "tagValue",
                                                        value: h.slice(m, -1).match(/(.*?)"?\]?$/)[1]
                                                    }),
                                                    _ = {
                                                        type: y = "tags",
                                                        value: ""
                                                    };
                                                    continue e
                                                }
                                            } else if ("tagValue" === y)
                                                if ('"' === v || "â€" === v)
                                                    if (b.push(_),
                                                    "]" === h[m + 1])
                                                        _ = {
                                                            type: y = "tags",
                                                            value: ""
                                                        },
                                                        ++m;
                                                    else {
                                                        if ("]" === h.slice(-2, -1)) {
                                                            _.value += h.substr(m).match(/(.*?)"?\s*\] $/)[1],
                                                            _ = {
                                                                type: y = "tags",
                                                                value: ""
                                                            };
                                                            continue e
                                                        }
                                                        y = "tagEnd"
                                                    }
                                                else
                                                    "\\" === v && m + 2 < g && (v = h[++m]),
                                                    m > 0 && (_.value += v);
                                            else {
                                                if ("]" !== v) {
                                                    if (!v.trim())
                                                        continue;
                                                    --m
                                                }
                                                _ = {
                                                    type: y = "tags",
                                                    value: ""
                                                }
                                            }
                                    for (; m < g; ++m)
                                        if (v = h[m],
                                        "san" === y)
                                            if (e.indexOf(v) > -1)
                                                "!" === v || "?" === v || e.indexOf(v) < 6 && (v = ["!!", "??", "!?", "?!"][e.indexOf(v) - 2]) ? (_.value && b.push(_),
                                                _ = {
                                                    type: "a",
                                                    value: v
                                                },
                                                "!" !== h[m + 1] && "?" !== h[m + 1] || (_.value += h[++m]),
                                                b.push(_),
                                                _ = {
                                                    type: "san",
                                                    value: ""
                                                }) : ("âˆž" === v && "=/" === _.value ? (_.type = "aa",
                                                _.value += v) : (_.value && (n.test(_.value) && ("--" !== _.value || a.rejectNullMoves) && (_.type = "aa"),
                                                b.push(_)),
                                                _ = {
                                                    type: "aa",
                                                    value: v
                                                },
                                                "â†‘" === v && "â†‘" === h[m + 1] && (_.value = "â†»",
                                                ++m)),
                                                b.push(_),
                                                _ = {
                                                    type: "san",
                                                    value: ""
                                                });
                                            else if (" " === v || "\t" === v || "\r" === v || "{" === v || "(" === v || ")" === v) {
                                                if (_.value) {
                                                    if ("$" === _.value[0])
                                                        _.type = "nag";
                                                    else if ("*" === _.value || "1-0" === _.value || "0-1" === _.value || "1/2-1/2" === _.value || "Â½-Â½" === _.value) {
                                                        if (!(C || m + 1 < g)) {
                                                            if (_.type = "result",
                                                            "Â½-Â½" === _.value && (_.value = "1/2-1/2"),
                                                            b.push(_),
                                                            A.push(b),
                                                            f + 1 === p || f + 2 === p && !l[f + 1])
                                                                return A;
                                                            S = !0,
                                                            _ = {
                                                                type: y = "tags",
                                                                value: ""
                                                            },
                                                            b = [];
                                                            break
                                                        }
                                                        _.type = "*" === _.value ? "cont" : "comment"
                                                    }
                                                    n.test(_.value) && ("--" !== _.value || a.rejectNullMoves) && (_.type = "aa"),
                                                    b.push(_),
                                                    _ = {
                                                        type: y,
                                                        value: ""
                                                    }
                                                }
                                                if (" " === v || "\t" === v || "\r" === v)
                                                    y = "san";
                                                else if ("{" === v)
                                                    y = "comment",
                                                    b.length && "comment" === b[b.length - 1].type && ((_ = b.pop()).value += " ");
                                                else if ("(" === v)
                                                    y = "san",
                                                    b.push({
                                                        type: "variationStart",
                                                        value: ++C
                                                    });
                                                else {
                                                    if (C < 1) {
                                                        if (!a.commentErrors)
                                                            return !1
                                                    } else
                                                        b.push({
                                                            type: "variationEnd",
                                                            value: C--
                                                        });
                                                    y = "san"
                                                }
                                                _.type = y
                                            } else if ("." === v || !_.value && +v == +v && "-" !== h[m + 1] && "/" !== h[m + 1]) {
                                                if (+v == +v)
                                                    switch (_.number || (_.number = ""),
                                                    _.number += v,
                                                    h[m + 1]) {
                                                    case "A":
                                                    case "a":
                                                    case "B":
                                                    case "b":
                                                        _.number += h[++m],
                                                        b.push({
                                                            type: "number",
                                                            value: _.number
                                                        }),
                                                        delete _.number
                                                    }
                                            } else
                                                _.value += v;
                                        else
                                            0 === m && (_.value = _.value.trim()),
                                            "}" !== v ? ("\\" === v && m + 2 < g && (v = h[++m]),
                                            _.value += v) : (_.value = _.value.trim(),
                                            _.value.indexOf("[") > -1 && extractCommands(_),
                                            b.push(_),
                                            _ = {
                                                type: y = "san",
                                                value: ""
                                            })
                                } else
                                    b.length && ("tags" === y ? (y = "san",
                                    S = !1) : "tagValueStart" !== y && isSplitGame(l, f, p, C || "comment" === y) && ("comment" === y && b.push(_),
                                    "tagValue" !== b[b.length - 1].type && (A.push(b),
                                    b = []),
                                    y = "tags",
                                    S = !0,
                                    C = 0));
                        return _.value && b.push(_),
                        !b.length && A.length || A.push(b),
                        A
                    }
                }();
                function Chess(J, ne) {
                    var re, oe, ie = 0, ae = !0, se = [], ue = 1, ce = [], le = b, de = 0, fe = 1, he = 1, pe = [], me = [pe], ge = 0;
                    pe.id = ge;
                    var ve = {}
                      , ye = []
                      , be = !1
                      , _e = !1
                      , Ce = makeMoveChess
                      , moveToSan = function(e, t) {
                        var n, a, l, f, h, p, b = "";
                        return e & Z.KQSIDE_CASTLE ? b = e & Z.KSIDE_CASTLE ? "O-O" : "O-O-O" : e & Z.DROP ? ((n = e >> T) && (b += K[n]),
                        b += "@" + algebraic(l = e >> P & M)) : (l = e >> P & M,
                        4 & (f = oe[a = e >> 7 & M]) ? (e & Z.ANY_CAPTURE && (b += String.fromCharCode(file(a) + 97) + "x"),
                        b += algebraic(l),
                        e & Z.PROMOTION && (b += "=" + K[n = e >> T])) : (b += D[f & S],
                        y > 1 && (b += function getDisambiguator(e, t, n) {
                            var a, l, f, h, p, g;
                            if (v < 2)
                                return "";
                            for (e &= A,
                            g = 0; g < v; ++g)
                                if (n === (a = m[g]) >> P && (f = a >> 7 & M) !== t && oe[f] & e) {
                                    if (l = !0,
                                    rank(t) === rank(f)) {
                                        if (h)
                                            return algebraic(t);
                                        p = !0
                                    }
                                    if (file(t) === file(f)) {
                                        if (p)
                                            return algebraic(t);
                                        h = !0
                                    }
                                }
                            if (l)
                                return h ? String(8 - rank(t)) : String.fromCharCode(file(t) + 97);
                            return ""
                        }(f, a, l)),
                        e & Z.ANY_CAPTURE && (b += "x"),
                        b += algebraic(l))),
                        t || (e & Z.KQSIDE_CASTLE ? (a = e >> 7 & M,
                        l = e >> P & M) : e & Z.DROP_OR_PROMOTE && (f = W[n] + ue),
                        inCheckAfterMove(f, a, l, e) && (Ce(e, a, l, n),
                        h = g,
                        g = v,
                        p = y,
                        ie && isVariantWin() || generateMoves() === g ? b += "#" : b += "+",
                        v = g,
                        g = h,
                        y = p,
                        reverseMove(pe.pop()))),
                        b
                    };
                    function hashPosition() {
                        var e, n, a, l = 1 === ue ? [4174784170, 2938602761] : [0, 0];
                        for (a = 0; a < 120; ++a)
                            136 & a && (a += 8),
                            (e = oe[a]) && hashNum(l, t.zobristPiece[64 * t.zobristPieceValueNumbers[e & S] + 8 * (7 - rank(a)) + file(a)]);
                        if (_e)
                            for (n = 1; n < 3; ++n)
                                ce[n] && (0 != (ce[n] & ce[n] - 1) ? (hashNum(l, t.zobristCastle[n - 1]),
                                hashNum(l, t.zobristCastle[n + 1])) : ce[n] > 1 << file(se[n]) ? hashNum(l, t.zobristCastle[n - 1]) : hashNum(l, t.zobristCastle[n + 1]));
                        else {
                            for (n = 1; n < 3; ++n)
                                ce[n] && (ce[n] & Z.KSIDE_CASTLE && hashNum(l, t.zobristCastle[n - 1]),
                                ce[n] & Z.QSIDE_CASTLE && hashNum(l, t.zobristCastle[n + 1]));
                            be ? function hashHand(e, n) {
                                var a, l, f, h, p, m, g, v = 0;
                                for (a = 1; a < 3; ++a) {
                                    if (l = n[a])
                                        for (f = 0; f < 5; ) {
                                            for (p = v + 63 * f,
                                            h = l >> G[f] & q[f],
                                            m = 0; m < h; ++m)
                                                hashNum(e, [31 * (g = t.zobristPiece[p++])[0] >>> 0, 17 * g[1] >>> 0]);
                                            ++f
                                        }
                                    v = 315
                                }
                            }(l, re._hand) : ie === f["3-check"] && function hash3Check(e, n) {
                                n[1] && hashNum(e, t.zobristCheck[n[1] - 1]),
                                n[2] && hashNum(e, t.zobristCheck[n[2] + 2])
                            }(l, ye)
                        }
                        return le !== b && hashEP(oe, l, le + (1 === ue ? 16 : -16), 4 | ue),
                        l
                    }
                    function getCurrentHash() {
                        var e;
                        return pe.length ? e = pe[pe.length - 1].hash : (pe.hash || (pe.hash = hashPosition()),
                        e = pe.hash),
                        [e[0], e[1]]
                    }
                    function bughouseify(e) {
                        function fixBughouseSan(e) {
                            return /#/.test(e) && checkIsPotentiallyBlockable() && (e = e.replace("#", "+")),
                            e
                        }
                        function bughouseFunc(t, n) {
                            var a = e(t, n);
                            return a && ("string" == typeof a ? a = fixBughouseSan(a) : (a.san = fixBughouseSan(a.san),
                            pe[pe.length - 1].san = a.san)),
                            a
                        }
                        return bughouseFunc._isBughouseified = !0,
                        bughouseFunc._orig = e,
                        bughouseFunc
                    }
                    function setVariant(e, t) {
                        ie !== (ie = e ? f[e] || 1 * e || f[String(e).replace(/\s/g, "").toLowerCase()] || f.Chess : 0) && (ie === f.Bughouse ? (be = !0,
                        re.isDependent || (re.siblingGame = Chess(),
                        re.siblingGame.hashing(ae),
                        re.siblingGame.isDependent = !0,
                        re.siblingGame.siblingGame = re,
                        re.siblingGame.header({
                            Variant: "Bughouse"
                        })),
                        createVariantZobristNumbers(),
                        Ce = makeMoveVariant,
                        moveToSan = bughouseify(moveToSan),
                        re.move = bughouseify(re.move)) : (delete re.siblingGame,
                        be = ie === f.Crazyhouse,
                        _e = ie === f.Chess960,
                        ie ? (createVariantZobristNumbers(),
                        Ce = makeMoveVariant) : Ce = makeMoveChess,
                        moveToSan._isBughouseified && (moveToSan = moveToSan._orig,
                        re.move = re.move._orig)),
                        t || updateSetup(generateFen()))
                    }
                    function disambiguate960Rook(e, t) {
                        for (var n, a, l = e > 7 ? 1 : 2; !(136 & e); ) {
                            if ((n = oe[e]) & l)
                                if (n & _) {
                                    if (a)
                                        return;
                                    a = e % 8 + (1 === l ? 65 : 97)
                                } else if (n & C)
                                    return a;
                            e += t
                        }
                    }
                    function clear(e, t, n) {
                        oe = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        ue = 1,
                        se[1] = b,
                        se[2] = b,
                        ce[1] = 0,
                        ce[2] = 0,
                        re._hand[1] = 0,
                        re._hand[2] = 0,
                        ye[1] = 0,
                        ye[2] = 0,
                        le = b,
                        de = 0,
                        fe = 1,
                        t || (me = [pe = []],
                        ge = 0,
                        pe.id = ge,
                        ve = {
                            Event: "?",
                            Site: "?",
                            Date: "????.??.??",
                            Round: "?",
                            White: "?",
                            Black: "?",
                            Result: "*"
                        },
                        e ? setHeader(["Variant", e]) : setVariant(!1, n),
                        n || updateSetup(generateFen()))
                    }
                    function reset() {
                        clear(0, !1, !0),
                        pe.hash = [1178310168, 378666140],
                        oe = [34, 10, 18, 66, 130, 18, 10, 34, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 6, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 33, 9, 17, 65, 129, 17, 9, 33, 0, 0, 0, 0, 0, 0, 0, 0],
                        he = 1,
                        se[1] = 116,
                        se[2] = 4,
                        ce[1] = 48,
                        ce[2] = 48
                    }
                    function load(e, t, n, a) {
                        var l, m, g, v, y, A, S, w, P, T, M, k, I = 0;
                        if (a ? (k = (l = e.split(" "))[3],
                        M = l[2]) : (k = (l = e.trim().split(/\s+/))[3] || "-",
                        M = l[2] || "-"),
                        void 0 === t ? (31 & M.charCodeAt(0)) < 9 && setVariant(f.Chess960, !0) : setVariant(t, !0),
                        m = l[0],
                        !a && !(m = function fixFenPieces(e, t) {
                            var n, a, l = e.length, h = 0, p = 0, m = t && (t === f.Crazyhouse || t === f.Bughouse);
                            for (n = 0; n < l; ++n)
                                if (+(a = e[n]) != +a)
                                    if ("/" === a) {
                                        if (8 !== p && (e = e.substr(0, n) + (8 - p) + e.substr(n),
                                        ++n,
                                        ++l),
                                        p = 0,
                                        ++h > 7) {
                                            if (!m && n < l - 1 || !/^[pnbrq]{0,63}$/i.test(e.substr(n + 1)))
                                                return !1;
                                            break
                                        }
                                    } else if (N[a]) {
                                        if (++p > 8)
                                            return !1
                                    } else {
                                        if ("~" !== a)
                                            return !1;
                                        m && n && /[nbrq]/i.test(e[n - 1]) || (e = e.substr(0, n) + e.substr(n + 1),
                                        --n,
                                        --l)
                                    }
                                else
                                    (p += 1 * a) > 8 && (e = e.substr(0, n) + (a - (p - 8)) + e.substr(n + 1),
                                    p = 8);
                            return e
                        }(m, ie)))
                            return !1;
                        if (v = m.length,
                        clear(h[ie], n, !0),
                        be) {
                            if (ie === f.Bughouse && !re.isDependent && (A = e.split(" | "),
                            !re.siblingGame.load(1 === A.length ? e : A[1], t, n, a)))
                                return reset(),
                                !1;
                            for (y = 0; y < v; ++y)
                                if (+(S = m[y]) != +S)
                                    if ("/" === S) {
                                        if (I > 111) {
                                            for (++y; y < v; ++y)
                                                S = m[y],
                                                re._hand[S < "a" ? 1 : 2] += 1 << z[S] >>> 0;
                                            break
                                        }
                                        I += 8
                                    } else
                                        oe[I] = N[S],
                                        "~" === m[y + 1] && (++y,
                                        oe[I] |= x),
                                        oe[I] & C && (se[3 & oe[I]] = I),
                                        ++I;
                                else
                                    I += 1 * S
                        } else
                            for (y = 0; y < v; ++y)
                                +(S = m[y]) != +S ? "/" === S ? I += 8 : (oe[I] = N[S],
                                oe[I] & C && (se[3 & oe[I]] = I),
                                ++I) : I += 1 * S;
                        if (ue = "b" === l[1] ? 2 : 1,
                        "-" !== M)
                            if (_e) {
                                for (P = {
                                    1: [0, 0],
                                    2: [0, 0]
                                },
                                y = M.length - 1; y >= 0; --y)
                                    75 === (g = M.charCodeAt(y)) ? g = disambiguate960Rook(119, -1) : 81 === g ? g = disambiguate960Rook(112, 1) : 107 === g ? g = disambiguate960Rook(7, -1) : 113 === g && (g = disambiguate960Rook(0, 1)),
                                    w = g < 97 ? 1 : 2,
                                    T = Q[String.fromCharCode(g)],
                                    (a || oe[T] === (_ | w)) && (g >= 97 ? se[w] >= 1 && se[w] <= 6 && (ce[w] |= 1 << T) : se[w] >= 113 && se[w] <= 118 && (ce[w] |= 1 << T - 112),
                                    ++P[w][1 * (se[w] < T)]);
                                (P[1][0] > 1 || P[1][1] > 1) && (ce[1] = 0),
                                (P[2][0] > 1 || P[2][1] > 1) && (ce[2] = 0)
                            } else {
                                if (!a)
                                    for (y = M.length - 1; y >= 0; --y)
                                        w = M.charCodeAt(y) < 97 ? 1 : 2,
                                        oe[Q[M[y]]] === (_ | w) && se[w] === (1 === w ? 116 : 4) || (M = M.substr(0, y) + M.substr(y + 1));
                                for (y = M.length - 1; y >= 0; --y)
                                    switch (M[y]) {
                                    case "K":
                                        ce[1] |= Z.KSIDE_CASTLE;
                                        break;
                                    case "Q":
                                        ce[1] |= Z.QSIDE_CASTLE;
                                        break;
                                    case "k":
                                        ce[2] |= Z.KSIDE_CASTLE;
                                        break;
                                    case "q":
                                        ce[2] |= Z.QSIDE_CASTLE
                                    }
                            }
                        return !a && (2 !== k.length || 1 === ue && "6" !== k[1] || 2 === ue && "3" !== k[1] || oe[k.charCodeAt(0) - 97 + 16 * (8 - ("3" === k[1] ? 4 : 5))] !== (4 | swapColor(ue)) || oe[p[k]]) && (k = "-"),
                        le = "-" === k ? b : p[k],
                        de = 1 * l[4] || 0,
                        fe = 1 * l[5] || 1,
                        ie === f["3-check"] && (l[6] && "+3+3" !== l[6] && (A = l[6].match(/^\+([0-3])\+([0-3])$/)),
                        A = A || [0, 0, 0],
                        ye[1] = 1 * A[1],
                        ye[2] = 1 * A[2]),
                        n || (he = fe,
                        updateSetup(generateFen())),
                        !0
                    }
                    function generateFen() {
                        return ie ? function generateVariantFen() {
                            var e, t, n, a = 0, l = "", h = "";
                            for (e = 0; e < 120; ++e)
                                136 & e && (a && (l += a),
                                l += "/",
                                a = 0,
                                e += 8),
                                (n = oe[e]) ? (a && (l += a,
                                a = 0),
                                l += L[n & S],
                                be && n & x && (l += "~")) : ++a;
                            if (a && (l += a),
                            be && (l += "/" + handToString(re._hand[1], !0) + handToString(re._hand[2])),
                            _e) {
                                for (t = ce[2],
                                e = 0; t; )
                                    1 & t && (h = String.fromCharCode(e + 97) + h),
                                    t >>= 1,
                                    ++e;
                                for (t = ce[1],
                                e = 0; t; )
                                    1 & t && (h = String.fromCharCode(e + 65) + h),
                                    t >>= 1,
                                    ++e
                            } else
                                ce[1] & Z.KSIDE_CASTLE && (h += "K"),
                                ce[1] & Z.QSIDE_CASTLE && (h += "Q"),
                                ce[2] & Z.KSIDE_CASTLE && (h += "k"),
                                ce[2] & Z.QSIDE_CASTLE && (h += "q");
                            return l += " " + (1 === ue ? "w" : "b") + " " + (h || "-") + " " + (le === b ? "-" : algebraic(le)) + " " + de + " " + fe,
                            ie === f["3-check"] ? l += " +" + ye[1] + "+" + ye[2] : ie !== f.Bughouse || re.isDependent || (l += " | " + re.siblingGame.fen()),
                            l
                        }() : function generateStandardFen() {
                            var e, t, n = 0, a = "", l = "";
                            for (e = 0; e < 120; ++e)
                                136 & e && (n && (a += n),
                                a += "/",
                                n = 0,
                                e += 8),
                                (t = oe[e]) ? (n && (a += n,
                                n = 0),
                                a += L[t & S]) : ++n;
                            return n && (a += n),
                            ce[1] & Z.KSIDE_CASTLE && (l += "K"),
                            ce[1] & Z.QSIDE_CASTLE && (l += "Q"),
                            ce[2] & Z.KSIDE_CASTLE && (l += "k"),
                            ce[2] & Z.QSIDE_CASTLE && (l += "q"),
                            a + " " + (1 === ue ? "w" : "b") + " " + (l || "-") + " " + (le === b ? "-" : algebraic(le)) + " " + de + " " + fe
                        }()
                    }
                    function setHeader(e) {
                        var t, n, a;
                        for (t = 0; t < e.length; t += 2)
                            n = e[t],
                            a = e[t + 1],
                            n && ("Variant" === n && (setVariant(a),
                            a = ie ? h[ie] : void 0),
                            "Result" === n && "*" !== a && "1-0" !== a && "0-1" !== a && "1/2-1/2" !== a && (a = "*"),
                            void 0 !== a ? ve[n] = String(a) : Y.indexOf(n) > -1 ? ve[n] = "Date" === n ? "????.??.??" : "?" : delete ve[n]);
                        return ve
                    }
                    function updateSetup(e) {
                        pe.length > 0 || ge || (e !== I ? (ve.SetUp = "1",
                        ve.FEN = e,
                        pe.hash = null) : (delete ve.SetUp,
                        delete ve.FEN,
                        pe.hash = [1178310168, 378666140]))
                    }
                    function get(e) {
                        var t = oe[p[e]];
                        return t ? {
                            type: L[t & A | 2],
                            color: 3 & t,
                            promoted: 0 != (t & x)
                        } : null
                    }
                    function calculateLegalMoveInfo(t, f) {
                        var h, p, m, g, v, y, _, C, S, x, P, T, M, k = ue, I = oe;
                        if (e = [],
                        n = 0,
                        a = 0,
                        l = 0,
                        I[8] = I[9] = I[10] = I[11] = I[12] = I[13] = I[14] = I[15] = I[24] = I[25] = I[26] = I[27] = I[28] = I[29] = I[30] = I[31] = I[40] = I[41] = I[42] = I[43] = I[44] = I[45] = I[46] = I[47] = I[56] = I[57] = I[58] = I[59] = I[60] = I[61] = I[62] = I[63] = I[72] = I[73] = I[74] = I[75] = I[76] = I[77] = I[78] = I[79] = I[88] = I[89] = I[90] = I[91] = I[92] = I[93] = I[94] = I[95] = I[104] = I[105] = I[106] = I[107] = I[108] = I[109] = I[110] = I[111] = I[120] = I[121] = I[122] = I[123] = I[124] = I[125] = I[126] = I[127] = 0,
                        f !== b) {
                            for (T = function chooseKingThreats(e, t) {
                                return _e && ce[e] ? U : ce[e] & Z.KSIDE_CASTLE && !oe[t + 1] && !oe[t + 2] ? ce[e] & Z.QSIDE_CASTLE && !oe[t - 1] && !oe[t - 2] && !oe[t - 3] ? (l = Z.KQSIDE_CASTLE,
                                j) : (l = Z.KSIDE_CASTLE,
                                F) : ce[e] & Z.QSIDE_CASTLE && !oe[t - 1] && !oe[t - 2] && !oe[t - 3] ? (l = Z.QSIDE_CASTLE,
                                H) : $
                            }(k, f),
                            h = 0; h < 120; ++h)
                                if (136 & h && (h += 8),
                                g = oe[h])
                                    if (g & k)
                                        (!t || (0 | g) & t) && e.push(h);
                                    else if (0 != ((M = T[h - f + 119]) & g))
                                        if (4 & g)
                                            for (S = O[g],
                                            p = 1; p < 3; ++p)
                                                136 & (_ = h + S[p]) || (I[_ + 8] |= 1,
                                                _ === f && (++n,
                                                I[h + 8] |= 2));
                                        else {
                                            C = (S = O[g & A]).length,
                                            P = g & w;
                                            e: for (p = 0; p < C; ++p)
                                                if (x = S[p],
                                                !(f > (_ = h) && x < 0 && f - _ > 16 || f < _ && x > 0 && _ - f > 16))
                                                    for (; 0 == (136 & (_ += x)); ) {
                                                        if (I[_ + 8] |= 1,
                                                        v = oe[_]) {
                                                            if (v & k)
                                                                if (_ === f) {
                                                                    for (m = _ - x; m !== h; m -= x)
                                                                        I[m + 8] |= 2;
                                                                    I[h + 8] |= 2,
                                                                    ++n,
                                                                    P && 0 == (136 & (_ += x)) && (I[_ + 8] |= 1)
                                                                } else if (P && 256 & M) {
                                                                    for (y = _; (y += x) !== f; )
                                                                        if (136 & y || oe[y])
                                                                            continue e;
                                                                    I[_ + 8] |= 4 + (Math.abs(x) << 3),
                                                                    ++a
                                                                }
                                                            break
                                                        }
                                                        if (!P)
                                                            break
                                                    }
                                        }
                            n > 1 && (e = [f])
                        } else
                            e = function getPieces(e, t) {
                                var n, a, l = [];
                                for (n = 0; n < 120; ++n)
                                    136 & n && (n += 8),
                                    (a = e[n]) && (a & t) === t && l.push(n);
                                return l
                            }(oe, k | t)
                    }
                    function validateEnPassant(e, t) {
                        var a, l, f, h = t + 16 * (1 === ue ? 1 : -1);
                        return (1 !== n || 0 != (2 & oe[t + 8]) || 0 != (2 & oe[h + 8])) && (a = oe[e],
                        oe[t] = a,
                        oe[e] = 0,
                        l = oe[h],
                        oe[h] = 0,
                        f = inCheck(),
                        oe[e] = a,
                        oe[t] = 0,
                        oe[h] = l,
                        !f)
                    }
                    function addCastlingMoves(e) {
                        var t, n, a;
                        if (_e) {
                            if (ce[e])
                                for (n = (t = se[e]) % 8,
                                a = 0; a < 8; ++a)
                                    ce[e] & 1 << a && canCastle960(oe, t, a, e) && (m[v++] = (a > n ? Z.KSIDE_CASTLE : Z.QSIDE_CASTLE) + (t << 7) + (t + (a - n) << P),
                                    ++a)
                        } else
                            l & Z.KSIDE_CASTLE && (n = (t = se[e]) + 2,
                            0 === oe[t + 9] && 0 === oe[t + 10] && (m[v++] = Z.KSIDE_CASTLE + (t << 7) + (n << P))),
                            l & Z.QSIDE_CASTLE && (n = (t = se[e]) - 2,
                            0 === oe[t + 7] && 0 === oe[t + 6] && (m[v++] = Z.QSIDE_CASTLE + (t << 7) + (n << P)))
                    }
                    function generateMoves(t, l) {
                        var f, h, p, b, _, C, S, x, M, k, I = ue, N = swapColor(I), R = se[I];
                        for (calculateLegalMoveInfo(t, R),
                        y = e.length,
                        v = g,
                        M = 0; M < y; ++M)
                            if (f = e[M],
                            b = oe[f],
                            !(n && a && 4 & oe[f + 8]))
                                if (4 & b)
                                    for (C = O[b],
                                    0 !== a && 0 != (4 & oe[f + 8]) && oe[f + 8] >> 3 != 16 || (_ = f + C[0],
                                    0 === oe[_] && (addPawnMove(oe, f, _, 0),
                                    X[I] === rank(f) && (_ += C[0],
                                    oe[_] || addPawnMove(oe, f, _, Z.BIG_PAWN)))),
                                    h = 1; h < 3; ++h)
                                        136 & (_ = f + (S = C[h])) || a && 4 & oe[f + 8] && oe[f + 8] >> 3 !== Math.abs(S) || (oe[_] & N ? addPawnMove(oe, f, _, Z.CAPTURE) : _ === le && validateEnPassant(f, _) && (m[v++] = Z.EP_CAPTURE | f << 7 | _ << P));
                                else {
                                    if (a && 4 & oe[f + 8]) {
                                        if (8 & b)
                                            continue;
                                        if (!(B[f - se[I] + 119] & b))
                                            continue;
                                        C = [S = oe[f + 8] >> 3, -S]
                                    } else
                                        C = O[b & A];
                                    if (k = f << 7,
                                    f === R) {
                                        for (h = 0; h < 8; ++h)
                                            0 == (136 & (_ = f + (S = C[h]))) && (oe[_] ? oe[_] & N && 0 == (1 & oe[_ + 8]) && (m[v++] = Z.CAPTURE | k | _ << P) : 0 == (1 & oe[_ + 8]) && (m[v++] = k | _ << P));
                                        0 === n && addCastlingMoves(I)
                                    } else
                                        for (p = C.length,
                                        x = b & w,
                                        h = 0; h < p; ++h)
                                            for (S = C[h],
                                            _ = f; !(136 & (_ += S)); ) {
                                                if (oe[_]) {
                                                    oe[_] & N && (0 === n || 2 & oe[_ + 8]) && (m[v++] = Z.CAPTURE | k | _ << P);
                                                    break
                                                }
                                                if ((0 === n || 2 & oe[_ + 8]) && (m[v++] = k | _ << P),
                                                !x)
                                                    break
                                            }
                                }
                        return ie && (be ? function drop(e, t, a) {
                            var l, f, h, p, g;
                            if (!e)
                                for (t && (t >>= 26),
                                p = 0; p < 5; ++p)
                                    if ((!t || (0 | t) == 1 << p) && re._hand[a] & q[p] << G[p]) {
                                        for (0 === p ? (l = 16,
                                        f = 103,
                                        h = Z.DROP) : (l = 0,
                                        f = 119,
                                        h = Z.DROP | p << T),
                                        g = l; g <= f; ++g)
                                            136 & g && (g += 8),
                                            oe[g] || (0 === n || 1 === n && 2 & oe[g + 8]) && (m[v++] = h | g << P);
                                        if (t)
                                            return
                                    }
                        }(l, t, I) : !_e && isVariantWin() && (v = g)),
                        v
                    }
                    function inCheckAfterMove(e, t, n, a) {
                        var l, h, p, m, g, v, y, A;
                        if (ie === f["King of the Hill"] && e & C && kingOfTheHillWin(n))
                            return !0;
                        if (a & Z.KQSIDE_CASTLE && (n = 1 === ue ? a & Z.KSIDE_CASTLE ? 117 : 115 : a & Z.KSIDE_CASTLE ? 5 : 3,
                        e = _,
                        A = !0),
                        (l = se[swapColor(ue)]) === b)
                            return !1;
                        if (0 == (e & C) && B[n - l + 119] & e)
                            for (g = e & w,
                            m = n + (p = V[n - l + 119]); 0 == (136 & m); ) {
                                if (m === l) {
                                    if (4 & e) {
                                        if (1 == (3 & e) ? l - n < 0 : l - n > 0)
                                            return !0;
                                        break
                                    }
                                    return !0
                                }
                                if (m !== t && oe[m] || !g)
                                    break;
                                m += p
                            }
                        if (!A) {
                            if ((h = B[t - l + 119]) & w && (p = V[t - l + 119]) !== V[n - l + 119])
                                for (m = l - p; 0 == (136 & m); ) {
                                    if (m !== t && (v = oe[m])) {
                                        if (v & ue && h & v && v & w)
                                            return !0;
                                        break
                                    }
                                    m -= p
                                }
                            if (a & Z.EP_CAPTURE && (h = B[(y = n + 16 * (1 === ue ? 1 : -1)) - l + 119]) & w)
                                for (m = l - (p = V[y - l + 119]); 0 == (136 & m); ) {
                                    if (m !== t && m !== y) {
                                        if (m === n)
                                            break;
                                        if (v = oe[m]) {
                                            if (v & ue && h & v && v & w)
                                                return !0;
                                            break
                                        }
                                    }
                                    m -= p
                                }
                        }
                        return !1
                    }
                    function attacked(e, t) {
                        var n, a, l, f, h = O[8], p = 8 | e;
                        for (n = 0; n < 8; ++n)
                            if (0 == (136 & (l = t + h[n])) && ((a = oe[l]) & p) === p)
                                return !0;
                        for (h = O[128],
                        n = 0; n < 8; ++n)
                            for (l = t + (f = h[n]); 0 == (136 & l); ) {
                                if (a = oe[l]) {
                                    if (a & e && B[t - l + 119] & a) {
                                        if (!(4 & a))
                                            return !0;
                                        if (1 === e ? t - l < 0 : t - l > 0)
                                            return !0
                                    }
                                    break
                                }
                                l += f
                            }
                        return !1
                    }
                    function kingAttacked(e) {
                        return se[e] !== b && attacked(swapColor(e), se[e])
                    }
                    function inCheck() {
                        return kingAttacked(ue)
                    }
                    function checkIsPotentiallyBlockable() {
                        var e, t, n, a = 1 << G[4];
                        return re._hand[ue] += a,
                        e = g,
                        g = v,
                        t = y,
                        n = generateMoves() !== g,
                        v = g,
                        g = e,
                        y = t,
                        re._hand[ue] -= a,
                        n
                    }
                    function inCheckmate() {
                        return inCheck() && (m[0] = 0) === generateMoves() && !m[0] && (ie !== f.Bughouse || !checkIsPotentiallyBlockable())
                    }
                    function inStalemate() {
                        var e = !inCheck() && (m[0] = 0) === generateMoves() && !m[0];
                        return e && ie === f.Bughouse && !re.isDependent && (e = re.siblingGame.inStalemate()),
                        e && se[ue] !== b
                    }
                    function insufficientMaterial(e) {
                        var t, n, a = 0, l = 0, f = 0;
                        for (n = 0; n < 120; ++n)
                            if (136 & n && (n += 8),
                            t = oe[n]) {
                                if (e && 0 == (t & e))
                                    continue;
                                if (100 & t)
                                    return !1;
                                if (8 & t) {
                                    if (l || a++)
                                        return !1
                                } else if (16 & t) {
                                    if (a)
                                        return !1;
                                    if (++l,
                                    (rank(n) + n) % 2 && ++f,
                                    f && l !== f)
                                        return !1
                                }
                            }
                        return se[1] !== b && se[2] !== b
                    }
                    function inThreefoldRepetition() {
                        if (de < 8)
                            return !1;
                        for (var e, t = getCurrentHash(), n = !1, a = de, l = !1, f = pe, h = f.length - 1; ; ) {
                            if ((h -= 2) < 0) {
                                if (f.id) {
                                    h = f.atMoveNode + h + 2,
                                    f = me[f.parentId];
                                    continue
                                }
                                if (-2 === h)
                                    return !1;
                                e = f.hash,
                                l = !0
                            } else
                                e = f[h].hash,
                                f[h].halfMoves > a || a < 2 ? l = !0 : a = f[h].halfMoves;
                            if (e[0] === t[0] && e[1] === t[1]) {
                                if (n)
                                    return !0;
                                n = !0
                            }
                            if (l)
                                return !1
                        }
                    }
                    function modifyHand(e) {
                        var n, a, l, h, p, m, g, v, y, b = e.move;
                        if (ie === f.Crazyhouse || b & Z.DROP ? (a = re._hand,
                        p = e.hash,
                        y = e.color) : (a = re.siblingGame._hand,
                        e.handSibling = !0,
                        ae && ((m = re.siblingGame._history()).length ? p = m[m.length - 1].hash : (m.hash || (m.hash = re.siblingGame._hashPosition()),
                        p = m.hash)),
                        y = swapColor(e.color)),
                        e.captured) {
                            switch ((e.captured & x ? 4 : e.captured & A) & A) {
                            case 4:
                                g = 0;
                                break;
                            case 8:
                                g = 1;
                                break;
                            case 16:
                                g = 2;
                                break;
                            case _:
                                g = 3;
                                break;
                            default:
                                g = 4
                            }
                            n = 1 << G[g],
                            ae && (h = a[y] >> G[g] & q[g],
                            v = t.zobristPiece[h + 63 * g + (1 === y ? 0 : 315)])
                        } else
                            n = -1 << G[l = b >> T],
                            ae && (h = a[y] >> G[l] & q[l],
                            v = t.zobristPiece[h - 1 + 63 * l + (1 === y ? 0 : 315)]);
                        a[y] += n,
                        e.handChange = n,
                        ae && hashNum(p, [31 * v[0] >>> 0, 17 * v[1] >>> 0])
                    }
                    function makeMoveChess(e, n, a, l) {
                        var f, h, p, m, g, v, y, A, w = ue, P = swapColor(w), T = {
                            move: e,
                            epSquare: le,
                            halfMoves: de,
                            castlingW: ce[1],
                            castlingB: ce[2],
                            color: w
                        }, M = 1 === w;
                        ae && (m = getCurrentHash(),
                        T.hash = m,
                        hashNum(m, t.zobristTurn),
                        le !== b && hashEP(oe, m, le + (M ? 16 : -16), 4 | w)),
                        0 == (e & Z.KQSIDE_CASTLE) ? be && e & Z.DROP ? (oe[a] = W[l] | w,
                        ae && hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[oe[a]] + 8 * (7 - rank(a)) + file(a)]),
                        modifyHand(T),
                        y = 0) : (y = oe[n],
                        (A = oe[a]) && (T.captured = A,
                        ae && hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[oe[a] & S] + 8 * (7 - rank(a)) + file(a)]),
                        A & _ && ce[P] && (_e ? rank(a) === (M ? 0 : 7) && (p = 1 << file(a),
                        ce[P] & p && (ce[P] ^= p,
                        ae && (p > 1 << file(se[w]) ? hashNum(m, t.zobristCastle[P - 1]) : hashNum(m, t.zobristCastle[P + 1])))) : a === (M ? 7 : 119) ? ce[P] & Z.KSIDE_CASTLE && (ce[P] ^= Z.KSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[P - 1])) : a === (M ? 0 : 112) && ce[P] & Z.QSIDE_CASTLE && (ce[P] ^= Z.QSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[P + 1])))),
                        oe[a] = e & Z.PROMOTION ? W[l] | w | x : oe[n],
                        oe[n] = 0,
                        ae && (hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[y & S] + 8 * (7 - rank(n)) + file(n)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[oe[a] & S] + 8 * (7 - rank(a)) + file(a)]))) : y = C,
                        e & Z.EP_CAPTURE ? (M ? (v = a + 16,
                        g = 6) : (v = a - 16,
                        g = 8),
                        T.captured = 4 | P,
                        oe[v] = 0,
                        ae && hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[4 | P] + 8 * (g - rank(a)) + file(a)])) : y & C ? (_e ? (e & Z.KQSIDE_CASTLE && (oe[a] = 0,
                        oe[n] = 0,
                        e & Z.KSIDE_CASTLE ? M ? (f = 118,
                        h = 117) : (f = 6,
                        h = 5) : M ? (f = 114,
                        h = 115) : (f = 2,
                        h = 3),
                        oe[f] = w | C,
                        oe[h] = w | _,
                        ae && (hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(n)) + file(n)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(a)) + file(a)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(f)) + file(f)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(h)) + file(h)]))),
                        ae && (0 != (ce[w] & ce[w] - 1) ? (hashNum(m, t.zobristCastle[w - 1]),
                        hashNum(m, t.zobristCastle[w + 1])) : ce[w] > 1 << file(se[w]) ? hashNum(m, t.zobristCastle[w - 1]) : hashNum(m, t.zobristCastle[w + 1])),
                        se[w] = f || a) : (e & Z.KQSIDE_CASTLE && (oe[a] = oe[n],
                        oe[n] = 0,
                        e & Z.KSIDE_CASTLE ? (f = a - 1,
                        h = a + 1) : (f = a + 1,
                        h = a - 2),
                        oe[f] = oe[h],
                        oe[h] = 0,
                        ae && (hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(n)) + file(n)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(h)) + file(h)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[C | w] + 8 * (7 - rank(a)) + file(a)]),
                        hashNum(m, t.zobristPiece[64 * t.zobristPieceValueNumbers[_ | w] + 8 * (7 - rank(f)) + file(f)]))),
                        ae && (ce[w] & Z.KSIDE_CASTLE && hashNum(m, t.zobristCastle[w - 1]),
                        ce[w] & Z.QSIDE_CASTLE && hashNum(m, t.zobristCastle[w + 1])),
                        se[w] = a),
                        ce[w] = 0) : y & _ && ce[w] && (_e ? rank(n) === (M ? 7 : 0) && (p = 1 << file(n),
                        ce[w] & p && (ce[w] ^= p,
                        ae && (p > 1 << file(se[w]) ? hashNum(m, t.zobristCastle[w - 1]) : hashNum(m, t.zobristCastle[w + 1])))) : n === (M ? 119 : 7) ? ce[w] & Z.KSIDE_CASTLE && (ce[w] ^= Z.KSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[w - 1])) : n === (M ? 112 : 0) && ce[w] & Z.QSIDE_CASTLE && (ce[w] ^= Z.QSIDE_CASTLE,
                        ae && hashNum(m, t.zobristCastle[w + 1]))),
                        e & Z.BIG_PAWN ? (le = M ? a + 16 : a - 16,
                        ae && hashEP(oe, m, a, 4 | P)) : le = b,
                        4 & y || e & Z.ANY_CAPTURE ? de = 0 : de++,
                        ue = P,
                        pe.push(T)
                    }
                    function makeMoveVariant(e, n, a, l) {
                        var h, p = ue;
                        makeMoveChess(e, n, a, l),
                        h = pe[pe.length - 1],
                        be ? (de = h.halfMoves + 1,
                        h.captured && modifyHand(h),
                        ie === f.Bughouse && (h.bughouseOrder = re.moveCount() - 1 + re.siblingGame.moveCount())) : ie === f["3-check"] && kingAttacked(ue) && (h.checked = !0,
                        ae && ye[p] && hashNum(h.hash, t.zobristCheck[ye[p] + (1 === p ? -1 : 2)]),
                        ++ye[p],
                        ae && hashNum(h.hash, t.zobristCheck[ye[p] + (1 === p ? -1 : 2)]))
                    }
                    function reverseMove(e) {
                        var t, n, a = ue, l = swapColor(a), h = e.move, p = h >> P & M, m = h >> 7 & M;
                        if (ue = l,
                        ce[2] = e.castlingB,
                        ce[1] = e.castlingW,
                        le = e.epSquare,
                        de = e.halfMoves,
                        ie) {
                            if (_e && h & Z.KQSIDE_CASTLE)
                                return h & Z.KSIDE_CASTLE ? 1 === l ? (n = 118,
                                t = 117) : (n = 6,
                                t = 5) : 1 === l ? (n = 114,
                                t = 115) : (n = 2,
                                t = 3),
                                oe[n] = 0,
                                oe[t] = 0,
                                oe[m] = l | C,
                                oe[p] = l | _,
                                void (se[l] = m);
                            if (e.handChange && (ie !== f.Crazyhouse && e.handSibling ? re.siblingGame._hand[swapColor(l)] -= e.handChange : re._hand[l] -= e.handChange),
                            h & Z.DROP)
                                return void (oe[p] = 0);
                            e.checked && --ye[l]
                        }
                        h & Z.PROMOTION ? (oe[m] = 4 | l,
                        oe[p] = h & Z.CAPTURE ? e.captured : 0) : (oe[m] = oe[p],
                        h & Z.KQSIDE_CASTLE ? (oe[p] = 0,
                        h & Z.KSIDE_CASTLE ? (t = p + 1,
                        n = p - 1) : (t = p - 2,
                        n = p + 1),
                        oe[t] = l | _,
                        oe[n] = 0,
                        se[l] = m) : (p === se[l] && (se[l] = m),
                        h & Z.CAPTURE ? oe[p] = e.captured : (oe[p] = 0,
                        h & Z.EP_CAPTURE && (oe[p - (1 === l ? -16 : 16)] = 4 | a))))
                    }
                    function beautifyMove(e, t, n) {
                        var a, l, f = e >> P & M, h = {
                            color: ue,
                            to: algebraic(f),
                            flags: e & M
                        };
                        return be && 0 != (e & Z.DROP) ? (l = e >> T,
                        h.drop = l,
                        h.piece = W[l] + ue) : (a = e >> 7 & M,
                        h.from = algebraic(a),
                        h.piece = oe[a],
                        e & Z.PROMOTION && (l = e >> T,
                        h.promotion = W[l] + ue),
                        e & Z.CAPTURE ? h.captured = oe[f] : e & Z.EP_CAPTURE && (h.captured = 4 | swapColor(ue))),
                        h.san = t || moveToSan(e, n),
                        h
                    }
                    function isVariantWin() {
                        return ie === f["3-check"] ? 3 === ye[swapColor(ue)] : ie === f["King of the Hill"] ? kingOfTheHillWin(se[swapColor(ue)]) : void 0
                    }
                    function isBughouseWin() {
                        if (ie === f.Bughouse)
                            return re.siblingGame.inCheckmate()
                    }
                    function createVariation() {
                        var e = []
                          , t = generateFen()
                          , n = pe.length - 1
                          , a = pe[n];
                        return !!a && (e.parentId = ge,
                        e.id = me.length,
                        pe.curFen = t,
                        a.lines || (a.lines = []),
                        a.lines.push(e.id),
                        a.move ? reverseMove(a) : (le = a.epSquare,
                        --de,
                        ue = swapColor(ue)),
                        2 === ue && --fe,
                        e.atMoveNode = n,
                        e.hash = n ? pe[n - 1].hash : pe.hash,
                        ge = e.id,
                        me.push(e),
                        pe = e,
                        !0)
                    }
                    function selectLine(e) {
                        var t = generateFen();
                        pe.curFen = t,
                        pe = me[e],
                        ge = e,
                        load(pe.curFen, ie, !0, !0)
                    }
                    return re = {
                        WHITE: 1,
                        BLACK: 2,
                        PAWN: 4,
                        KNIGHT: 8,
                        BISHOP: 16,
                        ROOK: _,
                        QUEEN: 64,
                        KING: C,
                        FLAGS: Z,
                        load: load,
                        reset: reset,
                        moves: function(e) {
                            var t, n, a, l = [], f = moveToSan;
                            for (e && (e.verbose && (f = beautifyMove),
                            e.type && (n = e.type | e.type << 24),
                            a = e.noDrop),
                            generateMoves(n, a),
                            t = 0; t < v; ++t)
                                l.push(f(m[t]));
                            return l
                        },
                        inCheck: inCheck,
                        inCheckmate: inCheckmate,
                        inStalemate: inStalemate,
                        isBughouseWin: isBughouseWin,
                        in50MoveRule: function() {
                            return de >= 100
                        },
                        inDraw: function() {
                            return de >= 100 || inStalemate() || insufficientMaterial() || inThreefoldRepetition() || Boolean(function isBughouseDraw() {
                                if (ie === f.Bughouse)
                                    return re.siblingGame.in50MoveRule() || re.siblingGame.inThreefoldRepetition()
                            }())
                        },
                        insufficientMaterial: insufficientMaterial,
                        inThreefoldRepetition: inThreefoldRepetition,
                        isVariantWin: isVariantWin,
                        gameOver: function() {
                            return re.inDraw() || inCheckmate() || Boolean(isVariantWin()) || Boolean(isBughouseWin())
                        },
                        isPositionValid: function(e) {
                            var t, n, a, l = 0;
                            if (!1 !== (e = e || {}).pawns)
                                for (t = 0; t <= 119; ) {
                                    if (4 & (a = oe[t]))
                                        return !1;
                                    8 == ++t && (t = 112)
                                }
                            if (!1 !== e.kings) {
                                for (t = 0; t <= 119; ++t)
                                    if (136 & t && (t += 8),
                                    (a = oe[t]) & C) {
                                        if (++l > 2)
                                            return !1;
                                        if (n && n & a)
                                            return !1;
                                        n = 3 & a
                                    }
                                if (2 !== l)
                                    return !1
                            }
                            return !1 === e.check || !1 === e.kings && se[swapColor(ue)] === b || !kingAttacked(swapColor(ue))
                        },
                        validateFen: validateFen,
                        fen: generateFen,
                        pgn: function(e) {
                            return (e = e || {}).useResultHeader || ge || (isVariantWin() || inCheckmate() ? ve.Result = 2 === ue ? "1-0" : "0-1" : re.inStalemate() ? ve.Result = "1/2-1/2" : isBughouseWin() && (ve.Result = 1 === re.siblingGame.turn() ? "1-0" : "0-1")),
                            ee(e, ve, me, he, ie, re)
                        },
                        loadPgn: function(e, t, n) {
                            var a, l, f, h, p, m, g, v, y, b = {}, _ = 0;
                            if ("number" != typeof t && (n = n || t,
                            t = 0),
                            n = n || {},
                            "string" == typeof e && (n.singleGame && (e = e.replace(/(?:\r?\n\s*){2,}/g, "\n")),
                            e = re.tokenizePgn(e, n)),
                            t < 0 && (t = e.length + t),
                            !(h = e[t]))
                                return !1;
                            for (reset(),
                            l = h.length,
                            a = 0; a < l && "tagName" === (f = h[a]).type; ++a) {
                                if (!h[a + 1] || "tagValue" !== h[a + 1].type)
                                    return !1;
                                ++a,
                                "FEN" === f.value ? g = completeFen(h[a].value) : b[f.value] = h[a].value
                            }
                            if (n.variant && (b.Variant = n.variant),
                            b.Variant && !g && (g = I),
                            g || "1" === b.SetUp)
                                if ("0" === b.SetUp)
                                    b.FEN = g;
                                else if (!g || !load(g, b.Variant))
                                    return !1;
                            for (re.header(b),
                            m = (p = re)._history(); a < l; ++a)
                                if ("san" === (f = h[a]).type && 0 === _) {
                                    if (!p.move(f.value) && ("Z0" !== f.value && "<>" !== f.value || n.rejectNullMoves || !p.move("--")))
                                        if (n.commentErrors)
                                            m.length ? m[m.length - 1].comment = ((m[m.length - 1].comment || "") + " " + f.value).trim() : m.initComment = ((m.initComment || "") + " " + f.value).trim();
                                        else {
                                            if (!n.skipBadLines || !(0 !== ge || pe.length && n.allowBadMainLine))
                                                return reset(),
                                                !1;
                                            _ = 1
                                        }
                                } else if ("result" === f.type && "*" === ve.Result)
                                    setHeader(["Result", f.value]);
                                else if ("a" === f.type && 0 === _ && m[m.length - 1])
                                    m[m.length - 1].annotation = f.value;
                                else if ("nag" !== f.type && "aa" !== f.type || 0 !== _ || !m[m.length - 1])
                                    if ("comment" === f.type && 0 === _)
                                        m.length ? (f.value && (m[m.length - 1].comment = f.value),
                                        f.commands && (m[m.length - 1].commands = f.commands,
                                        f.commands.clk && (m[m.length - 1].time = (v = f.commands.clk,
                                        y = void 0,
                                        10 * (3600 * (y = v.split(":"))[0] + 60 * y[1] + 1 * y[2]))))) : (m.initComment = String(f.value),
                                        f.commands && (m.commands = f.commands));
                                    else if ("variationStart" === f.type) {
                                        if (_ > 0)
                                            ++_;
                                        else if (!createVariation())
                                            return reset(),
                                            !1;
                                        m = p._history()
                                    } else if ("variationEnd" === f.type)
                                        _ > 0 && --_,
                                        0 === _ && (selectLine(m.parentId),
                                        m = p._history());
                                    else if ("number" === f.type) {
                                        if (!(p = /b/i.test(f.value.slice(-1)) ? re.siblingGame : re))
                                            return !1;
                                        m = p._history()
                                    } else
                                        "cont" === f.type && ge && !m.length && p.move(p._lines()[m.parentId][m.atMoveNode].san);
                                else
                                    m[m.length - 1].additionalAnnotation || (m[m.length - 1].additionalAnnotation = []),
                                    -1 === m[m.length - 1].additionalAnnotation.indexOf(f.value) && m[m.length - 1].additionalAnnotation.push(f.value);
                            return !0
                        },
                        header: function(e) {
                            return Array.isArray(e) ? setHeader(e) : "object" == typeof e ? (Object.keys(e).forEach((function(t) {
                                setHeader([t, e[t]])
                            }
                            )),
                            ve) : ve
                        },
                        turn: function(e) {
                            return 1 !== e && 2 !== e || (ue = e),
                            ue
                        },
                        move: function playMove(e) {
                            var n, a, l, f, h, g, y, _, S, w, I, O, N;
                            if ("string" == typeof e) {
                                switch (e[f = e.length - 1]) {
                                case "+":
                                case "#":
                                    e = e.substr(0, f)
                                }
                                for (S = k.indexOf(e[0]) > 6 ? R[e[0]] : "O" === e[0] ? C : 4,
                                be && (-1 === e.indexOf("@") ? w = !0 : (w = !1,
                                S <<= 24)),
                                generateMoves(S, w),
                                f = 0; f < v; ++f)
                                    if (e === (g = moveToSan(m[f], !0))) {
                                        a = m[f];
                                        break
                                    }
                                if (!a) {
                                    if ("--" === e)
                                        return function makeNullMove() {
                                            var e, n = {
                                                color: ue,
                                                san: "--",
                                                epSquare: le
                                            }, a = {
                                                color: ue,
                                                san: "--"
                                            };
                                            return ae && (e = getCurrentHash(),
                                            n.hash = e,
                                            hashNum(e, t.zobristTurn),
                                            le !== b && hashEP(oe, e, le + (1 === ue ? 16 : -16), 4 | ue)),
                                            le = b,
                                            de++,
                                            1 === (ue = swapColor(ue)) && ++fe,
                                            pe.push(n),
                                            a
                                        }();
                                    if (e = re.fixMove(e))
                                        try {
                                            return playMove(e)
                                        } catch (L) {}
                                    return null
                                }
                                y = a >> 7 & M,
                                _ = a >> P & M,
                                l = a >> T
                            } else {
                                if (e.drop) {
                                    switch (e.drop) {
                                    case "p":
                                        l = 0;
                                        break;
                                    case "n":
                                        l = 1;
                                        break;
                                    case "b":
                                        l = 2;
                                        break;
                                    case "r":
                                        l = 3;
                                        break;
                                    case "q":
                                        l = 4;
                                        break;
                                    default:
                                        return null
                                    }
                                    S = 1 << 26 + l
                                } else {
                                    if (e.promotion)
                                        switch (e.promotion) {
                                        case "q":
                                            l = 4;
                                            break;
                                        case "n":
                                            l = 1;
                                            break;
                                        case "r":
                                            l = 3;
                                            break;
                                        case "b":
                                            l = 2;
                                            break;
                                        default:
                                            return null
                                        }
                                    y = p[e.from],
                                    w = !0,
                                    S = oe[y] & A
                                }
                                for (_ = p[e.to],
                                n = ((l ? l << T : 0) | _ << P) >> 7 | y,
                                generateMoves(S, w),
                                f = 0; f < v; ++f)
                                    if (m[f] >> 7 === n) {
                                        a = m[f];
                                        break
                                    }
                                if (!a)
                                    return (e = re.fixMove(e)) ? playMove(e) : null
                            }
                            return N = a & Z.DROP_OR_PROMOTE ? W[l] + ue : oe[y],
                            h = beautifyMove(a, g, !0),
                            I = inCheckAfterMove(N, y, _, a),
                            Ce(a, y, _, l),
                            I && (ie && isVariantWin() || 0 === generateMoves() ? h.san += "#" : h.san += "+"),
                            (O = pe[pe.length - 1]).san = h.san,
                            h.piece & x && (O.promoted = !0),
                            1 === ue && ++fe,
                            h
                        },
                        undo: function(e) {
                            var t = pe.pop();
                            return t ? (1 === ue && --fe,
                            t.move ? (reverseMove(t),
                            !!e || beautifyMove(t.move, t.san)) : (le = t.epSquare,
                            --de,
                            ue = swapColor(ue),
                            !!e || {
                                san: "--",
                                color: t.color
                            })) : null
                        },
                        clear: function(e) {
                            clear(e)
                        },
                        put: function(e, t, n) {
                            var a, l = p[t], f = !1, h = oe[l], m = 3 & h, g = e.color;
                            if (isNaN(l) || !e.type || !g || -1 === k.indexOf(e.type))
                                return !1;
                            if (oe[l] = R[e.type] | g | (e.promoted ? x : 0),
                            oe[l] & C && (se[g] = l),
                            h && oe[se[m]] && oe[se[m]] !== (C | m)) {
                                for (a = 0; a < 120; ++a)
                                    136 & a && (a += 8),
                                    oe[a] === (C | m) && (se[m] = a,
                                    f = !0);
                                f || (se[m] = b)
                            }
                            return n || load(generateFen(), ie, !1, !1),
                            !0
                        },
                        get: get,
                        remove: function(e, t) {
                            var n, a = oe[p[e]], l = get(e), f = 3 & a;
                            if (oe[p[e]] = 0,
                            a & C)
                                for (se[f] = b,
                                ce[f] = 0,
                                n = 0; n < 120; ++n)
                                    if (136 & n && (n += 8),
                                    oe[n] === (C | f)) {
                                        se[a.color] = n;
                                        break
                                    }
                            return t || load(generateFen(), ie, !0, !1),
                            l
                        },
                        history: function(e, t) {
                            for (var n, a = [], l = pe, f = l.length; ; ) {
                                if (-1 == --f) {
                                    if (l.id && !t) {
                                        f = l.atMoveNode,
                                        l = me[l.parentId];
                                        continue
                                    }
                                    break
                                }
                                e ? ((n = beautifyMove(l[f].move, l[f].san)).color = l[f].color,
                                !f && l.initComment && (n.firstComment = l.initComment),
                                void 0 !== l[f].comment && (n.comment = l[f].comment),
                                void 0 !== l[f].time && (n.time = l[f].time),
                                void 0 !== l[f].annotation && (n.annotation = l[f].annotation),
                                void 0 !== l[f].additionalAnnotation && (n.additionalAnnotation = l[f].additionalAnnotation),
                                void 0 !== l[f].commands && (n.commands = l[f].commands),
                                void 0 !== l[f].captured && (n.captured = l[f].captured),
                                void 0 !== l[f].promoted && (n.promoted = l[f].promoted),
                                void 0 !== l[f].lines && (n.lines = l[f].lines),
                                void 0 !== l[f].bughouseOrder && (n.bughouseOrder = l[f].bughouseOrder),
                                k.indexOf(l[f].san[0]) > 6 ? n.piece = R[l[f].san[0]] : "O" === l[f].san[0] ? n.piece = C : n.piece = 4,
                                n.piece |= n.color,
                                a.unshift(n)) : a.unshift(l[f].san)
                            }
                            return a
                        },
                        hashes: function() {
                            for (var e = [], t = pe, n = t.length; ; ) {
                                if (-1 == --n) {
                                    if (t.id) {
                                        n = t.atMoveNode,
                                        t = me[t.parentId];
                                        continue
                                    }
                                    t.hash || getCurrentHash(),
                                    e.unshift(t.hash);
                                    break
                                }
                                e.unshift(t[n].hash)
                            }
                            return e
                        },
                        moveCount: function() {
                            return pe.length
                        },
                        startingMoveNumber: function() {
                            return he
                        },
                        completeFen: completeFen,
                        createVariation: createVariation,
                        selectLine: selectLine,
                        hash: function() {
                            var e = getCurrentHash();
                            return ie !== f.Bughouse || re.isDependent ? e : [e, re.siblingGame.hash()]
                        },
                        hashing: function(e) {
                            ae = e,
                            ie !== f.Bughouse || re.isDependent || re.siblingGame.hashing(ae)
                        },
                        hand: function() {
                            if (be)
                                return handToString(re._hand[1], !0) + handToString(re._hand[2])
                        },
                        checks: function() {
                            if (ie === f["3-check"])
                                return [ye[1], ye[2]]
                        },
                        threats: function() {
                            var e, t, l, f, h, p, y, _ = ue, C = swapColor(_), S = [], x = [], w = [], k = [], I = [], O = le;
                            if (calculateLegalMoveInfo(0, se[_]),
                            n || a)
                                for (e = 0; e < 120; ++e)
                                    136 & e && (e += 8),
                                    2 & oe[e + 8] && oe[e] ? w.push(algebraic(e)) : 4 & oe[e + 8] && S.push(algebraic(e));
                            for (ue = C,
                            le = b,
                            generateMoves(),
                            e = v; e--; ) {
                                if (h = (t = m[e]) >> P & M,
                                p = t >> 7 & M,
                                t & Z.DROP_OR_PROMOTE) {
                                    if (f = W[y = t >> T] | C,
                                    t & Z.PROMOTION && y % 3 != 1)
                                        continue
                                } else
                                    f = oe[p],
                                    y = 0;
                                if (inCheckAfterMove(f, p, h, t) && (Ce(t, p, h, y),
                                g = e,
                                (ie && isVariantWin() || generateMoves() === e) && x.push((t & Z.DROP ? L[f].toLowerCase() + "@" : algebraic(p)) + algebraic(h)),
                                reverseMove(pe.pop()),
                                t & Z.CAPTURE)) {
                                    for (l = 0,
                                    e = v; e > g; )
                                        if ((m[--e] >> P & M) === h) {
                                            l = 1,
                                            e = g;
                                            break
                                        }
                                    if (!l) {
                                        k.push(algebraic(p) + algebraic(h));
                                        continue
                                    }
                                }
                                t & Z.CAPTURE && 1 !== y && (l = 124 & oe[h]) && (attacked(_, h) ? l > (f = oe[p] & A) && l - f != 8 && I.push(algebraic(p) + algebraic(h)) : k.push(algebraic(p) + algebraic(h)))
                            }
                            return g = 0,
                            ue = _,
                            le = O,
                            {
                                pins: S,
                                checkers: w,
                                mates: x,
                                undefended: k,
                                underdefended: I
                            }
                        },
                        tokenizePgn: te,
                        fixMove: function(e) {
                            var t, n, a;
                            if ("string" == typeof e) {
                                if (/0|[?!+#]$|[18][QNRB]$|^P/i.test(e))
                                    return e.replace(/[?!+#]+$/, "").replace(/0/g, "O").replace(/([18])([QNRB])$/i, "$1=$2").replace(/^P+/i, "");
                                if (n = e.indexOf("=") > 0 ? -4 : -2,
                                "number" == typeof (t = p[e.substr(n, 2)])) {
                                    if (oe[t] & swapColor(ue) || /^[a-h]x?[a-h][36]$/.test(e)) {
                                        if (-1 === e.indexOf("x"))
                                            return e.slice(0, n) + "x" + e.substr(n)
                                    } else if (e.indexOf("x") > -1)
                                        return e.replace(/x/g, "");
                                    if (a = e.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])x?([a-h][1-8])=?(.?)$/)) {
                                        if (oe[p[a[2]]])
                                            return {
                                                from: a[2],
                                                to: a[3],
                                                promotion: a[4].toLowerCase()
                                            };
                                        if (/^\d$/.test(a[2])) {
                                            for (e = 0,
                                            generateMoves(R[a[1]], !0),
                                            n = 0; n < v; ++n)
                                                if (m[n] >> P === t && rank(m[n] >> 7 & M) === 8 - a[2]) {
                                                    if (e)
                                                        return;
                                                    e = m[n]
                                                }
                                            if (e)
                                                return moveToSan(e, !0)
                                        }
                                        return a[1] + a[3] + a[4]
                                    }
                                }
                            } else if (oe[p[e.from]] === (C | ue) && e.to && e.from[1] === e.to[1]) {
                                if (e.from < e.to)
                                    return "O-O";
                                if (e.from > e.to)
                                    return "O-O-O"
                            }
                        },
                        _hand: [],
                        _history: function(e) {
                            return e && (ge = (pe = e).id),
                            pe
                        },
                        _lines: function() {
                            return me
                        },
                        _hashPosition: hashPosition,
                        _board: function() {
                            return oe
                        }
                    },
                    J && load(J, ne) || reset(),
                    re
                }
                return Chess.variants = h,
                Chess
            }()
              , ENGINE_MANAGER = function(e) {
                var n = ["bench", "d", "eval", "flip", "isready", "ponderhit", "stop", "uci", "ucinewgame"]
                  , a = [{
                    cmd: "position",
                    args: ["fen", "startpos", "moves", "continuation"]
                }, {
                    cmd: "go",
                    args: ["binc", "btime", "confidence", "depth", "infinite", "mate", "mindepth", "mintime", "maxdepth", "maxtime", "movestogo", "movetime", "ponder", "searchmoves", "shallow", "winc", "wtime"]
                }]
                  , l = ["moves", "searchmoves"]
                  , f = ["ponder", "infinite", "startpos"]
                  , h = {
                    depth: 1,
                    seldepth: 1,
                    time: 1,
                    nodes: 1,
                    multipv: 1,
                    cp: 1,
                    mate: 1,
                    currmovenumber: 1,
                    hashfull: 1,
                    nps: 1,
                    tbhits: 1,
                    sbhits: 1,
                    cpuload: 1,
                    bmc: 1,
                    score: 2,
                    lowerbound: 2,
                    upperbound: 2,
                    bestmove: 3,
                    ponder: 3,
                    baseTurn: 3,
                    bestmoveSan: 3,
                    ponderSan: 3,
                    pv: 4,
                    pvSan: 4,
                    string: 4,
                    refutation: 4,
                    currline: 4
                }
                  , p = /(?:Total|Final) Evaluation[\s\S]+\n$/i;
                function createWebWorker(e, t, n) {
                    var a = new Worker(e || "stockfish.js")
                      , l = {
                        terminate: function terminate() {
                            a.terminate()
                        },
                        postMessage: function postMessage(e) {
                            a.postMessage(e)
                        }
                    };
                    function requeue(e) {
                        var t = e.concat();
                        e.length = 0,
                        t.forEach((function(e) {
                            e.cmd ? "go" !== e.cmd.substr(0, 2) && n.send(e.cmd, e.cb, e.stream) : (clearTimeout(e.timer),
                            n.getBestMove(e.args, e.cb, e.stream))
                        }
                        ))
                    }
                    return a.onmessage = function(e) {
                        "string" == typeof e.data && l.onmessage(e.data)
                    }
                    ,
                    a.onerror = function(f) {
                        if (n.fallbackPath && n.fallbackPath !== e) {
                            try {
                                f.preventDefault()
                            } catch (f) {}
                            try {
                                a.terminate()
                            } catch (f) {}
                            return (a = createWebWorker(n.fallbackPath, t, n)).onmessage = function(e) {
                                l.onmessage(e)
                            }
                            ,
                            requeue(n._activeCommands()),
                            requeue(n._bestMoveQueue()),
                            !1
                        }
                        if (t.onError)
                            return t.onError(f)
                    }
                    ,
                    l
                }
                function createWorker(t, n) {
                    var a;
                    return function getSupportedEngines(t, n) {
                        n.fallbackPath = t.pathToNonWasmEngine,
                        n.path = t.enginePath || t.pathToEngineWorker,
                        n.wasmPath = t.pathToWasmEngine,
                        t.engines && (t.engines.multiThreaded && e.supportsMultithreading() ? (n.path = t.engines.multiThreaded.loader,
                        n.wasmPath = t.engines.multiThreaded.engine) : t.engines.singleThreaded && (n.path = t.engines.singleThreaded.loader,
                        n.wasmPath = t.engines.singleThreaded.engine),
                        n.fallbackPath = t.engines.asm || n.fallbackPath)
                    }(t, n),
                    a = n.path,
                    (n.fallbackPath && "undefined" == typeof WebAssembly || !a) && (a = n.fallbackPath),
                    n.wasmPath && (a += "#" + n.wasmPath),
                    createWebWorker(a, t, n)
                }
                function parseSearchLine(e) {
                    for (var t, n, a = e.split(" "), l = a.length, f = "info" === a[0] ? 1 : 0, p = {
                        mtype: a[0]
                    }; f < l; ++f)
                        if (n = a[f])
                            if (1 === (t = h[n])) {
                                for (; !a[++f] && f < l; )
                                    ;
                                p[n] = Number(a[f])
                            } else if (2 === t)
                                p[n] = !0;
                            else if (3 === t) {
                                for (; !a[++f] && f < l; )
                                    ;
                                p[n] = a[f]
                            } else
                                for (p[n] = [],
                                ++f; f < l; ++f) {
                                    if (h[a[f]]) {
                                        --f;
                                        break
                                    }
                                    a[f] && p[n].push(a[f])
                                }
                    return "(none)" !== p.bestmove && "0000" !== p.bestmove || (p.bestmove = void 0,
                    p.bestmoveSan = void 0),
                    "(none)" !== p.ponder && "0000" !== p.ponder || (p.ponder = void 0,
                    p.ponderSan = void 0),
                    p
                }
                function getFirstWord(e) {
                    var t = e.indexOf(" ");
                    return -1 === t ? e : e.substr(0, t)
                }
                return function loadEngine(h, m) {
                    var g, v, y, b = {}, _ = [], C = [], A = null;
                    function bestMoveSearch() {
                        var t, n, a, l, f, h = 1, p = [], m = [], g = null, y = C[0].args, _ = C[0].cb, A = C[0].stream, S = 1, x = [], w = loadEngine._previousCP;
                        function convertpv(e) {
                            var t = []
                              , n = m[e] || createSanPv(p[e]);
                            return p[e].forEach((function oneach(e, a) {
                                t.push({
                                    moveSan: n[a],
                                    moveLan: e
                                })
                            }
                            )),
                            t
                        }
                        function getpv(e, t, n, a) {
                            var l;
                            for (l = p.length - 1; l >= 0; l -= 1)
                                if (p[l][0] === e)
                                    return convertpv(l);
                            return n ? [{
                                moveSan: t,
                                moveLan: e
                            }, {
                                moveSan: a,
                                moveLan: n
                            }] : t ? [{
                                moveSan: t,
                                moveLan: e
                            }] : []
                        }
                        function convertScore(e) {
                            0 === e.mate ? (e.mateIn = 0,
                            e.cp = -31800 * S) : (e.mateIn = Number(e.mate * S) || null,
                            "number" != typeof e.mateIn || isNaN(e.mateIn) || "number" == typeof e.cp ? (e.cp *= S,
                            9 === Math.abs(e.cp) && (e.cp = 0),
                            y.normalize && e.depth <= 14 && "number" == typeof w && 1 === e.multipv && function normalize(e) {
                                var t = .03 * Math.pow(32, e.depth / 14);
                                e.cp = w + (e.cp - w) * t
                            }(e)) : e.cp = 31800 * S * (e.mate / Math.abs(e.mate))),
                            e.score = e.cp / 100
                        }
                        function addBestMoveProps(f) {
                            var p;
                            f.baseTurn = a,
                            f.cp = t,
                            f.score = t / 100,
                            f.mate = n,
                            f.mateIn = g,
                            f.depth = h,
                            f.moveLan = f.bestmove,
                            f.moveLan && (f.move = e.uciToObj(f.moveLan)[0],
                            (p = l.move(f.move)) && (f.moveSan = f.bestmoveSan = p.san,
                            f.ponder && (p = l.move(e.uciToObj(f.ponder)[0])) && (f.ponderSan = p.san,
                            l.undo(!0)),
                            l.undo(!0)))
                        }
                        function createSanPv(t) {
                            var n, a, f = t.length, h = [];
                            for (n = 0; n < f && (a = l.move(e.uciToObj(t[n])[0])); ++n)
                                h.push(a.san);
                            for (; n > 0; --n)
                                l.undo(!0);
                            return h
                        }
                        function createTimeout() {
                            y.timeout && (clearTimeout(v),
                            C[0].timer = v = setTimeout((function() {
                                b.stop(),
                                _ && (_(),
                                _ = void 0)
                            }
                            ), y.timeout))
                        }
                        C[0].started = !0,
                        loadEngine._previousCP = null,
                        y.difficulty >= 0 && y.difficulty < 20 ? (b.setoption("Skill Level", y.difficulty),
                        y.maximumError >= 0 && y.maximumError <= 4999 && b.setoption("Skill Level Maximum Error", y.maximumError),
                        y.errorProbability >= 1 && y.errorProbability <= 128 && b.setoption("Skill Level Probability", y.errorProbability)) : b.setoption("Skill Level", 20),
                        void 0 !== y.contempt ? b.setoption("Contempt", y.contempt) : b.setoption("Contempt", "0"),
                        y.multiPv > 1 ? b.setoption("MultiPV", y.multiPv) : b.setoption("MultiPV", 1),
                        y.movetime || y.wtime && y.btime || y.depth || (y.btime = y.btime || 72e3,
                        y.wtime = y.wtime || 72e3),
                        !y.startpos && y.fen || y.moves || y.variant ? (l = e.createGame({
                            fen: y.fen ? (f = y.fen,
                            (f + "").replace(/\[([qrbnp]*)\]/i, "/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/, (function(e, t, n, a) {
                                return a + " +" + (3 - t) + "+" + (3 - n)
                            }
                            ))) : "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
                            moves: y.moves,
                            variant: y.variant,
                            disableHashing: !0
                        })).turn() === l.WHITE ? a = "w" : (a = "b",
                        S = -1) : (a = "w",
                        l = e.createGame({
                            disableHashing: !0
                        })),
                        b.setVariant(y.variant),
                        b.position(y),
                        b.go(y, (function returnBestMove(e) {
                            var n = parseSearchLine(e);
                            if (addBestMoveProps(n),
                            h > 14 && t < 5e3 && t > -5e3 && (loadEngine._previousCP = t),
                            n.pv = getpv(n.moveLan, n.moveSan),
                            1 === n.pv.length && n.ponder && (n.pv = getpv(n.moveLan, n.moveSan, n.ponder, n.ponderSan)),
                            x.length > 1)
                                x.splice(x.indexOf(n.moveLan), 1),
                                y.searchmoves = x,
                                y.getNextBest = 0,
                                queueBestMoveSearch(y, (function done() {
                                    _(n)
                                }
                                ), (function streamer(e) {
                                    A && (e.multipv = 2,
                                    A(e))
                                }
                                ));
                            else if (_)
                                try {
                                    _(n)
                                } catch (a) {
                                    console.error(a)
                                }
                            C.shift(),
                            clearTimeout(v),
                            C.length > 0 && bestMoveSearch()
                        }
                        ), (function streamInfo(e) {
                            var l = parseSearchLine(e);
                            l.score && (l.baseTurn = a,
                            convertScore(l),
                            !l.multipv && l.depth && (l.multipv = 1),
                            1 !== l.multipv && 0 !== l.depth || (t = l.cp,
                            n = l.mate,
                            g = l.mateIn)),
                            l.pv && A && (l.pvSan = createSanPv(l.pv)),
                            !l.pv || l.lowerbound || l.upperbound || (p.push(l.pv),
                            A && m.push(l.pvSan)),
                            l.depth > h ? h = l.depth : "bestmove" === l.mtype && addBestMoveProps(l),
                            !A || 0 === l.mateIn && l.pv || A(l),
                            createTimeout()
                        }
                        )),
                        y.getNextBest && _ && l.moves({
                            verbose: !0
                        }).forEach((function toLan(t) {
                            t = e.normalizeMoveObj(t),
                            x.push(t.from + t.to + (t.promotion || ""))
                        }
                        )),
                        createTimeout()
                    }
                    function queueBestMoveSearch(e, t, n) {
                        C.push({
                            args: e,
                            cb: t,
                            stream: n
                        }),
                        1 === C.length && bestMoveSearch()
                    }
                    function cbIfReady() {
                        b.ready && (b.bookLoaded || !b.pathToBook) && m && m(b)
                    }
                    return b.send = function(t, n, a) {
                        var l;
                        !function isPrintingCommand(e) {
                            return "ucinewgame" !== e && "flip" !== e && "stop" !== e && "ponderhit" !== e && 0 !== e.indexOf("position") && 0 !== e.indexOf("setoption") && 0 !== e.indexOf("variation") && 0 !== e.indexOf("threat-variation") && 0 !== e.indexOf("push") && 0 !== e.indexOf("pop") && 0 !== e.indexOf("serve") && 0 !== e.indexOf("speech")
                        }(t = String(t).trim()) ? l = !0 : _[_.length] = {
                            cmd: t,
                            cb: n,
                            stream: a
                        },
                        g && (e.log && console.log("stdin: " + t),
                        g.postMessage(t),
                        l && n && setTimeout(n, 0))
                    }
                    ,
                    b._activeCommands = function() {
                        return _
                    }
                    ,
                    b._bestMoveQueue = function() {
                        return C
                    }
                    ,
                    b.quit = function() {
                        if (g && g.terminate) {
                            try {
                                b.send("quit")
                            } catch (e) {}
                            g.terminate(),
                            g = null,
                            b.ready = void 0
                        }
                        clearTimeout(v)
                    }
                    ,
                    n.forEach((function oneach(e) {
                        b[e] = function makeSCmd(t, n) {
                            b.send(e, t, n)
                        }
                    }
                    )),
                    a.forEach((function oneach(e) {
                        b[e.cmd] = function makeCCmd(t, n, a) {
                            var h = [e.cmd];
                            y && t.fen && (t.fen = function convertStockfishVariantFen(e) {
                                return (e + "").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i, "$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/, (function(e, t, n, a) {
                                    return " " + (3 - n) + "+" + (3 - a) + t
                                }
                                ))
                            }(t.fen)),
                            e.args.forEach((function oneach(e) {
                                if (t[e] || 0 === t[e]) {
                                    if (l.indexOf(e) > -1) {
                                        if (!t[e] || !t[e].length)
                                            return;
                                        Array.isArray(t[e]) && (t[e] = t[e].join(" "))
                                    }
                                    h.push(e),
                                    -1 === f.indexOf(e) && h.push(t[e])
                                }
                            }
                            )),
                            b.send(h.join(" "), n, a)
                        }
                    }
                    )),
                    b.setoption = function(e, t) {
                        b.send("setoption name " + e + " value " + t)
                    }
                    ,
                    b.setVariant = function(e) {
                        var t;
                        e !== y && (t = String(e).toLowerCase().replace(/ |-/g, ""),
                        e && "chess" !== t ? "chess960" === t ? (b.setoption("UCI_Variant", "chess"),
                        b.setoption("UCI_Chess960", "true")) : ("threecheck" === t && (t = "3check"),
                        b.setoption("UCI_Variant", t),
                        b.setoption("UCI_Chess960", "false")) : (t = void 0,
                        b.setoption("UCI_Variant", "chess"),
                        b.setoption("UCI_Chess960", "false")),
                        y = t)
                    }
                    ,
                    b.loadBook = function(e, n) {
                        b.pathToBook = e,
                        t.loadBook(e, (function onload(e, t) {
                            b.book = t,
                            b.bookLoaded = !0,
                            e && (console.error("Error loading opening book."),
                            console.error(e),
                            b.pathToBook = null,
                            b.bookLoaded = !1),
                            n()
                        }
                        ))
                    }
                    ,
                    b.getBookMove = function(t) {
                        var n = e.createGame(t)
                          , a = b.book.pick({
                            fen: n.fen(),
                            type: void 0 !== t.bookPick ? t.bookPick : "random",
                            chess960: "Chess960" === n.header().Variant
                        })
                          , l = a && n.move(a);
                        if (l)
                            return {
                                moveSan: l.san,
                                moveLan: a,
                                move: {
                                    from: l.from,
                                    to: l.to,
                                    promotion: l.promotion || null
                                },
                                baseTurn: 1 === n.turn() ? "b" : "w",
                                pv: [{
                                    moveSan: l.san,
                                    moveLan: a
                                }],
                                depth: null,
                                score: null,
                                mateIn: null,
                                isBookMove: !0
                            }
                    }
                    ,
                    b.getBestMove = function(e, t, n) {
                        var a;
                        if ((e = e || {}).fen = e.fen || e.baseFen,
                        e.is960 && (e.variant = "Chess960"),
                        b.bookLoaded && e.useBook && (a = b.getBookMove(e)))
                            return setTimeout((function() {
                                a.mtype = "bestmove",
                                t(a)
                            }
                            ), 0);
                        queueBestMoveSearch(e, t, n)
                    }
                    ,
                    b.stopAll = function(t) {
                        var n, a = _.length, l = 0;
                        function ondiscard() {
                            0 === (l -= 1) && t()
                        }
                        for (C = [],
                        n = 0; n < a; n += 1)
                            e.log && console.log("debug (stop_moves): " + n, getFirstWord(_[n].cmd)),
                            "go" !== getFirstWord(_[n].cmd) || _[n].discard || (b.stop(),
                            _[n].discard = !0,
                            t && (l += 1,
                            _[n].ondiscard = ondiscard));
                        t && !l && b.isready(t)
                    }
                    ,
                    b.restartEngine = function(e) {
                        return b.stopAll(),
                        b.quit(),
                        _ = [],
                        C = [],
                        b.bookLoaded && !h.book && ((h = JSON.parse(JSON.stringify(h))).book = b.book),
                        loadEngine(h, e)
                    }
                    ,
                    b.stopFast = function(e, t) {
                        var n;
                        b.stopAll((function() {
                            clearTimeout(n),
                            e(b)
                        }
                        )),
                        n = setTimeout((function() {
                            b.restartEngine(e)
                        }
                        ), t || 5e3)
                    }
                    ,
                    "undefined" != typeof Worker && (h.ceeMode && (!function addCeeInterface(t, n) {
                        var a, l, f = 1e3, h = 0;
                        function createInterruptHook(e) {
                            function interruptHook(e) {
                                var t = interruptHook.callbacks;
                                for (var n in interruptHook.callbacks = {},
                                interruptHook.original && interruptHook.original(e),
                                t)
                                    t[n](e)
                            }
                            return interruptHook.callbacks = {},
                            interruptHook.original = e,
                            interruptHook
                        }
                        function analyze(n, p, m, g) {
                            var v, y = Date.now(), b = !1, _ = ++h;
                            function cleanup() {
                                clearTimeout(v),
                                delete a.callbacks[_],
                                delete l.callbacks[_],
                                b = !0
                            }
                            function handleError(e) {
                                b || (cleanup(),
                                g({
                                    data: e,
                                    action: p,
                                    uci: n
                                }, n))
                            }
                            function onProcessCrash(t) {
                                handleError({
                                    msg: "CEE process crashed unexpectedly",
                                    code: e.ERROR_CODES.CRASH,
                                    exitCode: t,
                                    err: new Error("CEE process exited with " + t)
                                })
                            }
                            a.callbacks[_] = onProcessCrash,
                            l.callbacks[_] = onProcessCrash,
                            v = setTimeout((function() {
                                handleError({
                                    msg: "CEE timed out",
                                    code: e.ERROR_CODES.TIMEOUT,
                                    timeout: f,
                                    duration: Date.now() - y,
                                    err: new Error("CEE timed out")
                                })
                            }
                            ), f);
                            for (var C = 0; C < n.length; ++C)
                                t.send(n[C]);
                            t.send("fetch " + p, (function onFetchDone(e) {
                                b || (cleanup(),
                                m(e, n))
                            }
                            ), (function onFetchStream(n) {
                                n.indexOf("info string CEEError") >= 0 ? handleError({
                                    msg: "CEE crashed with error code",
                                    code: e.ERROR_CODES.ERROR,
                                    log: n.match(/info string CEEError\s*(.*)/)[1],
                                    err: new Error(n.match(/info string CEEError\s*(.*)/)[1])
                                }) : t.ceeDebug && n.indexOf("not recognized") >= 0 && handleError({
                                    msg: "CEE received unknown UCI option (engine.ceeDebug mode on)",
                                    option: n,
                                    code: e.ERROR_CODES.NONFATAL_ERROR,
                                    err: new Error(n)
                                })
                            }
                            ))
                        }
                        n.onError = a = createInterruptHook(n.onError),
                        n.onSignal = l = createInterruptHook(n.onSignal),
                        t.fetch = function(t, n, a) {
                            var l, f;
                            l = (t = t || []).action || "analysis",
                            Array.isArray(t) ? f = t : (f = t.uciCommands ? t.uciCommands.map((function(e) {
                                return e
                            }
                            )) : [],
                            t.startFen && (t.options = t.options || {},
                            void 0 === t.options.ScoreWhiteToMove && (t.options.ScoreWhiteToMove = !0),
                            void 0 === t.options.SerializeLikeCEAC && (t.options.SerializeLikeCEAC = !0),
                            e.CEE_LIB.addOptions(f, t.options),
                            e.CEE_LIB.addVariant(f, t.variant),
                            e.CEE_LIB.addPosition(f, t.startFen)),
                            e.CEE_LIB.addVariations(f, t.evals && t.evals[0]),
                            e.CEE_LIB.addVariations(f, t.threats && t.threats[0], "threat-variation"),
                            (t.moves || []).forEach((function(n, a) {
                                var l = a + 1;
                                e.CEE_LIB.addPush(f, n),
                                e.CEE_LIB.addVariations(f, t.evals && t.evals[l]),
                                e.CEE_LIB.addVariations(f, t.threats && t.threats[l], "threat-variation")
                            }
                            ))),
                            analyze(f, l, n, a)
                        }
                        ,
                        t.fetch.setTimeout = function(e) {
                            f = e
                        }
                        ,
                        e.ERROR_CODES = {
                            TIMEOUT: 1,
                            CRASH: 2,
                            ERROR: 3,
                            NONFATAL_ERROR: 4
                        }
                    }(b, h),
                    b.ceeVersion = function() {
                        return JSON.parse(JSON.stringify(A))
                    }
                    ),
                    (g = createWorker(h, b)).onmessage = function onmessage(t) {
                        var n, a, l, f, m;
                        if (t.indexOf("\n") > -1)
                            for (f = t.split("\n"),
                            m = 0; m < f.length; m += 1)
                                onmessage(f[m]);
                        else if (e.log && console.log("debug (onmessage): " + t),
                        b.stream && b.stream(t),
                        _.length && 0 !== t.indexOf("No such option") && 0 !== t.indexOf("Stockfish") && 0 !== t.indexOf("Komodo") && 0 !== t.indexOf("Explanation Engine") && 0 !== t.indexOf("info string variant")) {
                            if (a = function determineQueueNum(e, t) {
                                var n, a, l, f, h = getFirstWord(e);
                                for (n = "uciok" === h || "option" === h ? "uci" : "readyok" === h || "ready" === h ? "isready" : "json" === h || e.indexOf("info string CEEError") >= 0 ? "fetch" : "bestmove" === h || "info" === h ? "go" : "other",
                                f = t.length,
                                l = 0; l < f; l += 1)
                                    if ((a = getFirstWord(t[l].cmd)) === n || "other" === n && ("d" === a || "eval" === a))
                                        return l;
                                return 0
                            }(t, _),
                            (l = _[a]).stream && !l.discard && l.stream(t),
                            void 0 === l.message ? l.message = "" : "" !== l.message && (l.message += "\n"),
                            l.message += t,
                            0 === t.indexOf("uciok"))
                                b.name = function parseEngineName(e) {
                                    var t = e.match(/id name ((\S+) ([\d.a-z]+).*)/i);
                                    if (t)
                                        return {
                                            all: t[1].trim(),
                                            short: t[2],
                                            version: t[3],
                                            full: t[2] + " " + t[3],
                                            wasm: / wasm/i.test(e),
                                            multithreaded: / multithreaded/i.test(e)
                                        }
                                }(l.message),
                                n = !0;
                            else if (0 === t.indexOf("ready"))
                                n = !0;
                            else if (0 !== t.indexOf("bestmove") && "bestmove" !== getFirstWord(t) || "bench" === l.cmd)
                                if ("d" === l.cmd)
                                    0 !== t.indexOf("Legal uci moves") && 0 !== t.indexOf("Key is") || (l.done = !0,
                                    n = !0);
                                else if (0 === l.cmd.indexOf("fetch"))
                                    try {
                                        var g = l.message.split("\n").filter((function(e) {
                                            return e.includes("json")
                                        }
                                        )).join("\n");
                                        g && (l.message = JSON.parse(g.replace(/^json /gm, "").replace(/\n/g, "")),
                                        n = !0)
                                    } catch (y) {}
                                else
                                    "eval" === l.cmd ? p.test(l.message) && (n = !0) : (0 === t.indexOf("pawn key") || 0 === t.indexOf("Nodes/second") || 0 === t.indexOf("Unknown command")) && (n = !0);
                            else
                                n = !0,
                                l.message = t;
                            n && (_.splice(a, 1),
                            l.cb && !l.discard ? l.cb(l.message) : l.ondiscard && l.ondiscard())
                        } else if (h.ceeMode && 0 === t.indexOf("Explanation Engine")) {
                            var v = t.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\s*\(C\)/);
                            v ? A = {
                                date: v[1],
                                increment: v[2]
                            } : (v = t.match(/Explanation Engine\s*([0-9]+)\.([0-9]+)\.([0-9]+)/),
                            A = {
                                major: v[1],
                                minor: v[2],
                                patch: v[3]
                            })
                        }
                    }
                    ,
                    h.book && (b.book = h.book,
                    b.bookLoaded = !0,
                    b.pathToBook = h.pathToBook),
                    b.getFenFromMoves = e.getFenFromMoves,
                    b.getLegalMoves = e.getLegalMoves,
                    b.getPositionInfo = e.getPositionInfo,
                    b.isFenValid = e.isFenValid,
                    b.ready = !1,
                    function startUp() {
                        b.uci((function onstart() {
                            h.settings && Object.keys(h.settings).forEach((function oneach(e) {
                                b.setoption(e, h.settings[e])
                            }
                            )),
                            b.ready = !0,
                            cbIfReady()
                        }
                        ))
                    }(),
                    !b.book && h.pathToBook && b.loadBook(h.pathToBook, cbIfReady),
                    b)
                }
            }
              , a = function() {
                var e, a = n(), l = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", f = 252, h = {
                    4: "p",
                    5: "P",
                    6: "p",
                    8: "n",
                    9: "N",
                    10: "n",
                    16: "b",
                    17: "B",
                    18: "b",
                    32: "r",
                    33: "R",
                    34: "r",
                    64: "q",
                    65: "Q",
                    66: "q",
                    128: "k",
                    129: "K",
                    130: "k"
                }, p = 512, m = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=", g = "qnrbkp";
                function decodeTCN(e) {
                    var t, n, a, l, f = e.length, h = [];
                    for (t = 0; t < f; t += 2)
                        l = {},
                        n = m.indexOf(e[t]),
                        (a = m.indexOf(e[t + 1])) > 63 && (l.promotion = g[Math.floor((a - 64) / 3)],
                        a = n + (n < 16 ? -8 : 8) + (a - 1) % 3 - 1),
                        n > 75 ? l.drop = g[n - 79] : l.from = m[n % 8] + (Math.floor(n / 8) + 1),
                        l.to = m[a % 8] + (Math.floor(a / 8) + 1),
                        h.push(l);
                    return h
                }
                function uciToObj(e) {
                    var t, n, a = e.split(" "), l = a.length, f = [];
                    if (e)
                        for (t = 0; t < l; ++t)
                            4 === (n = a[t]).length ? "@" === n[1] ? f.push({
                                drop: n[0].toLowerCase(),
                                to: n.substr(2, 2)
                            }) : f.push({
                                from: n.substr(0, 2),
                                to: n.substr(2, 2)
                            }) : f.push({
                                from: n.substr(0, 2),
                                to: n.substr(2, 2),
                                promotion: n[4]
                            });
                    return f
                }
                function isSameMove(e, t) {
                    return !(e.san !== t.san && (e.to !== t.to || e.from !== t.from && (e.from || t.from) || e.promotion !== t.promotion && (e.promotion || t.promotion) || e.drop !== t.drop && (e.drop || t.drop)))
                }
                function getPremoves(e, t, a) {
                    var l, f, h, p, m, g, v, y, b, _, C = [], A = 1, S = 8, x = 1, w = 8, P = {
                        verbose: !0
                    };
                    for (b = 3 - (_ = e.turn()),
                    (p = n("/", t)).turn(b),
                    a && (A = S = +a[1],
                    x = w = a.charCodeAt(0) - 96),
                    l = A; l <= S; ++l)
                        for (f = x; f <= w; ++f)
                            m = String.fromCharCode(f + 96) + l,
                            (h = e.get(m)) && h.color === b && (p.put(h, m, !0),
                            "p" === h.type ? (g = String.fromCharCode(f - 1 + 96) + (l + (1 === b ? 1 : -1)),
                            v = String.fromCharCode(f + 1 + 96) + (l + (1 === b ? 1 : -1)),
                            p.put({
                                type: "n",
                                color: _
                            }, g, !0),
                            p.put({
                                type: "n",
                                color: _
                            }, v, !0)) : "k" === h.type && "-" !== (y = e.fen().split(" ")[2]) && p.load(p.fen().replace(/^(\S+\s\S\s)(\S+)/, "$1" + y), t, !0, !0),
                            C = C.concat(p.moves(P)),
                            p.remove(m, !0),
                            "p" === h.type && (p.remove(g, !0),
                            p.remove(v, !0)));
                    return t && e.hand() && (p._hand[b] = 18721,
                    C = C.concat(p.moves({
                        verbose: !0
                    }).filter((function(e) {
                        return !a || e.to === a
                    }
                    )))),
                    C.forEach((function(e) {
                        normalizeMoveObj(e)
                    }
                    )),
                    C
                }
                function makePremove(e, t) {
                    var n, l, f, h, p, m = e.header().Variant, g = getPremoves(e, m, t.from), v = 3 - e.turn();
                    for (n = g.length - 1; n >= 0; --n)
                        if (isSameMove(l = g[n], t)) {
                            f = !0;
                            break
                        }
                    return f ? (l.drop ? e.put({
                        type: l.drop,
                        color: v
                    }, l.to) : (h = e.remove(l.from, !0),
                    l.flags === a.FLAGS.KSIDE_CASTLE ? (p = e.remove("Chess960" === m ? l.to : "h" + l.from[1], !0),
                    e.put(h, "g" + l.from[1], !0),
                    e.put(p, "f" + l.from[1])) : l.flags === a.FLAGS.QSIDE_CASTLE ? (p = e.remove("Chess960" === m ? l.to : "a" + l.from[1], !0),
                    e.put(h, "c" + l.from[1], !0),
                    e.put(p, "d" + l.from[1])) : (l.promotion && (h.type = l.promotion,
                    h.promoted = !0),
                    p = e.get(l.to),
                    e.put(h, l.to, "k" !== h.type && "r" !== h.type && (!p || p.color !== v || "r" !== p.type)))),
                    l) : t.from && (e.turn(v),
                    t = e.fixMove(t),
                    e.turn(3 - v),
                    t) ? makePremove(e, {
                        san: t,
                        from: t.from
                    }) : void 0
                }
                function getPieces(e, t) {
                    var n, a, l, g = t ? {} : [], v = e._board();
                    if (t)
                        for (n = 112; n >= 0; ++n)
                            136 & n && (n -= 24),
                            (a = v[n]) && (g[l = m[7 & n] + (8 - (n >> 4))] = {
                                type: h[a & f],
                                color: 3 & a,
                                promoted: 0 != (a & p),
                                square: l
                            });
                    else
                        for (n = 112; n >= 0; ++n)
                            136 & n && (n -= 24),
                            (a = v[n]) && g.push({
                                type: h[a & f],
                                color: 3 & a,
                                promoted: 0 != (a & p),
                                rank: 8 - (n >> 4),
                                file: 1 + (7 & n)
                            });
                    return g
                }
                function makeMoves(e, t, n, a) {
                    var l, f, h, p, m, g, v, y, b, _;
                    for (n = n || {},
                    "string" == typeof t && (t = t.trim().split(" ")),
                    h = t.length,
                    l = 0; l < h; l += 1) {
                        if (m = "b" === t[l].board || "B" === t[l].board ? e.siblingGame : e,
                        g = "string" == typeof t[l].moveLan ? uciToObj(t[l].moveLan)[0] : "string" == typeof t[l] ? uciToObj(t[l])[0] : t[l].san ? t[l].san : t[l],
                        !m.move(g)) {
                            if (!n.autoPromote) {
                                if (n.skipBadLines)
                                    break;
                                return !1
                            }
                            if (!0 === n.autoPromote ? g.promotion = "q" : g.promotion = n.autoPromote,
                            !m.move(g)) {
                                if (n.skipBadLines)
                                    break;
                                return !1
                            }
                        }
                        if (y = (v = m._history())[v.length - 1],
                        a && (b = parseInt(a[l], 10)),
                        ("number" != typeof b || isNaN(b)) && (b = parseInt(t[l].time, 10)),
                        "number" != typeof b || isNaN(b) || (y.time = b,
                        b = void 0),
                        t[l].firstComment && (v.initComment = t[l].firstComment),
                        t[l].comment && (y.comment = t[l].comment),
                        t[l].annotation && (y.annotation = t[l].annotation),
                        t[l].additionalAnnotation && (y.additionalAnnotation = t[l].additionalAnnotation),
                        t[l].commands && (y.commands = t[l].commands),
                        t[l].lines)
                            for (p = t[l].lines.length,
                            f = 0; f < p; ++f) {
                                if (_ = e._history().id,
                                e.createVariation(),
                                !makeMoves(e, t[l].lines[f], n) && !n.skipBadLines)
                                    return !1;
                                e.selectLine(_)
                            }
                    }
                    return !0
                }
                function extendChess(e) {
                    var t, f, h, p, m = -1, g = 0;
                    function swapMoveAttributes(e, t) {
                        var n = {
                            moveTime: e.moveTime,
                            firstComment: e.firstComment,
                            comment: e.comment,
                            annotation: e.annotation,
                            additionalAnnotation: e.additionalAnnotation,
                            commands: e.commands
                        };
                        Object.keys(n).forEach((function(a) {
                            e[a] = t[a],
                            t[a] = n[a]
                        }
                        ))
                    }
                    e.extended || (e.extended = !0,
                    t = {
                        header: e.header,
                        load: e.load,
                        loadPgn: e.loadPgn,
                        createVariation: e.createVariation,
                        undo: e.undo,
                        pgn: e.pgn
                    },
                    e._move = e.move,
                    e.undo = function() {
                        return e.siblingGame ? e.deleteBughouseMove(e.curBughouseMove()) : e.deletePosition(m, g)
                    }
                    ,
                    e.getMove = function(n) {
                        return n && ("string" == typeof n || n.to && (n.from || n.drop)) && e._move(n) && normalizeMoveObj(t.undo()) || null
                    }
                    ,
                    e.premove = {
                        queue: p = [],
                        move: function(t) {
                            var a;
                            return !(a = makePremove(h = h || n(e.fen(), e.header().Variant), t)) || g || m !== e._history().length - 1 ? (p.length || (h = void 0),
                            null) : (p.push(a),
                            a)
                        },
                        consume: function() {
                            var t, a, l, f = p.shift();
                            if (f) {
                                if (t = e.move(f)) {
                                    if (h = void 0,
                                    a = p.length)
                                        for (h = n(e.fen(), e.header().Variant),
                                        l = 0; l < a; ++l)
                                            makePremove(h, p[l]);
                                    return t
                                }
                                e.premove.cancel()
                            }
                        },
                        moves: function(t) {
                            return !g && m === e._history().length - 1 && getPremoves(h || e, e.header().Variant, t)
                        },
                        getPieces: function(t) {
                            return getPieces(h || e, t)
                        },
                        fen: function() {
                            return (h || e).fen()
                        },
                        cancel: function() {
                            p.length = 0,
                            h = void 0
                        }
                    },
                    e.getPieces = function(t) {
                        return getPieces(e, t)
                    }
                    ,
                    e.material = function() {
                        var t, n, a, l = e.getPieces(), f = {
                            imbalance: 0,
                            white: {
                                p: 8,
                                n: 2,
                                b: 2,
                                r: 2,
                                q: 1,
                                count: 0
                            },
                            black: {
                                p: 8,
                                n: 2,
                                b: 2,
                                r: 2,
                                q: 1,
                                count: 0
                            }
                        }, h = {
                            p: 1,
                            n: 3,
                            b: 3,
                            r: 5,
                            q: 9,
                            k: 0
                        };
                        for (t = l.length - 1; t >= 0; --t)
                            1 === l[t].color ? (n = f.white,
                            a = f.black) : (n = f.black,
                            a = f.white),
                            a[l[t].type] && --a[l[t].type],
                            n.count += h[l[t].type];
                        return f.imbalance = f.white.count - f.black.count,
                        f
                    }
                    ,
                    e.origHistory = e.history,
                    e.history = function(t, n) {
                        var a, l, f, h = [], p = e._history(), m = p.length, g = e._lines();
                        for ("boolean" == typeof t && (t = {
                            verbose: t
                        }),
                        t = t || {},
                        n && (t.noParentLines = n),
                        t.toCurrent && (m = e.ids().move + 1); ; ) {
                            if (-1 == --m) {
                                if (p.id && !t.noParentLines) {
                                    m = p.atMoveNode,
                                    p = g[p.parentId];
                                    continue
                                }
                                break
                            }
                            if (t.verbose) {
                                for (l in a = {},
                                p[m])
                                    if (p[m][l] && "object" == typeof p[m][l])
                                        for (f in a[l] = p[m][l].constructor === Array ? [] : {},
                                        p[m][l])
                                            a[l][f] = p[m][l][f];
                                    else
                                        a[l] = p[m][l];
                                h.unshift(a)
                            } else
                                h.unshift(p[m].san)
                        }
                        return h
                    }
                    ,
                    e._getPos = function(n, a) {
                        var f, h, p;
                        return "number" != typeof n && (n = m),
                        "number" != typeof a && (a = g),
                        f = (h = e._lines())[a],
                        n >= 0 ? f[n] : f.id ? f.atMoveNode ? h[f.parentId][f.atMoveNode - 1] : e._getPos(f.atMoveNode - 1, f.parentId) : (p = {
                            fen: t.header().FEN || l,
                            hash: f.hash,
                            initial: !0,
                            ids: {
                                move: -1,
                                line: 0
                            }
                        },
                        e.siblingGame && (p.bughouseOrder = -1),
                        p)
                    }
                    ,
                    e.move = function(t, n) {
                        var a, l, f, h, p = e._history();
                        if (t && ("string" == typeof t || t.to && (t.from || t.drop))) {
                            if (g === p.id && m < p.length - 1 || n) {
                                if (e.moveForward(n, t))
                                    return !0;
                                m < p.length - 1 && (e.selectPosition(m + 1),
                                e.createVariation(),
                                p = e._history())
                            }
                            e.siblingGame && (f = e.isDependent ? e.siblingGame.fen() : e.fen()),
                            (a = e._move(t)) && (normalizeMoveObj(a),
                            g = p.id,
                            l = p[m = p.length - 1],
                            h = e._getPos(m - 1),
                            e.siblingGame ? (l.fen = e.isDependent ? e.siblingGame.fen() : e.fen(),
                            l.beforeFen = f,
                            l.siblingIds = e.siblingGame.ids()) : (l.fen = e.fen(),
                            l.beforeFen = h.fen),
                            h.initial ? (l.moveNumber = 0,
                            l.previous = null) : (l.moveNumber = h.moveNumber + 1,
                            l.previous = h.ids),
                            g && 0 === m && e._lines()[p.parentId][p.atMoveNode].move === l.move && (l.isContinuation = !0),
                            l.flags = a.flags,
                            l.to = a.to,
                            l.from = a.from,
                            l.drop = a.drop,
                            l.capturedStr = a.captured,
                            l.promotion = a.promotion,
                            l.piece = a.piece,
                            a.promoted && (l.promoted = !0),
                            a.capturedPromotedPawn && (l.capturedPromotedPawn = !0),
                            l.ids = {
                                move: m,
                                line: g
                            })
                        }
                        return a
                    }
                    ,
                    e.moveDetails = function(t) {
                        return (t = t || e._history()[m]) && (t.lines = t.lines || null,
                        t.flags === a.FLAGS.KSIDE_CASTLE ? (t.rookFrom = "Chess960" === e.header().Variant ? t.to : "h" + t.to[1],
                        t.rookTo = "f" + t.to[1],
                        t.kingTo = "g" + t.to[1]) : t.flags === a.FLAGS.QSIDE_CASTLE ? (t.rookFrom = "Chess960" === e.header().Variant ? t.to : "a" + t.to[1],
                        t.rookTo = "d" + t.to[1],
                        t.kingTo = "c" + t.to[1]) : t.flags === a.FLAGS.EP_CAPTURE && (t.epCapture = t.to[0] + t.from[1])),
                        t
                    }
                    ,
                    e.header = e.headers = function(n) {
                        var a = t.header(n);
                        return e.siblingGame && extendChess(e.siblingGame),
                        a
                    }
                    ,
                    e.load = function(n, a, l, f) {
                        var h = t.load(n, a, l, f);
                        return e.siblingGame && extendChess(e.siblingGame),
                        h && !l && (m = -1,
                        g = 0),
                        h
                    }
                    ,
                    e.removeEmptyLines = function() {
                        var t, n, a = e._lines();
                        for (t = a.length - 1; t > 0; --t)
                            a[t].length || (a[t] = void 0,
                            n = !0);
                        n && e.reorderLines()
                    }
                    ,
                    e.loadPgn = function(n, a, l) {
                        var f = t.loadPgn(n, a, l)
                          , h = e._history();
                        return e.removeEmptyLines(),
                        m = h.length - 1,
                        (g = h.id) && e.selectLine(0),
                        f
                    }
                    ,
                    e.ids = function() {
                        return {
                            move: m,
                            line: g
                        }
                    }
                    ,
                    e.selectLine = function(t) {
                        e.selectPosition(null, t)
                    }
                    ,
                    e.curBughouseMove = function() {
                        return Math.max(e._getPos().bughouseOrder, e.siblingGame._getPos().bughouseOrder)
                    }
                    ,
                    e.deleteBughouseMove = function(t) {
                        var n, a, l, f = e.curBughouseMove(), h = !1, p = e;
                        if (t >= 0)
                            for (f >= t && e.selectBughouseMove(t - 1); ; ) {
                                for (a = (n = p._history()).length,
                                l = 0; l < a; ++l)
                                    if (n[l].bughouseOrder >= t) {
                                        n.length = l,
                                        h = !0;
                                        break
                                    }
                                if (p === e.siblingGame)
                                    break;
                                p = e.siblingGame
                            }
                        return h
                    }
                    ,
                    e.selectBughouseMove = function(t) {
                        var n, a, l = e.isDependent ? e.siblingGame : e, f = l;
                        if (-1 === t)
                            return f.selectPosition(-1, 0, !0),
                            f.siblingGame.selectPosition(-1, 0, !0),
                            l.load(l.header().FEN, "Bughouse", !0, !0);
                        for (; ; ) {
                            for (a = (n = f._history()).length - 1; a >= 0; --a)
                                if (n[a].bughouseOrder === t)
                                    return f.selectPosition(n[a].ids.move, 0, !0),
                                    f.siblingGame.selectPosition(n[a].siblingIds.move, 0, !0),
                                    l.load(n[a].fen, "Bughouse", !0, !0);
                            if (f === l.siblingGame)
                                return !1;
                            f = l.siblingGame
                        }
                    }
                    ,
                    e.moveBackward = function(t) {
                        var n;
                        if (e.siblingGame)
                            return e.selectBughouseMove(e.curBughouseMove() - 1);
                        if (m <= 1)
                            if (0 === g) {
                                if (-1 === m)
                                    return !1;
                                e.selectPosition(m - 1)
                            } else
                                (n = e._getPos(m - 1, g)).isContinuation && !t && (n = e._getPos(n.ids.move - 1, n.ids.line),
                                n = e._getPos(n.ids.move + 1, n.ids.line)),
                                e.selectPosition(n.ids.move, n.ids.line);
                        else
                            e.selectPosition(m - 1);
                        return !0
                    }
                    ,
                    e.moveForward = function(t, n) {
                        var a, l, f, h, p, v, y = e._lines();
                        if (e.siblingGame)
                            return e.selectBughouseMove(e.curBughouseMove() + 1);
                        if ("string" == typeof n && (n = {
                            san: n
                        }),
                        !(a = y[g][m + 1]) || n && !isSameMove(n, a)) {
                            if (n && a && a.lines)
                                for (p = a.lines.length,
                                h = 0; h < p; ++h)
                                    if ((f = y[a.lines[h]][0]) && isSameMove(n, f)) {
                                        a = f,
                                        v = !0;
                                        break
                                    }
                            if (!v && t && (l = y[g][m]) && l.lines)
                                for (p = l.lines.length,
                                h = 0; h < p; ++h)
                                    if ((f = y[l.lines[h]][0]) && f.isContinuation && (f = y[l.lines[h]][1]) && (!n || isSameMove(n, f))) {
                                        a = f,
                                        v = !0;
                                        break
                                    }
                            if (!v) {
                                try {
                                    if (n && n.san && (n = e.fixMove(n.san)) || n && n.to && n.from && Math.abs(n.to.charCodeAt(0) - n.from.charCodeAt(0)) > 1 && (n = e.fixMove(n)))
                                        return e.moveForward(t, n)
                                } catch (b) {}
                                return !1
                            }
                        }
                        return e.selectPosition(a.ids.move, a.ids.line)
                    }
                    ,
                    e.moveVariation = function(t, n) {
                        var a, l, f, h = e._lines(), p = h[t];
                        if (p && p.id)
                            for (l = (a = h[p.parentId][p.atMoveNode].lines).length - 1; l >= 0; --l)
                                if (a[l] === t && a[f = l - (n ? 1 : -1)])
                                    return a[l] = a[f],
                                    a[f] = t,
                                    e.reorderLines(),
                                    !0;
                        return !1
                    }
                    ,
                    e.promoteVariation = function(t, n) {
                        for (var a, l, f, h, p, v, y = e._lines(), b = y[t]; b && b[0] && b.id && (-1 !== n || b.parentId); ) {
                            for (a = y[f = b.parentId],
                            h = b.atMoveNode,
                            b[0].lines = a[h].lines.concat(b[0].lines || []),
                            a[h].lines = void 0,
                            v = a.length - h,
                            l = a.splice(h, v),
                            p = 0; p < v; ++p)
                                l[p].ids.line = t,
                                l[p].ids.move = p;
                            for (l.id = t,
                            l.parentId = f,
                            l.atMoveNode = h,
                            l.hash = b.hash,
                            0 === h ? (l.initComment = a.initComment,
                            a.initComment = b.initComment) : b.initComment && (a[h - 1].comment = ((a[h - 1].comment || "") + " " + b.initComment).trim()),
                            y[t] = l,
                            v = b.length,
                            p = 0; p < v; ++p)
                                b[p].ids.line = f,
                                b[p].ids.move = p + h,
                                a.push(b[p]);
                            for (l[0].isContinuation = !!b[0].isContinuation,
                            a[h].isContinuation = !h && "number" == typeof a.parentId && y[a.parentId][a.atMoveNode].move === a[0].move,
                            v = a[h].lines.length,
                            p = 0; p < v; ++p)
                                y[a[h].lines[p]].atMoveNode = h,
                                y[a[h].lines[p]][0] && (y[a[h].lines[p]][0].isContinuation = y[a[h].lines[p]][0].move === a[h].move);
                            if (g === t ? (g = f,
                            m += h) : g === f && m >= h && (g = t,
                            m -= h),
                            1 === n)
                                break;
                            b = y[t = f]
                        }
                        return void 0 !== a && (e._history(y[g]),
                        e.reorderLines(),
                        !m && y[g][0].isContinuation && e.selectPosition(y[g].atMoveNode, y[g].parentId),
                        !0)
                    }
                    ,
                    e.reorderLines = function(t, n) {
                        var a, l, h, p, m, v, y, b, _, C, A = e._lines(), S = !1;
                        for (t ? _ = n.length - 1 : (t = 0,
                        n = [A[0]],
                        _ = 0,
                        f = !1),
                        h = (a = A[t]).length,
                        l = 0; l < h; ++l)
                            if ((p = a[l]).ids.line !== _ && (S = !0,
                            p.ids.line = _),
                            p.lines)
                                for (m = p.lines.length,
                                v = 0; v < m; ++v)
                                    (b = A[y = p.lines[v]]) ? (b.atMoveNode = l,
                                    C = n.length,
                                    p.lines[v] = C,
                                    b.parentId = _,
                                    f || y !== g || (f = !0,
                                    g = C),
                                    n.push(b),
                                    S = e.reorderLines(y, n) || S) : (1 === p.lines.length ? delete p.lines : p.lines.splice(v, 1),
                                    --v,
                                    --m);
                        return t || e.saveLines(n, !0),
                        S
                    }
                    ,
                    e.createVariation = function() {
                        var n, a, l, f = e._history(), h = e._lines();
                        return m === f.length - 1 ? (n = t.createVariation(),
                        f = e._history(),
                        m = f.length - 1,
                        g = f.id,
                        n) : -1 !== m && (a = [],
                        l = f[m],
                        a.parentId = f.id,
                        a.id = h.length,
                        l.lines || (l.lines = []),
                        l.lines.push(a.id),
                        a.hash = e._getPos(m - 1).hash,
                        a.atMoveNode = m,
                        h.push(a),
                        e.selectPosition(-1, a.id))
                    }
                    ,
                    e.selectLineEnd = function(t) {
                        return e.siblingGame ? e.selectBughouseMove(e._history().length + e.siblingGame._history().length - 1) : ("number" != typeof t && (t = g),
                        (t !== g || m < e._history().length - 1) && e.selectPosition(null, t, !0))
                    }
                    ,
                    e.selectLineStart = function() {
                        var t, n;
                        return e.siblingGame ? e.selectBughouseMove(-1) : g ? (m > 1 || 1 === m && !e._getPos(0).isContinuation ? t = e._history() : (n = e._getPos(-1),
                        t = e._lines()[n.ids.line]),
                        e.selectPosition(t.id ? t[1] && t[0].isContinuation ? 1 : 0 : -1, t.id)) : -1 !== m && e.selectPosition(-1, 0)
                    }
                    ,
                    e.selectPosition = function(n, a, l) {
                        var f = e._lines()
                          , h = e._history();
                        if ("number" == typeof a && (a !== g || l)) {
                            if (a < 0 || a >= f.length)
                                return !1;
                            if (h = f[a],
                            "number" != typeof n)
                                n = h.length - 1;
                            else if (n < -1 || n >= h.length)
                                return !1;
                            g = a,
                            e._history(h),
                            l = !0
                        }
                        if ("number" == typeof n && (n !== m || l)) {
                            if (n < -1 || n >= h.length)
                                return !1;
                            t.load(e._getPos(n).fen, t.header().Variant, !0, !0),
                            m = n
                        }
                        return !0
                    }
                    ,
                    e.resetToMainLine = function() {
                        var t = e._lines();
                        e.selectLineEnd(0),
                        t.length > 1 && (t.length = 1,
                        e.reorderLines())
                    }
                    ,
                    e.updateNode = function(t, n, a) {
                        var l, f, h = e._lines();
                        for (f in n = "number" == typeof n ? n : m,
                        l = h[a = "number" == typeof a ? a : g][n] || h[a],
                        t)
                            l[f] = t[f]
                    }
                    ,
                    e.updateLineComment = function(t, n) {
                        e.updateNode({
                            initComment: t
                        }, -1, n)
                    }
                    ,
                    e.saveLines = function(t, n) {
                        var a, l, f, h = e._lines(), p = t.length;
                        for (t !== h && (h.length = 0),
                        l = 0; l < p; ++l) {
                            if (a = t[l],
                            l && "number" != typeof a.parentId)
                                return !1;
                            t !== h && h.push(a),
                            a.id = l
                        }
                        return e._history(e._history()),
                        n || (f = e.ids(),
                        e.selectPosition(-1, 0, !0),
                        e.selectPosition(f.move, f.line)),
                        !0
                    }
                    ,
                    e.deletePosition = function(t, n) {
                        var a, l, f = e._lines();
                        return !(!f[n] || !(f[n][t] || -1 === t && 0 !== n)) && (n && (0 === t || 1 === t && f[n][0].isContinuation) && (t = -1),
                        g > 0 && n !== g ? (a = function descendsFromMove(e, t, n) {
                            for (var a, l = e[t]; "number" == typeof (a = l.parentId); ) {
                                if (a === n)
                                    return l.atMoveNode;
                                l = e[a]
                            }
                            return !1
                        }(f, g, n),
                        l = !1 !== a && a >= t) : l = n === g && t <= m,
                        l && (t > 1 ? e.selectPosition(t - 1, n) : (e.selectPosition((f[n][0].isContinuation || 1 === t) && f[n][1] ? 1 : 0, n),
                        e.moveBackward())),
                        t > 0 ? f[n].length = t : n ? f[n] = null : f[0].length = 0,
                        e.reorderLines(),
                        e.ids())
                    }
                    ,
                    e.mark = function(t, n) {
                        var a = m < 0 ? e._lines()[g] : e._lines()[g][m]
                          , l = t.type
                          , f = 1;
                        t.color && ("arrow" === l ? e.mark({
                            key: t.color + t.key,
                            type: "cal"
                        }, n) : "square" === l && e.mark({
                            key: t.color + t.key,
                            type: "csl"
                        }, n)),
                        "cal" !== l && "csl" !== l && (l = "c_" + l,
                        f = 0),
                        a.commands && a.commands[l] && (a.commands[l] = a.commands[l].split(",").filter((function rm(e) {
                            return e.slice(f).split(";")[0] !== t.key.slice(f)
                        }
                        )).join(","),
                        a.commands[l] || delete a.commands[l]),
                        n || (a.commands || (a.commands = {}),
                        a.commands[l] = (a.commands[l] ? a.commands[l] + "," : "") + t.key + (t.data ? ";" + t.data.join(";") : ""))
                    }
                    ,
                    e.markings = function() {
                        var t, n, a, l, f, h, p, v, y = {}, b = m < 0 ? e._lines()[g] : e._lines()[g][m], _ = {
                            cal: "arrow",
                            csl: "square"
                        };
                        for (n in b.commands) {
                            if (a = b.commands[n],
                            _[n])
                                n = _[n],
                                l = 0;
                            else {
                                if ("c_" !== n.substr(0, 2))
                                    continue;
                                n = n.slice(2),
                                l = 1
                            }
                            for (y[n] = y[n] || {},
                            h = (f = a.split(",")).length,
                            t = 0; t < h; ++t)
                                l ? (v = (p = f[t].split(";")).shift(),
                                y[n][v] = y[n][v] || {
                                    type: n,
                                    key: v
                                },
                                y[n][v].data = p) : (v = f[t].slice(1),
                                y[n][v] = y[n][v] || {
                                    type: n,
                                    key: v
                                },
                                y[n][v].color = f[t][0])
                        }
                        return y
                    }
                    ,
                    e.clearMarkings = function() {
                        var t, n = m < 0 ? e._lines()[g] : e._lines()[g][m];
                        for (t in n.commands)
                            /^c[sa]l$|^c_/.test(t) && delete n.commands[t]
                    }
                    ,
                    e.pgn = function(n) {
                        var a, l = e.ids();
                        return e.selectLineEnd(0),
                        a = t.pgn(n),
                        e.selectPosition(l.move, l.line),
                        a
                    }
                    ,
                    e.loadMoves = function(t, n) {
                        var a, l, f, h, p;
                        if (n = n || {},
                        "string" == typeof t && (t = decodeTCN(t)),
                        t) {
                            for (n.atCurrent || e.selectPosition(-1, 0),
                            f = g,
                            l = t.length,
                            a = 0; a < l; ++a) {
                                if (!((h = e.move(t[a], !0)) || (t[a].promotion = !0 === n.autoPromote ? "q" : n.autoPromote,
                                h = e.move(t[a], !0))))
                                    return !1;
                                g !== f && "merge" !== n.method && (e.promoteVariation(g, 1),
                                "promote" !== n.method && (e._history()[m].lines = void 0,
                                e.reorderLines()),
                                f = g)
                            }
                            if ("promote" === n.method) {
                                if (l) {
                                    for (e._history()[m + 1] && (h = e._history()[m],
                                    e.createVariation(),
                                    e.move(h),
                                    swapMoveAttributes(e._history()[0], h),
                                    e.promoteVariation(g, 1)),
                                    a = (p = e._lines()).length - 1; a >= 0; --a)
                                        1 === p[a].length && p[a][0].isContinuation && (swapMoveAttributes(p[a][0], p[p[a].parentId][p[a].atMoveNode]),
                                        p[a].length = 0);
                                    e.removeEmptyLines()
                                }
                            } else
                                "merge" !== n.method && e.deletePosition(m + 1, g)
                        }
                        return !0
                    }
                    )
                }
                function createGame(e) {
                    var t, a;
                    if ((e = e || {}).game)
                        return e.game;
                    if (t = n(),
                    e.analysis && extendChess(t),
                    e.disableHashing && t.hashing(!1),
                    e.pgn) {
                        if (!(t.loadPgn(e.pgn, e.index, e.options) || "detect" === e.variant && n.variants.some((function(n) {
                            return e.options = e.options || {},
                            e.options.variant = n,
                            t.loadPgn(e.pgn, e.index, e.options)
                        }
                        ))))
                            return !1
                    } else {
                        if (e.headers && (e.variant = e.headers.Variant || e.variant,
                        e.fen || (e.fen = e.headers.FEN)),
                        "detect" === e.variant && e.fen && (e.fen.indexOf("|") > -1 ? e.variant = "Bughouse" : 9 === e.fen.split("/").length ? e.variant = "Crazyhouse" : e.fen.indexOf("+") > -1 ? e.variant = "3-check" : e.variant = void 0),
                        (e.fen || e.variant) && !t.load(e.fen || l, e.variant))
                            return !1;
                        e.headers && "object" == typeof e.headers && !Array.isArray(e.headers) && t.header(e.headers)
                    }
                    if (e.tcn)
                        if ("object" == typeof e.tcn) {
                            if (!function playBughouseTCN(e, t, n) {
                                var a, l, f, h = [decodeTCN(t[0]), decodeTCN(t[1])], p = [0, 0], m = [0, 0], g = h[0].length + h[1].length, v = Math.max(0 | n[0][0], 0 | n[0][1], 0 | n[1][0], 0 | n[1][1]), y = [0, 0], b = [0, 0];
                                for (a = [[v += 600 - v % 600, v], [v, v]]; g--; ) {
                                    if (b[0] = y[0] + a[0][m[0]] - n[0][p[0]] || 0,
                                    b[1] = y[1] + a[1][m[1]] - n[1][p[1]] || 0,
                                    h[l = b[0] <= b[1] ? 0 : 1][p[l]] || (l ^= 1),
                                    (!(f = l ? e.siblingGame : e).move(h[l][p[l]]) || g && f.inCheckmate() && f.undo(!0)) && !(f = (l ^= 1) ? e.siblingGame : e).move(h[l][p[l]]))
                                        return !1;
                                    f._history()[p[l]].time = n[l][p[l]],
                                    a[l][m[l]] = n[l][p[l]],
                                    y[l] = b[l],
                                    m[l] ^= 1,
                                    ++p[l]
                                }
                                return !0
                            }(t, e.tcn, e.timestamps || [[], []]))
                                return !1
                        } else
                            a = decodeTCN(e.tcn);
                    else
                        a = e.moves;
                    return !(a && !makeMoves(t, a, e, e.timestamps)) && t
                }
                function normalizeMoveObj(e) {
                    return e && (e.piece & p && (e.promoted = !0),
                    e.piece = h[e.piece & f],
                    e.captured && (e.captured & p && (e.capturedPromotedPawn = !0),
                    e.captured = h[255 & e.captured]),
                    e.promotion && (e.promotion = h[e.promotion & f]),
                    void 0 !== e.drop && (e.drop = "pnbrq"[e.drop])),
                    e
                }
                function normalizeHistory(e) {
                    var t, n, a, l, f, h, p, m = e.history(!0, !0);
                    if (e.siblingGame) {
                        for (t = e.siblingGame.history(!0, !0),
                        a = m.length + t.length,
                        n = [],
                        l = 0; l < a; ++l)
                            !m.length || t.length && t[0].bughouseOrder < m[0].bughouseOrder ? (f = t.shift()).board = "b" : (f = m.shift()).board = "a",
                            n.push(f);
                        m = n
                    }
                    for (a = m.length,
                    l = 0; l < a; ++l)
                        if ((h = m[l]).fen || normalizeMoveObj(h),
                        h.lines)
                            for (p = h.lines.length - 1; p >= 0; --p)
                                e.selectLine(h.lines[p]),
                                h.lines[p] = normalizeHistory(e).moves;
                    return {
                        moves: m
                    }
                }
                function getLegalMoves(e, t) {
                    var n, l, f, h;
                    if ("string" == typeof e) {
                        if ((l = a).reset(),
                        !l.load(e, t))
                            return null
                    } else
                        l = createGame(e);
                    for (h = (n = l.moves({
                        verbose: !0
                    })).length,
                    f = 0; f < h; ++f)
                        normalizeMoveObj(n[f]);
                    return n
                }
                function jce(t, n) {
                    return (e = e || ENGINE_MANAGER(jce))(t, n)
                }
                return jce.supportsMultithreading = function() {
                    var e, t = Boolean(jce._hasThreads);
                    if ("boolean" != typeof jce._hasThreads) {
                        try {
                            (e = new Worker("data:application/javascript,")).postMessage(new SharedArrayBuffer(1)),
                            t = !0
                        } catch (n) {}
                        try {
                            e.terminate()
                        } catch (n) {}
                        jce._hasThreads = t
                    }
                    return t
                }
                ,
                jce.gameFingerprints = function gameFingerprints(e) {
                    var n, a, f, h, p, m, g, v, y, b = createGame(e), _ = [""], C = [];
                    if (!b)
                        return !1;
                    for (y = (v = b.header()).Variant || "",
                    m = b.hashes(),
                    n = "function" == typeof b.origHistory ? b.origHistory(!0) : b.history(!0),
                    p = m.length,
                    a = [m[0][0], m[0][1]],
                    C.push(t.to64BitHex(a) + y),
                    m[0] = t.to64BitHex(m[0]),
                    f = 1; f < p; ++f)
                        a[0] = (a[0] ^ m[f][0] * (f + 58465)) >>> 0,
                        a[1] = (a[1] ^ m[f][1] * (f + 984)) >>> 0,
                        m[f] = t.to64BitHex(m[f]),
                        C.push(t.to64BitHex(a) + y),
                        normalizeMoveObj(n[h = f - 1]),
                        g = (n[h].from ? n[h].from : n[h].drop.toUpperCase() + "@") + n[h].to + (n[h].promotion || ""),
                        h && (g = _[h] + " " + g),
                        _.push(g);
                    return {
                        startingFen: v.FEN || l,
                        hashes: m,
                        fingerprints: C,
                        moves: _,
                        variant: v.Variant
                    }
                }
                ,
                jce.getFenFromMoves = function getFenFromMoves(e, t, n) {
                    return a.reset(),
                    a.load(e, n),
                    !(t && !makeMoves(a, t)) && a.fen()
                }
                ,
                jce.getLegalMoves = getLegalMoves,
                jce.getPositionInfo = function getPositionInfo(e, t, n) {
                    var l, f, h = {
                        gameOver: !1,
                        check: !1,
                        checkmate: !1,
                        draw: !1,
                        stalemate: !1,
                        threefold: !1,
                        insufficient: !1
                    };
                    if (Array.isArray(t) || (n = t,
                    t = null),
                    "boolean" == typeof n ? (l = n,
                    n = {}) : l = (n = n || {}).variant,
                    "string" == typeof e) {
                        if ((f = a).reset(),
                        0 !== f.validateFen(e, l) || !f.load(e, l))
                            return !1
                    } else
                        f = createGame(e);
                    return !(t && !makeMoves(f, t)) && (n.getLegalMoves && (h.legalMoves = getLegalMoves({
                        game: f
                    })),
                    f.inCheck() ? (h.check = !0,
                    h.checkmate = f.inCheckmate()) : h.stalemate = f.inStalemate(),
                    h.threefold = f.inThreefoldRepetition(),
                    h.insufficient = f.insufficientMaterial(n.color),
                    h.fiftyMoveRule = f.in50MoveRule(),
                    h.draw = h.stalemate || h.threefold || h.insufficient || h.fiftyMoveRule || f.inDraw(),
                    n.skipValidation || (h.isValid = f.isPositionValid(n)),
                    l && (h.variantWin = f.isVariantWin(),
                    void 0 === h.variantWin && (h.variantWin = f.isBughouseWin())),
                    h.gameOver = h.checkmate || h.draw || Boolean(h.variantWin),
                    h)
                }
                ,
                jce.isFenValid = function isFenValid(e, t) {
                    return 0 === a.validateFen(e, t)
                }
                ,
                jce.encodeTCN = function encodeTCN(e) {
                    var t, n, a, l, f = "";
                    for (Array.isArray(e) || (e = [e]),
                    n = e.length,
                    t = 0; t < n; t += 1)
                        a = e[t].drop ? 79 + g.indexOf(e[t].drop) : m.indexOf(e[t].from[0]) + 8 * (e[t].from[1] - 1),
                        l = m.indexOf(e[t].to[0]) + 8 * (e[t].to[1] - 1),
                        e[t].promotion && (l = 3 * g.indexOf(e[t].promotion) + 64 + (l < a ? 9 + l - a : l - a - 7)),
                        f += m[a] + m[l];
                    return f
                }
                ,
                jce.decodeTCN = decodeTCN,
                jce.uciToObj = uciToObj,
                jce.generatePgn = function generatePgn(e) {
                    var t;
                    return (e = e || {}).disableHashing = !0,
                    !!(t = createGame(e)) && t.pgn(e)
                }
                ,
                jce.pgnToFen = function pgnToFen(e, t) {
                    var n, l, f = [];
                    if (a.reset(),
                    !a.loadPgn(e))
                        return !1;
                    if (n = a.moveCount(),
                    "number" == typeof t) {
                        for (t < 0 && (t = n + t + 1),
                        l = n - 1; l >= t && l >= 0; l -= 1)
                            a.undo();
                        return a.fen()
                    }
                    for (l = 0; l <= n; l += 1)
                        f.unshift(a.fen()),
                        a.undo();
                    return f
                }
                ,
                jce.pgnToJson = function pgnToJson(e, t, n) {
                    var l, f = [], h = a;
                    return "number" != typeof t && (n = t,
                    t = void 0),
                    l = h.tokenizePgn(e, n),
                    t < 0 && (t = l.length + t),
                    !!l && (n && n.includeFen && (h = createGame({
                        analysis: !0
                    })),
                    l.forEach((function(e, a) {
                        var l, p;
                        a === t || void 0 === t ? h.loadPgn([e], 0, n) ? (p = normalizeHistory(h),
                        l = h.header(),
                        f.push({
                            headers: l,
                            moves: p.moves
                        })) : f.push(!1) : f.push(void 0)
                    }
                    )),
                    "number" == typeof t ? f[t] : f)
                }
                ,
                jce.sanToObj = function sanToObj(e, t, n) {
                    return a.reset(),
                    !!a.load(t, n) && normalizeMoveObj(a.move(e))
                }
                ,
                jce.completeFen = a.completeFen,
                jce.shortenFen = function shortenFen(e, t) {
                    return a.completeFen(e).split(" ").slice(0, t || 4).join(" ")
                }
                ,
                jce.createGame = createGame,
                jce.getPositionDetails = function getPositionDetails(e, t) {
                    var n, a, l, f;
                    if ((e = e || {}).disableHashing = !0,
                    !(n = createGame(e)))
                        return null;
                    if (t) {
                        if (!(l = n.move(t)))
                            return null;
                        n.extended || normalizeMoveObj(l)
                    }
                    return f = n.fen(),
                    e.skipValidation || n.isPositionValid(e) ? (a = f.split(" "),
                    {
                        fen: f,
                        pieces: getPieces(n),
                        sideToMove: n.turn(),
                        castling: a[2],
                        epSquare: "-" === a[3] ? null : a[3],
                        halfMoves: +a[4],
                        moveNumber: +a[5],
                        move: l,
                        hand: n.hand(),
                        checks: n.checks()
                    }) : null
                }
                ,
                jce.predict = function predict(e, t) {
                    var n = Math.min(Math.max(.20773843 * Math.atan(2.49085889 * e / 100 - 2.47841945 * t / 100) + .02262979 * e / 100 - .02256839 * t / 100 + .52239679, 0), 1)
                      , a = Math.min(Math.max(-.20720905 * Math.atan(2.49626837 * e / 100 - 2.48220286 * t / 100) + -.02352551 * e / 100 + .02172627 * t / 100 + .49443923, 0), 1)
                      , l = Math.min(Math.max(Math.exp(.037043456 * e / 100 + .178106427 * t / 100 - 8.069742932) + .004823544 * Math.exp(-1.364136591 * Math.pow(e / 100 - t / 100, 2)) + -.001625539, 0), 1)
                      , f = n + a + l;
                    return {
                        w: n / f,
                        b: a / f,
                        d: l / f
                    }
                }
                ,
                jce.normalizeMoveObj = normalizeMoveObj,
                jce.FLAGS = a.FLAGS,
                jce.loadECO = function loadECO(e, n) {
                    t.loadBook(e, (function onload(e, a) {
                        if (!a || !a.json)
                            return n(e || new Error("Invalid book"));
                        n(e, (function queryECO(e) {
                            var n, l, f, h, p, m, g, v, y;
                            if (e.hash)
                                l = "string" == typeof e.hash ? [t.hex64ToDec(e.hash)] : [e.hash],
                                h = 1;
                            else {
                                if (!(n = createGame(e)))
                                    return !1;
                                h = (l = n.hashes()).length
                            }
                            for (f = 0; f < h; ++f)
                                if (p = a.json[t.to64BitHex(l[f])]) {
                                    if (p.constructor === Array)
                                        if (m && -1 === p[0].m.indexOf(m.m)) {
                                            for (v = p.length - 1; v >= 0; --v)
                                                if (!v || -1 !== p[v].m.indexOf(m.m)) {
                                                    (y = p[v]).e = p[0].e,
                                                    y.s = p[0].s,
                                                    y.mate = p[0].mate,
                                                    y.v = p[0].v,
                                                    y.h = p[0].h,
                                                    y.n = y.n || p[0].n,
                                                    y.u = y.u || p[0].u,
                                                    y.c = y.c || p[0].c;
                                                    break
                                                }
                                        } else
                                            y = p[0];
                                    else
                                        y = p;
                                    (y.n || e.allowNameless) && (m = y)
                                } else
                                    e.mustEndInBook && (m = void 0);
                            if (m)
                                return g = {
                                    name: m.n
                                },
                                m.m && (g.moves = m.m),
                                void 0 !== m.d && (g.sdiff = m.d / 100),
                                m.c && (g.code = m.c,
                                g.url = m.u || m.n.replace(/[\u00e1-\u00e5]/g, "a").replace(/[\u0107\u010d]/g, "c").replace(/[\u00e9\u00e8\u0117\u0113]/g, "e").replace(/[\u00f3\u00f6\u00f8]/g, "o").replace(/[\u016f\u00fc]/g, "u").replace(/['+,]/g, "").replace(/[^a-z0-9.]+/gi, "-").replace(/(with-\d|St)\.+-?/, "$1-")),
                                m.e ? (g.eval = m.e,
                                g.depth = m.h,
                                g.score = m.e[0].cp / 100,
                                void 0 !== m.e[0].mate && (g.mate = m.e[0].mate)) : (g.score = m.s / 100,
                                void 0 !== m.mate && (g.mate = m.mate)),
                                m.v && (g.bad = !0),
                                g
                        }
                        ), a.json)
                    }
                    ))
                }
                ,
                jce.CEE_LIB = {
                    addOptions: function(e, t) {
                        for (var n in t)
                            void 0 !== t[n] && e.push("setoption name " + n + " value " + t[n]);
                        return e
                    },
                    addVariations: function(e, t, n) {
                        var a, l;
                        t = t || [],
                        n = n || "variation";
                        for (var f = 0; f < t.length; ++f)
                            (a = t[f]).pv = Array.isArray(a.pv) && a.pv.join(" ") || a.pv || "",
                            l = n + " " + a.pv,
                            "number" == typeof a.mateIn ? l += " mate " + a.mateIn : "number" == typeof a.mate ? l += " mate " + a.mate : l += " cp " + Math.round(a.cp),
                            "number" == typeof a.depth && (l += " depth " + a.depth),
                            e.push(l);
                        return e
                    },
                    addPush: function(e, t) {
                        var n;
                        return "string" == typeof t && (t = {
                            moveLan: t
                        }),
                        n = "push " + t.moveLan,
                        t.isBook && (n += " isBook"),
                        t.isRetry && (n += " isRetry"),
                        e.push(n),
                        e
                    },
                    addPosition: function(e, t) {
                        return e.push("position fen " + t),
                        e
                    },
                    addVariant: function(e, t) {
                        return "chess960" === String(t).toLowerCase().replace(/ |-/g, "") ? (e.push("setoption name UCI_Variant value chess"),
                        e.push("setoption name UCI_Chess960 value " + !0)) : (e.push("setoption name UCI_Variant value chess"),
                        e.push("setoption name UCI_Chess960 value " + !1)),
                        e
                    }
                },
                jce
            }();
            /*!
 * Chess.com (c) 2020
 *
 * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
 */
            e.exports = a
        }();
        /*!
 * Chess.com (c) 2020 | all rights reserved
 */
        /*!
 * A distant fork of chess.js - BSD (c) 2014, Jeff Hlywa (jhlywa@gmail.com)
 */
    },
    54713: function(e, t, n) {
        "use strict";
        function _arrayLikeToArray(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, a = new Array(t); n < t; n++)
                a[n] = e[n];
            return a
        }
        function _toConsumableArray(e) {
            return function _arrayWithoutHoles(e) {
                if (Array.isArray(e))
                    return _arrayLikeToArray(e)
            }(e) || function _iterableToArray(e) {
                if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                    return Array.from(e)
            }(e) || function _unsupportedIterableToArray(e, t) {
                if (e) {
                    if ("string" == typeof e)
                        return _arrayLikeToArray(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return "Object" === n && e.constructor && (n = e.constructor.name),
                    "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? _arrayLikeToArray(e, t) : void 0
                }
            }(e) || function _nonIterableSpread() {
                throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }()
        }
        function _typeof(e) {
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            ,
            _typeof(e)
        }
        function _defineProperties(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1,
                a.configurable = !0,
                "value"in a && (a.writable = !0),
                Object.defineProperty(e, a.key, a)
            }
        }
        function _createClass(e, t, n) {
            return t && _defineProperties(e.prototype, t),
            n && _defineProperties(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            e
        }
        function _assertThisInitialized(e) {
            if (void 0 === e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }
        function _setPrototypeOf(e, t) {
            return _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) {
                return e.__proto__ = t,
                e
            }
            ,
            _setPrototypeOf(e, t)
        }
        function _inherits(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && _setPrototypeOf(e, t)
        }
        function _possibleConstructorReturn(e, t) {
            if (t && ("object" === _typeof(t) || "function" == typeof t))
                return t;
            if (void 0 !== t)
                throw new TypeError("Derived constructors may only return object or undefined");
            return _assertThisInitialized(e)
        }
        function _getPrototypeOf(e) {
            return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            ,
            _getPrototypeOf(e)
        }
        function _isNativeReflectConstruct() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
                return !1;
            if (Reflect.construct.sham)
                return !1;
            if ("function" == typeof Proxy)
                return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                ))),
                !0
            } catch (e) {
                return !1
            }
        }
        function _construct(e, t, n) {
            return _construct = _isNativeReflectConstruct() ? Reflect.construct : function _construct(e, t, n) {
                var a = [null];
                a.push.apply(a, t);
                var l = new (Function.bind.apply(e, a));
                return n && _setPrototypeOf(l, n.prototype),
                l
            }
            ,
            _construct.apply(null, arguments)
        }
        function _wrapNativeSuper(e) {
            var t = "function" == typeof Map ? new Map : void 0;
            return _wrapNativeSuper = function _wrapNativeSuper(e) {
                if (null === e || !function _isNativeFunction(e) {
                    return -1 !== Function.toString.call(e).indexOf("[native code]")
                }(e))
                    return e;
                if ("function" != typeof e)
                    throw new TypeError("Super expression must either be null or a function");
                if (void 0 !== t) {
                    if (t.has(e))
                        return t.get(e);
                    t.set(e, Wrapper)
                }
                function Wrapper() {
                    return _construct(e, arguments, _getPrototypeOf(this).constructor)
                }
                return Wrapper.prototype = Object.create(e.prototype, {
                    constructor: {
                        value: Wrapper,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                _setPrototypeOf(Wrapper, e)
            }
            ,
            _wrapNativeSuper(e)
        }
        function defineProperty_defineProperty(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        function _classCallCheck(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        function asyncGeneratorStep(e, t, n, a, l, f, h) {
            try {
                var p = e[f](h)
                  , m = p.value
            } catch (g) {
                return void n(g)
            }
            p.done ? t(m) : Promise.resolve(m).then(a, l)
        }
        function asyncToGenerator_asyncToGenerator(e) {
            return function() {
                var t = this
                  , n = arguments;
                return new Promise((function(a, l) {
                    var f = e.apply(t, n);
                    function _next(e) {
                        asyncGeneratorStep(f, a, l, _next, _throw, "next", e)
                    }
                    function _throw(e) {
                        asyncGeneratorStep(f, a, l, _next, _throw, "throw", e)
                    }
                    _next(void 0)
                }
                ))
            }
        }
        n.d(t, {
            Hn: function() {
                return p
            },
            eI: function() {
                return createClient
            },
            BL: function() {
                return createCollection
            },
            kr: function() {
                return createContext
            },
            ko: function() {
                return createExtension
            },
            QB: function() {
                return initApp
            },
            tL: function() {
                return initController
            },
            Uc: function() {
                return updateModel
            }
        });
        var a = n(87757)
          , l = n.n(a)
          , f = n(31663)
          , h = n(92866);
        function _createSuper(e) {
            var t = function dist_isNativeReflectConstruct() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                    ))),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function _createSuperInternal() {
                var n, a = _getPrototypeOf(e);
                if (t) {
                    var l = _getPrototypeOf(this).constructor;
                    n = Reflect.construct(a, arguments, l)
                } else
                    n = a.apply(this, arguments);
                return _possibleConstructorReturn(this, n)
            }
        }
        function createClient(e) {
            return Object.keys(e).forEach((function(t) {
                "function" == typeof e[t] && (e[t] = e[t].bind(e))
            }
            )),
            e
        }
        function _initClient() {
            return (_initClient = asyncToGenerator_asyncToGenerator(l().mark((function _callee2(e, t) {
                return l().wrap((function _callee2$(n) {
                    for (; ; )
                        switch (n.prev = n.next) {
                        case 0:
                            return n.prev = 0,
                            n.next = 3,
                            e.init(t);
                        case 3:
                            n.next = 8;
                            break;
                        case 5:
                            n.prev = 5,
                            n.t0 = n.catch(0),
                            console.error(n.t0);
                        case 8:
                        case "end":
                            return n.stop()
                        }
                }
                ), _callee2, null, [[0, 5]])
            }
            )))).apply(this, arguments)
        }
        var p = function Model() {
            _classCallCheck(this, Model)
        };
        function updateModel(e, t) {
            (function getModelProperties(e) {
                return Object.getOwnPropertyNames(e).filter((function(e) {
                    return "__ob__" !== e
                }
                ))
            }
            )(t).forEach((function(n) {
                n in e && (e[n]instanceof p && t[n] ? updateModel(e[n], t[n]) : function isCollectionLike(e) {
                    return Boolean(e instanceof Array && "options"in e && "ModelFactory"in e)
                }(e[n]) && t[n]instanceof Array ? t[n].forEach((function(t, a) {
                    var l = e[n][a];
                    l instanceof p ? updateModel(l, t) : e[n].add(t)
                }
                )) : function hasChanged(e, t) {
                    return e instanceof Array && t instanceof Array && e.length === t.length ? 0 !== e.length && e.some((function(e, n) {
                        return e !== t[n]
                    }
                    )) : e !== t
                }(e[n], t[n]) && (e[n] = t[n]))
            }
            ))
        }
        var m = function(e) {
            _inherits(Collection, e);
            var t = _createSuper(Collection);
            function Collection(e, n) {
                var a;
                return _classCallCheck(this, Collection),
                defineProperty_defineProperty(_assertThisInitialized(a = t.call(this)), "options", void 0),
                defineProperty_defineProperty(_assertThisInitialized(a), "ModelFactory", void 0),
                a.options = n,
                a.ModelFactory = e,
                a
            }
            return _createClass(Collection, [{
                key: "add",
                value: function add(e) {
                    var t = new this.ModelFactory;
                    return updateModel(t, e),
                    this.push(t),
                    this.options.max && this.length > this.options.max && this.splice(0, this.length - this.options.max),
                    t
                }
            }, {
                key: "find",
                value: function find(e) {
                    return this[this.findIndex(e)]
                }
            }, {
                key: "findIndex",
                value: function findIndex(e) {
                    var t = this;
                    return "function" == typeof e ? Array.prototype.findIndex.call(this, e) : "object" === _typeof(e) && null !== e ? Array.prototype.findIndex.call(this, (function(n) {
                        return t.getKey(n) === t.getKey(e)
                    }
                    )) : Array.prototype.findIndex.call(this, (function(n) {
                        return t.getKey(n) === e
                    }
                    ))
                }
            }, {
                key: "includes",
                value: function includes(e) {
                    return -1 !== this.findIndex(e)
                }
            }, {
                key: "update",
                value: function update(e) {
                    var t = this.findIndex(e);
                    if (-1 === t)
                        return this.add(e);
                    var n = this[t];
                    return updateModel(n, e),
                    n
                }
            }, {
                key: "remove",
                value: function remove(e) {
                    var t = this.findIndex(e);
                    if (-1 === t)
                        return null;
                    var n = this[t];
                    return this.splice(t, 1),
                    n
                }
            }, {
                key: "reset",
                value: function reset(e) {
                    var t = this;
                    if (e && 0 !== e.length) {
                        var n = e.map((function(e) {
                            var n;
                            return e instanceof t.ModelFactory ? n = e : updateModel((n = t.find(e)) || (n = new t.ModelFactory), e),
                            n
                        }
                        ));
                        this.splice.apply(this, [0, this.length].concat(_toConsumableArray(n)))
                    } else
                        this.splice(0)
                }
            }, {
                key: "getKey",
                value: function getKey(e) {
                    var t = e[this.options.key];
                    return "function" == typeof t ? t.call(e) : t
                }
            }]),
            Collection
        }(_wrapNativeSuper(Array));
        function createCollection(e, t) {
            var n = new m(e,t);
            if (["add", "find", "findIndex", "update", "remove", "includes", "reset", "getKey"].forEach((function(e) {
                n[e] = m.prototype[e].bind(n)
            }
            )),
            t.create)
                for (var a = 0; a < t.create; a++)
                    n.push(new n.ModelFactory);
            return n
        }
        function createExtension(e) {
            return function(t) {
                return Object.assign(e.context, t),
                e
            }
        }
        function createContext() {
            return {}
        }
        function initController(e) {
            if ("function" == typeof e)
                initController(e());
            else {
                if (e instanceof Promise)
                    return e.then((function(e) {
                        return initController(e.default)
                    }
                    ));
                if (document.querySelector(e.el))
                    return new Promise((function(t) {
                        new (f.default.extend({
                            mounted: t
                        }))(e).$mount()
                    }
                    ))
            }
        }
        try {
            f.default.use(h.ZP)
        } catch (g) {}
        function mergeArray(e, t) {
            var n = [];
            return e[t]instanceof Array ? n.push.apply(n, _toConsumableArray(e[t])) : e[t] && console.warn("".concat(t, " should be array")),
            e.extensions && e.extensions.forEach((function(e) {
                e[t]instanceof Array ? n.push.apply(n, _toConsumableArray(e[t])) : e[t] && console.warn("extension ".concat(t, " should be array"))
            }
            )),
            n
        }
        function mergeObject(e, t) {
            var n = {};
            return e[t] && Object.assign(n, e[t]),
            e.extensions && e.extensions.forEach((function(e) {
                e[t] && Object.assign(n, e[t])
            }
            )),
            n
        }
        function initControllers(e) {
            return Promise.all(e.map(initController))
        }
        function initElements(e) {
            return _initElements.apply(this, arguments)
        }
        function _initElements() {
            return (_initElements = asyncToGenerator_asyncToGenerator(l().mark((function _callee3(e) {
                return l().wrap((function _callee3$(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            Object.keys(e).forEach((function(t) {
                                customElements.define(t, e[t])
                            }
                            ));
                        case 1:
                        case "end":
                            return t.stop()
                        }
                }
                ), _callee3)
            }
            )))).apply(this, arguments)
        }
        function initClients(e) {
            var t = new Promise((function(n) {
                setTimeout((function() {
                    Promise.all(e.map((function(e) {
                        return function initClient(e, t) {
                            return _initClient.apply(this, arguments)
                        }(e, t)
                    }
                    ))).then((function() {
                        return n()
                    }
                    ))
                }
                ), 0)
            }
            ));
            return t
        }
        function initWithHooks(e, t, n, a) {
            return _initWithHooks.apply(this, arguments)
        }
        function _initWithHooks() {
            return (_initWithHooks = asyncToGenerator_asyncToGenerator(l().mark((function _callee4(e, t, n, a) {
                return l().wrap((function _callee4$(l) {
                    for (; ; )
                        switch (l.prev = l.next) {
                        case 0:
                            if (!t) {
                                l.next = 11;
                                break
                            }
                            return null == n || n(t),
                            l.prev = 2,
                            l.next = 5,
                            e(t);
                        case 5:
                            l.next = 10;
                            break;
                        case 7:
                            l.prev = 7,
                            l.t0 = l.catch(2),
                            console.error(l.t0);
                        case 10:
                            null == a || a(t);
                        case 11:
                        case "end":
                            return l.stop()
                        }
                }
                ), _callee4, null, [[2, 7]])
            }
            )))).apply(this, arguments)
        }
        function initOptions(e) {
            return _initOptions.apply(this, arguments)
        }
        function _initOptions() {
            return (_initOptions = asyncToGenerator_asyncToGenerator(l().mark((function _callee5(e) {
                var t, n, a, f;
                return l().wrap((function _callee5$(l) {
                    for (; ; )
                        switch (l.prev = l.next) {
                        case 0:
                            return t = e.elements,
                            n = e.controllers,
                            a = e.clients,
                            f = e.hooks,
                            l.next = 3,
                            Promise.all([initWithHooks(initElements, t, null == f ? void 0 : f.onBeforeInitElements, null == f ? void 0 : f.onAfterInitElements), initWithHooks(initControllers, n, null == f ? void 0 : f.onBeforeInitControllers, null == f ? void 0 : f.onAfterInitControllers), initWithHooks(initClients, a, null == f ? void 0 : f.onBeforeInitClients, null == f ? void 0 : f.onAfterInitClients)]);
                        case 3:
                        case "end":
                            return l.stop()
                        }
                }
                ), _callee5)
            }
            )))).apply(this, arguments)
        }
        function initApp(e) {
            return _initApp.apply(this, arguments)
        }
        function _initApp() {
            return (_initApp = asyncToGenerator_asyncToGenerator(l().mark((function _callee6(e) {
                var t, n, a, f, p, m, g;
                return l().wrap((function _callee6$(l) {
                    for (; ; )
                        switch (l.prev = l.next) {
                        case 0:
                            return a = (0,
                            h.iH)(mergeArray(e, "state")),
                            f = mergeObject(e, "elements"),
                            p = mergeArray(e, "controllers"),
                            m = mergeArray(e, "clients"),
                            g = e.hooks,
                            l.next = 7,
                            initWithHooks(initOptions, {
                                state: a,
                                elements: f,
                                controllers: p,
                                clients: m,
                                hooks: g
                            }, null === (t = e.hooks) || void 0 === t ? void 0 : t.onBeforeInit, null === (n = e.hooks) || void 0 === n ? void 0 : n.onAfterInit);
                        case 7:
                        case "end":
                            return l.stop()
                        }
                }
                ), _callee6)
            }
            )))).apply(this, arguments)
        }
        Map
    },
    56279: function(e) {
        !function webpackUniversalModuleDefinition(t, n) {
            e.exports = n()
        }("undefined" != typeof self && self, (function() {
            return function(e) {
                var t = {};
                function __nested_webpack_require_575__(n) {
                    if (t[n])
                        return t[n].exports;
                    var a = t[n] = {
                        i: n,
                        l: !1,
                        exports: {}
                    };
                    return e[n].call(a.exports, a, a.exports, __nested_webpack_require_575__),
                    a.l = !0,
                    a.exports
                }
                return __nested_webpack_require_575__.m = e,
                __nested_webpack_require_575__.c = t,
                __nested_webpack_require_575__.d = function(e, t, n) {
                    __nested_webpack_require_575__.o(e, t) || Object.defineProperty(e, t, {
                        enumerable: !0,
                        get: n
                    })
                }
                ,
                __nested_webpack_require_575__.r = function(e) {
                    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                        value: "Module"
                    }),
                    Object.defineProperty(e, "__esModule", {
                        value: !0
                    })
                }
                ,
                __nested_webpack_require_575__.t = function(e, t) {
                    if (1 & t && (e = __nested_webpack_require_575__(e)),
                    8 & t)
                        return e;
                    if (4 & t && "object" == typeof e && e && e.__esModule)
                        return e;
                    var n = Object.create(null);
                    if (__nested_webpack_require_575__.r(n),
                    Object.defineProperty(n, "default", {
                        enumerable: !0,
                        value: e
                    }),
                    2 & t && "string" != typeof e)
                        for (var a in e)
                            __nested_webpack_require_575__.d(n, a, function(t) {
                                return e[t]
                            }
                            .bind(null, a));
                    return n
                }
                ,
                __nested_webpack_require_575__.n = function(e) {
                    var t = e && e.__esModule ? function getDefault() {
                        return e.default
                    }
                    : function getModuleExports() {
                        return e
                    }
                    ;
                    return __nested_webpack_require_575__.d(t, "a", t),
                    t
                }
                ,
                __nested_webpack_require_575__.o = function(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }
                ,
                __nested_webpack_require_575__.p = "",
                __nested_webpack_require_575__(__nested_webpack_require_575__.s = 69)
            }([function(e, t, n) {
                "use strict";
                function normalizeComponent(e, t, n, a, l, f, h, p) {
                    var m, g = "function" == typeof e ? e.options : e;
                    if (t && (g.render = t,
                    g.staticRenderFns = n,
                    g._compiled = !0),
                    a && (g.functional = !0),
                    f && (g._scopeId = "data-v-" + f),
                    h ? (m = function(e) {
                        (e = e || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (e = __VUE_SSR_CONTEXT__),
                        l && l.call(this, e),
                        e && e._registeredComponents && e._registeredComponents.add(h)
                    }
                    ,
                    g._ssrRegister = m) : l && (m = p ? function() {
                        l.call(this, this.$root.$options.shadowRoot)
                    }
                    : l),
                    m)
                        if (g.functional) {
                            g._injectStyles = m;
                            var v = g.render;
                            g.render = function renderWithStyleInjection(e, t) {
                                return m.call(t),
                                v(e, t)
                            }
                        } else {
                            var y = g.beforeCreate;
                            g.beforeCreate = y ? [].concat(y, m) : [m]
                        }
                    return {
                        exports: e,
                        options: g
                    }
                }
                n.d(t, "a", (function() {
                    return normalizeComponent
                }
                ))
            }
            , function(e, t) {
                e.exports = function(e) {
                    if (!e.webpackPolyfill) {
                        var t = Object.create(e);
                        t.children || (t.children = []),
                        Object.defineProperty(t, "loaded", {
                            enumerable: !0,
                            get: function() {
                                return t.l
                            }
                        }),
                        Object.defineProperty(t, "id", {
                            enumerable: !0,
                            get: function() {
                                return t.i
                            }
                        }),
                        Object.defineProperty(t, "exports", {
                            enumerable: !0
                        }),
                        t.webpackPolyfill = 1
                    }
                    return t
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_modal-content-component",
                    content: "ui_modal-content-content"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_outside-close-component",
                    icon: "ui_outside-close-icon"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_modal-header-component",
                    "dark-mode": "ui_modal-header-dark-mode",
                    icon: "ui_modal-header-icon"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_modal-component",
                    footer: "ui_modal-footer",
                    header: "ui_modal-header",
                    "rounded-sm": "ui_modal-rounded-sm",
                    "rounded-lg": "ui_modal-rounded-lg",
                    body: "ui_modal-body",
                    transparent: "ui_modal-transparent",
                    "dark-light": "ui_modal-dark-light",
                    "light-grey": "ui_modal-light-grey",
                    white: "ui_modal-white",
                    content: "ui_modal-content",
                    "parent-centered": "ui_modal-parent-centered",
                    bg: "ui_modal-bg",
                    "bg-dark": "ui_modal-bg-dark",
                    "bg-transparent": "ui_modal-bg-transparent",
                    enter: "ui_modal-enter",
                    leave: "ui_modal-leave",
                    xs: "ui_modal-xs",
                    sm: "ui_modal-sm",
                    md: "ui_modal-md",
                    lg: "ui_modal-lg",
                    xl: "ui_modal-xl"
                }
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(50)
                      , l = n(24)
                      , f = n(36)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/pagination/pagination-item.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_pagination-item-component",
                    light: "ui_pagination-item-light",
                    dark: "ui_pagination-item-dark",
                    disabled: "ui_pagination-item-disabled",
                    active: "ui_pagination-item-active",
                    icon: "ui_pagination-item-icon"
                }
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(51)
                      , l = n(25)
                      , f = n(37)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/pagination/pagination-spread.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_pagination-spread-component",
                    light: "ui_pagination-spread-light",
                    dark: "ui_pagination-spread-dark"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_pagination-component",
                    top: "ui_pagination-top",
                    navigation: "ui_pagination-navigation"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_v5-button-component",
                    primary: "ui_v5-button-primary",
                    large: "ui_v5-button-large",
                    secondary: "ui_v5-button-secondary",
                    tertiary: "ui_v5-button-tertiary",
                    danger: "ui_v5-button-danger",
                    basic: "ui_v5-button-basic",
                    "basic-dark": "ui_v5-button-basic-dark",
                    "basic-light": "ui_v5-button-basic-light",
                    small: "ui_v5-button-small",
                    "x-small": "ui_v5-button-x-small",
                    "extra-padding": "ui_v5-button-extra-padding",
                    "min-width": "ui_v5-button-min-width",
                    full: "ui_v5-button-full",
                    icon: "ui_v5-button-icon",
                    disabled: "ui_v5-button-disabled",
                    active: "ui_v5-button-active"
                }
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(55)
                      , l = n(29)
                      , f = n(41)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/v5-input/v5-input.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_v5-input-component",
                    light: "ui_v5-input-light",
                    dark: "ui_v5-input-dark",
                    error: "ui_v5-input-error",
                    large: "ui_v5-input-large"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_v5-input-group-component",
                    light: "ui_v5-input-group-light",
                    dark: "ui_v5-input-group-dark",
                    icon: "ui_v5-input-group-icon",
                    left: "ui_v5-input-group-left",
                    right: "ui_v5-input-group-right",
                    "space-left": "ui_v5-input-group-space-left",
                    "space-right": "ui_v5-input-group-space-right",
                    button: "ui_v5-input-group-button"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_v5-select-component",
                    light: "ui_v5-select-light",
                    dark: "ui_v5-select-dark",
                    error: "ui_v5-select-error",
                    large: "ui_v5-select-large"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_v5-switch-component",
                    checkbox: "ui_v5-switch-checkbox",
                    label: "ui_v5-switch-label",
                    readonly: "ui_v5-switch-readonly",
                    button: "ui_v5-switch-button",
                    group: "ui_v5-switch-group"
                }
            }
            , function(e, t, n) {
                e.exports = {
                    component: "ui_v5-textarea-component",
                    light: "ui_v5-textarea-light",
                    dark: "ui_v5-textarea-dark",
                    error: "ui_v5-textarea-error",
                    autosize: "ui_v5-textarea-autosize",
                    small: "ui_v5-textarea-small",
                    large: "ui_v5-textarea-large",
                    "x-large": "ui_v5-textarea-x-large"
                }
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e = this
                      , t = e.$createElement;
                    return (e._self._c || t)("div", e._b({
                        class: ["icon-font-chess", e.name],
                        style: [{
                            fontSize: e.size + "rem",
                            width: e.size + "rem",
                            height: e.size + "rem"
                        }],
                        on: {
                            click: function(t) {
                                return e.$emit("click", t)
                            }
                        }
                    }, "div", e.$attrs, !1))
                };
                render._withStripped = !0;
                var a = {
                    name: "IconFont",
                    props: {
                        name: {
                            required: !0,
                            type: String
                        },
                        size: {
                            default: 3,
                            required: !1,
                            type: Number
                        }
                    }
                }
                  , l = n(0)
                  , f = Object(l.a)(a, render, [], !1, null, null, null);
                f.options.__file = "src/ui/icon-font/icon-font.vue";
                t.a = f.exports
            }
            , function(e, t, n) {
                "use strict";
                var a, l;
                !function(e) {
                    !function(e) {
                        e.DidHide = "modal-did-hide"
                    }(e.Events || (e.Events = {}))
                }(a || (a = {})),
                function(e) {
                    !function(e) {
                        e[e.Backspace = 8] = "Backspace",
                        e[e.Delete = 46] = "Delete",
                        e[e.DownArrow = 40] = "DownArrow",
                        e[e.Enter = 13] = "Enter",
                        e[e.Escape = 27] = "Escape",
                        e[e.LeftArrow = 37] = "LeftArrow",
                        e[e.RightArrow = 39] = "RightArrow",
                        e[e.Spacebar = 32] = "Spacebar",
                        e[e.Stop = 137] = "Stop",
                        e[e.Tab = 9] = "Tab",
                        e[e.UpArrow = 38] = "UpArrow"
                    }(e.KeyCodes || (e.KeyCodes = {}))
                }(l || (l = {}));
                var f = {
                    name: "Modal",
                    props: {
                        autoShow: {
                            type: Boolean,
                            default: !1
                        },
                        closeOnAction: {
                            type: Boolean,
                            default: !0
                        },
                        centerOverParent: {
                            type: Boolean,
                            default: !1
                        },
                        bgColor: {
                            type: String,
                            default: null
                        },
                        enableBackgroundScroll: {
                            type: Boolean,
                            default: !0
                        },
                        isTransparent: {
                            type: Boolean,
                            default: !1
                        },
                        corners: {
                            type: String,
                            default: null
                        },
                        modalWidth: {
                            type: String,
                            default: null
                        }
                    },
                    data: function data() {
                        return {
                            visible: !1
                        }
                    },
                    mounted: function mounted() {
                        this.closeOnAction && window.addEventListener("keyup", this.onKeyPress),
                        this.autoShow && this.show()
                    },
                    beforeDestroy: function beforeDestroy() {
                        this.hide(),
                        this.closeOnAction && window.removeEventListener("keyup", this.onKeyPress)
                    },
                    methods: {
                        hide: function hide() {
                            this.visible = !1,
                            document.body.classList.remove("modal-overflow-hidden"),
                            this.$emit(a.Events.DidHide)
                        },
                        onBackgroundClick: function onBackgroundClick(e) {
                            document.contains(e.target) && this.closeOnAction && this.$refs.body && !this.$refs.body.contains(e.target) && this.hide()
                        },
                        onKeyPress: function onKeyPress(e) {
                            e.keyCode === l.KeyCodes.Escape && this.hide()
                        },
                        show: function show() {
                            this.visible = !0,
                            this.enableBackgroundScroll || document.body.classList.add("modal-overflow-hidden")
                        }
                    }
                };
                t.a = f
            }
            , function(e, t, n) {
                "use strict";
                var a, l, f = "function" == typeof Map ? new Map : (a = [],
                l = [],
                {
                    has: function(e) {
                        return a.indexOf(e) > -1
                    },
                    get: function(e) {
                        return l[a.indexOf(e)]
                    },
                    set: function(e, t) {
                        -1 === a.indexOf(e) && (a.push(e),
                        l.push(t))
                    },
                    delete: function(e) {
                        var t = a.indexOf(e);
                        t > -1 && (a.splice(t, 1),
                        l.splice(t, 1))
                    }
                }), o = function(e) {
                    return new Event(e,{
                        bubbles: !0
                    })
                };
                try {
                    new Event("test")
                } catch (a) {
                    o = function(e) {
                        var t = document.createEvent("Event");
                        return t.initEvent(e, !0, !1),
                        t
                    }
                }
                function r(e) {
                    var t = f.get(e);
                    t && t.destroy()
                }
                function i(e) {
                    var t = f.get(e);
                    t && t.update()
                }
                var h = null;
                "undefined" == typeof window || "function" != typeof window.getComputedStyle ? ((h = function(e) {
                    return e
                }
                ).destroy = function(e) {
                    return e
                }
                ,
                h.update = function(e) {
                    return e
                }
                ) : ((h = function(e, t) {
                    return e && Array.prototype.forEach.call(e.length ? e : [e], (function(e) {
                        return function(e) {
                            if (e && e.nodeName && "TEXTAREA" === e.nodeName && !f.has(e)) {
                                var t, n = null, a = null, l = null, d = function() {
                                    e.clientWidth !== a && c()
                                }, h = function(t) {
                                    window.removeEventListener("resize", d, !1),
                                    e.removeEventListener("input", c, !1),
                                    e.removeEventListener("keyup", c, !1),
                                    e.removeEventListener("autosize:destroy", h, !1),
                                    e.removeEventListener("autosize:update", c, !1),
                                    Object.keys(t).forEach((function(n) {
                                        e.style[n] = t[n]
                                    }
                                    )),
                                    f.delete(e)
                                }
                                .bind(e, {
                                    height: e.style.height,
                                    resize: e.style.resize,
                                    overflowY: e.style.overflowY,
                                    overflowX: e.style.overflowX,
                                    wordWrap: e.style.wordWrap
                                });
                                e.addEventListener("autosize:destroy", h, !1),
                                "onpropertychange"in e && "oninput"in e && e.addEventListener("keyup", c, !1),
                                window.addEventListener("resize", d, !1),
                                e.addEventListener("input", c, !1),
                                e.addEventListener("autosize:update", c, !1),
                                e.style.overflowX = "hidden",
                                e.style.wordWrap = "break-word",
                                f.set(e, {
                                    destroy: h,
                                    update: c
                                }),
                                "vertical" === (t = window.getComputedStyle(e, null)).resize ? e.style.resize = "none" : "both" === t.resize && (e.style.resize = "horizontal"),
                                n = "content-box" === t.boxSizing ? -(parseFloat(t.paddingTop) + parseFloat(t.paddingBottom)) : parseFloat(t.borderTopWidth) + parseFloat(t.borderBottomWidth),
                                isNaN(n) && (n = 0),
                                c()
                            }
                            function u(t) {
                                var n = e.style.width;
                                e.style.width = "0px",
                                e.style.width = n,
                                e.style.overflowY = t
                            }
                            function s() {
                                if (0 !== e.scrollHeight) {
                                    var t = function(e) {
                                        for (var t = []; e && e.parentNode && e.parentNode instanceof Element; )
                                            e.parentNode.scrollTop && t.push({
                                                node: e.parentNode,
                                                scrollTop: e.parentNode.scrollTop
                                            }),
                                            e = e.parentNode;
                                        return t
                                    }(e)
                                      , l = document.documentElement && document.documentElement.scrollTop;
                                    e.style.height = "",
                                    e.style.height = e.scrollHeight + n + "px",
                                    a = e.clientWidth,
                                    t.forEach((function(e) {
                                        e.node.scrollTop = e.scrollTop
                                    }
                                    )),
                                    l && (document.documentElement.scrollTop = l)
                                }
                            }
                            function c() {
                                s();
                                var t = Math.round(parseFloat(e.style.height))
                                  , n = window.getComputedStyle(e, null)
                                  , a = "content-box" === n.boxSizing ? Math.round(parseFloat(n.height)) : e.offsetHeight;
                                if (a < t ? "hidden" === n.overflowY && (u("scroll"),
                                s(),
                                a = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(e, null).height)) : e.offsetHeight) : "hidden" !== n.overflowY && (u("hidden"),
                                s(),
                                a = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(e, null).height)) : e.offsetHeight),
                                l !== a) {
                                    l = a;
                                    var f = o("autosize:resized");
                                    try {
                                        e.dispatchEvent(f)
                                    } catch (e) {}
                                }
                            }
                        }(e)
                    }
                    )),
                    e
                }
                ).destroy = function(e) {
                    return e && Array.prototype.forEach.call(e.length ? e : [e], r),
                    e
                }
                ,
                h.update = function(e) {
                    return e && Array.prototype.forEach.call(e.length ? e : [e], i),
                    e
                }
                );
                var p = h
                  , m = {
                    name: "V5Textarea",
                    props: {
                        autofocus: {
                            default: !1,
                            type: Boolean
                        },
                        autosize: {
                            type: Boolean,
                            default: !1
                        },
                        forceTheme: {
                            type: String,
                            default: ""
                        },
                        hasError: {
                            default: !1,
                            type: Boolean
                        },
                        size: {
                            type: String,
                            default: ""
                        },
                        value: {
                            default: "",
                            type: [Number, String]
                        }
                    },
                    watch: {
                        value: {
                            handler: function handler() {
                                var e = this;
                                this.autosize && setTimeout((function() {
                                    p.update(e.$el)
                                }
                                ), 50)
                            }
                        }
                    },
                    mounted: function mounted() {
                        this.autosize && (p(this.$el),
                        this.$el.addEventListener("autosize:resized", this.resizeEvent)),
                        this.autofocus && this.$el.focus()
                    },
                    beforeUnmount: function beforeUnmount() {
                        this.autosize && this.$el.removeEventListener("autosize:resized", this.resizeEvent)
                    },
                    methods: {
                        resizeEvent: function resizeEvent() {
                            var e = this;
                            this.$nextTick((function() {
                                e.$emit("resize")
                            }
                            ))
                        }
                    }
                };
                t.a = m
            }
            , function(e, t, n) {
                "use strict";
                t.a = {
                    name: "ModalContent"
                }
            }
            , function(e, t, n) {
                "use strict";
                t.a = {
                    name: "OutsideClose"
                }
            }
            , function(e, t, n) {
                "use strict";
                var a = {
                    name: "ModalHeader",
                    components: {
                        IconFont: n(18).a
                    },
                    props: {
                        icon: {
                            type: String,
                            default: ""
                        }
                    }
                };
                t.a = a
            }
            , function(e, t, n) {
                "use strict";
                var a = {
                    name: "PaginationItem",
                    props: {
                        active: {
                            type: Boolean,
                            default: !1
                        },
                        content: {
                            type: String,
                            required: !1
                        },
                        disabled: {
                            type: Boolean,
                            default: !1
                        },
                        icon: {
                            type: String,
                            required: !1
                        },
                        href: {
                            default: null,
                            type: String,
                            required: !1
                        },
                        forceTheme: {
                            type: String,
                            required: !1
                        }
                    },
                    emits: ["click"]
                };
                t.a = a
            }
            , function(e, t, n) {
                "use strict";
                var a = {
                    name: "PaginationSpread",
                    props: {
                        forceTheme: {
                            type: String,
                            required: !1
                        }
                    }
                };
                t.a = a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(6)
                  , l = n(8)
                  , f = {
                    name: "Pagination",
                    components: {
                        PaginationItem: a.a,
                        PaginationSpread: l.a
                    },
                    props: {
                        forceTheme: {
                            type: String,
                            required: !1
                        }
                    }
                };
                t.a = f
            }
            , function(e, t, n) {
                "use strict";
                var a = {
                    name: "V5Button",
                    props: {
                        active: {
                            type: Boolean,
                            default: !1
                        },
                        disabled: {
                            type: Boolean,
                            default: !1
                        },
                        extraPadding: {
                            type: Boolean,
                            default: !1
                        },
                        fullWidth: {
                            type: Boolean,
                            default: !1
                        },
                        href: {
                            default: null,
                            type: String,
                            required: !1
                        },
                        minWidth: {
                            type: Boolean,
                            required: !1
                        },
                        size: {
                            type: String,
                            default: ""
                        },
                        theme: {
                            type: String,
                            default: "basic"
                        },
                        type: {
                            type: String,
                            default: "button"
                        }
                    }
                };
                t.a = a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(40)
                  , l = n.n(a)
                  , f = {
                    name: "V5InputGroup",
                    components: {
                        V5Input: n(12).a
                    },
                    props: {
                        ariaLabel: {
                            type: String,
                            default: ""
                        },
                        autocapitalize: {
                            required: !1,
                            type: String
                        },
                        autocomplete: {
                            type: String,
                            default: "off"
                        },
                        autocorrect: {
                            required: !1,
                            type: String
                        },
                        autofocus: Boolean,
                        clearButtonIcon: {
                            type: String,
                            default: ""
                        },
                        disabled: Boolean,
                        forceTheme: {
                            type: String,
                            default: ""
                        },
                        iconLeft: {
                            type: String,
                            default: ""
                        },
                        iconRight: {
                            type: String,
                            default: ""
                        },
                        id: {
                            type: String,
                            default: ""
                        },
                        maxlength: {
                            type: Number,
                            default: 524288
                        },
                        name: {
                            type: String,
                            default: ""
                        },
                        placeholder: {
                            type: String,
                            default: ""
                        },
                        size: {
                            type: String,
                            default: "small"
                        },
                        spellcheck: {
                            required: !1,
                            type: String
                        },
                        type: {
                            type: String,
                            default: "text"
                        },
                        value: {
                            type: [String, Number],
                            default: ""
                        }
                    },
                    computed: {
                        inputClasses: function inputClasses() {
                            var e;
                            return [(e = {},
                            l()(e, this.$style["space-left"], this.iconLeft),
                            l()(e, this.$style["space-right"], this.iconRight || this.clearButtonIcon),
                            e)]
                        }
                    },
                    methods: {
                        clearButtonAction: function clearButtonAction(e) {
                            this.$emit("clear-button-action", e)
                        },
                        blurEvent: function blurEvent(e) {
                            this.$emit("blur", e)
                        },
                        focusEvent: function focusEvent(e) {
                            this.$emit("focus", e)
                        },
                        keydownEvent: function keydownEvent(e) {
                            this.$emit("keydown", e)
                        },
                        keyupEvent: function keyupEvent(e) {
                            this.$emit("keyup", e)
                        },
                        keyupEnterEvent: function keyupEnterEvent(e) {
                            this.$emit("enter", e)
                        },
                        onIconClick: function onIconClick(e) {
                            this.$emit("icon-click-".concat(e))
                        },
                        updateValue: function updateValue(e) {
                            this.$emit("input", e)
                        }
                    }
                };
                t.a = f
            }
            , function(e, t, n) {
                "use strict";
                var a = {
                    name: "V5Input",
                    props: {
                        size: {
                            type: String,
                            default: ""
                        },
                        forceTheme: {
                            type: String,
                            default: ""
                        },
                        value: {
                            default: "",
                            type: [Number, String]
                        },
                        hasError: {
                            default: !1,
                            type: Boolean
                        },
                        hasNativeInputEvent: {
                            default: !1,
                            type: Boolean
                        }
                    },
                    methods: {
                        keyupEvent: function keyupEvent(e) {
                            this.$emit("keyup", e)
                        },
                        onInput: function onInput(e) {
                            this.$emit("input", this.hasNativeInputEvent ? e : e.target.value)
                        }
                    }
                };
                t.a = a
            }
            , function(e, t, n) {
                "use strict";
                var a = {
                    name: "V5Select",
                    props: {
                        emptyOption: {
                            type: String,
                            default: ""
                        },
                        forceTheme: {
                            type: String,
                            default: ""
                        },
                        hasError: {
                            default: !1,
                            type: Boolean
                        },
                        labelKey: {
                            type: String,
                            default: "label"
                        },
                        options: {
                            type: Array,
                            required: !0
                        },
                        placeholderText: {
                            type: String,
                            default: ""
                        },
                        size: {
                            type: String,
                            default: ""
                        },
                        value: {
                            type: [String, Number],
                            required: !1,
                            default: ""
                        },
                        valueKey: {
                            type: String,
                            default: "value"
                        }
                    },
                    methods: {
                        getLabel: function getLabel(e) {
                            return this.labelKey ? e[this.labelKey] : e
                        },
                        getValue: function getValue(e) {
                            return this.valueKey ? e[this.valueKey] : e
                        },
                        setSelectedOption: function setSelectedOption(e) {
                            this.$emit("input", e),
                            this.onChange && this.onChange()
                        }
                    }
                };
                t.a = a
            }
            , function(e, t, n) {
                "use strict";
                var a = {
                    name: "V5Switch",
                    props: {
                        name: {
                            type: String,
                            required: !0
                        },
                        value: {
                            type: Boolean,
                            required: !0
                        },
                        isDisabled: {
                            type: Boolean,
                            default: !1
                        }
                    },
                    methods: {
                        setSwitchStatus: function setSwitchStatus(e) {
                            this.$emit("input", e)
                        }
                    }
                };
                t.a = a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(2)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(3)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(4)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(5)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(7)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(9)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(10)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(11)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t) {
                e.exports = function _defineProperty(e, t, n) {
                    return t in e ? Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = n,
                    e
                }
            }
            , function(e, t, n) {
                "use strict";
                var a = n(13)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(14)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(15)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(16)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var a = n(17)
                  , l = n.n(a);
                t.default = l.a
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e = this
                      , t = e.$createElement;
                    return (e._self._c || t)("div", {
                        class: e.$style.component
                    }, [e._t("default")], 2)
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e = this
                      , t = e.$createElement
                      , n = e._self._c || t;
                    return n("button", {
                        class: e.$style.component,
                        attrs: {
                            type: "button"
                        },
                        on: {
                            click: function(t) {
                                return e.$emit("click", t)
                            }
                        }
                    }, [n("div", {
                        staticClass: "icon-font-chess x",
                        class: e.$style.icon
                    })])
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e = this
                      , t = e.$createElement
                      , n = e._self._c || t;
                    return n("div", {
                        class: e.$style.component
                    }, [e._t("default"), e._v(" "), e.icon ? n("IconFont", {
                        class: e.$style.icon,
                        attrs: {
                            name: e.icon
                        },
                        on: {
                            click: function(t) {
                                return e.$emit("close", t)
                            }
                        }
                    }) : e._e()], 2)
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement, a = t._self._c || n;
                    return a("Transition", {
                        attrs: {
                            "enter-active-class": t.$style.enter,
                            "leave-active-class": t.$style.leave
                        }
                    }, [t.visible ? a("div", [t.centerOverParent ? t._e() : a("div", {
                        class: [t.$style.bg, [t.isTransparent ? t.$style["bg-transparent"] : t.$style["bg-dark"]]]
                    }), t._v(" "), a("div", {
                        class: [t.$style.component, (e = {},
                        e[t.$style["parent-centered"]] = t.centerOverParent,
                        e)],
                        on: {
                            click: function(e) {
                                return t.onBackgroundClick(e)
                            }
                        }
                    }, [a("div", {
                        ref: "body",
                        class: [t.$style.body, t.$style[t.corners], t.$style[t.modalWidth], t.$style[t.bgColor]]
                    }, [this.$slots.header ? a("div", {
                        class: t.$style.header
                    }, [t._t("header")], 2) : t._e(), t._v(" "), this.$slots.content ? a("div", {
                        class: t.$style.content
                    }, [t._t("content")], 2) : t._e(), t._v(" "), t._t("default"), t._v(" "), this.$slots.footer ? a("div", {
                        class: t.$style.footer
                    }, [t._t("footer")], 2) : t._e()], 2)])]) : t._e()])
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement, a = t._self._c || n;
                    return a(t.href ? "a" : "button", {
                        tag: "Component",
                        class: [t.$style.component, (e = {},
                        e[t.$style.disabled] = t.href && t.disabled,
                        e[t.$style.active] = t.active,
                        e[t.$style.dark] = "dark" == t.forceTheme,
                        e[t.$style.light] = "light" == t.forceTheme,
                        e)],
                        attrs: {
                            rel: "nofollow",
                            "aria-selected": t.active,
                            disabled: !t.href && t.disabled,
                            href: t.href,
                            type: !t.href && "button"
                        },
                        on: {
                            click: function(e) {
                                return t.$emit("click", e)
                            }
                        }
                    }, [t.icon ? a("span", {
                        class: [t.$style.icon, "icon-font-chess", t.icon]
                    }) : t._e(), t._v(" "), t.content ? a("span", {
                        domProps: {
                            textContent: t._s(t.content)
                        }
                    }) : t._e()])
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement;
                    return (t._self._c || n)("div", {
                        class: [t.$style.component, (e = {},
                        e[t.$style.dark] = "dark" == t.forceTheme,
                        e[t.$style.light] = "light" == t.forceTheme,
                        e)],
                        domProps: {
                            textContent: t._s("...")
                        }
                    })
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e = this
                      , t = e.$createElement
                      , n = e._self._c || t;
                    return n("div", {
                        class: e.$style.component
                    }, [n("PaginationItem", {
                        class: e.$style.top,
                        attrs: {
                            "aria-label": "Go to Top",
                            icon: "chevron-up",
                            content: "Top",
                            "force-theme": e.forceTheme
                        },
                        on: {
                            click: e.onClick
                        }
                    }), e._v(" "), n("nav", {
                        class: e.$style.navigation
                    }, [n("PaginationItem", {
                        attrs: {
                            "force-theme": e.forceTheme,
                            href: "#"
                        },
                        domProps: {
                            textContent: e._s("First")
                        }
                    }), e._v(" "), n("PaginationItem", {
                        attrs: {
                            disabled: "",
                            icon: "chevron-left",
                            "force-theme": e.forceTheme
                        },
                        on: {
                            click: e.onClick
                        }
                    }), e._v(" "), n("PaginationSpread", {
                        attrs: {
                            "force-theme": e.forceTheme
                        }
                    }), e._v(" "), n("PaginationItem", {
                        attrs: {
                            "force-theme": e.forceTheme,
                            href: "#"
                        },
                        domProps: {
                            textContent: e._s("4")
                        }
                    }), e._v(" "), n("PaginationItem", {
                        attrs: {
                            active: "",
                            "force-theme": e.forceTheme
                        },
                        domProps: {
                            textContent: e._s("5")
                        },
                        on: {
                            click: e.onClick
                        }
                    }), e._v(" "), n("PaginationItem", {
                        attrs: {
                            disabled: "",
                            href: "#",
                            "force-theme": e.forceTheme
                        },
                        domProps: {
                            textContent: e._s("6")
                        }
                    }), e._v(" "), n("PaginationItem", {
                        attrs: {
                            icon: "chevron-right",
                            "force-theme": e.forceTheme
                        },
                        on: {
                            click: e.onClick
                        }
                    }), e._v(" "), n("PaginationItem", {
                        attrs: {
                            "force-theme": e.forceTheme
                        },
                        domProps: {
                            textContent: e._s("Last")
                        },
                        on: {
                            click: e.onClick
                        }
                    })], 1)], 1)
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement;
                    return (t._self._c || n)(t.href ? "a" : "button", {
                        tag: "Component",
                        class: [t.$style.component, t.$style[t.theme], t.$style[t.size], (e = {},
                        e[t.$style.full] = t.fullWidth,
                        e[t.$style.active] = t.active,
                        e[t.$style.disabled] = t.disabled,
                        e[t.$style["extra-padding"]] = t.extraPadding,
                        e[t.$style["min-width"]] = t.minWidth,
                        e)],
                        attrs: {
                            disabled: t.disabled,
                            href: t.href,
                            type: t.type
                        },
                        on: {
                            click: function(e) {
                                return t.$emit("click", e)
                            },
                            contextmenu: function(e) {
                                return t.$emit("contextmenu", e)
                            },
                            touchend: function(e) {
                                return t.$emit("touchend", e)
                            },
                            touchstart: function(e) {
                                return t.$emit("touchstart", e)
                            }
                        }
                    }, [t._t("default")], 2)
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement, a = t._self._c || n;
                    return a("div", {
                        class: [t.$style.component, (e = {},
                        e[t.$style.dark] = "dark" == t.forceTheme,
                        e[t.$style.light] = "light" == t.forceTheme,
                        e)]
                    }, [a("V5Input", {
                        class: t.inputClasses,
                        attrs: {
                            id: t.id,
                            "aria-label": t.ariaLabel,
                            autocapitalize: t.autocapitalize,
                            autocomplete: t.autocomplete,
                            autocorrect: t.autocorrect,
                            autofocus: t.autofocus,
                            "force-theme": t.forceTheme,
                            maxlength: t.maxlength,
                            name: t.name,
                            placeholder: t.placeholder,
                            readonly: t.disabled,
                            spellcheck: t.spellcheck,
                            type: t.type,
                            size: t.size,
                            value: t.value
                        },
                        on: {
                            blur: function(e) {
                                return t.blurEvent(e)
                            },
                            change: function(e) {
                                return t.$emit("change", e)
                            },
                            focus: function(e) {
                                return t.focusEvent(e)
                            },
                            input: function(e) {
                                return t.updateValue(e)
                            },
                            keydown: function(e) {
                                return t.keydownEvent(e)
                            },
                            keyup: [function(e) {
                                return t.keyupEvent(e)
                            }
                            , function(e) {
                                return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.keyupEnterEvent(e)
                            }
                            ]
                        }
                    }), t._v(" "), t.iconLeft ? a("span", {
                        staticClass: "icon-font-chess",
                        class: [t.$style.icon, t.$style.left, t.iconLeft],
                        on: {
                            click: function(e) {
                                return t.onIconClick("left")
                            }
                        }
                    }) : t._e(), t._v(" "), t.iconRight ? a("span", {
                        staticClass: "icon-font-chess",
                        class: [t.$style.icon, t.$style.right, t.iconRight],
                        on: {
                            click: function(e) {
                                return t.onIconClick("right")
                            }
                        }
                    }) : t._e(), t._v(" "), t.clearButtonIcon && !t.iconRight && t.value ? a("button", {
                        class: t.$style.button,
                        attrs: {
                            type: "button"
                        },
                        on: {
                            click: function(e) {
                                return t.clearButtonAction(e)
                            }
                        }
                    }, [a("span", {
                        staticClass: "icon-font-chess circle-x",
                        class: t.$style.icon
                    })]) : t._e(), t._v(" "), !t.clearButtonIcon || t.iconRight || t.value ? t._e() : a("span", {
                        staticClass: "icon-font-chess",
                        class: [t.$style.icon, t.$style.right, t.clearButtonIcon]
                    })], 1)
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement;
                    return (t._self._c || n)("input", {
                        class: [t.$style.component, t.$style[t.size], (e = {},
                        e[t.$style.dark] = "dark" == t.forceTheme,
                        e[t.$style.light] = "light" == t.forceTheme,
                        e[t.$style.error] = t.hasError,
                        e)],
                        domProps: {
                            value: t.value
                        },
                        on: {
                            blur: function(e) {
                                return t.$emit("blur", e)
                            },
                            change: function(e) {
                                return t.$emit("change", e)
                            },
                            focus: function(e) {
                                return t.$emit("focus", e)
                            },
                            input: t.onInput,
                            keydown: function(e) {
                                return t.$emit("keydown", e)
                            },
                            keyup: [function(e) {
                                return t.keyupEvent(e)
                            }
                            , function(e) {
                                return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.$emit("enter", e)
                            }
                            ],
                            paste: function(e) {
                                return t.$emit("paste", e)
                            }
                        }
                    })
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement, a = t._self._c || n;
                    return a("select", {
                        class: [t.$style.component, t.$style[t.size], (e = {},
                        e[t.$style.dark] = "dark" == t.forceTheme,
                        e[t.$style.light] = "light" == t.forceTheme,
                        e[t.$style.error] = t.hasError,
                        e)],
                        on: {
                            change: function(e) {
                                return t.setSelectedOption(e.target.value)
                            }
                        }
                    }, [t.placeholderText ? a("option", {
                        attrs: {
                            disabled: "",
                            hidden: "",
                            selected: "",
                            value: ""
                        },
                        domProps: {
                            textContent: t._s(t.placeholderText)
                        }
                    }) : t._e(), t._v(" "), t.emptyOption ? a("option", {
                        attrs: {
                            selected: "",
                            value: ""
                        },
                        domProps: {
                            textContent: t._s(t.emptyOption)
                        }
                    }) : t._e(), t._v(" "), t._l(t.options, (function(e, n) {
                        return a("option", {
                            key: n,
                            attrs: {
                                disabled: e.disabled,
                                hidden: e.hidden
                            },
                            domProps: {
                                selected: t.getValue(e) === t.value,
                                value: t.getValue(e)
                            }
                        }, [t._v("\n    " + t._s(t.getLabel(e)) + "\n  ")])
                    }
                    ))], 2)
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e = this
                      , t = e.$createElement
                      , n = e._self._c || t;
                    return n("div", {
                        class: e.$style.component
                    }, [n("input", {
                        class: e.$style.checkbox,
                        attrs: {
                            id: e.name,
                            type: "checkbox",
                            disabled: e.isDisabled,
                            name: e.name
                        },
                        domProps: {
                            checked: e.value
                        },
                        on: {
                            change: function(t) {
                                return e.setSwitchStatus(t.target.checked)
                            }
                        }
                    }), e._v(" "), n("label", {
                        class: e.$style.label,
                        attrs: {
                            for: e.name
                        }
                    }, [n("div", {
                        class: e.$style.button
                    })])])
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                var render = function() {
                    var e, t = this, n = t.$createElement;
                    return (t._self._c || n)("textarea", {
                        class: [t.$style.component, t.$style[t.size], (e = {},
                        e[t.$style.dark] = "dark" == t.forceTheme,
                        e[t.$style.light] = "light" == t.forceTheme,
                        e[t.$style.autosize] = t.autosize,
                        e[t.$style.error] = t.hasError,
                        e)],
                        domProps: {
                            value: t.value
                        },
                        on: {
                            blur: function(e) {
                                return t.$emit("blur", e)
                            },
                            focus: function(e) {
                                return t.$emit("focus", e)
                            },
                            input: function(e) {
                                return t.$emit("input", e.target.value)
                            },
                            keydown: function(e) {
                                return t.$emit("keydown", e)
                            }
                        }
                    })
                }
                  , a = [];
                render._withStripped = !0,
                n.d(t, "a", (function() {
                    return render
                }
                )),
                n.d(t, "b", (function() {
                    return a
                }
                ))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(46)
                      , l = n(21)
                      , f = n(32)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/modal/modal-content/modal-content.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(47)
                      , l = n(22)
                      , f = n(33)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/modal/modal-content/outside-close.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(48)
                      , l = n(23)
                      , f = n(34)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/modal/modal-header/modal-header.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(49)
                      , l = n(19)
                      , f = n(35)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/modal/modal.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(52)
                      , l = n(26)
                      , f = n(38)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/pagination/pagination.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(53)
                      , l = n(27)
                      , f = n(39)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/v5-button/v5-button.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(54)
                      , l = n(28)
                      , f = n(42)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/v5-input/v5-input-group.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(56)
                      , l = n(30)
                      , f = n(43)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/v5-select/v5-select.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(57)
                      , l = n(31)
                      , f = n(44)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/v5-switch/v5-switch.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                (function(e) {
                    var a = n(58)
                      , l = n(20)
                      , f = n(45)
                      , h = n(0)
                      , p = {};
                    e.hot,
                    e.hot;
                    var m = Object(h.a)(l.a, a.a, a.b, !1, (function injectStyles(e) {
                        p.$style = f.default.locals || f.default,
                        Object.defineProperty(this, "$style", {
                            configurable: !0,
                            get: function() {
                                return p.$style
                            }
                        })
                    }
                    ), null, null);
                    m.options.__file = "src/ui/v5-textarea/v5-textarea.vue",
                    t.a = m.exports
                }
                ).call(this, n(1)(e))
            }
            , function(e, t, n) {
                "use strict";
                n.r(t);
                var a = n(18);
                n.d(t, "IconFont", (function() {
                    return a.a
                }
                ));
                var l = n(59);
                n.d(t, "ModalContent", (function() {
                    return l.a
                }
                ));
                var f = n(60);
                n.d(t, "OutsideClose", (function() {
                    return f.a
                }
                ));
                var h = n(61);
                n.d(t, "ModalHeader", (function() {
                    return h.a
                }
                ));
                var p = n(62);
                n.d(t, "Modal", (function() {
                    return p.a
                }
                ));
                var m = n(6);
                n.d(t, "PaginationItem", (function() {
                    return m.a
                }
                ));
                var g = n(8);
                n.d(t, "PaginationSpread", (function() {
                    return g.a
                }
                ));
                var v = n(63);
                n.d(t, "Pagination", (function() {
                    return v.a
                }
                ));
                var y = n(64);
                n.d(t, "V5Button", (function() {
                    return y.a
                }
                ));
                var b = n(65);
                n.d(t, "V5InputGroup", (function() {
                    return b.a
                }
                ));
                var _ = n(12);
                n.d(t, "V5Input", (function() {
                    return _.a
                }
                ));
                var C = n(66);
                n.d(t, "V5Select", (function() {
                    return C.a
                }
                ));
                var A = n(67);
                n.d(t, "V5Switch", (function() {
                    return A.a
                }
                ));
                var S = n(68);
                n.d(t, "V5Textarea", (function() {
                    return S.a
                }
                ))
            }
            ])
        }
        ))
    },
    35174: function(e, t, n) {
        "use strict";
        function createEventEmitter() {
            const e = [];
            return {
                emit: function emit(t, n) {
                    let a;
                    for (a of e)
                        a.type !== t && "all" !== a.type || a.handler(n)
                },
                listeners: e,
                off: off,
                offAll: function offAll(e) {
                    return off({
                        handler: e,
                        type: "all"
                    })
                },
                offMany: function offMany(e=[]) {
                    e.forEach((e=>off(e)))
                },
                on: on,
                onAll: function onAll(e) {
                    on("all", e)
                },
                onMany: function onMany(e=[], t) {
                    e.forEach((e=>on(e, t)))
                },
                once: function once(t, n) {
                    const a = {
                        handler: (...e)=>{
                            off(a),
                            n(...e)
                        }
                        ,
                        type: t
                    };
                    e.push(a)
                }
            };
            function off(t) {
                const n = e.findIndex((e=>t.type === e.type && t.handler === e.handler));
                -1 !== n && e.splice(n, 1)
            }
            function on(t, n) {
                const a = {
                    handler: n,
                    type: t
                };
                e.push(a)
            }
        }
        n.d(t, {
            I: function() {
                return createEventEmitter
            }
        })
    },
    73167: function(e, t, n) {
        "use strict";
        function hasProperty(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        function pick(e, t) {
            return t.reduce(((t,n)=>(Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]),
            t)), {})
        }
        n.d(t, {
            l$: function() {
                return hasProperty
            },
            ei: function() {
                return pick
            }
        })
    },
    92591: function(e, t, n) {
        "use strict";
        function noop() {}
        function createQueue(e=!0) {
            const t = [];
            let n = !1;
            return {
                add: function add(a, ...l) {
                    let f = noop
                      , h = noop;
                    const p = new Promise(((e,t)=>{
                        h = e,
                        f = t
                    }
                    ));
                    t.push({
                        fn: a,
                        params: l,
                        reject: f,
                        resolve: h
                    }),
                    e && !1 === n && flush();
                    return p
                },
                clear: function clear() {
                    n = !1,
                    t.length = 0
                },
                flush: flush,
                getEntries: function getEntries() {
                    return t
                }
            };
            async function flush() {
                const e = t.shift();
                if (e) {
                    n = !0;
                    try {
                        const t = await e.fn(...e.params);
                        return e.resolve(t),
                        flush()
                    } catch (a) {
                        e.reject(a)
                    }
                } else
                    n = !1
            }
        }
        n.d(t, {
            j: function() {
                return createQueue
            }
        })
    },
    28774: function(e, t, n) {
        "use strict";
        function uncapitalizeFirstLetter(e) {
            return `${e[0].toLowerCase()}${e.slice(1)}`
        }
        n.d(t, {
            CL: function() {
                return uncapitalizeFirstLetter
            }
        })
    },
    56022: function(e, t, n) {
        "use strict";
        function generateRandomId() {
            const e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reduce((t=>t + e.charAt(Math.floor(Math.random() * e.length))), "")
        }
        n.d(t, {
            g: function() {
                return generateRandomId
            }
        })
    },
    90835: function(e, t, n) {
        "use strict";
        n.d(t, {
            Fl: function() {
                return computed
            },
            RC: function() {
                return defineAsyncComponent
            },
            aZ: function() {
                return defineComponent
            },
            Y3: function() {
                return I
            },
            Jd: function() {
                return M
            },
            bv: function() {
                return T
            },
            Ah: function() {
                return k
            },
            qj: function() {
                return reactive
            },
            iH: function() {
                return ref
            },
            YP: function() {
                return watch
            },
            m0: function() {
                return watchEffect
            }
        });
        var a = n(31663);
        function isNative(e) {
            return "function" == typeof e && /native code/.test(e.toString())
        }
        var l = "undefined" != typeof Symbol && isNative(Symbol) && "undefined" != typeof Reflect && isNative(Reflect.ownKeys)
          , noopFn = function(e) {
            return e
        }
          , f = {
            enumerable: !0,
            configurable: !0,
            get: noopFn,
            set: noopFn
        };
        function proxy(e, t, n) {
            var a = n.get
              , l = n.set;
            f.get = a || noopFn,
            f.set = l || noopFn,
            Object.defineProperty(e, t, f)
        }
        function def(e, t, n, a) {
            Object.defineProperty(e, t, {
                value: n,
                enumerable: !!a,
                writable: !0,
                configurable: !0
            })
        }
        function hasOwn(e, t) {
            return Object.hasOwnProperty.call(e, t)
        }
        function isArray(e) {
            return Array.isArray(e)
        }
        function isPlainObject(e) {
            return "[object Object]" === function(e) {
                return Object.prototype.toString.call(e)
            }(e)
        }
        function isFunction(e) {
            return "function" == typeof e
        }
        function warn(e, t) {
            a.default.util.warn(e, t)
        }
        var h = void 0;
        try {
            var p = n(31663);
            p && isVue(p) ? h = p : p && "default"in p && isVue(p.default) && (h = p.default)
        } catch (R) {}
        var m = null
          , g = null
          , v = "__composition_api_installed__";
        function isVue(e) {
            return e && "function" == typeof e && "Vue" === e.name
        }
        function getVueConstructor() {
            return m
        }
        function setCurrentInstance(e) {
            g = e
        }
        function getCurrentInstance() {
            return g ? toVue3ComponentInstance(g) : null
        }
        var y, b = new WeakMap;
        function toVue3ComponentInstance(e) {
            if (b.has(e))
                return b.get(e);
            var t = {
                proxy: e,
                update: e.$forceUpdate,
                uid: e._uid,
                emit: e.$emit.bind(e),
                parent: null,
                root: null
            };
            return ["data", "props", "attrs", "refs", "vnode", "slots"].forEach((function(n) {
                proxy(t, n, {
                    get: function() {
                        return e["$" + n]
                    }
                })
            }
            )),
            proxy(t, "isMounted", {
                get: function() {
                    return e._isMounted
                }
            }),
            proxy(t, "isUnmounted", {
                get: function() {
                    return e._isDestroyed
                }
            }),
            proxy(t, "isDeactivated", {
                get: function() {
                    return e._inactive
                }
            }),
            proxy(t, "emitted", {
                get: function() {
                    return e._events
                }
            }),
            b.set(e, t),
            e.$parent && (t.parent = toVue3ComponentInstance(e.$parent)),
            e.$root && (t.root = toVue3ComponentInstance(e.$root)),
            t
        }
        function currentVMInFn(e) {
            var t = getCurrentInstance();
            return null == t ? void 0 : t.proxy
        }
        function defineComponentInstance(e, t) {
            void 0 === t && (t = {});
            var n = e.config.silent;
            e.config.silent = !0;
            var a = new e(t);
            return e.config.silent = n,
            a
        }
        function createSlotProxy(e, t) {
            return function() {
                for (var n = [], a = 0; a < arguments.length; a++)
                    n[a] = arguments[a];
                return e.$scopedSlots[t] ? e.$scopedSlots[t].apply(e, n) : warn("slots." + t + '() got called outside of the "render()" scope', e)
            }
        }
        var __assign = function() {
            return __assign = Object.assign || function __assign(e) {
                for (var t, n = 1, a = arguments.length; n < a; n++)
                    for (var l in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, l) && (e[l] = t[l]);
                return e
            }
            ,
            __assign.apply(this, arguments)
        };
        /*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
        function __values(e) {
            var t = "function" == typeof Symbol && Symbol.iterator
              , n = t && e[t]
              , a = 0;
            if (n)
                return n.call(e);
            if (e && "number" == typeof e.length)
                return {
                    next: function() {
                        return e && a >= e.length && (e = void 0),
                        {
                            value: e && e[a++],
                            done: !e
                        }
                    }
                };
            throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
        }
        function __read(e, t) {
            var n = "function" == typeof Symbol && e[Symbol.iterator];
            if (!n)
                return e;
            var a, l, f = n.call(e), h = [];
            try {
                for (; (void 0 === t || t-- > 0) && !(a = f.next()).done; )
                    h.push(a.value)
            } catch (p) {
                l = {
                    error: p
                }
            } finally {
                try {
                    a && !a.done && (n = f.return) && n.call(f)
                } finally {
                    if (l)
                        throw l.error
                }
            }
            return h
        }
        function __spread() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e = e.concat(__read(arguments[t]));
            return e
        }
        function createSymbol(e) {
            return l ? Symbol.for(e) : e
        }
        var _ = createSymbol("composition-api.preFlushQueue")
          , C = createSymbol("composition-api.postFlushQueue")
          , A = "composition-api.refKey"
          , S = new WeakMap
          , x = (new WeakMap,
        new WeakMap)
          , w = function w(e) {
            proxy(this, "value", {
                get: e.get,
                set: e.set
            })
        };
        function createRef(e, t) {
            var n = new w(e)
              , a = Object.seal(n);
            return x.set(a, !0),
            a
        }
        function ref(e) {
            var t;
            if (isRef(e))
                return e;
            var n = reactive(((t = {})[A] = e,
            t));
            return createRef({
                get: function() {
                    return n[A]
                },
                set: function(e) {
                    return n[A] = e
                }
            })
        }
        function isRef(e) {
            return e instanceof w
        }
        function toRef(e, t) {
            var n = e[t];
            return isRef(n) ? n : createRef({
                get: function() {
                    return e[t]
                },
                set: function(n) {
                    return e[t] = n
                }
            })
        }
        function isRaw(e) {
            var t;
            return Boolean((null == e ? void 0 : e.__ob__) && (null === (t = e.__ob__) || void 0 === t ? void 0 : t.__raw__))
        }
        function isReactive(e) {
            var t;
            return Boolean((null == e ? void 0 : e.__ob__) && !(null === (t = e.__ob__) || void 0 === t ? void 0 : t.__raw__))
        }
        function setupAccessControl(e) {
            if (!(!isPlainObject(e) || isRaw(e) || Array.isArray(e) || isRef(e) || function isComponentInstance(e) {
                var t = getVueConstructor();
                return t && e instanceof t
            }(e) || S.has(e))) {
                S.set(e, !0);
                for (var t = Object.keys(e), n = 0; n < t.length; n++)
                    defineAccessControl(e, t[n])
            }
        }
        function defineAccessControl(e, t, n) {
            if ("__ob__" !== t && !isRaw(e[t])) {
                var a, l, f = Object.getOwnPropertyDescriptor(e, t);
                if (f) {
                    if (!1 === f.configurable)
                        return;
                    a = f.get,
                    l = f.set,
                    a && !l || 2 !== arguments.length || (n = e[t])
                }
                setupAccessControl(n),
                Object.defineProperty(e, t, {
                    enumerable: !0,
                    configurable: !0,
                    get: function getterHandler() {
                        var l = a ? a.call(e) : n;
                        return t !== A && isRef(l) ? l.value : l
                    },
                    set: function setterHandler(f) {
                        if (!a || l) {
                            var h = a ? a.call(e) : n;
                            t !== A && isRef(h) && !isRef(f) ? h.value = f : l ? l.call(e, f) : n = f,
                            setupAccessControl(f)
                        }
                    }
                })
            }
        }
        function observe(e) {
            var t, n = function getRegisteredVueOrDefault() {
                return m || h
            }();
            n.observable ? t = n.observable(e) : t = defineComponentInstance(n, {
                data: {
                    $$state: e
                }
            })._data.$$state;
            return hasOwn(t, "__ob__") || def(t, "__ob__", function mockObserver(e) {
                void 0 === e && (e = {});
                return {
                    value: e,
                    dep: {
                        notify: noopFn,
                        depend: noopFn,
                        addSub: noopFn,
                        removeSub: noopFn
                    }
                }
            }(t)),
            t
        }
        function createObserver() {
            return observe({}).__ob__
        }
        function reactive(e) {
            if (!isPlainObject(e) && !isArray(e) || isRaw(e) || !Object.isExtensible(e))
                return e;
            var t = observe(e);
            return setupAccessControl(t),
            t
        }
        function createLifeCycle(e) {
            return function(t) {
                var n, a = currentVMInFn(((n = e)[0].toUpperCase(),
                n.slice(1)));
                a && function injectHookOption(e, t, n, a) {
                    var l = t.$options
                      , f = e.config.optionMergeStrategies[n];
                    l[n] = f(l[n], function wrapHookCall(e, t) {
                        return function() {
                            for (var n, a = [], l = 0; l < arguments.length; l++)
                                a[l] = arguments[l];
                            var f = null === (n = getCurrentInstance()) || void 0 === n ? void 0 : n.proxy;
                            setCurrentInstance(e);
                            try {
                                return t.apply(void 0, __spread(a))
                            } finally {
                                setCurrentInstance(f)
                            }
                        }
                    }(t, a))
                }(getVueConstructor(), a, e, t)
            }
        }
        createLifeCycle("beforeMount");
        var P, T = createLifeCycle("mounted"), M = (createLifeCycle("beforeUpdate"),
        createLifeCycle("updated"),
        createLifeCycle("beforeDestroy")), k = createLifeCycle("destroyed");
        createLifeCycle("errorCaptured"),
        createLifeCycle("activated"),
        createLifeCycle("deactivated"),
        createLifeCycle("serverPrefetch");
        function flushPreQueue() {
            flushQueue(this, _)
        }
        function flushPostQueue() {
            flushQueue(this, C)
        }
        function getWatcherVM() {
            var e, t = null === (e = getCurrentInstance()) || void 0 === e ? void 0 : e.proxy;
            return t ? function hasWatchEnv(e) {
                return void 0 !== e[_]
            }(t) || function installWatchEnv(e) {
                e[_] = [],
                e[C] = [],
                e.$on("hook:beforeUpdate", flushPreQueue),
                e.$on("hook:updated", flushPostQueue)
            }(t) : (P || (P = defineComponentInstance(getVueConstructor())),
            t = P),
            t
        }
        function flushQueue(e, t) {
            for (var n = e[t], a = 0; a < n.length; a++)
                n[a]();
            n.length = 0
        }
        function queueFlushJob(e, t, n) {
            var fallbackFlush = function() {
                e.$nextTick((function() {
                    e[_].length && flushQueue(e, _),
                    e[C].length && flushQueue(e, C)
                }
                ))
            };
            switch (n) {
            case "pre":
                fallbackFlush(),
                e[_].push(t);
                break;
            case "post":
                fallbackFlush(),
                e[C].push(t);
                break;
            default:
                !function assert(e, t) {
                    if (!e)
                        throw new Error("[vue-composition-api] " + t)
                }(!1, 'flush must be one of ["post", "pre", "sync"], but got ' + n)
            }
        }
        function patchWatcherTeardown(e, t) {
            var n = e.teardown;
            e.teardown = function() {
                for (var a = [], l = 0; l < arguments.length; l++)
                    a[l] = arguments[l];
                n.apply(e, a),
                t()
            }
        }
        function createWatcher(e, t, n, a) {
            var l, f, h = a.flush, p = "sync" === h, registerCleanup = function(e) {
                f = function() {
                    try {
                        e()
                    } catch (t) {
                        !function logError(e, t, n) {
                            if ("undefined" == typeof window || "undefined" == typeof console)
                                throw e;
                            console.error(e)
                        }(t)
                    }
                }
            }, runCleanup = function() {
                f && (f(),
                f = null)
            }, createScheduler = function(t) {
                return p || e === P ? t : function() {
                    for (var n = [], a = 0; a < arguments.length; a++)
                        n[a] = arguments[a];
                    return queueFlushJob(e, (function() {
                        t.apply(void 0, __spread(n))
                    }
                    ), h)
                }
            };
            if (null === n) {
                var m = !1
                  , g = function createVueWatcher(e, t, n, a) {
                    var l = e._watchers.length;
                    return e.$watch(t, n, {
                        immediate: a.immediateInvokeCallback,
                        deep: a.deep,
                        lazy: a.noRun,
                        sync: a.sync,
                        before: a.before
                    }),
                    e._watchers[l]
                }(e, (function() {
                    if (!m)
                        try {
                            m = !0,
                            t(registerCleanup)
                        } finally {
                            m = !1
                        }
                }
                ), noopFn, {
                    deep: a.deep || !1,
                    sync: p,
                    before: runCleanup
                });
                patchWatcherTeardown(g, runCleanup),
                g.lazy = !1;
                var v = g.get.bind(g);
                return g.get = createScheduler(v),
                function() {
                    g.teardown()
                }
            }
            var y, b = a.deep;
            Array.isArray(t) ? y = function() {
                return t.map((function(e) {
                    return isRef(e) ? e.value : e()
                }
                ))
            }
            : isRef(t) ? y = function() {
                return t.value
            }
            : isReactive(t) ? (y = function() {
                return t
            }
            ,
            b = !0) : isFunction(t) ? y = t : (y = noopFn,
            warn("Invalid watch source: " + JSON.stringify(t) + ".\n      A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.", e));
            var applyCb = function(e, t) {
                runCleanup(),
                n(e, t, registerCleanup)
            }
              , _ = createScheduler(applyCb);
            if (a.immediate) {
                var C = _
                  , shiftCallback_1 = function(e, t) {
                    shiftCallback_1 = C,
                    applyCb(e, t)
                };
                _ = function(e, t) {
                    shiftCallback_1(e, t)
                }
            }
            var A = e.$watch(y, _, {
                immediate: a.immediate,
                deep: b,
                sync: p
            })
              , S = e._watchers[e._watchers.length - 1];
            return isReactive(S.value) && (null === (l = S.value.__ob__) || void 0 === l ? void 0 : l.dep) && b && S.value.__ob__.dep.addSub({
                update: function() {
                    S.run()
                }
            }),
            patchWatcherTeardown(S, runCleanup),
            function() {
                A()
            }
        }
        function watchEffect(e, t) {
            var n = function getWatchEffectOption(e) {
                return __assign({
                    immediate: !0,
                    deep: !1,
                    flush: "pre"
                }, e)
            }(t);
            return createWatcher(getWatcherVM(), e, null, n)
        }
        function watch(e, t, n) {
            var a = null;
            "function" == typeof t ? a = t : (n = t,
            a = null);
            var l = function getWatcherOption(e) {
                return __assign({
                    immediate: !1,
                    deep: !1,
                    flush: "pre"
                }, e)
            }(n);
            return createWatcher(getWatcherVM(), e, a, l)
        }
        function computed(e) {
            var t, n, a, l, f, h = null === (t = getCurrentInstance()) || void 0 === t ? void 0 : t.proxy;
            if ("function" == typeof e ? n = e : (n = e.get,
            a = e.set),
            h && !h.$isServer) {
                var p, m = function() {
                    if (!y) {
                        var e = defineComponentInstance(getVueConstructor(), {
                            computed: {
                                value: function() {
                                    return 0
                                }
                            }
                        })
                          , t = e._computedWatchers.value.constructor
                          , n = e._data.__ob__.dep.constructor;
                        y = {
                            Watcher: t,
                            Dep: n
                        },
                        e.$destroy()
                    }
                    return y
                }(), g = m.Watcher, v = m.Dep;
                f = function() {
                    return p || (p = new g(h,n,noopFn,{
                        lazy: !0
                    })),
                    p.dirty && p.evaluate(),
                    v.target && p.depend(),
                    p.value
                }
                ,
                l = function(e) {
                    a && a(e)
                }
            } else {
                var b = defineComponentInstance(getVueConstructor(), {
                    computed: {
                        $$state: {
                            get: n,
                            set: a
                        }
                    }
                });
                h && h.$on("hook:destroyed", (function() {
                    return b.$destroy()
                }
                )),
                f = function() {
                    return b.$$state
                }
                ,
                l = function(e) {
                    b.$$state = e
                }
            }
            return createRef({
                get: f,
                set: l
            })
        }
        var I = function nextTick() {
            for (var e, t = [], n = 0; n < arguments.length; n++)
                t[n] = arguments[n];
            return null === (e = getVueConstructor()) || void 0 === e ? void 0 : e.nextTick.apply(this, t)
        };
        var O = {
            set: function set$1(e, t, n) {
                (e.__composition_api_state__ = e.__composition_api_state__ || {})[t] = n
            },
            get: function get(e, t) {
                return (e.__composition_api_state__ || {})[t]
            }
        };
        function updateTemplateRef(e) {
            var t = O.get(e, "rawBindings") || {};
            if (t && Object.keys(t).length) {
                for (var n = e.$refs, a = O.get(e, "refs") || [], l = 0; l < a.length; l++) {
                    var f = t[m = a[l]];
                    !n[m] && f && isRef(f) && (f.value = null)
                }
                var h = Object.keys(n)
                  , p = [];
                for (l = 0; l < h.length; l++) {
                    var m;
                    f = t[m = h[l]];
                    n[m] && f && isRef(f) && (f.value = n[m],
                    p.push(m))
                }
                O.set(e, "refs", p)
            }
        }
        function resolveScopedSlots(e, t) {
            var n = e.$options._parentVnode;
            if (n) {
                for (var a = O.get(e, "slots") || [], l = function resolveSlots(e, t) {
                    var n;
                    if (e) {
                        if (e._normalized)
                            return e._normalized;
                        for (var a in n = {},
                        e)
                            e[a] && "$" !== a[0] && (n[a] = !0)
                    } else
                        n = {};
                    for (var a in t)
                        a in n || (n[a] = !0);
                    return n
                }(n.data.scopedSlots, e.$slots), f = 0; f < a.length; f++) {
                    l[p = a[f]] || delete t[p]
                }
                var h = Object.keys(l);
                for (f = 0; f < h.length; f++) {
                    var p;
                    t[p = h[f]] || (t[p] = createSlotProxy(e, p))
                }
                O.set(e, "slots", h)
            }
        }
        function activateCurrentInstance(e, t, n) {
            var a = function getCurrentVue2Instance() {
                return g
            }();
            setCurrentInstance(e);
            try {
                return t(e)
            } catch (l) {
                if (!n)
                    throw l;
                n(l)
            } finally {
                setCurrentInstance(a)
            }
        }
        function mixin(e) {
            function customReactive(e) {
                if (isPlainObject(e) && !isRef(e) && !isReactive(e) && !isRaw(e)) {
                    var t = getVueConstructor().util.defineReactive;
                    Object.keys(e).forEach((function(n) {
                        var a = e[n];
                        t(e, n, a),
                        a && customReactive(a)
                    }
                    ))
                }
            }
            function hasReactiveArrayChild(e, t) {
                return void 0 === t && (t = new Map),
                t.has(e) ? t.get(e) : (t.set(e, !1),
                Array.isArray(e) && isReactive(e) ? (t.set(e, !0),
                !0) : !(!isPlainObject(e) || isRaw(e)) && Object.keys(e).some((function(n) {
                    return hasReactiveArrayChild(e[n], t)
                }
                )))
            }
            e.mixin({
                beforeCreate: function functionApiInit() {
                    var e = this
                      , t = e.$options
                      , n = t.setup
                      , a = t.render;
                    a && (t.render = function() {
                        for (var t = this, n = [], l = 0; l < arguments.length; l++)
                            n[l] = arguments[l];
                        return activateCurrentInstance(e, (function() {
                            return a.apply(t, n)
                        }
                        ))
                    }
                    );
                    if (!n)
                        return;
                    if ("function" != typeof n)
                        return void 0;
                    var l = t.data;
                    t.data = function wrappedData() {
                        return function initSetup(e, t) {
                            void 0 === t && (t = {});
                            var n, a = e.$options.setup, l = function createSetupContext(e) {
                                var t = {
                                    slots: {}
                                }
                                  , n = ["attrs"]
                                  , a = ["emit"];
                                ["root", "parent", "refs", "listeners", "isServer", "ssrContext"].forEach((function(n) {
                                    var a = "$" + n;
                                    proxy(t, n, {
                                        get: function() {
                                            return e[a]
                                        },
                                        set: function() {
                                            warn("Cannot assign to '" + n + "' because it is a read-only property", e)
                                        }
                                    })
                                }
                                )),
                                n.forEach((function(n) {
                                    var a = "$" + n;
                                    proxy(t, n, {
                                        get: function() {
                                            var t, n, l = reactive({}), f = e[a], _loop_1 = function(t) {
                                                proxy(l, t, {
                                                    get: function() {
                                                        return e[a][t]
                                                    }
                                                })
                                            };
                                            try {
                                                for (var h = __values(Object.keys(f)), p = h.next(); !p.done; p = h.next()) {
                                                    _loop_1(p.value)
                                                }
                                            } catch (m) {
                                                t = {
                                                    error: m
                                                }
                                            } finally {
                                                try {
                                                    p && !p.done && (n = h.return) && n.call(h)
                                                } finally {
                                                    if (t)
                                                        throw t.error
                                                }
                                            }
                                            return l
                                        },
                                        set: function() {
                                            warn("Cannot assign to '" + n + "' because it is a read-only property", e)
                                        }
                                    })
                                }
                                )),
                                a.forEach((function(n) {
                                    var a = "$" + n;
                                    proxy(t, n, {
                                        get: function() {
                                            return function() {
                                                for (var t = [], n = 0; n < arguments.length; n++)
                                                    t[n] = arguments[n];
                                                e[a].apply(e, t)
                                            }
                                        }
                                    })
                                }
                                )),
                                !1;
                                return t
                            }(e);
                            if (def(t, "__ob__", createObserver()),
                            resolveScopedSlots(e, l.slots),
                            activateCurrentInstance(e, (function() {
                                n = a(t, l)
                            }
                            )),
                            !n)
                                return;
                            if (isFunction(n)) {
                                var f = n;
                                return void (e.$options.render = function() {
                                    return resolveScopedSlots(e, l.slots),
                                    activateCurrentInstance(e, (function() {
                                        return f()
                                    }
                                    ))
                                }
                                )
                            }
                            if (isPlainObject(n)) {
                                isReactive(n) && (n = function toRefs(e) {
                                    if (!isPlainObject(e))
                                        return e;
                                    var t = {};
                                    for (var n in e)
                                        t[n] = toRef(e, n);
                                    return t
                                }(n)),
                                O.set(e, "rawBindings", n);
                                var h = n;
                                return void Object.keys(h).forEach((function(t) {
                                    var n = h[t];
                                    isRef(n) || (isReactive(n) ? isArray(n) && (n = ref(n)) : isFunction(n) ? n = n.bind(e) : !function isObject(e) {
                                        return null !== e && "object" == typeof e
                                    }(n) ? n = ref(n) : hasReactiveArrayChild(n) && customReactive(n)),
                                    function asVmProperty(e, t, n) {
                                        var a = e.$options.props;
                                        t in e || a && hasOwn(a, t) || (isRef(n) ? proxy(e, t, {
                                            get: function() {
                                                return n.value
                                            },
                                            set: function(e) {
                                                n.value = e
                                            }
                                        }) : e[t] = n)
                                    }(e, t, n)
                                }
                                ))
                            }
                            0
                        }(e, e.$props),
                        "function" == typeof l ? l.call(e, e) : l || {}
                    }
                },
                mounted: function() {
                    updateTemplateRef(this)
                },
                updated: function() {
                    updateTemplateRef(this)
                }
            })
        }
        function mergeData(e, t) {
            if (!e)
                return t;
            if (!t)
                return e;
            for (var n, a, f, h = l ? Reflect.ownKeys(e) : Object.keys(e), p = 0; p < h.length; p++)
                "__ob__" !== (n = h[p]) && (a = t[n],
                f = e[n],
                hasOwn(t, n) ? a !== f && isPlainObject(a) && !isRef(a) && isPlainObject(f) && !isRef(f) && mergeData(f, a) : t[n] = f);
            return t
        }
        function install(e) {
            (function isVueRegistered(e) {
                return hasOwn(e, v)
            }
            )(e) || (e.config.optionMergeStrategies.setup = function(e, t) {
                return function mergedSetupFn(n, a) {
                    return mergeData("function" == typeof e ? e(n, a) || {} : void 0, "function" == typeof t ? t(n, a) || {} : void 0)
                }
            }
            ,
            function setVueConstructor(e) {
                m = e,
                Object.defineProperty(e, v, {
                    configurable: !0,
                    writable: !0,
                    value: !0
                })
            }(e),
            mixin(e))
        }
        var N = {
            install: function(e) {
                return install(e)
            }
        };
        function defineComponent(e) {
            return e
        }
        function defineAsyncComponent(e) {
            isFunction(e) && (e = {
                loader: e
            });
            var t = e.loader
              , n = e.loadingComponent
              , a = e.errorComponent
              , l = e.delay
              , f = void 0 === l ? 200 : l
              , h = e.timeout
              , p = (e.suspensible,
            e.onError);
            var m = null
              , g = 0
              , load = function() {
                var e;
                return m || (e = m = t().catch((function(e) {
                    if (e = e instanceof Error ? e : new Error(String(e)),
                    p)
                        return new Promise((function(t, n) {
                            p(e, (function() {
                                return t((g++,
                                m = null,
                                load()))
                            }
                            ), (function() {
                                return n(e)
                            }
                            ), g + 1)
                        }
                        ));
                    throw e
                }
                )).then((function(t) {
                    return e !== m && m ? m : (t && (t.__esModule || "Module" === t[Symbol.toStringTag]) && (t = t.default),
                    t)
                }
                )))
            };
            return function() {
                return {
                    component: load(),
                    delay: f,
                    timeout: h,
                    error: a,
                    loading: n
                }
            }
        }
        "undefined" != typeof window && window.Vue && window.Vue.use(N),
        t.ZP = N
    },
    9669: function(e, t, n) {
        e.exports = n(51609)
    },
    55448: function(e, t, n) {
        "use strict";
        var a = n(64867)
          , l = n(36026)
          , f = n(4372)
          , h = n(15327)
          , p = n(94097)
          , m = n(84109)
          , g = n(67985)
          , v = n(85061)
          , y = n(45655)
          , b = n(65263);
        e.exports = function xhrAdapter(e) {
            return new Promise((function dispatchXhrRequest(t, n) {
                var _, C = e.data, A = e.headers, S = e.responseType;
                function done() {
                    e.cancelToken && e.cancelToken.unsubscribe(_),
                    e.signal && e.signal.removeEventListener("abort", _)
                }
                a.isFormData(C) && delete A["Content-Type"];
                var x = new XMLHttpRequest;
                if (e.auth) {
                    var w = e.auth.username || ""
                      , P = e.auth.password ? unescape(encodeURIComponent(e.auth.password)) : "";
                    A.Authorization = "Basic " + btoa(w + ":" + P)
                }
                var T = p(e.baseURL, e.url);
                function onloadend() {
                    if (x) {
                        var a = "getAllResponseHeaders"in x ? m(x.getAllResponseHeaders()) : null
                          , f = {
                            data: S && "text" !== S && "json" !== S ? x.response : x.responseText,
                            status: x.status,
                            statusText: x.statusText,
                            headers: a,
                            config: e,
                            request: x
                        };
                        l((function _resolve(e) {
                            t(e),
                            done()
                        }
                        ), (function _reject(e) {
                            n(e),
                            done()
                        }
                        ), f),
                        x = null
                    }
                }
                if (x.open(e.method.toUpperCase(), h(T, e.params, e.paramsSerializer), !0),
                x.timeout = e.timeout,
                "onloadend"in x ? x.onloadend = onloadend : x.onreadystatechange = function handleLoad() {
                    x && 4 === x.readyState && (0 !== x.status || x.responseURL && 0 === x.responseURL.indexOf("file:")) && setTimeout(onloadend)
                }
                ,
                x.onabort = function handleAbort() {
                    x && (n(v("Request aborted", e, "ECONNABORTED", x)),
                    x = null)
                }
                ,
                x.onerror = function handleError() {
                    n(v("Network Error", e, null, x)),
                    x = null
                }
                ,
                x.ontimeout = function handleTimeout() {
                    var t = e.timeout ? "timeout of " + e.timeout + "ms exceeded" : "timeout exceeded"
                      , a = e.transitional || y.transitional;
                    e.timeoutErrorMessage && (t = e.timeoutErrorMessage),
                    n(v(t, e, a.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED", x)),
                    x = null
                }
                ,
                a.isStandardBrowserEnv()) {
                    var M = (e.withCredentials || g(T)) && e.xsrfCookieName ? f.read(e.xsrfCookieName) : void 0;
                    M && (A[e.xsrfHeaderName] = M)
                }
                "setRequestHeader"in x && a.forEach(A, (function setRequestHeader(e, t) {
                    void 0 === C && "content-type" === t.toLowerCase() ? delete A[t] : x.setRequestHeader(t, e)
                }
                )),
                a.isUndefined(e.withCredentials) || (x.withCredentials = !!e.withCredentials),
                S && "json" !== S && (x.responseType = e.responseType),
                "function" == typeof e.onDownloadProgress && x.addEventListener("progress", e.onDownloadProgress),
                "function" == typeof e.onUploadProgress && x.upload && x.upload.addEventListener("progress", e.onUploadProgress),
                (e.cancelToken || e.signal) && (_ = function(e) {
                    x && (n(!e || e && e.type ? new b("canceled") : e),
                    x.abort(),
                    x = null)
                }
                ,
                e.cancelToken && e.cancelToken.subscribe(_),
                e.signal && (e.signal.aborted ? _() : e.signal.addEventListener("abort", _))),
                C || (C = null),
                x.send(C)
            }
            ))
        }
    },
    51609: function(e, t, n) {
        "use strict";
        var a = n(64867)
          , l = n(91849)
          , f = n(30321)
          , h = n(47185);
        var p = function createInstance(e) {
            var t = new f(e)
              , n = l(f.prototype.request, t);
            return a.extend(n, f.prototype, t),
            a.extend(n, t),
            n.create = function create(t) {
                return createInstance(h(e, t))
            }
            ,
            n
        }(n(45655));
        p.Axios = f,
        p.Cancel = n(65263),
        p.CancelToken = n(14972),
        p.isCancel = n(26502),
        p.VERSION = n(97288).version,
        p.all = function all(e) {
            return Promise.all(e)
        }
        ,
        p.spread = n(8713),
        p.isAxiosError = n(16268),
        e.exports = p,
        e.exports.default = p
    },
    65263: function(e) {
        "use strict";
        function Cancel(e) {
            this.message = e
        }
        Cancel.prototype.toString = function toString() {
            return "Cancel" + (this.message ? ": " + this.message : "")
        }
        ,
        Cancel.prototype.__CANCEL__ = !0,
        e.exports = Cancel
    },
    14972: function(e, t, n) {
        "use strict";
        var a = n(65263);
        function CancelToken(e) {
            if ("function" != typeof e)
                throw new TypeError("executor must be a function.");
            var t;
            this.promise = new Promise((function promiseExecutor(e) {
                t = e
            }
            ));
            var n = this;
            this.promise.then((function(e) {
                if (n._listeners) {
                    var t, a = n._listeners.length;
                    for (t = 0; t < a; t++)
                        n._listeners[t](e);
                    n._listeners = null
                }
            }
            )),
            this.promise.then = function(e) {
                var t, a = new Promise((function(e) {
                    n.subscribe(e),
                    t = e
                }
                )).then(e);
                return a.cancel = function reject() {
                    n.unsubscribe(t)
                }
                ,
                a
            }
            ,
            e((function cancel(e) {
                n.reason || (n.reason = new a(e),
                t(n.reason))
            }
            ))
        }
        CancelToken.prototype.throwIfRequested = function throwIfRequested() {
            if (this.reason)
                throw this.reason
        }
        ,
        CancelToken.prototype.subscribe = function subscribe(e) {
            this.reason ? e(this.reason) : this._listeners ? this._listeners.push(e) : this._listeners = [e]
        }
        ,
        CancelToken.prototype.unsubscribe = function unsubscribe(e) {
            if (this._listeners) {
                var t = this._listeners.indexOf(e);
                -1 !== t && this._listeners.splice(t, 1)
            }
        }
        ,
        CancelToken.source = function source() {
            var e;
            return {
                token: new CancelToken((function executor(t) {
                    e = t
                }
                )),
                cancel: e
            }
        }
        ,
        e.exports = CancelToken
    },
    26502: function(e) {
        "use strict";
        e.exports = function isCancel(e) {
            return !(!e || !e.__CANCEL__)
        }
    },
    30321: function(e, t, n) {
        "use strict";
        var a = n(64867)
          , l = n(15327)
          , f = n(80782)
          , h = n(13572)
          , p = n(47185)
          , m = n(54875)
          , g = m.validators;
        function Axios(e) {
            this.defaults = e,
            this.interceptors = {
                request: new f,
                response: new f
            }
        }
        Axios.prototype.request = function request(e, t) {
            if ("string" == typeof e ? (t = t || {}).url = e : t = e || {},
            !t.url)
                throw new Error("Provided config url is not valid");
            (t = p(this.defaults, t)).method ? t.method = t.method.toLowerCase() : this.defaults.method ? t.method = this.defaults.method.toLowerCase() : t.method = "get";
            var n = t.transitional;
            void 0 !== n && m.assertOptions(n, {
                silentJSONParsing: g.transitional(g.boolean),
                forcedJSONParsing: g.transitional(g.boolean),
                clarifyTimeoutError: g.transitional(g.boolean)
            }, !1);
            var a = []
              , l = !0;
            this.interceptors.request.forEach((function unshiftRequestInterceptors(e) {
                "function" == typeof e.runWhen && !1 === e.runWhen(t) || (l = l && e.synchronous,
                a.unshift(e.fulfilled, e.rejected))
            }
            ));
            var f, v = [];
            if (this.interceptors.response.forEach((function pushResponseInterceptors(e) {
                v.push(e.fulfilled, e.rejected)
            }
            )),
            !l) {
                var y = [h, void 0];
                for (Array.prototype.unshift.apply(y, a),
                y = y.concat(v),
                f = Promise.resolve(t); y.length; )
                    f = f.then(y.shift(), y.shift());
                return f
            }
            for (var b = t; a.length; ) {
                var _ = a.shift()
                  , C = a.shift();
                try {
                    b = _(b)
                } catch (A) {
                    C(A);
                    break
                }
            }
            try {
                f = h(b)
            } catch (A) {
                return Promise.reject(A)
            }
            for (; v.length; )
                f = f.then(v.shift(), v.shift());
            return f
        }
        ,
        Axios.prototype.getUri = function getUri(e) {
            if (!e.url)
                throw new Error("Provided config url is not valid");
            return e = p(this.defaults, e),
            l(e.url, e.params, e.paramsSerializer).replace(/^\?/, "")
        }
        ,
        a.forEach(["delete", "get", "head", "options"], (function forEachMethodNoData(e) {
            Axios.prototype[e] = function(t, n) {
                return this.request(p(n || {}, {
                    method: e,
                    url: t,
                    data: (n || {}).data
                }))
            }
        }
        )),
        a.forEach(["post", "put", "patch"], (function forEachMethodWithData(e) {
            Axios.prototype[e] = function(t, n, a) {
                return this.request(p(a || {}, {
                    method: e,
                    url: t,
                    data: n
                }))
            }
        }
        )),
        e.exports = Axios
    },
    80782: function(e, t, n) {
        "use strict";
        var a = n(64867);
        function InterceptorManager() {
            this.handlers = []
        }
        InterceptorManager.prototype.use = function use(e, t, n) {
            return this.handlers.push({
                fulfilled: e,
                rejected: t,
                synchronous: !!n && n.synchronous,
                runWhen: n ? n.runWhen : null
            }),
            this.handlers.length - 1
        }
        ,
        InterceptorManager.prototype.eject = function eject(e) {
            this.handlers[e] && (this.handlers[e] = null)
        }
        ,
        InterceptorManager.prototype.forEach = function forEach(e) {
            a.forEach(this.handlers, (function forEachHandler(t) {
                null !== t && e(t)
            }
            ))
        }
        ,
        e.exports = InterceptorManager
    },
    94097: function(e, t, n) {
        "use strict";
        var a = n(91793)
          , l = n(7303);
        e.exports = function buildFullPath(e, t) {
            return e && !a(t) ? l(e, t) : t
        }
    },
    85061: function(e, t, n) {
        "use strict";
        var a = n(80481);
        e.exports = function createError(e, t, n, l, f) {
            var h = new Error(e);
            return a(h, t, n, l, f)
        }
    },
    13572: function(e, t, n) {
        "use strict";
        var a = n(64867)
          , l = n(18527)
          , f = n(26502)
          , h = n(45655)
          , p = n(65263);
        function throwIfCancellationRequested(e) {
            if (e.cancelToken && e.cancelToken.throwIfRequested(),
            e.signal && e.signal.aborted)
                throw new p("canceled")
        }
        e.exports = function dispatchRequest(e) {
            return throwIfCancellationRequested(e),
            e.headers = e.headers || {},
            e.data = l.call(e, e.data, e.headers, e.transformRequest),
            e.headers = a.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers),
            a.forEach(["delete", "get", "head", "post", "put", "patch", "common"], (function cleanHeaderConfig(t) {
                delete e.headers[t]
            }
            )),
            (e.adapter || h.adapter)(e).then((function onAdapterResolution(t) {
                return throwIfCancellationRequested(e),
                t.data = l.call(e, t.data, t.headers, e.transformResponse),
                t
            }
            ), (function onAdapterRejection(t) {
                return f(t) || (throwIfCancellationRequested(e),
                t && t.response && (t.response.data = l.call(e, t.response.data, t.response.headers, e.transformResponse))),
                Promise.reject(t)
            }
            ))
        }
    },
    80481: function(e) {
        "use strict";
        e.exports = function enhanceError(e, t, n, a, l) {
            return e.config = t,
            n && (e.code = n),
            e.request = a,
            e.response = l,
            e.isAxiosError = !0,
            e.toJSON = function toJSON() {
                return {
                    message: this.message,
                    name: this.name,
                    description: this.description,
                    number: this.number,
                    fileName: this.fileName,
                    lineNumber: this.lineNumber,
                    columnNumber: this.columnNumber,
                    stack: this.stack,
                    config: this.config,
                    code: this.code,
                    status: this.response && this.response.status ? this.response.status : null
                }
            }
            ,
            e
        }
    },
    47185: function(e, t, n) {
        "use strict";
        var a = n(64867);
        e.exports = function mergeConfig(e, t) {
            t = t || {};
            var n = {};
            function getMergedValue(e, t) {
                return a.isPlainObject(e) && a.isPlainObject(t) ? a.merge(e, t) : a.isPlainObject(t) ? a.merge({}, t) : a.isArray(t) ? t.slice() : t
            }
            function mergeDeepProperties(n) {
                return a.isUndefined(t[n]) ? a.isUndefined(e[n]) ? void 0 : getMergedValue(void 0, e[n]) : getMergedValue(e[n], t[n])
            }
            function valueFromConfig2(e) {
                if (!a.isUndefined(t[e]))
                    return getMergedValue(void 0, t[e])
            }
            function defaultToConfig2(n) {
                return a.isUndefined(t[n]) ? a.isUndefined(e[n]) ? void 0 : getMergedValue(void 0, e[n]) : getMergedValue(void 0, t[n])
            }
            function mergeDirectKeys(n) {
                return n in t ? getMergedValue(e[n], t[n]) : n in e ? getMergedValue(void 0, e[n]) : void 0
            }
            var l = {
                url: valueFromConfig2,
                method: valueFromConfig2,
                data: valueFromConfig2,
                baseURL: defaultToConfig2,
                transformRequest: defaultToConfig2,
                transformResponse: defaultToConfig2,
                paramsSerializer: defaultToConfig2,
                timeout: defaultToConfig2,
                timeoutMessage: defaultToConfig2,
                withCredentials: defaultToConfig2,
                adapter: defaultToConfig2,
                responseType: defaultToConfig2,
                xsrfCookieName: defaultToConfig2,
                xsrfHeaderName: defaultToConfig2,
                onUploadProgress: defaultToConfig2,
                onDownloadProgress: defaultToConfig2,
                decompress: defaultToConfig2,
                maxContentLength: defaultToConfig2,
                maxBodyLength: defaultToConfig2,
                transport: defaultToConfig2,
                httpAgent: defaultToConfig2,
                httpsAgent: defaultToConfig2,
                cancelToken: defaultToConfig2,
                socketPath: defaultToConfig2,
                responseEncoding: defaultToConfig2,
                validateStatus: mergeDirectKeys
            };
            return a.forEach(Object.keys(e).concat(Object.keys(t)), (function computeConfigValue(e) {
                var t = l[e] || mergeDeepProperties
                  , f = t(e);
                a.isUndefined(f) && t !== mergeDirectKeys || (n[e] = f)
            }
            )),
            n
        }
    },
    36026: function(e, t, n) {
        "use strict";
        var a = n(85061);
        e.exports = function settle(e, t, n) {
            var l = n.config.validateStatus;
            n.status && l && !l(n.status) ? t(a("Request failed with status code " + n.status, n.config, null, n.request, n)) : e(n)
        }
    },
    18527: function(e, t, n) {
        "use strict";
        var a = n(64867)
          , l = n(45655);
        e.exports = function transformData(e, t, n) {
            var f = this || l;
            return a.forEach(n, (function transform(n) {
                e = n.call(f, e, t)
            }
            )),
            e
        }
    },
    45655: function(e, t, n) {
        "use strict";
        var a = n(34155)
          , l = n(64867)
          , f = n(16016)
          , h = n(80481)
          , p = {
            "Content-Type": "application/x-www-form-urlencoded"
        };
        function setContentTypeIfUnset(e, t) {
            !l.isUndefined(e) && l.isUndefined(e["Content-Type"]) && (e["Content-Type"] = t)
        }
        var m = {
            transitional: {
                silentJSONParsing: !0,
                forcedJSONParsing: !0,
                clarifyTimeoutError: !1
            },
            adapter: function getDefaultAdapter() {
                var e;
                return ("undefined" != typeof XMLHttpRequest || void 0 !== a && "[object process]" === Object.prototype.toString.call(a)) && (e = n(55448)),
                e
            }(),
            transformRequest: [function transformRequest(e, t) {
                return f(t, "Accept"),
                f(t, "Content-Type"),
                l.isFormData(e) || l.isArrayBuffer(e) || l.isBuffer(e) || l.isStream(e) || l.isFile(e) || l.isBlob(e) ? e : l.isArrayBufferView(e) ? e.buffer : l.isURLSearchParams(e) ? (setContentTypeIfUnset(t, "application/x-www-form-urlencoded;charset=utf-8"),
                e.toString()) : l.isObject(e) || t && "application/json" === t["Content-Type"] ? (setContentTypeIfUnset(t, "application/json"),
                function stringifySafely(e, t, n) {
                    if (l.isString(e))
                        try {
                            return (t || JSON.parse)(e),
                            l.trim(e)
                        } catch (a) {
                            if ("SyntaxError" !== a.name)
                                throw a
                        }
                    return (n || JSON.stringify)(e)
                }(e)) : e
            }
            ],
            transformResponse: [function transformResponse(e) {
                var t = this.transitional || m.transitional
                  , n = t && t.silentJSONParsing
                  , a = t && t.forcedJSONParsing
                  , f = !n && "json" === this.responseType;
                if (f || a && l.isString(e) && e.length)
                    try {
                        return JSON.parse(e)
                    } catch (p) {
                        if (f) {
                            if ("SyntaxError" === p.name)
                                throw h(p, this, "E_JSON_PARSE");
                            throw p
                        }
                    }
                return e
            }
            ],
            timeout: 0,
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN",
            maxContentLength: -1,
            maxBodyLength: -1,
            validateStatus: function validateStatus(e) {
                return e >= 200 && e < 300
            },
            headers: {
                common: {
                    Accept: "application/json, text/plain, */*"
                }
            }
        };
        l.forEach(["delete", "get", "head"], (function forEachMethodNoData(e) {
            m.headers[e] = {}
        }
        )),
        l.forEach(["post", "put", "patch"], (function forEachMethodWithData(e) {
            m.headers[e] = l.merge(p)
        }
        )),
        e.exports = m
    },
    97288: function(e) {
        e.exports = {
            version: "0.25.0"
        }
    },
    91849: function(e) {
        "use strict";
        e.exports = function bind(e, t) {
            return function wrap() {
                for (var n = new Array(arguments.length), a = 0; a < n.length; a++)
                    n[a] = arguments[a];
                return e.apply(t, n)
            }
        }
    },
    15327: function(e, t, n) {
        "use strict";
        var a = n(64867);
        function encode(e) {
            return encodeURIComponent(e).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]")
        }
        e.exports = function buildURL(e, t, n) {
            if (!t)
                return e;
            var l;
            if (n)
                l = n(t);
            else if (a.isURLSearchParams(t))
                l = t.toString();
            else {
                var f = [];
                a.forEach(t, (function serialize(e, t) {
                    null != e && (a.isArray(e) ? t += "[]" : e = [e],
                    a.forEach(e, (function parseValue(e) {
                        a.isDate(e) ? e = e.toISOString() : a.isObject(e) && (e = JSON.stringify(e)),
                        f.push(encode(t) + "=" + encode(e))
                    }
                    )))
                }
                )),
                l = f.join("&")
            }
            if (l) {
                var h = e.indexOf("#");
                -1 !== h && (e = e.slice(0, h)),
                e += (-1 === e.indexOf("?") ? "?" : "&") + l
            }
            return e
        }
    },
    7303: function(e) {
        "use strict";
        e.exports = function combineURLs(e, t) {
            return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e
        }
    },
    4372: function(e, t, n) {
        "use strict";
        var a = n(64867);
        e.exports = a.isStandardBrowserEnv() ? function standardBrowserEnv() {
            return {
                write: function write(e, t, n, l, f, h) {
                    var p = [];
                    p.push(e + "=" + encodeURIComponent(t)),
                    a.isNumber(n) && p.push("expires=" + new Date(n).toGMTString()),
                    a.isString(l) && p.push("path=" + l),
                    a.isString(f) && p.push("domain=" + f),
                    !0 === h && p.push("secure"),
                    document.cookie = p.join("; ")
                },
                read: function read(e) {
                    var t = document.cookie.match(new RegExp("(^|;\\s*)(" + e + ")=([^;]*)"));
                    return t ? decodeURIComponent(t[3]) : null
                },
                remove: function remove(e) {
                    this.write(e, "", Date.now() - 864e5)
                }
            }
        }() : {
            write: function write() {},
            read: function read() {
                return null
            },
            remove: function remove() {}
        }
    },
    91793: function(e) {
        "use strict";
        e.exports = function isAbsoluteURL(e) {
            return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)
        }
    },
    16268: function(e, t, n) {
        "use strict";
        var a = n(64867);
        e.exports = function isAxiosError(e) {
            return a.isObject(e) && !0 === e.isAxiosError
        }
    },
    67985: function(e, t, n) {
        "use strict";
        var a = n(64867);
        e.exports = a.isStandardBrowserEnv() ? function standardBrowserEnv() {
            var e, t = /(msie|trident)/i.test(navigator.userAgent), n = document.createElement("a");
            function resolveURL(e) {
                var a = e;
                return t && (n.setAttribute("href", a),
                a = n.href),
                n.setAttribute("href", a),
                {
                    href: n.href,
                    protocol: n.protocol ? n.protocol.replace(/:$/, "") : "",
                    host: n.host,
                    search: n.search ? n.search.replace(/^\?/, "") : "",
                    hash: n.hash ? n.hash.replace(/^#/, "") : "",
                    hostname: n.hostname,
                    port: n.port,
                    pathname: "/" === n.pathname.charAt(0) ? n.pathname : "/" + n.pathname
                }
            }
            return e = resolveURL(window.location.href),
            function isURLSameOrigin(t) {
                var n = a.isString(t) ? resolveURL(t) : t;
                return n.protocol === e.protocol && n.host === e.host
            }
        }() : function isURLSameOrigin() {
            return !0
        }
    },
    16016: function(e, t, n) {
        "use strict";
        var a = n(64867);
        e.exports = function normalizeHeaderName(e, t) {
            a.forEach(e, (function processHeader(n, a) {
                a !== t && a.toUpperCase() === t.toUpperCase() && (e[t] = n,
                delete e[a])
            }
            ))
        }
    },
    84109: function(e, t, n) {
        "use strict";
        var a = n(64867)
          , l = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];
        e.exports = function parseHeaders(e) {
            var t, n, f, h = {};
            return e ? (a.forEach(e.split("\n"), (function parser(e) {
                if (f = e.indexOf(":"),
                t = a.trim(e.substr(0, f)).toLowerCase(),
                n = a.trim(e.substr(f + 1)),
                t) {
                    if (h[t] && l.indexOf(t) >= 0)
                        return;
                    h[t] = "set-cookie" === t ? (h[t] ? h[t] : []).concat([n]) : h[t] ? h[t] + ", " + n : n
                }
            }
            )),
            h) : h
        }
    },
    8713: function(e) {
        "use strict";
        e.exports = function spread(e) {
            return function wrap(t) {
                return e.apply(null, t)
            }
        }
    },
    54875: function(e, t, n) {
        "use strict";
        var a = n(97288).version
          , l = {};
        ["object", "boolean", "number", "function", "string", "symbol"].forEach((function(e, t) {
            l[e] = function validator(n) {
                return typeof n === e || "a" + (t < 1 ? "n " : " ") + e
            }
        }
        ));
        var f = {};
        l.transitional = function transitional(e, t, n) {
            function formatMessage(e, t) {
                return "[Axios v" + a + "] Transitional option '" + e + "'" + t + (n ? ". " + n : "")
            }
            return function(n, a, l) {
                if (!1 === e)
                    throw new Error(formatMessage(a, " has been removed" + (t ? " in " + t : "")));
                return t && !f[a] && (f[a] = !0,
                console.warn(formatMessage(a, " has been deprecated since v" + t + " and will be removed in the near future"))),
                !e || e(n, a, l)
            }
        }
        ,
        e.exports = {
            assertOptions: function assertOptions(e, t, n) {
                if ("object" != typeof e)
                    throw new TypeError("options must be an object");
                for (var a = Object.keys(e), l = a.length; l-- > 0; ) {
                    var f = a[l]
                      , h = t[f];
                    if (h) {
                        var p = e[f]
                          , m = void 0 === p || h(p, f, e);
                        if (!0 !== m)
                            throw new TypeError("option " + f + " must be " + m)
                    } else if (!0 !== n)
                        throw Error("Unknown option " + f)
                }
            },
            validators: l
        }
    },
    64867: function(e, t, n) {
        "use strict";
        var a = n(91849)
          , l = Object.prototype.toString;
        function isArray(e) {
            return Array.isArray(e)
        }
        function isUndefined(e) {
            return void 0 === e
        }
        function isArrayBuffer(e) {
            return "[object ArrayBuffer]" === l.call(e)
        }
        function isObject(e) {
            return null !== e && "object" == typeof e
        }
        function isPlainObject(e) {
            if ("[object Object]" !== l.call(e))
                return !1;
            var t = Object.getPrototypeOf(e);
            return null === t || t === Object.prototype
        }
        function isFunction(e) {
            return "[object Function]" === l.call(e)
        }
        function forEach(e, t) {
            if (null != e)
                if ("object" != typeof e && (e = [e]),
                isArray(e))
                    for (var n = 0, a = e.length; n < a; n++)
                        t.call(null, e[n], n, e);
                else
                    for (var l in e)
                        Object.prototype.hasOwnProperty.call(e, l) && t.call(null, e[l], l, e)
        }
        e.exports = {
            isArray: isArray,
            isArrayBuffer: isArrayBuffer,
            isBuffer: function isBuffer(e) {
                return null !== e && !isUndefined(e) && null !== e.constructor && !isUndefined(e.constructor) && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e)
            },
            isFormData: function isFormData(e) {
                return "[object FormData]" === l.call(e)
            },
            isArrayBufferView: function isArrayBufferView(e) {
                return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && isArrayBuffer(e.buffer)
            },
            isString: function isString(e) {
                return "string" == typeof e
            },
            isNumber: function isNumber(e) {
                return "number" == typeof e
            },
            isObject: isObject,
            isPlainObject: isPlainObject,
            isUndefined: isUndefined,
            isDate: function isDate(e) {
                return "[object Date]" === l.call(e)
            },
            isFile: function isFile(e) {
                return "[object File]" === l.call(e)
            },
            isBlob: function isBlob(e) {
                return "[object Blob]" === l.call(e)
            },
            isFunction: isFunction,
            isStream: function isStream(e) {
                return isObject(e) && isFunction(e.pipe)
            },
            isURLSearchParams: function isURLSearchParams(e) {
                return "[object URLSearchParams]" === l.call(e)
            },
            isStandardBrowserEnv: function isStandardBrowserEnv() {
                return ("undefined" == typeof navigator || "ReactNative" !== navigator.product && "NativeScript" !== navigator.product && "NS" !== navigator.product) && ("undefined" != typeof window && "undefined" != typeof document)
            },
            forEach: forEach,
            merge: function merge() {
                var e = {};
                function assignValue(t, n) {
                    isPlainObject(e[n]) && isPlainObject(t) ? e[n] = merge(e[n], t) : isPlainObject(t) ? e[n] = merge({}, t) : isArray(t) ? e[n] = t.slice() : e[n] = t
                }
                for (var t = 0, n = arguments.length; t < n; t++)
                    forEach(arguments[t], assignValue);
                return e
            },
            extend: function extend(e, t, n) {
                return forEach(t, (function assignValue(t, l) {
                    e[l] = n && "function" == typeof t ? a(t, n) : t
                }
                )),
                e
            },
            trim: function trim(e) {
                return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
            },
            stripBOM: function stripBOM(e) {
                return 65279 === e.charCodeAt(0) && (e = e.slice(1)),
                e
            }
        }
    },
    72475: function(e, t, n) {
        var a, l;
        /**
 * @author William DURAND <william.durand1@gmail.com>
 * @license MIT Licensed
 */
        void 0 === (l = "function" == typeof (a = function() {
            "use strict";
            var e = {}
              , t = "en"
              , n = []
              , a = new RegExp(/^\w+\: +(.+)$/)
              , l = new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/)
              , f = new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/)
              , h = {
                locale: get_current_locale(),
                fallback: t,
                placeHolderPrefix: "%",
                placeHolderSuffix: "%",
                defaultDomain: "messages",
                pluralSeparator: "|",
                add: function(t, a, l, f) {
                    var h = f || this.locale || this.fallback
                      , p = l || this.defaultDomain;
                    return e[h] || (e[h] = {}),
                    e[h][p] || (e[h][p] = {}),
                    e[h][p][t] = a,
                    !1 === exists(n, p) && n.push(p),
                    this
                },
                trans: function(e, t, n, a) {
                    return replace_placeholders(get_message(e, n, a, this.locale, this.fallback), t || {})
                },
                transChoice: function(e, t, n, a, l) {
                    var f = get_message(e, a, l, this.locale, this.fallback)
                      , h = parseInt(t, 10);
                    return void 0 === (n = n || {}).count && (n.count = t),
                    void 0 === f || isNaN(h) || (f = pluralize(f, h, l || this.locale || this.fallback)),
                    replace_placeholders(f, n)
                },
                fromJSON: function(e) {
                    if ("string" == typeof e && (e = JSON.parse(e)),
                    e.locale && (this.locale = e.locale),
                    e.fallback && (this.fallback = e.fallback),
                    e.defaultDomain && (this.defaultDomain = e.defaultDomain),
                    e.translations)
                        for (var t in e.translations)
                            for (var n in e.translations[t])
                                for (var a in e.translations[t][n])
                                    this.add(a, e.translations[t][n][a], n, t);
                    return this
                },
                reset: function() {
                    e = {},
                    n = [],
                    this.locale = get_current_locale()
                }
            };
            function replace_placeholders(e, t) {
                var n, a = h.placeHolderPrefix, l = h.placeHolderSuffix;
                for (n in t) {
                    var f = new RegExp(a + n + l,"g");
                    if (f.test(e)) {
                        var p = String(t[n]).replace(new RegExp("\\$","g"), "$$$$");
                        e = e.replace(f, p)
                    }
                }
                return e
            }
            function get_message(t, a, l, f, h) {
                var p, m, g, v = l || f || h, y = a, b = v.split("_")[0];
                if (!(v in e))
                    if (b in e)
                        v = b;
                    else {
                        if (!(h in e))
                            return t;
                        v = h
                    }
                if (null == y)
                    for (var _ = 0; _ < n.length; _++)
                        if (has_message(v, n[_], t) || has_message(b, n[_], t) || has_message(h, n[_], t)) {
                            y = n[_];
                            break
                        }
                if (has_message(v, y, t))
                    return e[v][y][t];
                for (; v.length > 2 && (p = v.length,
                g = (m = v.split(/[\s_]+/))[m.length - 1].length,
                1 !== m.length); )
                    if (has_message(v = v.substring(0, p - (g + 1)), y, t))
                        return e[v][y][t];
                return has_message(h, y, t) ? e[h][y][t] : t
            }
            function has_message(t, n, a) {
                return t in e && n in e[t] && a in e[t][n]
            }
            function pluralize(e, t, n) {
                var p, m, g = [], v = [], y = e.split(h.pluralSeparator), b = [];
                for (p = 0; p < y.length; p++) {
                    var _ = y[p];
                    l.test(_) ? g[(b = _.match(l))[0]] = b[b.length - 1] : a.test(_) ? (b = _.match(a),
                    v.push(b[1])) : v.push(_)
                }
                for (m in g)
                    if (f.test(m))
                        if ((b = m.match(f))[1]) {
                            var C, A = b[2].split(",");
                            for (C in A)
                                if (t == A[C])
                                    return g[m]
                        } else {
                            var S = convert_number(b[4])
                              , x = convert_number(b[5]);
                            if (("[" === b[3] ? t >= S : t > S) && ("]" === b[6] ? t <= x : t < x))
                                return g[m]
                        }
                return v[plural_position(t, n)] || v[0] || void 0
            }
            function convert_number(e) {
                return "-Inf" === e ? Number.NEGATIVE_INFINITY : "+Inf" === e || "Inf" === e ? Number.POSITIVE_INFINITY : parseInt(e, 10)
            }
            function plural_position(e, t) {
                var n = t;
                switch ("pt_BR" === n && (n = "xbr"),
                n.length > 3 && (n = n.split("_")[0]),
                n) {
                case "bo":
                case "dz":
                case "id":
                case "ja":
                case "jv":
                case "ka":
                case "km":
                case "kn":
                case "ko":
                case "ms":
                case "th":
                case "tr":
                case "vi":
                case "zh":
                default:
                    return 0;
                case "af":
                case "az":
                case "bn":
                case "bg":
                case "ca":
                case "da":
                case "de":
                case "el":
                case "en":
                case "eo":
                case "es":
                case "et":
                case "eu":
                case "fa":
                case "fi":
                case "fo":
                case "fur":
                case "fy":
                case "gl":
                case "gu":
                case "ha":
                case "he":
                case "hu":
                case "is":
                case "it":
                case "ku":
                case "lb":
                case "ml":
                case "mn":
                case "mr":
                case "nah":
                case "nb":
                case "ne":
                case "nl":
                case "nn":
                case "no":
                case "om":
                case "or":
                case "pa":
                case "pap":
                case "ps":
                case "pt":
                case "so":
                case "sq":
                case "sv":
                case "sw":
                case "ta":
                case "te":
                case "tk":
                case "ur":
                case "zu":
                    return 1 == e ? 0 : 1;
                case "am":
                case "bh":
                case "fil":
                case "fr":
                case "gun":
                case "hi":
                case "ln":
                case "mg":
                case "nso":
                case "xbr":
                case "ti":
                case "wa":
                    return 0 === e || 1 == e ? 0 : 1;
                case "be":
                case "bs":
                case "hr":
                case "ru":
                case "sr":
                case "uk":
                    return e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2;
                case "cs":
                case "sk":
                    return 1 == e ? 0 : e >= 2 && e <= 4 ? 1 : 2;
                case "ga":
                    return 1 == e ? 0 : 2 == e ? 1 : 2;
                case "lt":
                    return e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2;
                case "sl":
                    return e % 100 == 1 ? 0 : e % 100 == 2 ? 1 : e % 100 == 3 || e % 100 == 4 ? 2 : 3;
                case "mk":
                    return e % 10 == 1 ? 0 : 1;
                case "mt":
                    return 1 == e ? 0 : 0 === e || e % 100 > 1 && e % 100 < 11 ? 1 : e % 100 > 10 && e % 100 < 20 ? 2 : 3;
                case "lv":
                    return 0 === e ? 0 : e % 10 == 1 && e % 100 != 11 ? 1 : 2;
                case "pl":
                    return 1 == e ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 12 || e % 100 > 14) ? 1 : 2;
                case "cy":
                    return 1 == e ? 0 : 2 == e ? 1 : 8 == e || 11 == e ? 2 : 3;
                case "ro":
                    return 1 == e ? 0 : 0 === e || e % 100 > 0 && e % 100 < 20 ? 1 : 2;
                case "ar":
                    return 0 === e ? 0 : 1 == e ? 1 : 2 == e ? 2 : e >= 3 && e <= 10 ? 3 : e >= 11 && e <= 99 ? 4 : 5
                }
            }
            function exists(e, t) {
                for (var n = 0; n < e.length; n++)
                    if (t === e[n])
                        return !0;
                return !1
            }
            function get_current_locale() {
                return "undefined" != typeof document ? document.documentElement.lang.replace("-", "_") : t
            }
            return h
        }
        ) ? a.call(t, n, t, e) : a) || (e.exports = l)
    },
    34155: function(e) {
        var t, n, a = e.exports = {};
        function defaultSetTimout() {
            throw new Error("setTimeout has not been defined")
        }
        function defaultClearTimeout() {
            throw new Error("clearTimeout has not been defined")
        }
        function runTimeout(e) {
            if (t === setTimeout)
                return setTimeout(e, 0);
            if ((t === defaultSetTimout || !t) && setTimeout)
                return t = setTimeout,
                setTimeout(e, 0);
            try {
                return t(e, 0)
            } catch (n) {
                try {
                    return t.call(null, e, 0)
                } catch (n) {
                    return t.call(this, e, 0)
                }
            }
        }
        !function() {
            try {
                t = "function" == typeof setTimeout ? setTimeout : defaultSetTimout
            } catch (e) {
                t = defaultSetTimout
            }
            try {
                n = "function" == typeof clearTimeout ? clearTimeout : defaultClearTimeout
            } catch (e) {
                n = defaultClearTimeout
            }
        }();
        var l, f = [], h = !1, p = -1;
        function cleanUpNextTick() {
            h && l && (h = !1,
            l.length ? f = l.concat(f) : p = -1,
            f.length && drainQueue())
        }
        function drainQueue() {
            if (!h) {
                var e = runTimeout(cleanUpNextTick);
                h = !0;
                for (var t = f.length; t; ) {
                    for (l = f,
                    f = []; ++p < t; )
                        l && l[p].run();
                    p = -1,
                    t = f.length
                }
                l = null,
                h = !1,
                function runClearTimeout(e) {
                    if (n === clearTimeout)
                        return clearTimeout(e);
                    if ((n === defaultClearTimeout || !n) && clearTimeout)
                        return n = clearTimeout,
                        clearTimeout(e);
                    try {
                        return n(e)
                    } catch (t) {
                        try {
                            return n.call(null, e)
                        } catch (t) {
                            return n.call(this, e)
                        }
                    }
                }(e)
            }
        }
        function Item(e, t) {
            this.fun = e,
            this.array = t
        }
        function noop() {}
        a.nextTick = function(e) {
            var t = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var n = 1; n < arguments.length; n++)
                    t[n - 1] = arguments[n];
            f.push(new Item(e,t)),
            1 !== f.length || h || runTimeout(drainQueue)
        }
        ,
        Item.prototype.run = function() {
            this.fun.apply(null, this.array)
        }
        ,
        a.title = "browser",
        a.browser = !0,
        a.env = {},
        a.argv = [],
        a.version = "",
        a.versions = {},
        a.on = noop,
        a.addListener = noop,
        a.once = noop,
        a.off = noop,
        a.removeListener = noop,
        a.removeAllListeners = noop,
        a.emit = noop,
        a.prependListener = noop,
        a.prependOnceListener = noop,
        a.listeners = function(e) {
            return []
        }
        ,
        a.binding = function(e) {
            throw new Error("process.binding is not supported")
        }
        ,
        a.cwd = function() {
            return "/"
        }
        ,
        a.chdir = function(e) {
            throw new Error("process.chdir is not supported")
        }
        ,
        a.umask = function() {
            return 0
        }
    },
    76940: function(e, t, n) {
        "use strict";
        n.r(t),
        t.default = "1.14.3"
    },
    35666: function(e) {
        var t = function(e) {
            "use strict";
            var t, n = Object.prototype, a = n.hasOwnProperty, l = "function" == typeof Symbol ? Symbol : {}, f = l.iterator || "@@iterator", h = l.asyncIterator || "@@asyncIterator", p = l.toStringTag || "@@toStringTag";
            function define(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }),
                e[t]
            }
            try {
                define({}, "")
            } catch (x) {
                define = function(e, t, n) {
                    return e[t] = n
                }
            }
            function wrap(e, t, n, a) {
                var l = t && t.prototype instanceof Generator ? t : Generator
                  , f = Object.create(l.prototype)
                  , h = new Context(a || []);
                return f._invoke = function makeInvokeMethod(e, t, n) {
                    var a = m;
                    return function invoke(l, f) {
                        if (a === v)
                            throw new Error("Generator is already running");
                        if (a === y) {
                            if ("throw" === l)
                                throw f;
                            return doneResult()
                        }
                        for (n.method = l,
                        n.arg = f; ; ) {
                            var h = n.delegate;
                            if (h) {
                                var p = maybeInvokeDelegate(h, n);
                                if (p) {
                                    if (p === b)
                                        continue;
                                    return p
                                }
                            }
                            if ("next" === n.method)
                                n.sent = n._sent = n.arg;
                            else if ("throw" === n.method) {
                                if (a === m)
                                    throw a = y,
                                    n.arg;
                                n.dispatchException(n.arg)
                            } else
                                "return" === n.method && n.abrupt("return", n.arg);
                            a = v;
                            var _ = tryCatch(e, t, n);
                            if ("normal" === _.type) {
                                if (a = n.done ? y : g,
                                _.arg === b)
                                    continue;
                                return {
                                    value: _.arg,
                                    done: n.done
                                }
                            }
                            "throw" === _.type && (a = y,
                            n.method = "throw",
                            n.arg = _.arg)
                        }
                    }
                }(e, n, h),
                f
            }
            function tryCatch(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    }
                } catch (x) {
                    return {
                        type: "throw",
                        arg: x
                    }
                }
            }
            e.wrap = wrap;
            var m = "suspendedStart"
              , g = "suspendedYield"
              , v = "executing"
              , y = "completed"
              , b = {};
            function Generator() {}
            function GeneratorFunction() {}
            function GeneratorFunctionPrototype() {}
            var _ = {};
            define(_, f, (function() {
                return this
            }
            ));
            var C = Object.getPrototypeOf
              , A = C && C(C(values([])));
            A && A !== n && a.call(A, f) && (_ = A);
            var S = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(_);
            function defineIteratorMethods(e) {
                ["next", "throw", "return"].forEach((function(t) {
                    define(e, t, (function(e) {
                        return this._invoke(t, e)
                    }
                    ))
                }
                ))
            }
            function AsyncIterator(e, t) {
                function invoke(n, l, f, h) {
                    var p = tryCatch(e[n], e, l);
                    if ("throw" !== p.type) {
                        var m = p.arg
                          , g = m.value;
                        return g && "object" == typeof g && a.call(g, "__await") ? t.resolve(g.__await).then((function(e) {
                            invoke("next", e, f, h)
                        }
                        ), (function(e) {
                            invoke("throw", e, f, h)
                        }
                        )) : t.resolve(g).then((function(e) {
                            m.value = e,
                            f(m)
                        }
                        ), (function(e) {
                            return invoke("throw", e, f, h)
                        }
                        ))
                    }
                    h(p.arg)
                }
                var n;
                this._invoke = function enqueue(e, a) {
                    function callInvokeWithMethodAndArg() {
                        return new t((function(t, n) {
                            invoke(e, a, t, n)
                        }
                        ))
                    }
                    return n = n ? n.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg()
                }
            }
            function maybeInvokeDelegate(e, n) {
                var a = e.iterator[n.method];
                if (a === t) {
                    if (n.delegate = null,
                    "throw" === n.method) {
                        if (e.iterator.return && (n.method = "return",
                        n.arg = t,
                        maybeInvokeDelegate(e, n),
                        "throw" === n.method))
                            return b;
                        n.method = "throw",
                        n.arg = new TypeError("The iterator does not provide a 'throw' method")
                    }
                    return b
                }
                var l = tryCatch(a, e.iterator, n.arg);
                if ("throw" === l.type)
                    return n.method = "throw",
                    n.arg = l.arg,
                    n.delegate = null,
                    b;
                var f = l.arg;
                return f ? f.done ? (n[e.resultName] = f.value,
                n.next = e.nextLoc,
                "return" !== n.method && (n.method = "next",
                n.arg = t),
                n.delegate = null,
                b) : f : (n.method = "throw",
                n.arg = new TypeError("iterator result is not an object"),
                n.delegate = null,
                b)
            }
            function pushTryEntry(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]),
                2 in e && (t.finallyLoc = e[2],
                t.afterLoc = e[3]),
                this.tryEntries.push(t)
            }
            function resetTryEntry(e) {
                var t = e.completion || {};
                t.type = "normal",
                delete t.arg,
                e.completion = t
            }
            function Context(e) {
                this.tryEntries = [{
                    tryLoc: "root"
                }],
                e.forEach(pushTryEntry, this),
                this.reset(!0)
            }
            function values(e) {
                if (e) {
                    var n = e[f];
                    if (n)
                        return n.call(e);
                    if ("function" == typeof e.next)
                        return e;
                    if (!isNaN(e.length)) {
                        var l = -1
                          , h = function next() {
                            for (; ++l < e.length; )
                                if (a.call(e, l))
                                    return next.value = e[l],
                                    next.done = !1,
                                    next;
                            return next.value = t,
                            next.done = !0,
                            next
                        };
                        return h.next = h
                    }
                }
                return {
                    next: doneResult
                }
            }
            function doneResult() {
                return {
                    value: t,
                    done: !0
                }
            }
            return GeneratorFunction.prototype = GeneratorFunctionPrototype,
            define(S, "constructor", GeneratorFunctionPrototype),
            define(GeneratorFunctionPrototype, "constructor", GeneratorFunction),
            GeneratorFunction.displayName = define(GeneratorFunctionPrototype, p, "GeneratorFunction"),
            e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === GeneratorFunction || "GeneratorFunction" === (t.displayName || t.name))
            }
            ,
            e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype,
                define(e, p, "GeneratorFunction")),
                e.prototype = Object.create(S),
                e
            }
            ,
            e.awrap = function(e) {
                return {
                    __await: e
                }
            }
            ,
            defineIteratorMethods(AsyncIterator.prototype),
            define(AsyncIterator.prototype, h, (function() {
                return this
            }
            )),
            e.AsyncIterator = AsyncIterator,
            e.async = function(t, n, a, l, f) {
                void 0 === f && (f = Promise);
                var h = new AsyncIterator(wrap(t, n, a, l),f);
                return e.isGeneratorFunction(n) ? h : h.next().then((function(e) {
                    return e.done ? e.value : h.next()
                }
                ))
            }
            ,
            defineIteratorMethods(S),
            define(S, p, "Generator"),
            define(S, f, (function() {
                return this
            }
            )),
            define(S, "toString", (function() {
                return "[object Generator]"
            }
            )),
            e.keys = function(e) {
                var t = [];
                for (var n in e)
                    t.push(n);
                return t.reverse(),
                function next() {
                    for (; t.length; ) {
                        var n = t.pop();
                        if (n in e)
                            return next.value = n,
                            next.done = !1,
                            next
                    }
                    return next.done = !0,
                    next
                }
            }
            ,
            e.values = values,
            Context.prototype = {
                constructor: Context,
                reset: function(e) {
                    if (this.prev = 0,
                    this.next = 0,
                    this.sent = this._sent = t,
                    this.done = !1,
                    this.delegate = null,
                    this.method = "next",
                    this.arg = t,
                    this.tryEntries.forEach(resetTryEntry),
                    !e)
                        for (var n in this)
                            "t" === n.charAt(0) && a.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t)
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type)
                        throw e.arg;
                    return this.rval
                },
                dispatchException: function(e) {
                    if (this.done)
                        throw e;
                    var n = this;
                    function handle(a, l) {
                        return h.type = "throw",
                        h.arg = e,
                        n.next = a,
                        l && (n.method = "next",
                        n.arg = t),
                        !!l
                    }
                    for (var l = this.tryEntries.length - 1; l >= 0; --l) {
                        var f = this.tryEntries[l]
                          , h = f.completion;
                        if ("root" === f.tryLoc)
                            return handle("end");
                        if (f.tryLoc <= this.prev) {
                            var p = a.call(f, "catchLoc")
                              , m = a.call(f, "finallyLoc");
                            if (p && m) {
                                if (this.prev < f.catchLoc)
                                    return handle(f.catchLoc, !0);
                                if (this.prev < f.finallyLoc)
                                    return handle(f.finallyLoc)
                            } else if (p) {
                                if (this.prev < f.catchLoc)
                                    return handle(f.catchLoc, !0)
                            } else {
                                if (!m)
                                    throw new Error("try statement without catch or finally");
                                if (this.prev < f.finallyLoc)
                                    return handle(f.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                        var l = this.tryEntries[n];
                        if (l.tryLoc <= this.prev && a.call(l, "finallyLoc") && this.prev < l.finallyLoc) {
                            var f = l;
                            break
                        }
                    }
                    f && ("break" === e || "continue" === e) && f.tryLoc <= t && t <= f.finallyLoc && (f = null);
                    var h = f ? f.completion : {};
                    return h.type = e,
                    h.arg = t,
                    f ? (this.method = "next",
                    this.next = f.finallyLoc,
                    b) : this.complete(h)
                },
                complete: function(e, t) {
                    if ("throw" === e.type)
                        throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,
                    this.method = "return",
                    this.next = "end") : "normal" === e.type && t && (this.next = t),
                    b
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e)
                            return this.complete(n.completion, n.afterLoc),
                            resetTryEntry(n),
                            b
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var a = n.completion;
                            if ("throw" === a.type) {
                                var l = a.arg;
                                resetTryEntry(n)
                            }
                            return l
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(e, n, a) {
                    return this.delegate = {
                        iterator: values(e),
                        resultName: n,
                        nextLoc: a
                    },
                    "next" === this.method && (this.arg = t),
                    b
                }
            },
            e
        }(e.exports);
        try {
            regeneratorRuntime = t
        } catch (n) {
            "object" == typeof globalThis ? globalThis.regeneratorRuntime = t : Function("r", "regeneratorRuntime = r")(t)
        }
    },
    74279: function(e) {
        function E() {}
        E.prototype = {
            on: function(e, t, n) {
                var a = this.e || (this.e = {});
                return (a[e] || (a[e] = [])).push({
                    fn: t,
                    ctx: n
                }),
                this
            },
            once: function(e, t, n) {
                var a = this;
                function listener() {
                    a.off(e, listener),
                    t.apply(n, arguments)
                }
                return listener._ = t,
                this.on(e, listener, n)
            },
            emit: function(e) {
                for (var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), a = 0, l = n.length; a < l; a++)
                    n[a].fn.apply(n[a].ctx, t);
                return this
            },
            off: function(e, t) {
                var n = this.e || (this.e = {})
                  , a = n[e]
                  , l = [];
                if (a && t)
                    for (var f = 0, h = a.length; f < h; f++)
                        a[f].fn !== t && a[f].fn._ !== t && l.push(a[f]);
                return l.length ? n[e] = l : delete n[e],
                this
            }
        },
        e.exports = E,
        e.exports.TinyEmitter = E
    },
    54752: function(e) {
        e.exports = function uid(e) {
            return e = e || 7,
            Math.random().toString(35).substr(2, e)
        }
    },
    51900: function(e, t, n) {
        "use strict";
        function normalizeComponent(e, t, n, a, l, f, h, p) {
            var m, g = "function" == typeof e ? e.options : e;
            if (t && (g.render = t,
            g.staticRenderFns = n,
            g._compiled = !0),
            a && (g.functional = !0),
            f && (g._scopeId = "data-v-" + f),
            h ? (m = function(e) {
                (e = e || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (e = __VUE_SSR_CONTEXT__),
                l && l.call(this, e),
                e && e._registeredComponents && e._registeredComponents.add(h)
            }
            ,
            g._ssrRegister = m) : l && (m = p ? function() {
                l.call(this, (g.functional ? this.parent : this).$root.$options.shadowRoot)
            }
            : l),
            m)
                if (g.functional) {
                    g._injectStyles = m;
                    var v = g.render;
                    g.render = function renderWithStyleInjection(e, t) {
                        return m.call(t),
                        v(e, t)
                    }
                } else {
                    var y = g.beforeCreate;
                    g.beforeCreate = y ? [].concat(y, m) : [m]
                }
            return {
                exports: e,
                options: g
            }
        }
        n.d(t, {
            Z: function() {
                return normalizeComponent
            }
        })
    },
    70538: function(e, t, n) {
        "use strict";
        /*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
        var a = Object.freeze({});
        function isUndef(e) {
            return null == e
        }
        function isDef(e) {
            return null != e
        }
        function isTrue(e) {
            return !0 === e
        }
        function isPrimitive(e) {
            return "string" == typeof e || "number" == typeof e || "symbol" == typeof e || "boolean" == typeof e
        }
        function isObject(e) {
            return null !== e && "object" == typeof e
        }
        var l = Object.prototype.toString;
        function isPlainObject(e) {
            return "[object Object]" === l.call(e)
        }
        function isRegExp(e) {
            return "[object RegExp]" === l.call(e)
        }
        function isValidArrayIndex(e) {
            var t = parseFloat(String(e));
            return t >= 0 && Math.floor(t) === t && isFinite(e)
        }
        function isPromise(e) {
            return isDef(e) && "function" == typeof e.then && "function" == typeof e.catch
        }
        function toString(e) {
            return null == e ? "" : Array.isArray(e) || isPlainObject(e) && e.toString === l ? JSON.stringify(e, null, 2) : String(e)
        }
        function toNumber(e) {
            var t = parseFloat(e);
            return isNaN(t) ? e : t
        }
        function makeMap(e, t) {
            for (var n = Object.create(null), a = e.split(","), l = 0; l < a.length; l++)
                n[a[l]] = !0;
            return t ? function(e) {
                return n[e.toLowerCase()]
            }
            : function(e) {
                return n[e]
            }
        }
        var f = makeMap("slot,component", !0)
          , h = makeMap("key,ref,slot,slot-scope,is");
        function remove(e, t) {
            if (e.length) {
                var n = e.indexOf(t);
                if (n > -1)
                    return e.splice(n, 1)
            }
        }
        var p = Object.prototype.hasOwnProperty;
        function hasOwn(e, t) {
            return p.call(e, t)
        }
        function cached(e) {
            var t = Object.create(null);
            return function cachedFn(n) {
                return t[n] || (t[n] = e(n))
            }
        }
        var m = /-(\w)/g
          , g = cached((function(e) {
            return e.replace(m, (function(e, t) {
                return t ? t.toUpperCase() : ""
            }
            ))
        }
        ))
          , v = cached((function(e) {
            return e.charAt(0).toUpperCase() + e.slice(1)
        }
        ))
          , y = /\B([A-Z])/g
          , b = cached((function(e) {
            return e.replace(y, "-$1").toLowerCase()
        }
        ));
        var _ = Function.prototype.bind ? function nativeBind(e, t) {
            return e.bind(t)
        }
        : function polyfillBind(e, t) {
            function boundFn(n) {
                var a = arguments.length;
                return a ? a > 1 ? e.apply(t, arguments) : e.call(t, n) : e.call(t)
            }
            return boundFn._length = e.length,
            boundFn
        }
        ;
        function toArray(e, t) {
            t = t || 0;
            for (var n = e.length - t, a = new Array(n); n--; )
                a[n] = e[n + t];
            return a
        }
        function extend(e, t) {
            for (var n in t)
                e[n] = t[n];
            return e
        }
        function toObject(e) {
            for (var t = {}, n = 0; n < e.length; n++)
                e[n] && extend(t, e[n]);
            return t
        }
        function noop(e, t, n) {}
        var no = function(e, t, n) {
            return !1
        }
          , identity = function(e) {
            return e
        };
        function looseEqual(e, t) {
            if (e === t)
                return !0;
            var n = isObject(e)
              , a = isObject(t);
            if (!n || !a)
                return !n && !a && String(e) === String(t);
            try {
                var l = Array.isArray(e)
                  , f = Array.isArray(t);
                if (l && f)
                    return e.length === t.length && e.every((function(e, n) {
                        return looseEqual(e, t[n])
                    }
                    ));
                if (e instanceof Date && t instanceof Date)
                    return e.getTime() === t.getTime();
                if (l || f)
                    return !1;
                var h = Object.keys(e)
                  , p = Object.keys(t);
                return h.length === p.length && h.every((function(n) {
                    return looseEqual(e[n], t[n])
                }
                ))
            } catch (m) {
                return !1
            }
        }
        function looseIndexOf(e, t) {
            for (var n = 0; n < e.length; n++)
                if (looseEqual(e[n], t))
                    return n;
            return -1
        }
        function once(e) {
            var t = !1;
            return function() {
                t || (t = !0,
                e.apply(this, arguments))
            }
        }
        var C = "data-server-rendered"
          , A = ["component", "directive", "filter"]
          , S = ["beforeCreate", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "beforeDestroy", "destroyed", "activated", "deactivated", "errorCaptured", "serverPrefetch"]
          , x = {
            optionMergeStrategies: Object.create(null),
            silent: !1,
            productionTip: !1,
            devtools: !1,
            performance: !1,
            errorHandler: null,
            warnHandler: null,
            ignoredElements: [],
            keyCodes: Object.create(null),
            isReservedTag: no,
            isReservedAttr: no,
            isUnknownElement: no,
            getTagNamespace: noop,
            parsePlatformTagName: identity,
            mustUseProp: no,
            async: !0,
            _lifecycleHooks: S
        }
          , w = /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;
        function isReserved(e) {
            var t = (e + "").charCodeAt(0);
            return 36 === t || 95 === t
        }
        function def(e, t, n, a) {
            Object.defineProperty(e, t, {
                value: n,
                enumerable: !!a,
                writable: !0,
                configurable: !0
            })
        }
        var P = new RegExp("[^" + w.source + ".$_\\d]");
        var T, M = "__proto__"in {}, k = "undefined" != typeof window, I = "undefined" != typeof WXEnvironment && !!WXEnvironment.platform, O = I && WXEnvironment.platform.toLowerCase(), N = k && window.navigator.userAgent.toLowerCase(), R = N && /msie|trident/.test(N), L = N && N.indexOf("msie 9.0") > 0, D = N && N.indexOf("edge/") > 0, B = (N && N.indexOf("android"),
        N && /iphone|ipad|ipod|ios/.test(N) || "ios" === O), $ = (N && /chrome\/\d+/.test(N),
        N && /phantomjs/.test(N),
        N && N.match(/firefox\/(\d+)/)), F = {}.watch, H = !1;
        if (k)
            try {
                var j = {};
                Object.defineProperty(j, "passive", {
                    get: function get() {
                        H = !0
                    }
                }),
                window.addEventListener("test-passive", null, j)
            } catch (ur) {}
        var isServerRendering = function() {
            return void 0 === T && (T = !k && !I && void 0 !== n.g && (n.g.process && "server" === n.g.process.env.VUE_ENV)),
            T
        }
          , U = k && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;
        function isNative(e) {
            return "function" == typeof e && /native code/.test(e.toString())
        }
        var V, G = "undefined" != typeof Symbol && isNative(Symbol) && "undefined" != typeof Reflect && isNative(Reflect.ownKeys);
        V = "undefined" != typeof Set && isNative(Set) ? Set : function() {
            function Set() {
                this.set = Object.create(null)
            }
            return Set.prototype.has = function has(e) {
                return !0 === this.set[e]
            }
            ,
            Set.prototype.add = function add(e) {
                this.set[e] = !0
            }
            ,
            Set.prototype.clear = function clear() {
                this.set = Object.create(null)
            }
            ,
            Set
        }();
        var q = noop
          , z = 0
          , W = function Dep() {
            this.id = z++,
            this.subs = []
        };
        W.prototype.addSub = function addSub(e) {
            this.subs.push(e)
        }
        ,
        W.prototype.removeSub = function removeSub(e) {
            remove(this.subs, e)
        }
        ,
        W.prototype.depend = function depend() {
            W.target && W.target.addDep(this)
        }
        ,
        W.prototype.notify = function notify() {
            var e = this.subs.slice();
            for (var t = 0, n = e.length; t < n; t++)
                e[t].update()
        }
        ,
        W.target = null;
        var K = [];
        function pushTarget(e) {
            K.push(e),
            W.target = e
        }
        function popTarget() {
            K.pop(),
            W.target = K[K.length - 1]
        }
        var Z = function VNode(e, t, n, a, l, f, h, p) {
            this.tag = e,
            this.data = t,
            this.children = n,
            this.text = a,
            this.elm = l,
            this.ns = void 0,
            this.context = f,
            this.fnContext = void 0,
            this.fnOptions = void 0,
            this.fnScopeId = void 0,
            this.key = t && t.key,
            this.componentOptions = h,
            this.componentInstance = void 0,
            this.parent = void 0,
            this.raw = !1,
            this.isStatic = !1,
            this.isRootInsert = !0,
            this.isComment = !1,
            this.isCloned = !1,
            this.isOnce = !1,
            this.asyncFactory = p,
            this.asyncMeta = void 0,
            this.isAsyncPlaceholder = !1
        }
          , X = {
            child: {
                configurable: !0
            }
        };
        X.child.get = function() {
            return this.componentInstance
        }
        ,
        Object.defineProperties(Z.prototype, X);
        var createEmptyVNode = function(e) {
            void 0 === e && (e = "");
            var t = new Z;
            return t.text = e,
            t.isComment = !0,
            t
        };
        function createTextVNode(e) {
            return new Z(void 0,void 0,void 0,String(e))
        }
        function cloneVNode(e) {
            var t = new Z(e.tag,e.data,e.children && e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);
            return t.ns = e.ns,
            t.isStatic = e.isStatic,
            t.key = e.key,
            t.isComment = e.isComment,
            t.fnContext = e.fnContext,
            t.fnOptions = e.fnOptions,
            t.fnScopeId = e.fnScopeId,
            t.asyncMeta = e.asyncMeta,
            t.isCloned = !0,
            t
        }
        var Q = Array.prototype
          , Y = Object.create(Q);
        ["push", "pop", "shift", "unshift", "splice", "sort", "reverse"].forEach((function(e) {
            var t = Q[e];
            def(Y, e, (function mutator() {
                for (var n = [], a = arguments.length; a--; )
                    n[a] = arguments[a];
                var l, f = t.apply(this, n), h = this.__ob__;
                switch (e) {
                case "push":
                case "unshift":
                    l = n;
                    break;
                case "splice":
                    l = n.slice(2)
                }
                return l && h.observeArray(l),
                h.dep.notify(),
                f
            }
            ))
        }
        ));
        var J = Object.getOwnPropertyNames(Y)
          , ee = !0;
        function toggleObserving(e) {
            ee = e
        }
        var te = function Observer(e) {
            this.value = e,
            this.dep = new W,
            this.vmCount = 0,
            def(e, "__ob__", this),
            Array.isArray(e) ? (M ? function protoAugment(e, t) {
                e.__proto__ = t
            }(e, Y) : function copyAugment(e, t, n) {
                for (var a = 0, l = n.length; a < l; a++) {
                    var f = n[a];
                    def(e, f, t[f])
                }
            }(e, Y, J),
            this.observeArray(e)) : this.walk(e)
        };
        function observe(e, t) {
            var n;
            if (isObject(e) && !(e instanceof Z))
                return hasOwn(e, "__ob__") && e.__ob__ instanceof te ? n = e.__ob__ : ee && !isServerRendering() && (Array.isArray(e) || isPlainObject(e)) && Object.isExtensible(e) && !e._isVue && (n = new te(e)),
                t && n && n.vmCount++,
                n
        }
        function defineReactive$$1(e, t, n, a, l) {
            var f = new W
              , h = Object.getOwnPropertyDescriptor(e, t);
            if (!h || !1 !== h.configurable) {
                var p = h && h.get
                  , m = h && h.set;
                p && !m || 2 !== arguments.length || (n = e[t]);
                var g = !l && observe(n);
                Object.defineProperty(e, t, {
                    enumerable: !0,
                    configurable: !0,
                    get: function reactiveGetter() {
                        var t = p ? p.call(e) : n;
                        return W.target && (f.depend(),
                        g && (g.dep.depend(),
                        Array.isArray(t) && dependArray(t))),
                        t
                    },
                    set: function reactiveSetter(t) {
                        var a = p ? p.call(e) : n;
                        t === a || t != t && a != a || p && !m || (m ? m.call(e, t) : n = t,
                        g = !l && observe(t),
                        f.notify())
                    }
                })
            }
        }
        function set(e, t, n) {
            if (Array.isArray(e) && isValidArrayIndex(t))
                return e.length = Math.max(e.length, t),
                e.splice(t, 1, n),
                n;
            if (t in e && !(t in Object.prototype))
                return e[t] = n,
                n;
            var a = e.__ob__;
            return e._isVue || a && a.vmCount ? n : a ? (defineReactive$$1(a.value, t, n),
            a.dep.notify(),
            n) : (e[t] = n,
            n)
        }
        function del(e, t) {
            if (Array.isArray(e) && isValidArrayIndex(t))
                e.splice(t, 1);
            else {
                var n = e.__ob__;
                e._isVue || n && n.vmCount || hasOwn(e, t) && (delete e[t],
                n && n.dep.notify())
            }
        }
        function dependArray(e) {
            for (var t = void 0, n = 0, a = e.length; n < a; n++)
                (t = e[n]) && t.__ob__ && t.__ob__.dep.depend(),
                Array.isArray(t) && dependArray(t)
        }
        te.prototype.walk = function walk(e) {
            for (var t = Object.keys(e), n = 0; n < t.length; n++)
                defineReactive$$1(e, t[n])
        }
        ,
        te.prototype.observeArray = function observeArray(e) {
            for (var t = 0, n = e.length; t < n; t++)
                observe(e[t])
        }
        ;
        var ne = x.optionMergeStrategies;
        function mergeData(e, t) {
            if (!t)
                return e;
            for (var n, a, l, f = G ? Reflect.ownKeys(t) : Object.keys(t), h = 0; h < f.length; h++)
                "__ob__" !== (n = f[h]) && (a = e[n],
                l = t[n],
                hasOwn(e, n) ? a !== l && isPlainObject(a) && isPlainObject(l) && mergeData(a, l) : set(e, n, l));
            return e
        }
        function mergeDataOrFn(e, t, n) {
            return n ? function mergedInstanceDataFn() {
                var a = "function" == typeof t ? t.call(n, n) : t
                  , l = "function" == typeof e ? e.call(n, n) : e;
                return a ? mergeData(a, l) : l
            }
            : t ? e ? function mergedDataFn() {
                return mergeData("function" == typeof t ? t.call(this, this) : t, "function" == typeof e ? e.call(this, this) : e)
            }
            : t : e
        }
        function mergeHook(e, t) {
            var n = t ? e ? e.concat(t) : Array.isArray(t) ? t : [t] : e;
            return n ? function dedupeHooks(e) {
                for (var t = [], n = 0; n < e.length; n++)
                    -1 === t.indexOf(e[n]) && t.push(e[n]);
                return t
            }(n) : n
        }
        function mergeAssets(e, t, n, a) {
            var l = Object.create(e || null);
            return t ? extend(l, t) : l
        }
        ne.data = function(e, t, n) {
            return n ? mergeDataOrFn(e, t, n) : t && "function" != typeof t ? e : mergeDataOrFn(e, t)
        }
        ,
        S.forEach((function(e) {
            ne[e] = mergeHook
        }
        )),
        A.forEach((function(e) {
            ne[e + "s"] = mergeAssets
        }
        )),
        ne.watch = function(e, t, n, a) {
            if (e === F && (e = void 0),
            t === F && (t = void 0),
            !t)
                return Object.create(e || null);
            if (!e)
                return t;
            var l = {};
            for (var f in extend(l, e),
            t) {
                var h = l[f]
                  , p = t[f];
                h && !Array.isArray(h) && (h = [h]),
                l[f] = h ? h.concat(p) : Array.isArray(p) ? p : [p]
            }
            return l
        }
        ,
        ne.props = ne.methods = ne.inject = ne.computed = function(e, t, n, a) {
            if (!e)
                return t;
            var l = Object.create(null);
            return extend(l, e),
            t && extend(l, t),
            l
        }
        ,
        ne.provide = mergeDataOrFn;
        var defaultStrat = function(e, t) {
            return void 0 === t ? e : t
        };
        function mergeOptions(e, t, n) {
            if ("function" == typeof t && (t = t.options),
            function normalizeProps(e, t) {
                var n = e.props;
                if (n) {
                    var a, l, f = {};
                    if (Array.isArray(n))
                        for (a = n.length; a--; )
                            "string" == typeof (l = n[a]) && (f[g(l)] = {
                                type: null
                            });
                    else if (isPlainObject(n))
                        for (var h in n)
                            l = n[h],
                            f[g(h)] = isPlainObject(l) ? l : {
                                type: l
                            };
                    e.props = f
                }
            }(t),
            function normalizeInject(e, t) {
                var n = e.inject;
                if (n) {
                    var a = e.inject = {};
                    if (Array.isArray(n))
                        for (var l = 0; l < n.length; l++)
                            a[n[l]] = {
                                from: n[l]
                            };
                    else if (isPlainObject(n))
                        for (var f in n) {
                            var h = n[f];
                            a[f] = isPlainObject(h) ? extend({
                                from: f
                            }, h) : {
                                from: h
                            }
                        }
                }
            }(t),
            function normalizeDirectives(e) {
                var t = e.directives;
                if (t)
                    for (var n in t) {
                        var a = t[n];
                        "function" == typeof a && (t[n] = {
                            bind: a,
                            update: a
                        })
                    }
            }(t),
            !t._base && (t.extends && (e = mergeOptions(e, t.extends, n)),
            t.mixins))
                for (var a = 0, l = t.mixins.length; a < l; a++)
                    e = mergeOptions(e, t.mixins[a], n);
            var f, h = {};
            for (f in e)
                mergeField(f);
            for (f in t)
                hasOwn(e, f) || mergeField(f);
            function mergeField(a) {
                var l = ne[a] || defaultStrat;
                h[a] = l(e[a], t[a], n, a)
            }
            return h
        }
        function resolveAsset(e, t, n, a) {
            if ("string" == typeof n) {
                var l = e[t];
                if (hasOwn(l, n))
                    return l[n];
                var f = g(n);
                if (hasOwn(l, f))
                    return l[f];
                var h = v(f);
                return hasOwn(l, h) ? l[h] : l[n] || l[f] || l[h]
            }
        }
        function validateProp(e, t, n, a) {
            var l = t[e]
              , f = !hasOwn(n, e)
              , h = n[e]
              , p = getTypeIndex(Boolean, l.type);
            if (p > -1)
                if (f && !hasOwn(l, "default"))
                    h = !1;
                else if ("" === h || h === b(e)) {
                    var m = getTypeIndex(String, l.type);
                    (m < 0 || p < m) && (h = !0)
                }
            if (void 0 === h) {
                h = function getPropDefaultValue(e, t, n) {
                    if (!hasOwn(t, "default"))
                        return;
                    var a = t.default;
                    0;
                    if (e && e.$options.propsData && void 0 === e.$options.propsData[n] && void 0 !== e._props[n])
                        return e._props[n];
                    return "function" == typeof a && "Function" !== getType(t.type) ? a.call(e) : a
                }(a, l, e);
                var g = ee;
                toggleObserving(!0),
                observe(h),
                toggleObserving(g)
            }
            return h
        }
        var re = /^\s*function (\w+)/;
        function getType(e) {
            var t = e && e.toString().match(re);
            return t ? t[1] : ""
        }
        function isSameType(e, t) {
            return getType(e) === getType(t)
        }
        function getTypeIndex(e, t) {
            if (!Array.isArray(t))
                return isSameType(t, e) ? 0 : -1;
            for (var n = 0, a = t.length; n < a; n++)
                if (isSameType(t[n], e))
                    return n;
            return -1
        }
        function handleError(e, t, n) {
            pushTarget();
            try {
                if (t)
                    for (var a = t; a = a.$parent; ) {
                        var l = a.$options.errorCaptured;
                        if (l)
                            for (var f = 0; f < l.length; f++)
                                try {
                                    if (!1 === l[f].call(a, e, t, n))
                                        return
                                } catch (ur) {
                                    globalHandleError(ur, a, "errorCaptured hook")
                                }
                    }
                globalHandleError(e, t, n)
            } finally {
                popTarget()
            }
        }
        function invokeWithErrorHandling(e, t, n, a, l) {
            var f;
            try {
                (f = n ? e.apply(t, n) : e.call(t)) && !f._isVue && isPromise(f) && !f._handled && (f.catch((function(e) {
                    return handleError(e, a, l + " (Promise/async)")
                }
                )),
                f._handled = !0)
            } catch (ur) {
                handleError(ur, a, l)
            }
            return f
        }
        function globalHandleError(e, t, n) {
            if (x.errorHandler)
                try {
                    return x.errorHandler.call(null, e, t, n)
                } catch (ur) {
                    ur !== e && logError(ur, null, "config.errorHandler")
                }
            logError(e, t, n)
        }
        function logError(e, t, n) {
            if (!k && !I || "undefined" == typeof console)
                throw e;
            console.error(e)
        }
        var oe, ie = !1, ae = [], se = !1;
        function flushCallbacks() {
            se = !1;
            var e = ae.slice(0);
            ae.length = 0;
            for (var t = 0; t < e.length; t++)
                e[t]()
        }
        if ("undefined" != typeof Promise && isNative(Promise)) {
            var ue = Promise.resolve();
            oe = function() {
                ue.then(flushCallbacks),
                B && setTimeout(noop)
            }
            ,
            ie = !0
        } else if (R || "undefined" == typeof MutationObserver || !isNative(MutationObserver) && "[object MutationObserverConstructor]" !== MutationObserver.toString())
            oe = "undefined" != typeof setImmediate && isNative(setImmediate) ? function() {
                setImmediate(flushCallbacks)
            }
            : function() {
                setTimeout(flushCallbacks, 0)
            }
            ;
        else {
            var ce = 1
              , le = new MutationObserver(flushCallbacks)
              , de = document.createTextNode(String(ce));
            le.observe(de, {
                characterData: !0
            }),
            oe = function() {
                ce = (ce + 1) % 2,
                de.data = String(ce)
            }
            ,
            ie = !0
        }
        function nextTick(e, t) {
            var n;
            if (ae.push((function() {
                if (e)
                    try {
                        e.call(t)
                    } catch (ur) {
                        handleError(ur, t, "nextTick")
                    }
                else
                    n && n(t)
            }
            )),
            se || (se = !0,
            oe()),
            !e && "undefined" != typeof Promise)
                return new Promise((function(e) {
                    n = e
                }
                ))
        }
        var fe = new V;
        function traverse(e) {
            _traverse(e, fe),
            fe.clear()
        }
        function _traverse(e, t) {
            var n, a, l = Array.isArray(e);
            if (!(!l && !isObject(e) || Object.isFrozen(e) || e instanceof Z)) {
                if (e.__ob__) {
                    var f = e.__ob__.dep.id;
                    if (t.has(f))
                        return;
                    t.add(f)
                }
                if (l)
                    for (n = e.length; n--; )
                        _traverse(e[n], t);
                else
                    for (n = (a = Object.keys(e)).length; n--; )
                        _traverse(e[a[n]], t)
            }
        }
        var he = cached((function(e) {
            var t = "&" === e.charAt(0)
              , n = "~" === (e = t ? e.slice(1) : e).charAt(0)
              , a = "!" === (e = n ? e.slice(1) : e).charAt(0);
            return {
                name: e = a ? e.slice(1) : e,
                once: n,
                capture: a,
                passive: t
            }
        }
        ));
        function createFnInvoker(e, t) {
            function invoker() {
                var e = arguments
                  , n = invoker.fns;
                if (!Array.isArray(n))
                    return invokeWithErrorHandling(n, null, arguments, t, "v-on handler");
                for (var a = n.slice(), l = 0; l < a.length; l++)
                    invokeWithErrorHandling(a[l], null, e, t, "v-on handler")
            }
            return invoker.fns = e,
            invoker
        }
        function updateListeners(e, t, n, a, l, f) {
            var h, p, m, g;
            for (h in e)
                p = e[h],
                m = t[h],
                g = he(h),
                isUndef(p) || (isUndef(m) ? (isUndef(p.fns) && (p = e[h] = createFnInvoker(p, f)),
                isTrue(g.once) && (p = e[h] = l(g.name, p, g.capture)),
                n(g.name, p, g.capture, g.passive, g.params)) : p !== m && (m.fns = p,
                e[h] = m));
            for (h in t)
                isUndef(e[h]) && a((g = he(h)).name, t[h], g.capture)
        }
        function mergeVNodeHook(e, t, n) {
            var a;
            e instanceof Z && (e = e.data.hook || (e.data.hook = {}));
            var l = e[t];
            function wrappedHook() {
                n.apply(this, arguments),
                remove(a.fns, wrappedHook)
            }
            isUndef(l) ? a = createFnInvoker([wrappedHook]) : isDef(l.fns) && isTrue(l.merged) ? (a = l).fns.push(wrappedHook) : a = createFnInvoker([l, wrappedHook]),
            a.merged = !0,
            e[t] = a
        }
        function checkProp(e, t, n, a, l) {
            if (isDef(t)) {
                if (hasOwn(t, n))
                    return e[n] = t[n],
                    l || delete t[n],
                    !0;
                if (hasOwn(t, a))
                    return e[n] = t[a],
                    l || delete t[a],
                    !0
            }
            return !1
        }
        function normalizeChildren(e) {
            return isPrimitive(e) ? [createTextVNode(e)] : Array.isArray(e) ? normalizeArrayChildren(e) : void 0
        }
        function isTextNode(e) {
            return isDef(e) && isDef(e.text) && function isFalse(e) {
                return !1 === e
            }(e.isComment)
        }
        function normalizeArrayChildren(e, t) {
            var n, a, l, f, h = [];
            for (n = 0; n < e.length; n++)
                isUndef(a = e[n]) || "boolean" == typeof a || (f = h[l = h.length - 1],
                Array.isArray(a) ? a.length > 0 && (isTextNode((a = normalizeArrayChildren(a, (t || "") + "_" + n))[0]) && isTextNode(f) && (h[l] = createTextVNode(f.text + a[0].text),
                a.shift()),
                h.push.apply(h, a)) : isPrimitive(a) ? isTextNode(f) ? h[l] = createTextVNode(f.text + a) : "" !== a && h.push(createTextVNode(a)) : isTextNode(a) && isTextNode(f) ? h[l] = createTextVNode(f.text + a.text) : (isTrue(e._isVList) && isDef(a.tag) && isUndef(a.key) && isDef(t) && (a.key = "__vlist" + t + "_" + n + "__"),
                h.push(a)));
            return h
        }
        function resolveInject(e, t) {
            if (e) {
                for (var n = Object.create(null), a = G ? Reflect.ownKeys(e) : Object.keys(e), l = 0; l < a.length; l++) {
                    var f = a[l];
                    if ("__ob__" !== f) {
                        for (var h = e[f].from, p = t; p; ) {
                            if (p._provided && hasOwn(p._provided, h)) {
                                n[f] = p._provided[h];
                                break
                            }
                            p = p.$parent
                        }
                        if (!p)
                            if ("default"in e[f]) {
                                var m = e[f].default;
                                n[f] = "function" == typeof m ? m.call(t) : m
                            } else
                                0
                    }
                }
                return n
            }
        }
        function resolveSlots(e, t) {
            if (!e || !e.length)
                return {};
            for (var n = {}, a = 0, l = e.length; a < l; a++) {
                var f = e[a]
                  , h = f.data;
                if (h && h.attrs && h.attrs.slot && delete h.attrs.slot,
                f.context !== t && f.fnContext !== t || !h || null == h.slot)
                    (n.default || (n.default = [])).push(f);
                else {
                    var p = h.slot
                      , m = n[p] || (n[p] = []);
                    "template" === f.tag ? m.push.apply(m, f.children || []) : m.push(f)
                }
            }
            for (var g in n)
                n[g].every(isWhitespace) && delete n[g];
            return n
        }
        function isWhitespace(e) {
            return e.isComment && !e.asyncFactory || " " === e.text
        }
        function isAsyncPlaceholder(e) {
            return e.isComment && e.asyncFactory
        }
        function normalizeScopedSlots(e, t, n) {
            var l, f = Object.keys(t).length > 0, h = e ? !!e.$stable : !f, p = e && e.$key;
            if (e) {
                if (e._normalized)
                    return e._normalized;
                if (h && n && n !== a && p === n.$key && !f && !n.$hasNormal)
                    return n;
                for (var m in l = {},
                e)
                    e[m] && "$" !== m[0] && (l[m] = normalizeScopedSlot(t, m, e[m]))
            } else
                l = {};
            for (var g in t)
                g in l || (l[g] = proxyNormalSlot(t, g));
            return e && Object.isExtensible(e) && (e._normalized = l),
            def(l, "$stable", h),
            def(l, "$key", p),
            def(l, "$hasNormal", f),
            l
        }
        function normalizeScopedSlot(e, t, n) {
            var normalized = function() {
                var e = arguments.length ? n.apply(null, arguments) : n({})
                  , t = (e = e && "object" == typeof e && !Array.isArray(e) ? [e] : normalizeChildren(e)) && e[0];
                return e && (!t || 1 === e.length && t.isComment && !isAsyncPlaceholder(t)) ? void 0 : e
            };
            return n.proxy && Object.defineProperty(e, t, {
                get: normalized,
                enumerable: !0,
                configurable: !0
            }),
            normalized
        }
        function proxyNormalSlot(e, t) {
            return function() {
                return e[t]
            }
        }
        function renderList(e, t) {
            var n, a, l, f, h;
            if (Array.isArray(e) || "string" == typeof e)
                for (n = new Array(e.length),
                a = 0,
                l = e.length; a < l; a++)
                    n[a] = t(e[a], a);
            else if ("number" == typeof e)
                for (n = new Array(e),
                a = 0; a < e; a++)
                    n[a] = t(a + 1, a);
            else if (isObject(e))
                if (G && e[Symbol.iterator]) {
                    n = [];
                    for (var p = e[Symbol.iterator](), m = p.next(); !m.done; )
                        n.push(t(m.value, n.length)),
                        m = p.next()
                } else
                    for (f = Object.keys(e),
                    n = new Array(f.length),
                    a = 0,
                    l = f.length; a < l; a++)
                        h = f[a],
                        n[a] = t(e[h], h, a);
            return isDef(n) || (n = []),
            n._isVList = !0,
            n
        }
        function renderSlot(e, t, n, a) {
            var l, f = this.$scopedSlots[e];
            f ? (n = n || {},
            a && (n = extend(extend({}, a), n)),
            l = f(n) || ("function" == typeof t ? t() : t)) : l = this.$slots[e] || ("function" == typeof t ? t() : t);
            var h = n && n.slot;
            return h ? this.$createElement("template", {
                slot: h
            }, l) : l
        }
        function resolveFilter(e) {
            return resolveAsset(this.$options, "filters", e) || identity
        }
        function isKeyNotMatch(e, t) {
            return Array.isArray(e) ? -1 === e.indexOf(t) : e !== t
        }
        function checkKeyCodes(e, t, n, a, l) {
            var f = x.keyCodes[t] || n;
            return l && a && !x.keyCodes[t] ? isKeyNotMatch(l, a) : f ? isKeyNotMatch(f, e) : a ? b(a) !== t : void 0 === e
        }
        function bindObjectProps(e, t, n, a, l) {
            if (n)
                if (isObject(n)) {
                    var f;
                    Array.isArray(n) && (n = toObject(n));
                    var loop = function(p) {
                        if ("class" === p || "style" === p || h(p))
                            f = e;
                        else {
                            var m = e.attrs && e.attrs.type;
                            f = a || x.mustUseProp(t, m, p) ? e.domProps || (e.domProps = {}) : e.attrs || (e.attrs = {})
                        }
                        var v = g(p)
                          , y = b(p);
                        v in f || y in f || (f[p] = n[p],
                        l && ((e.on || (e.on = {}))["update:" + p] = function(e) {
                            n[p] = e
                        }
                        ))
                    };
                    for (var p in n)
                        loop(p)
                } else
                    ;return e
        }
        function renderStatic(e, t) {
            var n = this._staticTrees || (this._staticTrees = [])
              , a = n[e];
            return a && !t || markStatic(a = n[e] = this.$options.staticRenderFns[e].call(this._renderProxy, null, this), "__static__" + e, !1),
            a
        }
        function markOnce(e, t, n) {
            return markStatic(e, "__once__" + t + (n ? "_" + n : ""), !0),
            e
        }
        function markStatic(e, t, n) {
            if (Array.isArray(e))
                for (var a = 0; a < e.length; a++)
                    e[a] && "string" != typeof e[a] && markStaticNode(e[a], t + "_" + a, n);
            else
                markStaticNode(e, t, n)
        }
        function markStaticNode(e, t, n) {
            e.isStatic = !0,
            e.key = t,
            e.isOnce = n
        }
        function bindObjectListeners(e, t) {
            if (t)
                if (isPlainObject(t)) {
                    var n = e.on = e.on ? extend({}, e.on) : {};
                    for (var a in t) {
                        var l = n[a]
                          , f = t[a];
                        n[a] = l ? [].concat(l, f) : f
                    }
                } else
                    ;return e
        }
        function resolveScopedSlots(e, t, n, a) {
            t = t || {
                $stable: !n
            };
            for (var l = 0; l < e.length; l++) {
                var f = e[l];
                Array.isArray(f) ? resolveScopedSlots(f, t, n) : f && (f.proxy && (f.fn.proxy = !0),
                t[f.key] = f.fn)
            }
            return a && (t.$key = a),
            t
        }
        function bindDynamicKeys(e, t) {
            for (var n = 0; n < t.length; n += 2) {
                var a = t[n];
                "string" == typeof a && a && (e[t[n]] = t[n + 1])
            }
            return e
        }
        function prependModifier(e, t) {
            return "string" == typeof e ? t + e : e
        }
        function installRenderHelpers(e) {
            e._o = markOnce,
            e._n = toNumber,
            e._s = toString,
            e._l = renderList,
            e._t = renderSlot,
            e._q = looseEqual,
            e._i = looseIndexOf,
            e._m = renderStatic,
            e._f = resolveFilter,
            e._k = checkKeyCodes,
            e._b = bindObjectProps,
            e._v = createTextVNode,
            e._e = createEmptyVNode,
            e._u = resolveScopedSlots,
            e._g = bindObjectListeners,
            e._d = bindDynamicKeys,
            e._p = prependModifier
        }
        function FunctionalRenderContext(e, t, n, l, f) {
            var h, p = this, m = f.options;
            hasOwn(l, "_uid") ? (h = Object.create(l))._original = l : (h = l,
            l = l._original);
            var g = isTrue(m._compiled)
              , v = !g;
            this.data = e,
            this.props = t,
            this.children = n,
            this.parent = l,
            this.listeners = e.on || a,
            this.injections = resolveInject(m.inject, l),
            this.slots = function() {
                return p.$slots || normalizeScopedSlots(e.scopedSlots, p.$slots = resolveSlots(n, l)),
                p.$slots
            }
            ,
            Object.defineProperty(this, "scopedSlots", {
                enumerable: !0,
                get: function get() {
                    return normalizeScopedSlots(e.scopedSlots, this.slots())
                }
            }),
            g && (this.$options = m,
            this.$slots = this.slots(),
            this.$scopedSlots = normalizeScopedSlots(e.scopedSlots, this.$slots)),
            m._scopeId ? this._c = function(e, t, n, a) {
                var f = createElement(h, e, t, n, a, v);
                return f && !Array.isArray(f) && (f.fnScopeId = m._scopeId,
                f.fnContext = l),
                f
            }
            : this._c = function(e, t, n, a) {
                return createElement(h, e, t, n, a, v)
            }
        }
        function cloneAndMarkFunctionalResult(e, t, n, a, l) {
            var f = cloneVNode(e);
            return f.fnContext = n,
            f.fnOptions = a,
            t.slot && ((f.data || (f.data = {})).slot = t.slot),
            f
        }
        function mergeProps(e, t) {
            for (var n in t)
                e[g(n)] = t[n]
        }
        installRenderHelpers(FunctionalRenderContext.prototype);
        var pe = {
            init: function init(e, t) {
                if (e.componentInstance && !e.componentInstance._isDestroyed && e.data.keepAlive) {
                    var n = e;
                    pe.prepatch(n, n)
                } else {
                    (e.componentInstance = function createComponentInstanceForVnode(e, t) {
                        var n = {
                            _isComponent: !0,
                            _parentVnode: e,
                            parent: t
                        }
                          , a = e.data.inlineTemplate;
                        isDef(a) && (n.render = a.render,
                        n.staticRenderFns = a.staticRenderFns);
                        return new e.componentOptions.Ctor(n)
                    }(e, ye)).$mount(t ? e.elm : void 0, t)
                }
            },
            prepatch: function prepatch(e, t) {
                var n = t.componentOptions;
                !function updateChildComponent(e, t, n, l, f) {
                    0;
                    var h = l.data.scopedSlots
                      , p = e.$scopedSlots
                      , m = !!(h && !h.$stable || p !== a && !p.$stable || h && e.$scopedSlots.$key !== h.$key || !h && e.$scopedSlots.$key)
                      , g = !!(f || e.$options._renderChildren || m);
                    e.$options._parentVnode = l,
                    e.$vnode = l,
                    e._vnode && (e._vnode.parent = l);
                    if (e.$options._renderChildren = f,
                    e.$attrs = l.data.attrs || a,
                    e.$listeners = n || a,
                    t && e.$options.props) {
                        toggleObserving(!1);
                        for (var v = e._props, y = e.$options._propKeys || [], b = 0; b < y.length; b++) {
                            var _ = y[b]
                              , C = e.$options.props;
                            v[_] = validateProp(_, C, t, e)
                        }
                        toggleObserving(!0),
                        e.$options.propsData = t
                    }
                    n = n || a;
                    var A = e.$options._parentListeners;
                    e.$options._parentListeners = n,
                    updateComponentListeners(e, n, A),
                    g && (e.$slots = resolveSlots(f, l.context),
                    e.$forceUpdate());
                    0
                }(t.componentInstance = e.componentInstance, n.propsData, n.listeners, t, n.children)
            },
            insert: function insert(e) {
                var t = e.context
                  , n = e.componentInstance;
                n._isMounted || (n._isMounted = !0,
                callHook(n, "mounted")),
                e.data.keepAlive && (t._isMounted ? function queueActivatedComponent(e) {
                    e._inactive = !1,
                    _e.push(e)
                }(n) : activateChildComponent(n, !0))
            },
            destroy: function destroy(e) {
                var t = e.componentInstance;
                t._isDestroyed || (e.data.keepAlive ? deactivateChildComponent(t, !0) : t.$destroy())
            }
        }
          , me = Object.keys(pe);
        function createComponent(e, t, n, l, f) {
            if (!isUndef(e)) {
                var h = n.$options._base;
                if (isObject(e) && (e = h.extend(e)),
                "function" == typeof e) {
                    var p;
                    if (isUndef(e.cid) && (e = function resolveAsyncComponent(e, t) {
                        if (isTrue(e.error) && isDef(e.errorComp))
                            return e.errorComp;
                        if (isDef(e.resolved))
                            return e.resolved;
                        var n = ve;
                        n && isDef(e.owners) && -1 === e.owners.indexOf(n) && e.owners.push(n);
                        if (isTrue(e.loading) && isDef(e.loadingComp))
                            return e.loadingComp;
                        if (n && !isDef(e.owners)) {
                            var a = e.owners = [n]
                              , l = !0
                              , f = null
                              , h = null;
                            n.$on("hook:destroyed", (function() {
                                return remove(a, n)
                            }
                            ));
                            var forceRender = function(e) {
                                for (var t = 0, n = a.length; t < n; t++)
                                    a[t].$forceUpdate();
                                e && (a.length = 0,
                                null !== f && (clearTimeout(f),
                                f = null),
                                null !== h && (clearTimeout(h),
                                h = null))
                            }
                              , p = once((function(n) {
                                e.resolved = ensureCtor(n, t),
                                l ? a.length = 0 : forceRender(!0)
                            }
                            ))
                              , m = once((function(t) {
                                isDef(e.errorComp) && (e.error = !0,
                                forceRender(!0))
                            }
                            ))
                              , g = e(p, m);
                            return isObject(g) && (isPromise(g) ? isUndef(e.resolved) && g.then(p, m) : isPromise(g.component) && (g.component.then(p, m),
                            isDef(g.error) && (e.errorComp = ensureCtor(g.error, t)),
                            isDef(g.loading) && (e.loadingComp = ensureCtor(g.loading, t),
                            0 === g.delay ? e.loading = !0 : f = setTimeout((function() {
                                f = null,
                                isUndef(e.resolved) && isUndef(e.error) && (e.loading = !0,
                                forceRender(!1))
                            }
                            ), g.delay || 200)),
                            isDef(g.timeout) && (h = setTimeout((function() {
                                h = null,
                                isUndef(e.resolved) && m(null)
                            }
                            ), g.timeout)))),
                            l = !1,
                            e.loading ? e.loadingComp : e.resolved
                        }
                    }(p = e, h),
                    void 0 === e))
                        return function createAsyncPlaceholder(e, t, n, a, l) {
                            var f = createEmptyVNode();
                            return f.asyncFactory = e,
                            f.asyncMeta = {
                                data: t,
                                context: n,
                                children: a,
                                tag: l
                            },
                            f
                        }(p, t, n, l, f);
                    t = t || {},
                    resolveConstructorOptions(e),
                    isDef(t.model) && function transformModel(e, t) {
                        var n = e.model && e.model.prop || "value"
                          , a = e.model && e.model.event || "input";
                        (t.attrs || (t.attrs = {}))[n] = t.model.value;
                        var l = t.on || (t.on = {})
                          , f = l[a]
                          , h = t.model.callback;
                        isDef(f) ? (Array.isArray(f) ? -1 === f.indexOf(h) : f !== h) && (l[a] = [h].concat(f)) : l[a] = h
                    }(e.options, t);
                    var m = function extractPropsFromVNodeData(e, t, n) {
                        var a = t.options.props;
                        if (!isUndef(a)) {
                            var l = {}
                              , f = e.attrs
                              , h = e.props;
                            if (isDef(f) || isDef(h))
                                for (var p in a) {
                                    var m = b(p);
                                    checkProp(l, h, p, m, !0) || checkProp(l, f, p, m, !1)
                                }
                            return l
                        }
                    }(t, e);
                    if (isTrue(e.options.functional))
                        return function createFunctionalComponent(e, t, n, l, f) {
                            var h = e.options
                              , p = {}
                              , m = h.props;
                            if (isDef(m))
                                for (var g in m)
                                    p[g] = validateProp(g, m, t || a);
                            else
                                isDef(n.attrs) && mergeProps(p, n.attrs),
                                isDef(n.props) && mergeProps(p, n.props);
                            var v = new FunctionalRenderContext(n,p,f,l,e)
                              , y = h.render.call(null, v._c, v);
                            if (y instanceof Z)
                                return cloneAndMarkFunctionalResult(y, n, v.parent, h);
                            if (Array.isArray(y)) {
                                for (var b = normalizeChildren(y) || [], _ = new Array(b.length), C = 0; C < b.length; C++)
                                    _[C] = cloneAndMarkFunctionalResult(b[C], n, v.parent, h);
                                return _
                            }
                        }(e, m, t, n, l);
                    var g = t.on;
                    if (t.on = t.nativeOn,
                    isTrue(e.options.abstract)) {
                        var v = t.slot;
                        t = {},
                        v && (t.slot = v)
                    }
                    !function installComponentHooks(e) {
                        for (var t = e.hook || (e.hook = {}), n = 0; n < me.length; n++) {
                            var a = me[n]
                              , l = t[a]
                              , f = pe[a];
                            l === f || l && l._merged || (t[a] = l ? mergeHook$1(f, l) : f)
                        }
                    }(t);
                    var y = e.options.name || f;
                    return new Z("vue-component-" + e.cid + (y ? "-" + y : ""),t,void 0,void 0,void 0,n,{
                        Ctor: e,
                        propsData: m,
                        listeners: g,
                        tag: f,
                        children: l
                    },p)
                }
            }
        }
        function mergeHook$1(e, t) {
            var merged = function(n, a) {
                e(n, a),
                t(n, a)
            };
            return merged._merged = !0,
            merged
        }
        function createElement(e, t, n, a, l, f) {
            return (Array.isArray(n) || isPrimitive(n)) && (l = a,
            a = n,
            n = void 0),
            isTrue(f) && (l = 2),
            function _createElement(e, t, n, a, l) {
                if (isDef(n) && isDef(n.__ob__))
                    return createEmptyVNode();
                isDef(n) && isDef(n.is) && (t = n.is);
                if (!t)
                    return createEmptyVNode();
                0;
                Array.isArray(a) && "function" == typeof a[0] && ((n = n || {}).scopedSlots = {
                    default: a[0]
                },
                a.length = 0);
                2 === l ? a = normalizeChildren(a) : 1 === l && (a = function simpleNormalizeChildren(e) {
                    for (var t = 0; t < e.length; t++)
                        if (Array.isArray(e[t]))
                            return Array.prototype.concat.apply([], e);
                    return e
                }(a));
                var f, h;
                if ("string" == typeof t) {
                    var p;
                    h = e.$vnode && e.$vnode.ns || x.getTagNamespace(t),
                    f = x.isReservedTag(t) ? new Z(x.parsePlatformTagName(t),n,a,void 0,void 0,e) : n && n.pre || !isDef(p = resolveAsset(e.$options, "components", t)) ? new Z(t,n,a,void 0,void 0,e) : createComponent(p, n, e, a, t)
                } else
                    f = createComponent(t, n, e, a);
                return Array.isArray(f) ? f : isDef(f) ? (isDef(h) && applyNS(f, h),
                isDef(n) && function registerDeepBindings(e) {
                    isObject(e.style) && traverse(e.style);
                    isObject(e.class) && traverse(e.class)
                }(n),
                f) : createEmptyVNode()
            }(e, t, n, a, l)
        }
        function applyNS(e, t, n) {
            if (e.ns = t,
            "foreignObject" === e.tag && (t = void 0,
            n = !0),
            isDef(e.children))
                for (var a = 0, l = e.children.length; a < l; a++) {
                    var f = e.children[a];
                    isDef(f.tag) && (isUndef(f.ns) || isTrue(n) && "svg" !== f.tag) && applyNS(f, t, n)
                }
        }
        var ge, ve = null;
        function ensureCtor(e, t) {
            return (e.__esModule || G && "Module" === e[Symbol.toStringTag]) && (e = e.default),
            isObject(e) ? t.extend(e) : e
        }
        function getFirstComponentChild(e) {
            if (Array.isArray(e))
                for (var t = 0; t < e.length; t++) {
                    var n = e[t];
                    if (isDef(n) && (isDef(n.componentOptions) || isAsyncPlaceholder(n)))
                        return n
                }
        }
        function add(e, t) {
            ge.$on(e, t)
        }
        function remove$1(e, t) {
            ge.$off(e, t)
        }
        function createOnceHandler(e, t) {
            var n = ge;
            return function onceHandler() {
                var a = t.apply(null, arguments);
                null !== a && n.$off(e, onceHandler)
            }
        }
        function updateComponentListeners(e, t, n) {
            ge = e,
            updateListeners(t, n || {}, add, remove$1, createOnceHandler, e),
            ge = void 0
        }
        var ye = null;
        function setActiveInstance(e) {
            var t = ye;
            return ye = e,
            function() {
                ye = t
            }
        }
        function isInInactiveTree(e) {
            for (; e && (e = e.$parent); )
                if (e._inactive)
                    return !0;
            return !1
        }
        function activateChildComponent(e, t) {
            if (t) {
                if (e._directInactive = !1,
                isInInactiveTree(e))
                    return
            } else if (e._directInactive)
                return;
            if (e._inactive || null === e._inactive) {
                e._inactive = !1;
                for (var n = 0; n < e.$children.length; n++)
                    activateChildComponent(e.$children[n]);
                callHook(e, "activated")
            }
        }
        function deactivateChildComponent(e, t) {
            if (!(t && (e._directInactive = !0,
            isInInactiveTree(e)) || e._inactive)) {
                e._inactive = !0;
                for (var n = 0; n < e.$children.length; n++)
                    deactivateChildComponent(e.$children[n]);
                callHook(e, "deactivated")
            }
        }
        function callHook(e, t) {
            pushTarget();
            var n = e.$options[t]
              , a = t + " hook";
            if (n)
                for (var l = 0, f = n.length; l < f; l++)
                    invokeWithErrorHandling(n[l], e, null, e, a);
            e._hasHookEvent && e.$emit("hook:" + t),
            popTarget()
        }
        var be = []
          , _e = []
          , Ce = {}
          , Ee = !1
          , Ae = !1
          , Se = 0;
        var xe = 0
          , we = Date.now;
        if (k && !R) {
            var Pe = window.performance;
            Pe && "function" == typeof Pe.now && we() > document.createEvent("Event").timeStamp && (we = function() {
                return Pe.now()
            }
            )
        }
        function flushSchedulerQueue() {
            var e, t;
            for (xe = we(),
            Ae = !0,
            be.sort((function(e, t) {
                return e.id - t.id
            }
            )),
            Se = 0; Se < be.length; Se++)
                (e = be[Se]).before && e.before(),
                t = e.id,
                Ce[t] = null,
                e.run();
            var n = _e.slice()
              , a = be.slice();
            !function resetSchedulerState() {
                Se = be.length = _e.length = 0,
                Ce = {},
                Ee = Ae = !1
            }(),
            function callActivatedHooks(e) {
                for (var t = 0; t < e.length; t++)
                    e[t]._inactive = !0,
                    activateChildComponent(e[t], !0)
            }(n),
            function callUpdatedHooks(e) {
                var t = e.length;
                for (; t--; ) {
                    var n = e[t]
                      , a = n.vm;
                    a._watcher === n && a._isMounted && !a._isDestroyed && callHook(a, "updated")
                }
            }(a),
            U && x.devtools && U.emit("flush")
        }
        var Te = 0
          , Me = function Watcher(e, t, n, a, l) {
            this.vm = e,
            l && (e._watcher = this),
            e._watchers.push(this),
            a ? (this.deep = !!a.deep,
            this.user = !!a.user,
            this.lazy = !!a.lazy,
            this.sync = !!a.sync,
            this.before = a.before) : this.deep = this.user = this.lazy = this.sync = !1,
            this.cb = n,
            this.id = ++Te,
            this.active = !0,
            this.dirty = this.lazy,
            this.deps = [],
            this.newDeps = [],
            this.depIds = new V,
            this.newDepIds = new V,
            this.expression = "",
            "function" == typeof t ? this.getter = t : (this.getter = function parsePath(e) {
                if (!P.test(e)) {
                    var t = e.split(".");
                    return function(e) {
                        for (var n = 0; n < t.length; n++) {
                            if (!e)
                                return;
                            e = e[t[n]]
                        }
                        return e
                    }
                }
            }(t),
            this.getter || (this.getter = noop)),
            this.value = this.lazy ? void 0 : this.get()
        };
        Me.prototype.get = function get() {
            var e;
            pushTarget(this);
            var t = this.vm;
            try {
                e = this.getter.call(t, t)
            } catch (ur) {
                if (!this.user)
                    throw ur;
                handleError(ur, t, 'getter for watcher "' + this.expression + '"')
            } finally {
                this.deep && traverse(e),
                popTarget(),
                this.cleanupDeps()
            }
            return e
        }
        ,
        Me.prototype.addDep = function addDep(e) {
            var t = e.id;
            this.newDepIds.has(t) || (this.newDepIds.add(t),
            this.newDeps.push(e),
            this.depIds.has(t) || e.addSub(this))
        }
        ,
        Me.prototype.cleanupDeps = function cleanupDeps() {
            for (var e = this.deps.length; e--; ) {
                var t = this.deps[e];
                this.newDepIds.has(t.id) || t.removeSub(this)
            }
            var n = this.depIds;
            this.depIds = this.newDepIds,
            this.newDepIds = n,
            this.newDepIds.clear(),
            n = this.deps,
            this.deps = this.newDeps,
            this.newDeps = n,
            this.newDeps.length = 0
        }
        ,
        Me.prototype.update = function update() {
            this.lazy ? this.dirty = !0 : this.sync ? this.run() : function queueWatcher(e) {
                var t = e.id;
                if (null == Ce[t]) {
                    if (Ce[t] = !0,
                    Ae) {
                        for (var n = be.length - 1; n > Se && be[n].id > e.id; )
                            n--;
                        be.splice(n + 1, 0, e)
                    } else
                        be.push(e);
                    Ee || (Ee = !0,
                    nextTick(flushSchedulerQueue))
                }
            }(this)
        }
        ,
        Me.prototype.run = function run() {
            if (this.active) {
                var e = this.get();
                if (e !== this.value || isObject(e) || this.deep) {
                    var t = this.value;
                    if (this.value = e,
                    this.user) {
                        var n = 'callback for watcher "' + this.expression + '"';
                        invokeWithErrorHandling(this.cb, this.vm, [e, t], this.vm, n)
                    } else
                        this.cb.call(this.vm, e, t)
                }
            }
        }
        ,
        Me.prototype.evaluate = function evaluate() {
            this.value = this.get(),
            this.dirty = !1
        }
        ,
        Me.prototype.depend = function depend() {
            for (var e = this.deps.length; e--; )
                this.deps[e].depend()
        }
        ,
        Me.prototype.teardown = function teardown() {
            if (this.active) {
                this.vm._isBeingDestroyed || remove(this.vm._watchers, this);
                for (var e = this.deps.length; e--; )
                    this.deps[e].removeSub(this);
                this.active = !1
            }
        }
        ;
        var ke = {
            enumerable: !0,
            configurable: !0,
            get: noop,
            set: noop
        };
        function proxy(e, t, n) {
            ke.get = function proxyGetter() {
                return this[t][n]
            }
            ,
            ke.set = function proxySetter(e) {
                this[t][n] = e
            }
            ,
            Object.defineProperty(e, n, ke)
        }
        function initState(e) {
            e._watchers = [];
            var t = e.$options;
            t.props && function initProps(e, t) {
                var n = e.$options.propsData || {}
                  , a = e._props = {}
                  , l = e.$options._propKeys = [];
                e.$parent && toggleObserving(!1);
                var loop = function(f) {
                    l.push(f);
                    var h = validateProp(f, t, n, e);
                    defineReactive$$1(a, f, h),
                    f in e || proxy(e, "_props", f)
                };
                for (var f in t)
                    loop(f);
                toggleObserving(!0)
            }(e, t.props),
            t.methods && function initMethods(e, t) {
                e.$options.props;
                for (var n in t)
                    e[n] = "function" != typeof t[n] ? noop : _(t[n], e)
            }(e, t.methods),
            t.data ? function initData(e) {
                var t = e.$options.data;
                isPlainObject(t = e._data = "function" == typeof t ? function getData(e, t) {
                    pushTarget();
                    try {
                        return e.call(t, t)
                    } catch (ur) {
                        return handleError(ur, t, "data()"),
                        {}
                    } finally {
                        popTarget()
                    }
                }(t, e) : t || {}) || (t = {});
                var n = Object.keys(t)
                  , a = e.$options.props
                  , l = (e.$options.methods,
                n.length);
                for (; l--; ) {
                    var f = n[l];
                    0,
                    a && hasOwn(a, f) || isReserved(f) || proxy(e, "_data", f)
                }
                observe(t, !0)
            }(e) : observe(e._data = {}, !0),
            t.computed && function initComputed(e, t) {
                var n = e._computedWatchers = Object.create(null)
                  , a = isServerRendering();
                for (var l in t) {
                    var f = t[l]
                      , h = "function" == typeof f ? f : f.get;
                    0,
                    a || (n[l] = new Me(e,h || noop,noop,Ie)),
                    l in e || defineComputed(e, l, f)
                }
            }(e, t.computed),
            t.watch && t.watch !== F && function initWatch(e, t) {
                for (var n in t) {
                    var a = t[n];
                    if (Array.isArray(a))
                        for (var l = 0; l < a.length; l++)
                            createWatcher(e, n, a[l]);
                    else
                        createWatcher(e, n, a)
                }
            }(e, t.watch)
        }
        var Ie = {
            lazy: !0
        };
        function defineComputed(e, t, n) {
            var a = !isServerRendering();
            "function" == typeof n ? (ke.get = a ? createComputedGetter(t) : createGetterInvoker(n),
            ke.set = noop) : (ke.get = n.get ? a && !1 !== n.cache ? createComputedGetter(t) : createGetterInvoker(n.get) : noop,
            ke.set = n.set || noop),
            Object.defineProperty(e, t, ke)
        }
        function createComputedGetter(e) {
            return function computedGetter() {
                var t = this._computedWatchers && this._computedWatchers[e];
                if (t)
                    return t.dirty && t.evaluate(),
                    W.target && t.depend(),
                    t.value
            }
        }
        function createGetterInvoker(e) {
            return function computedGetter() {
                return e.call(this, this)
            }
        }
        function createWatcher(e, t, n, a) {
            return isPlainObject(n) && (a = n,
            n = n.handler),
            "string" == typeof n && (n = e[n]),
            e.$watch(t, n, a)
        }
        var Oe = 0;
        function resolveConstructorOptions(e) {
            var t = e.options;
            if (e.super) {
                var n = resolveConstructorOptions(e.super);
                if (n !== e.superOptions) {
                    e.superOptions = n;
                    var a = function resolveModifiedOptions(e) {
                        var t, n = e.options, a = e.sealedOptions;
                        for (var l in n)
                            n[l] !== a[l] && (t || (t = {}),
                            t[l] = n[l]);
                        return t
                    }(e);
                    a && extend(e.extendOptions, a),
                    (t = e.options = mergeOptions(n, e.extendOptions)).name && (t.components[t.name] = e)
                }
            }
            return t
        }
        function Vue(e) {
            this._init(e)
        }
        function initExtend(e) {
            e.cid = 0;
            var t = 1;
            e.extend = function(e) {
                e = e || {};
                var n = this
                  , a = n.cid
                  , l = e._Ctor || (e._Ctor = {});
                if (l[a])
                    return l[a];
                var f = e.name || n.options.name;
                var h = function VueComponent(e) {
                    this._init(e)
                };
                return (h.prototype = Object.create(n.prototype)).constructor = h,
                h.cid = t++,
                h.options = mergeOptions(n.options, e),
                h.super = n,
                h.options.props && function initProps$1(e) {
                    var t = e.options.props;
                    for (var n in t)
                        proxy(e.prototype, "_props", n)
                }(h),
                h.options.computed && function initComputed$1(e) {
                    var t = e.options.computed;
                    for (var n in t)
                        defineComputed(e.prototype, n, t[n])
                }(h),
                h.extend = n.extend,
                h.mixin = n.mixin,
                h.use = n.use,
                A.forEach((function(e) {
                    h[e] = n[e]
                }
                )),
                f && (h.options.components[f] = h),
                h.superOptions = n.options,
                h.extendOptions = e,
                h.sealedOptions = extend({}, h.options),
                l[a] = h,
                h
            }
        }
        function getComponentName(e) {
            return e && (e.Ctor.options.name || e.tag)
        }
        function matches(e, t) {
            return Array.isArray(e) ? e.indexOf(t) > -1 : "string" == typeof e ? e.split(",").indexOf(t) > -1 : !!isRegExp(e) && e.test(t)
        }
        function pruneCache(e, t) {
            var n = e.cache
              , a = e.keys
              , l = e._vnode;
            for (var f in n) {
                var h = n[f];
                if (h) {
                    var p = h.name;
                    p && !t(p) && pruneCacheEntry(n, f, a, l)
                }
            }
        }
        function pruneCacheEntry(e, t, n, a) {
            var l = e[t];
            !l || a && l.tag === a.tag || l.componentInstance.$destroy(),
            e[t] = null,
            remove(n, t)
        }
        !function initMixin(e) {
            e.prototype._init = function(e) {
                var t = this;
                t._uid = Oe++,
                t._isVue = !0,
                e && e._isComponent ? function initInternalComponent(e, t) {
                    var n = e.$options = Object.create(e.constructor.options)
                      , a = t._parentVnode;
                    n.parent = t.parent,
                    n._parentVnode = a;
                    var l = a.componentOptions;
                    n.propsData = l.propsData,
                    n._parentListeners = l.listeners,
                    n._renderChildren = l.children,
                    n._componentTag = l.tag,
                    t.render && (n.render = t.render,
                    n.staticRenderFns = t.staticRenderFns)
                }(t, e) : t.$options = mergeOptions(resolveConstructorOptions(t.constructor), e || {}, t),
                t._renderProxy = t,
                t._self = t,
                function initLifecycle(e) {
                    var t = e.$options
                      , n = t.parent;
                    if (n && !t.abstract) {
                        for (; n.$options.abstract && n.$parent; )
                            n = n.$parent;
                        n.$children.push(e)
                    }
                    e.$parent = n,
                    e.$root = n ? n.$root : e,
                    e.$children = [],
                    e.$refs = {},
                    e._watcher = null,
                    e._inactive = null,
                    e._directInactive = !1,
                    e._isMounted = !1,
                    e._isDestroyed = !1,
                    e._isBeingDestroyed = !1
                }(t),
                function initEvents(e) {
                    e._events = Object.create(null),
                    e._hasHookEvent = !1;
                    var t = e.$options._parentListeners;
                    t && updateComponentListeners(e, t)
                }(t),
                function initRender(e) {
                    e._vnode = null,
                    e._staticTrees = null;
                    var t = e.$options
                      , n = e.$vnode = t._parentVnode
                      , l = n && n.context;
                    e.$slots = resolveSlots(t._renderChildren, l),
                    e.$scopedSlots = a,
                    e._c = function(t, n, a, l) {
                        return createElement(e, t, n, a, l, !1)
                    }
                    ,
                    e.$createElement = function(t, n, a, l) {
                        return createElement(e, t, n, a, l, !0)
                    }
                    ;
                    var f = n && n.data;
                    defineReactive$$1(e, "$attrs", f && f.attrs || a, null, !0),
                    defineReactive$$1(e, "$listeners", t._parentListeners || a, null, !0)
                }(t),
                callHook(t, "beforeCreate"),
                function initInjections(e) {
                    var t = resolveInject(e.$options.inject, e);
                    t && (toggleObserving(!1),
                    Object.keys(t).forEach((function(n) {
                        defineReactive$$1(e, n, t[n])
                    }
                    )),
                    toggleObserving(!0))
                }(t),
                initState(t),
                function initProvide(e) {
                    var t = e.$options.provide;
                    t && (e._provided = "function" == typeof t ? t.call(e) : t)
                }(t),
                callHook(t, "created"),
                t.$options.el && t.$mount(t.$options.el)
            }
        }(Vue),
        function stateMixin(e) {
            var t = {
                get: function() {
                    return this._data
                }
            }
              , n = {
                get: function() {
                    return this._props
                }
            };
            Object.defineProperty(e.prototype, "$data", t),
            Object.defineProperty(e.prototype, "$props", n),
            e.prototype.$set = set,
            e.prototype.$delete = del,
            e.prototype.$watch = function(e, t, n) {
                var a = this;
                if (isPlainObject(t))
                    return createWatcher(a, e, t, n);
                (n = n || {}).user = !0;
                var l = new Me(a,e,t,n);
                if (n.immediate) {
                    var f = 'callback for immediate watcher "' + l.expression + '"';
                    pushTarget(),
                    invokeWithErrorHandling(t, a, [l.value], a, f),
                    popTarget()
                }
                return function unwatchFn() {
                    l.teardown()
                }
            }
        }(Vue),
        function eventsMixin(e) {
            var t = /^hook:/;
            e.prototype.$on = function(e, n) {
                var a = this;
                if (Array.isArray(e))
                    for (var l = 0, f = e.length; l < f; l++)
                        a.$on(e[l], n);
                else
                    (a._events[e] || (a._events[e] = [])).push(n),
                    t.test(e) && (a._hasHookEvent = !0);
                return a
            }
            ,
            e.prototype.$once = function(e, t) {
                var n = this;
                function on() {
                    n.$off(e, on),
                    t.apply(n, arguments)
                }
                return on.fn = t,
                n.$on(e, on),
                n
            }
            ,
            e.prototype.$off = function(e, t) {
                var n = this;
                if (!arguments.length)
                    return n._events = Object.create(null),
                    n;
                if (Array.isArray(e)) {
                    for (var a = 0, l = e.length; a < l; a++)
                        n.$off(e[a], t);
                    return n
                }
                var f, h = n._events[e];
                if (!h)
                    return n;
                if (!t)
                    return n._events[e] = null,
                    n;
                for (var p = h.length; p--; )
                    if ((f = h[p]) === t || f.fn === t) {
                        h.splice(p, 1);
                        break
                    }
                return n
            }
            ,
            e.prototype.$emit = function(e) {
                var t = this
                  , n = t._events[e];
                if (n) {
                    n = n.length > 1 ? toArray(n) : n;
                    for (var a = toArray(arguments, 1), l = 'event handler for "' + e + '"', f = 0, h = n.length; f < h; f++)
                        invokeWithErrorHandling(n[f], t, a, t, l)
                }
                return t
            }
        }(Vue),
        function lifecycleMixin(e) {
            e.prototype._update = function(e, t) {
                var n = this
                  , a = n.$el
                  , l = n._vnode
                  , f = setActiveInstance(n);
                n._vnode = e,
                n.$el = l ? n.__patch__(l, e) : n.__patch__(n.$el, e, t, !1),
                f(),
                a && (a.__vue__ = null),
                n.$el && (n.$el.__vue__ = n),
                n.$vnode && n.$parent && n.$vnode === n.$parent._vnode && (n.$parent.$el = n.$el)
            }
            ,
            e.prototype.$forceUpdate = function() {
                this._watcher && this._watcher.update()
            }
            ,
            e.prototype.$destroy = function() {
                var e = this;
                if (!e._isBeingDestroyed) {
                    callHook(e, "beforeDestroy"),
                    e._isBeingDestroyed = !0;
                    var t = e.$parent;
                    !t || t._isBeingDestroyed || e.$options.abstract || remove(t.$children, e),
                    e._watcher && e._watcher.teardown();
                    for (var n = e._watchers.length; n--; )
                        e._watchers[n].teardown();
                    e._data.__ob__ && e._data.__ob__.vmCount--,
                    e._isDestroyed = !0,
                    e.__patch__(e._vnode, null),
                    callHook(e, "destroyed"),
                    e.$off(),
                    e.$el && (e.$el.__vue__ = null),
                    e.$vnode && (e.$vnode.parent = null)
                }
            }
        }(Vue),
        function renderMixin(e) {
            installRenderHelpers(e.prototype),
            e.prototype.$nextTick = function(e) {
                return nextTick(e, this)
            }
            ,
            e.prototype._render = function() {
                var e, t = this, n = t.$options, a = n.render, l = n._parentVnode;
                l && (t.$scopedSlots = normalizeScopedSlots(l.data.scopedSlots, t.$slots, t.$scopedSlots)),
                t.$vnode = l;
                try {
                    ve = t,
                    e = a.call(t._renderProxy, t.$createElement)
                } catch (ur) {
                    handleError(ur, t, "render"),
                    e = t._vnode
                } finally {
                    ve = null
                }
                return Array.isArray(e) && 1 === e.length && (e = e[0]),
                e instanceof Z || (e = createEmptyVNode()),
                e.parent = l,
                e
            }
        }(Vue);
        var Ne = [String, RegExp, Array]
          , Re = {
            name: "keep-alive",
            abstract: !0,
            props: {
                include: Ne,
                exclude: Ne,
                max: [String, Number]
            },
            methods: {
                cacheVNode: function cacheVNode() {
                    var e = this
                      , t = e.cache
                      , n = e.keys
                      , a = e.vnodeToCache
                      , l = e.keyToCache;
                    if (a) {
                        var f = a.tag
                          , h = a.componentInstance
                          , p = a.componentOptions;
                        t[l] = {
                            name: getComponentName(p),
                            tag: f,
                            componentInstance: h
                        },
                        n.push(l),
                        this.max && n.length > parseInt(this.max) && pruneCacheEntry(t, n[0], n, this._vnode),
                        this.vnodeToCache = null
                    }
                }
            },
            created: function created() {
                this.cache = Object.create(null),
                this.keys = []
            },
            destroyed: function destroyed() {
                for (var e in this.cache)
                    pruneCacheEntry(this.cache, e, this.keys)
            },
            mounted: function mounted() {
                var e = this;
                this.cacheVNode(),
                this.$watch("include", (function(t) {
                    pruneCache(e, (function(e) {
                        return matches(t, e)
                    }
                    ))
                }
                )),
                this.$watch("exclude", (function(t) {
                    pruneCache(e, (function(e) {
                        return !matches(t, e)
                    }
                    ))
                }
                ))
            },
            updated: function updated() {
                this.cacheVNode()
            },
            render: function render() {
                var e = this.$slots.default
                  , t = getFirstComponentChild(e)
                  , n = t && t.componentOptions;
                if (n) {
                    var a = getComponentName(n)
                      , l = this.include
                      , f = this.exclude;
                    if (l && (!a || !matches(l, a)) || f && a && matches(f, a))
                        return t;
                    var h = this.cache
                      , p = this.keys
                      , m = null == t.key ? n.Ctor.cid + (n.tag ? "::" + n.tag : "") : t.key;
                    h[m] ? (t.componentInstance = h[m].componentInstance,
                    remove(p, m),
                    p.push(m)) : (this.vnodeToCache = t,
                    this.keyToCache = m),
                    t.data.keepAlive = !0
                }
                return t || e && e[0]
            }
        }
          , Le = {
            KeepAlive: Re
        };
        !function initGlobalAPI(e) {
            var t = {
                get: function() {
                    return x
                }
            };
            Object.defineProperty(e, "config", t),
            e.util = {
                warn: q,
                extend: extend,
                mergeOptions: mergeOptions,
                defineReactive: defineReactive$$1
            },
            e.set = set,
            e.delete = del,
            e.nextTick = nextTick,
            e.observable = function(e) {
                return observe(e),
                e
            }
            ,
            e.options = Object.create(null),
            A.forEach((function(t) {
                e.options[t + "s"] = Object.create(null)
            }
            )),
            e.options._base = e,
            extend(e.options.components, Le),
            function initUse(e) {
                e.use = function(e) {
                    var t = this._installedPlugins || (this._installedPlugins = []);
                    if (t.indexOf(e) > -1)
                        return this;
                    var n = toArray(arguments, 1);
                    return n.unshift(this),
                    "function" == typeof e.install ? e.install.apply(e, n) : "function" == typeof e && e.apply(null, n),
                    t.push(e),
                    this
                }
            }(e),
            function initMixin$1(e) {
                e.mixin = function(e) {
                    return this.options = mergeOptions(this.options, e),
                    this
                }
            }(e),
            initExtend(e),
            function initAssetRegisters(e) {
                A.forEach((function(t) {
                    e[t] = function(e, n) {
                        return n ? ("component" === t && isPlainObject(n) && (n.name = n.name || e,
                        n = this.options._base.extend(n)),
                        "directive" === t && "function" == typeof n && (n = {
                            bind: n,
                            update: n
                        }),
                        this.options[t + "s"][e] = n,
                        n) : this.options[t + "s"][e]
                    }
                }
                ))
            }(e)
        }(Vue),
        Object.defineProperty(Vue.prototype, "$isServer", {
            get: isServerRendering
        }),
        Object.defineProperty(Vue.prototype, "$ssrContext", {
            get: function get() {
                return this.$vnode && this.$vnode.ssrContext
            }
        }),
        Object.defineProperty(Vue, "FunctionalRenderContext", {
            value: FunctionalRenderContext
        }),
        Vue.version = "2.6.14";
        var De = makeMap("style,class")
          , Be = makeMap("input,textarea,option,select,progress")
          , mustUseProp = function(e, t, n) {
            return "value" === n && Be(e) && "button" !== t || "selected" === n && "option" === e || "checked" === n && "input" === e || "muted" === n && "video" === e
        }
          , $e = makeMap("contenteditable,draggable,spellcheck")
          , Fe = makeMap("events,caret,typing,plaintext-only")
          , He = makeMap("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible")
          , je = "http://www.w3.org/1999/xlink"
          , isXlink = function(e) {
            return ":" === e.charAt(5) && "xlink" === e.slice(0, 5)
        }
          , getXlinkProp = function(e) {
            return isXlink(e) ? e.slice(6, e.length) : ""
        }
          , isFalsyAttrValue = function(e) {
            return null == e || !1 === e
        };
        function genClassForVnode(e) {
            for (var t = e.data, n = e, a = e; isDef(a.componentInstance); )
                (a = a.componentInstance._vnode) && a.data && (t = mergeClassData(a.data, t));
            for (; isDef(n = n.parent); )
                n && n.data && (t = mergeClassData(t, n.data));
            return function renderClass(e, t) {
                if (isDef(e) || isDef(t))
                    return concat(e, stringifyClass(t));
                return ""
            }(t.staticClass, t.class)
        }
        function mergeClassData(e, t) {
            return {
                staticClass: concat(e.staticClass, t.staticClass),
                class: isDef(e.class) ? [e.class, t.class] : t.class
            }
        }
        function concat(e, t) {
            return e ? t ? e + " " + t : e : t || ""
        }
        function stringifyClass(e) {
            return Array.isArray(e) ? function stringifyArray(e) {
                for (var t, n = "", a = 0, l = e.length; a < l; a++)
                    isDef(t = stringifyClass(e[a])) && "" !== t && (n && (n += " "),
                    n += t);
                return n
            }(e) : isObject(e) ? function stringifyObject(e) {
                var t = "";
                for (var n in e)
                    e[n] && (t && (t += " "),
                    t += n);
                return t
            }(e) : "string" == typeof e ? e : ""
        }
        var Ue = {
            svg: "http://www.w3.org/2000/svg",
            math: "http://www.w3.org/1998/Math/MathML"
        }
          , Ve = makeMap("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot")
          , Ge = makeMap("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view", !0)
          , isReservedTag = function(e) {
            return Ve(e) || Ge(e)
        };
        function getTagNamespace(e) {
            return Ge(e) ? "svg" : "math" === e ? "math" : void 0
        }
        var qe = Object.create(null);
        var ze = makeMap("text,number,password,search,email,tel,url");
        function query(e) {
            if ("string" == typeof e) {
                var t = document.querySelector(e);
                return t || document.createElement("div")
            }
            return e
        }
        var We = Object.freeze({
            createElement: function createElement$1(e, t) {
                var n = document.createElement(e);
                return "select" !== e || t.data && t.data.attrs && void 0 !== t.data.attrs.multiple && n.setAttribute("multiple", "multiple"),
                n
            },
            createElementNS: function createElementNS(e, t) {
                return document.createElementNS(Ue[e], t)
            },
            createTextNode: function createTextNode(e) {
                return document.createTextNode(e)
            },
            createComment: function createComment(e) {
                return document.createComment(e)
            },
            insertBefore: function insertBefore(e, t, n) {
                e.insertBefore(t, n)
            },
            removeChild: function removeChild(e, t) {
                e.removeChild(t)
            },
            appendChild: function appendChild(e, t) {
                e.appendChild(t)
            },
            parentNode: function parentNode(e) {
                return e.parentNode
            },
            nextSibling: function nextSibling(e) {
                return e.nextSibling
            },
            tagName: function tagName(e) {
                return e.tagName
            },
            setTextContent: function setTextContent(e, t) {
                e.textContent = t
            },
            setStyleScope: function setStyleScope(e, t) {
                e.setAttribute(t, "")
            }
        })
          , Ke = {
            create: function create(e, t) {
                registerRef(t)
            },
            update: function update(e, t) {
                e.data.ref !== t.data.ref && (registerRef(e, !0),
                registerRef(t))
            },
            destroy: function destroy(e) {
                registerRef(e, !0)
            }
        };
        function registerRef(e, t) {
            var n = e.data.ref;
            if (isDef(n)) {
                var a = e.context
                  , l = e.componentInstance || e.elm
                  , f = a.$refs;
                t ? Array.isArray(f[n]) ? remove(f[n], l) : f[n] === l && (f[n] = void 0) : e.data.refInFor ? Array.isArray(f[n]) ? f[n].indexOf(l) < 0 && f[n].push(l) : f[n] = [l] : f[n] = l
            }
        }
        var Ze = new Z("",{},[])
          , Xe = ["create", "activate", "update", "remove", "destroy"];
        function sameVnode(e, t) {
            return e.key === t.key && e.asyncFactory === t.asyncFactory && (e.tag === t.tag && e.isComment === t.isComment && isDef(e.data) === isDef(t.data) && function sameInputType(e, t) {
                if ("input" !== e.tag)
                    return !0;
                var n, a = isDef(n = e.data) && isDef(n = n.attrs) && n.type, l = isDef(n = t.data) && isDef(n = n.attrs) && n.type;
                return a === l || ze(a) && ze(l)
            }(e, t) || isTrue(e.isAsyncPlaceholder) && isUndef(t.asyncFactory.error))
        }
        function createKeyToOldIdx(e, t, n) {
            var a, l, f = {};
            for (a = t; a <= n; ++a)
                isDef(l = e[a].key) && (f[l] = a);
            return f
        }
        var Qe = {
            create: updateDirectives,
            update: updateDirectives,
            destroy: function unbindDirectives(e) {
                updateDirectives(e, Ze)
            }
        };
        function updateDirectives(e, t) {
            (e.data.directives || t.data.directives) && function _update(e, t) {
                var n, a, l, f = e === Ze, h = t === Ze, p = normalizeDirectives$1(e.data.directives, e.context), m = normalizeDirectives$1(t.data.directives, t.context), g = [], v = [];
                for (n in m)
                    a = p[n],
                    l = m[n],
                    a ? (l.oldValue = a.value,
                    l.oldArg = a.arg,
                    callHook$1(l, "update", t, e),
                    l.def && l.def.componentUpdated && v.push(l)) : (callHook$1(l, "bind", t, e),
                    l.def && l.def.inserted && g.push(l));
                if (g.length) {
                    var callInsert = function() {
                        for (var n = 0; n < g.length; n++)
                            callHook$1(g[n], "inserted", t, e)
                    };
                    f ? mergeVNodeHook(t, "insert", callInsert) : callInsert()
                }
                v.length && mergeVNodeHook(t, "postpatch", (function() {
                    for (var n = 0; n < v.length; n++)
                        callHook$1(v[n], "componentUpdated", t, e)
                }
                ));
                if (!f)
                    for (n in p)
                        m[n] || callHook$1(p[n], "unbind", e, e, h)
            }(e, t)
        }
        var Ye = Object.create(null);
        function normalizeDirectives$1(e, t) {
            var n, a, l = Object.create(null);
            if (!e)
                return l;
            for (n = 0; n < e.length; n++)
                (a = e[n]).modifiers || (a.modifiers = Ye),
                l[getRawDirName(a)] = a,
                a.def = resolveAsset(t.$options, "directives", a.name);
            return l
        }
        function getRawDirName(e) {
            return e.rawName || e.name + "." + Object.keys(e.modifiers || {}).join(".")
        }
        function callHook$1(e, t, n, a, l) {
            var f = e.def && e.def[t];
            if (f)
                try {
                    f(n.elm, e, n, a, l)
                } catch (ur) {
                    handleError(ur, n.context, "directive " + e.name + " " + t + " hook")
                }
        }
        var Je = [Ke, Qe];
        function updateAttrs(e, t) {
            var n = t.componentOptions;
            if (!(isDef(n) && !1 === n.Ctor.options.inheritAttrs || isUndef(e.data.attrs) && isUndef(t.data.attrs))) {
                var a, l, f = t.elm, h = e.data.attrs || {}, p = t.data.attrs || {};
                for (a in isDef(p.__ob__) && (p = t.data.attrs = extend({}, p)),
                p)
                    l = p[a],
                    h[a] !== l && setAttr(f, a, l, t.data.pre);
                for (a in (R || D) && p.value !== h.value && setAttr(f, "value", p.value),
                h)
                    isUndef(p[a]) && (isXlink(a) ? f.removeAttributeNS(je, getXlinkProp(a)) : $e(a) || f.removeAttribute(a))
            }
        }
        function setAttr(e, t, n, a) {
            a || e.tagName.indexOf("-") > -1 ? baseSetAttr(e, t, n) : He(t) ? isFalsyAttrValue(n) ? e.removeAttribute(t) : (n = "allowfullscreen" === t && "EMBED" === e.tagName ? "true" : t,
            e.setAttribute(t, n)) : $e(t) ? e.setAttribute(t, function(e, t) {
                return isFalsyAttrValue(t) || "false" === t ? "false" : "contenteditable" === e && Fe(t) ? t : "true"
            }(t, n)) : isXlink(t) ? isFalsyAttrValue(n) ? e.removeAttributeNS(je, getXlinkProp(t)) : e.setAttributeNS(je, t, n) : baseSetAttr(e, t, n)
        }
        function baseSetAttr(e, t, n) {
            if (isFalsyAttrValue(n))
                e.removeAttribute(t);
            else {
                if (R && !L && "TEXTAREA" === e.tagName && "placeholder" === t && "" !== n && !e.__ieph) {
                    var blocker = function(t) {
                        t.stopImmediatePropagation(),
                        e.removeEventListener("input", blocker)
                    };
                    e.addEventListener("input", blocker),
                    e.__ieph = !0
                }
                e.setAttribute(t, n)
            }
        }
        var et = {
            create: updateAttrs,
            update: updateAttrs
        };
        function updateClass(e, t) {
            var n = t.elm
              , a = t.data
              , l = e.data;
            if (!(isUndef(a.staticClass) && isUndef(a.class) && (isUndef(l) || isUndef(l.staticClass) && isUndef(l.class)))) {
                var f = genClassForVnode(t)
                  , h = n._transitionClasses;
                isDef(h) && (f = concat(f, stringifyClass(h))),
                f !== n._prevClass && (n.setAttribute("class", f),
                n._prevClass = f)
            }
        }
        var tt, nt, rt, ot, it, at, st = {
            create: updateClass,
            update: updateClass
        }, ut = /[\w).+\-_$\]]/;
        function parseFilters(e) {
            var t, n, a, l, f, h = !1, p = !1, m = !1, g = !1, v = 0, y = 0, b = 0, _ = 0;
            for (a = 0; a < e.length; a++)
                if (n = t,
                t = e.charCodeAt(a),
                h)
                    39 === t && 92 !== n && (h = !1);
                else if (p)
                    34 === t && 92 !== n && (p = !1);
                else if (m)
                    96 === t && 92 !== n && (m = !1);
                else if (g)
                    47 === t && 92 !== n && (g = !1);
                else if (124 !== t || 124 === e.charCodeAt(a + 1) || 124 === e.charCodeAt(a - 1) || v || y || b) {
                    switch (t) {
                    case 34:
                        p = !0;
                        break;
                    case 39:
                        h = !0;
                        break;
                    case 96:
                        m = !0;
                        break;
                    case 40:
                        b++;
                        break;
                    case 41:
                        b--;
                        break;
                    case 91:
                        y++;
                        break;
                    case 93:
                        y--;
                        break;
                    case 123:
                        v++;
                        break;
                    case 125:
                        v--
                    }
                    if (47 === t) {
                        for (var C = a - 1, A = void 0; C >= 0 && " " === (A = e.charAt(C)); C--)
                            ;
                        A && ut.test(A) || (g = !0)
                    }
                } else
                    void 0 === l ? (_ = a + 1,
                    l = e.slice(0, a).trim()) : pushFilter();
            function pushFilter() {
                (f || (f = [])).push(e.slice(_, a).trim()),
                _ = a + 1
            }
            if (void 0 === l ? l = e.slice(0, a).trim() : 0 !== _ && pushFilter(),
            f)
                for (a = 0; a < f.length; a++)
                    l = wrapFilter(l, f[a]);
            return l
        }
        function wrapFilter(e, t) {
            var n = t.indexOf("(");
            if (n < 0)
                return '_f("' + t + '")(' + e + ")";
            var a = t.slice(0, n)
              , l = t.slice(n + 1);
            return '_f("' + a + '")(' + e + (")" !== l ? "," + l : l)
        }
        function baseWarn(e, t) {
            console.error("[Vue compiler]: " + e)
        }
        function pluckModuleFunction(e, t) {
            return e ? e.map((function(e) {
                return e[t]
            }
            )).filter((function(e) {
                return e
            }
            )) : []
        }
        function addProp(e, t, n, a, l) {
            (e.props || (e.props = [])).push(rangeSetItem({
                name: t,
                value: n,
                dynamic: l
            }, a)),
            e.plain = !1
        }
        function addAttr(e, t, n, a, l) {
            (l ? e.dynamicAttrs || (e.dynamicAttrs = []) : e.attrs || (e.attrs = [])).push(rangeSetItem({
                name: t,
                value: n,
                dynamic: l
            }, a)),
            e.plain = !1
        }
        function addRawAttr(e, t, n, a) {
            e.attrsMap[t] = n,
            e.attrsList.push(rangeSetItem({
                name: t,
                value: n
            }, a))
        }
        function addDirective(e, t, n, a, l, f, h, p) {
            (e.directives || (e.directives = [])).push(rangeSetItem({
                name: t,
                rawName: n,
                value: a,
                arg: l,
                isDynamicArg: f,
                modifiers: h
            }, p)),
            e.plain = !1
        }
        function prependModifierMarker(e, t, n) {
            return n ? "_p(" + t + ',"' + e + '")' : e + t
        }
        function addHandler(e, t, n, l, f, h, p, m) {
            var g;
            (l = l || a).right ? m ? t = "(" + t + ")==='click'?'contextmenu':(" + t + ")" : "click" === t && (t = "contextmenu",
            delete l.right) : l.middle && (m ? t = "(" + t + ")==='click'?'mouseup':(" + t + ")" : "click" === t && (t = "mouseup")),
            l.capture && (delete l.capture,
            t = prependModifierMarker("!", t, m)),
            l.once && (delete l.once,
            t = prependModifierMarker("~", t, m)),
            l.passive && (delete l.passive,
            t = prependModifierMarker("&", t, m)),
            l.native ? (delete l.native,
            g = e.nativeEvents || (e.nativeEvents = {})) : g = e.events || (e.events = {});
            var v = rangeSetItem({
                value: n.trim(),
                dynamic: m
            }, p);
            l !== a && (v.modifiers = l);
            var y = g[t];
            Array.isArray(y) ? f ? y.unshift(v) : y.push(v) : g[t] = y ? f ? [v, y] : [y, v] : v,
            e.plain = !1
        }
        function getBindingAttr(e, t, n) {
            var a = getAndRemoveAttr(e, ":" + t) || getAndRemoveAttr(e, "v-bind:" + t);
            if (null != a)
                return parseFilters(a);
            if (!1 !== n) {
                var l = getAndRemoveAttr(e, t);
                if (null != l)
                    return JSON.stringify(l)
            }
        }
        function getAndRemoveAttr(e, t, n) {
            var a;
            if (null != (a = e.attrsMap[t]))
                for (var l = e.attrsList, f = 0, h = l.length; f < h; f++)
                    if (l[f].name === t) {
                        l.splice(f, 1);
                        break
                    }
            return n && delete e.attrsMap[t],
            a
        }
        function getAndRemoveAttrByRegex(e, t) {
            for (var n = e.attrsList, a = 0, l = n.length; a < l; a++) {
                var f = n[a];
                if (t.test(f.name))
                    return n.splice(a, 1),
                    f
            }
        }
        function rangeSetItem(e, t) {
            return t && (null != t.start && (e.start = t.start),
            null != t.end && (e.end = t.end)),
            e
        }
        function genComponentModel(e, t, n) {
            var a = n || {}
              , l = a.number
              , f = "$$v"
              , h = f;
            a.trim && (h = "(typeof $$v === 'string'? $$v.trim(): $$v)"),
            l && (h = "_n(" + h + ")");
            var p = genAssignmentCode(t, h);
            e.model = {
                value: "(" + t + ")",
                expression: JSON.stringify(t),
                callback: "function ($$v) {" + p + "}"
            }
        }
        function genAssignmentCode(e, t) {
            var n = function parseModel(e) {
                if (e = e.trim(),
                tt = e.length,
                e.indexOf("[") < 0 || e.lastIndexOf("]") < tt - 1)
                    return (ot = e.lastIndexOf(".")) > -1 ? {
                        exp: e.slice(0, ot),
                        key: '"' + e.slice(ot + 1) + '"'
                    } : {
                        exp: e,
                        key: null
                    };
                nt = e,
                ot = it = at = 0;
                for (; !eof(); )
                    isStringStart(rt = next()) ? parseString(rt) : 91 === rt && parseBracket(rt);
                return {
                    exp: e.slice(0, it),
                    key: e.slice(it + 1, at)
                }
            }(e);
            return null === n.key ? e + "=" + t : "$set(" + n.exp + ", " + n.key + ", " + t + ")"
        }
        function next() {
            return nt.charCodeAt(++ot)
        }
        function eof() {
            return ot >= tt
        }
        function isStringStart(e) {
            return 34 === e || 39 === e
        }
        function parseBracket(e) {
            var t = 1;
            for (it = ot; !eof(); )
                if (isStringStart(e = next()))
                    parseString(e);
                else if (91 === e && t++,
                93 === e && t--,
                0 === t) {
                    at = ot;
                    break
                }
        }
        function parseString(e) {
            for (var t = e; !eof() && (e = next()) !== t; )
                ;
        }
        var ct, lt = "__r";
        function createOnceHandler$1(e, t, n) {
            var a = ct;
            return function onceHandler() {
                var l = t.apply(null, arguments);
                null !== l && remove$2(e, onceHandler, n, a)
            }
        }
        var dt = ie && !($ && Number($[1]) <= 53);
        function add$1(e, t, n, a) {
            if (dt) {
                var l = xe
                  , f = t;
                t = f._wrapper = function(e) {
                    if (e.target === e.currentTarget || e.timeStamp >= l || e.timeStamp <= 0 || e.target.ownerDocument !== document)
                        return f.apply(this, arguments)
                }
            }
            ct.addEventListener(e, t, H ? {
                capture: n,
                passive: a
            } : n)
        }
        function remove$2(e, t, n, a) {
            (a || ct).removeEventListener(e, t._wrapper || t, n)
        }
        function updateDOMListeners(e, t) {
            if (!isUndef(e.data.on) || !isUndef(t.data.on)) {
                var n = t.data.on || {}
                  , a = e.data.on || {};
                ct = t.elm,
                function normalizeEvents(e) {
                    if (isDef(e.__r)) {
                        var t = R ? "change" : "input";
                        e[t] = [].concat(e.__r, e[t] || []),
                        delete e.__r
                    }
                    isDef(e.__c) && (e.change = [].concat(e.__c, e.change || []),
                    delete e.__c)
                }(n),
                updateListeners(n, a, add$1, remove$2, createOnceHandler$1, t.context),
                ct = void 0
            }
        }
        var ft, ht = {
            create: updateDOMListeners,
            update: updateDOMListeners
        };
        function updateDOMProps(e, t) {
            if (!isUndef(e.data.domProps) || !isUndef(t.data.domProps)) {
                var n, a, l = t.elm, f = e.data.domProps || {}, h = t.data.domProps || {};
                for (n in isDef(h.__ob__) && (h = t.data.domProps = extend({}, h)),
                f)
                    n in h || (l[n] = "");
                for (n in h) {
                    if (a = h[n],
                    "textContent" === n || "innerHTML" === n) {
                        if (t.children && (t.children.length = 0),
                        a === f[n])
                            continue;
                        1 === l.childNodes.length && l.removeChild(l.childNodes[0])
                    }
                    if ("value" === n && "PROGRESS" !== l.tagName) {
                        l._value = a;
                        var p = isUndef(a) ? "" : String(a);
                        shouldUpdateValue(l, p) && (l.value = p)
                    } else if ("innerHTML" === n && Ge(l.tagName) && isUndef(l.innerHTML)) {
                        (ft = ft || document.createElement("div")).innerHTML = "<svg>" + a + "</svg>";
                        for (var m = ft.firstChild; l.firstChild; )
                            l.removeChild(l.firstChild);
                        for (; m.firstChild; )
                            l.appendChild(m.firstChild)
                    } else if (a !== f[n])
                        try {
                            l[n] = a
                        } catch (ur) {}
                }
            }
        }
        function shouldUpdateValue(e, t) {
            return !e.composing && ("OPTION" === e.tagName || function isNotInFocusAndDirty(e, t) {
                var n = !0;
                try {
                    n = document.activeElement !== e
                } catch (ur) {}
                return n && e.value !== t
            }(e, t) || function isDirtyWithModifiers(e, t) {
                var n = e.value
                  , a = e._vModifiers;
                if (isDef(a)) {
                    if (a.number)
                        return toNumber(n) !== toNumber(t);
                    if (a.trim)
                        return n.trim() !== t.trim()
                }
                return n !== t
            }(e, t))
        }
        var pt = {
            create: updateDOMProps,
            update: updateDOMProps
        }
          , mt = cached((function(e) {
            var t = {}
              , n = /:(.+)/;
            return e.split(/;(?![^(]*\))/g).forEach((function(e) {
                if (e) {
                    var a = e.split(n);
                    a.length > 1 && (t[a[0].trim()] = a[1].trim())
                }
            }
            )),
            t
        }
        ));
        function normalizeStyleData(e) {
            var t = normalizeStyleBinding(e.style);
            return e.staticStyle ? extend(e.staticStyle, t) : t
        }
        function normalizeStyleBinding(e) {
            return Array.isArray(e) ? toObject(e) : "string" == typeof e ? mt(e) : e
        }
        var gt, vt = /^--/, yt = /\s*!important$/, setProp = function(e, t, n) {
            if (vt.test(t))
                e.style.setProperty(t, n);
            else if (yt.test(n))
                e.style.setProperty(b(t), n.replace(yt, ""), "important");
            else {
                var a = _t(t);
                if (Array.isArray(n))
                    for (var l = 0, f = n.length; l < f; l++)
                        e.style[a] = n[l];
                else
                    e.style[a] = n
            }
        }, bt = ["Webkit", "Moz", "ms"], _t = cached((function(e) {
            if (gt = gt || document.createElement("div").style,
            "filter" !== (e = g(e)) && e in gt)
                return e;
            for (var t = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < bt.length; n++) {
                var a = bt[n] + t;
                if (a in gt)
                    return a
            }
        }
        ));
        function updateStyle(e, t) {
            var n = t.data
              , a = e.data;
            if (!(isUndef(n.staticStyle) && isUndef(n.style) && isUndef(a.staticStyle) && isUndef(a.style))) {
                var l, f, h = t.elm, p = a.staticStyle, m = a.normalizedStyle || a.style || {}, g = p || m, v = normalizeStyleBinding(t.data.style) || {};
                t.data.normalizedStyle = isDef(v.__ob__) ? extend({}, v) : v;
                var y = function getStyle(e, t) {
                    var n, a = {};
                    if (t)
                        for (var l = e; l.componentInstance; )
                            (l = l.componentInstance._vnode) && l.data && (n = normalizeStyleData(l.data)) && extend(a, n);
                    (n = normalizeStyleData(e.data)) && extend(a, n);
                    for (var f = e; f = f.parent; )
                        f.data && (n = normalizeStyleData(f.data)) && extend(a, n);
                    return a
                }(t, !0);
                for (f in g)
                    isUndef(y[f]) && setProp(h, f, "");
                for (f in y)
                    (l = y[f]) !== g[f] && setProp(h, f, null == l ? "" : l)
            }
        }
        var Ct = {
            create: updateStyle,
            update: updateStyle
        }
          , Et = /\s+/;
        function addClass(e, t) {
            if (t && (t = t.trim()))
                if (e.classList)
                    t.indexOf(" ") > -1 ? t.split(Et).forEach((function(t) {
                        return e.classList.add(t)
                    }
                    )) : e.classList.add(t);
                else {
                    var n = " " + (e.getAttribute("class") || "") + " ";
                    n.indexOf(" " + t + " ") < 0 && e.setAttribute("class", (n + t).trim())
                }
        }
        function removeClass(e, t) {
            if (t && (t = t.trim()))
                if (e.classList)
                    t.indexOf(" ") > -1 ? t.split(Et).forEach((function(t) {
                        return e.classList.remove(t)
                    }
                    )) : e.classList.remove(t),
                    e.classList.length || e.removeAttribute("class");
                else {
                    for (var n = " " + (e.getAttribute("class") || "") + " ", a = " " + t + " "; n.indexOf(a) >= 0; )
                        n = n.replace(a, " ");
                    (n = n.trim()) ? e.setAttribute("class", n) : e.removeAttribute("class")
                }
        }
        function resolveTransition(e) {
            if (e) {
                if ("object" == typeof e) {
                    var t = {};
                    return !1 !== e.css && extend(t, At(e.name || "v")),
                    extend(t, e),
                    t
                }
                return "string" == typeof e ? At(e) : void 0
            }
        }
        var At = cached((function(e) {
            return {
                enterClass: e + "-enter",
                enterToClass: e + "-enter-to",
                enterActiveClass: e + "-enter-active",
                leaveClass: e + "-leave",
                leaveToClass: e + "-leave-to",
                leaveActiveClass: e + "-leave-active"
            }
        }
        ))
          , St = k && !L
          , xt = "transition"
          , wt = "animation"
          , Pt = "transition"
          , Tt = "transitionend"
          , Mt = "animation"
          , kt = "animationend";
        St && (void 0 === window.ontransitionend && void 0 !== window.onwebkittransitionend && (Pt = "WebkitTransition",
        Tt = "webkitTransitionEnd"),
        void 0 === window.onanimationend && void 0 !== window.onwebkitanimationend && (Mt = "WebkitAnimation",
        kt = "webkitAnimationEnd"));
        var It = k ? window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout : function(e) {
            return e()
        }
        ;
        function nextFrame(e) {
            It((function() {
                It(e)
            }
            ))
        }
        function addTransitionClass(e, t) {
            var n = e._transitionClasses || (e._transitionClasses = []);
            n.indexOf(t) < 0 && (n.push(t),
            addClass(e, t))
        }
        function removeTransitionClass(e, t) {
            e._transitionClasses && remove(e._transitionClasses, t),
            removeClass(e, t)
        }
        function whenTransitionEnds(e, t, n) {
            var a = getTransitionInfo(e, t)
              , l = a.type
              , f = a.timeout
              , h = a.propCount;
            if (!l)
                return n();
            var p = l === xt ? Tt : kt
              , m = 0
              , end = function() {
                e.removeEventListener(p, onEnd),
                n()
            }
              , onEnd = function(t) {
                t.target === e && ++m >= h && end()
            };
            setTimeout((function() {
                m < h && end()
            }
            ), f + 1),
            e.addEventListener(p, onEnd)
        }
        var Ot = /\b(transform|all)(,|$)/;
        function getTransitionInfo(e, t) {
            var n, a = window.getComputedStyle(e), l = (a[Pt + "Delay"] || "").split(", "), f = (a[Pt + "Duration"] || "").split(", "), h = getTimeout(l, f), p = (a[Mt + "Delay"] || "").split(", "), m = (a[Mt + "Duration"] || "").split(", "), g = getTimeout(p, m), v = 0, y = 0;
            return t === xt ? h > 0 && (n = xt,
            v = h,
            y = f.length) : t === wt ? g > 0 && (n = wt,
            v = g,
            y = m.length) : y = (n = (v = Math.max(h, g)) > 0 ? h > g ? xt : wt : null) ? n === xt ? f.length : m.length : 0,
            {
                type: n,
                timeout: v,
                propCount: y,
                hasTransform: n === xt && Ot.test(a[Pt + "Property"])
            }
        }
        function getTimeout(e, t) {
            for (; e.length < t.length; )
                e = e.concat(e);
            return Math.max.apply(null, t.map((function(t, n) {
                return toMs(t) + toMs(e[n])
            }
            )))
        }
        function toMs(e) {
            return 1e3 * Number(e.slice(0, -1).replace(",", "."))
        }
        function enter(e, t) {
            var n = e.elm;
            isDef(n._leaveCb) && (n._leaveCb.cancelled = !0,
            n._leaveCb());
            var a = resolveTransition(e.data.transition);
            if (!isUndef(a) && !isDef(n._enterCb) && 1 === n.nodeType) {
                for (var l = a.css, f = a.type, h = a.enterClass, p = a.enterToClass, m = a.enterActiveClass, g = a.appearClass, v = a.appearToClass, y = a.appearActiveClass, b = a.beforeEnter, _ = a.enter, C = a.afterEnter, A = a.enterCancelled, S = a.beforeAppear, x = a.appear, w = a.afterAppear, P = a.appearCancelled, T = a.duration, M = ye, k = ye.$vnode; k && k.parent; )
                    M = k.context,
                    k = k.parent;
                var I = !M._isMounted || !e.isRootInsert;
                if (!I || x || "" === x) {
                    var O = I && g ? g : h
                      , N = I && y ? y : m
                      , R = I && v ? v : p
                      , D = I && S || b
                      , B = I && "function" == typeof x ? x : _
                      , $ = I && w || C
                      , F = I && P || A
                      , H = toNumber(isObject(T) ? T.enter : T);
                    0;
                    var j = !1 !== l && !L
                      , U = getHookArgumentsLength(B)
                      , V = n._enterCb = once((function() {
                        j && (removeTransitionClass(n, R),
                        removeTransitionClass(n, N)),
                        V.cancelled ? (j && removeTransitionClass(n, O),
                        F && F(n)) : $ && $(n),
                        n._enterCb = null
                    }
                    ));
                    e.data.show || mergeVNodeHook(e, "insert", (function() {
                        var t = n.parentNode
                          , a = t && t._pending && t._pending[e.key];
                        a && a.tag === e.tag && a.elm._leaveCb && a.elm._leaveCb(),
                        B && B(n, V)
                    }
                    )),
                    D && D(n),
                    j && (addTransitionClass(n, O),
                    addTransitionClass(n, N),
                    nextFrame((function() {
                        removeTransitionClass(n, O),
                        V.cancelled || (addTransitionClass(n, R),
                        U || (isValidDuration(H) ? setTimeout(V, H) : whenTransitionEnds(n, f, V)))
                    }
                    ))),
                    e.data.show && (t && t(),
                    B && B(n, V)),
                    j || U || V()
                }
            }
        }
        function leave(e, t) {
            var n = e.elm;
            isDef(n._enterCb) && (n._enterCb.cancelled = !0,
            n._enterCb());
            var a = resolveTransition(e.data.transition);
            if (isUndef(a) || 1 !== n.nodeType)
                return t();
            if (!isDef(n._leaveCb)) {
                var l = a.css
                  , f = a.type
                  , h = a.leaveClass
                  , p = a.leaveToClass
                  , m = a.leaveActiveClass
                  , g = a.beforeLeave
                  , v = a.leave
                  , y = a.afterLeave
                  , b = a.leaveCancelled
                  , _ = a.delayLeave
                  , C = a.duration
                  , A = !1 !== l && !L
                  , S = getHookArgumentsLength(v)
                  , x = toNumber(isObject(C) ? C.leave : C);
                0;
                var w = n._leaveCb = once((function() {
                    n.parentNode && n.parentNode._pending && (n.parentNode._pending[e.key] = null),
                    A && (removeTransitionClass(n, p),
                    removeTransitionClass(n, m)),
                    w.cancelled ? (A && removeTransitionClass(n, h),
                    b && b(n)) : (t(),
                    y && y(n)),
                    n._leaveCb = null
                }
                ));
                _ ? _(performLeave) : performLeave()
            }
            function performLeave() {
                w.cancelled || (!e.data.show && n.parentNode && ((n.parentNode._pending || (n.parentNode._pending = {}))[e.key] = e),
                g && g(n),
                A && (addTransitionClass(n, h),
                addTransitionClass(n, m),
                nextFrame((function() {
                    removeTransitionClass(n, h),
                    w.cancelled || (addTransitionClass(n, p),
                    S || (isValidDuration(x) ? setTimeout(w, x) : whenTransitionEnds(n, f, w)))
                }
                ))),
                v && v(n, w),
                A || S || w())
            }
        }
        function isValidDuration(e) {
            return "number" == typeof e && !isNaN(e)
        }
        function getHookArgumentsLength(e) {
            if (isUndef(e))
                return !1;
            var t = e.fns;
            return isDef(t) ? getHookArgumentsLength(Array.isArray(t) ? t[0] : t) : (e._length || e.length) > 1
        }
        function _enter(e, t) {
            !0 !== t.data.show && enter(t)
        }
        var Nt = function createPatchFunction(e) {
            var t, n, a = {}, l = e.modules, f = e.nodeOps;
            for (t = 0; t < Xe.length; ++t)
                for (a[Xe[t]] = [],
                n = 0; n < l.length; ++n)
                    isDef(l[n][Xe[t]]) && a[Xe[t]].push(l[n][Xe[t]]);
            function removeNode(e) {
                var t = f.parentNode(e);
                isDef(t) && f.removeChild(t, e)
            }
            function createElm(e, t, n, l, h, p, m) {
                if (isDef(e.elm) && isDef(p) && (e = p[m] = cloneVNode(e)),
                e.isRootInsert = !h,
                !function createComponent(e, t, n, l) {
                    var f = e.data;
                    if (isDef(f)) {
                        var h = isDef(e.componentInstance) && f.keepAlive;
                        if (isDef(f = f.hook) && isDef(f = f.init) && f(e, !1),
                        isDef(e.componentInstance))
                            return initComponent(e, t),
                            insert(n, e.elm, l),
                            isTrue(h) && function reactivateComponent(e, t, n, l) {
                                var f, h = e;
                                for (; h.componentInstance; )
                                    if (isDef(f = (h = h.componentInstance._vnode).data) && isDef(f = f.transition)) {
                                        for (f = 0; f < a.activate.length; ++f)
                                            a.activate[f](Ze, h);
                                        t.push(h);
                                        break
                                    }
                                insert(n, e.elm, l)
                            }(e, t, n, l),
                            !0
                    }
                }(e, t, n, l)) {
                    var g = e.data
                      , v = e.children
                      , y = e.tag;
                    isDef(y) ? (e.elm = e.ns ? f.createElementNS(e.ns, y) : f.createElement(y, e),
                    setScope(e),
                    createChildren(e, v, t),
                    isDef(g) && invokeCreateHooks(e, t),
                    insert(n, e.elm, l)) : isTrue(e.isComment) ? (e.elm = f.createComment(e.text),
                    insert(n, e.elm, l)) : (e.elm = f.createTextNode(e.text),
                    insert(n, e.elm, l))
                }
            }
            function initComponent(e, t) {
                isDef(e.data.pendingInsert) && (t.push.apply(t, e.data.pendingInsert),
                e.data.pendingInsert = null),
                e.elm = e.componentInstance.$el,
                isPatchable(e) ? (invokeCreateHooks(e, t),
                setScope(e)) : (registerRef(e),
                t.push(e))
            }
            function insert(e, t, n) {
                isDef(e) && (isDef(n) ? f.parentNode(n) === e && f.insertBefore(e, t, n) : f.appendChild(e, t))
            }
            function createChildren(e, t, n) {
                if (Array.isArray(t)) {
                    0;
                    for (var a = 0; a < t.length; ++a)
                        createElm(t[a], n, e.elm, null, !0, t, a)
                } else
                    isPrimitive(e.text) && f.appendChild(e.elm, f.createTextNode(String(e.text)))
            }
            function isPatchable(e) {
                for (; e.componentInstance; )
                    e = e.componentInstance._vnode;
                return isDef(e.tag)
            }
            function invokeCreateHooks(e, n) {
                for (var l = 0; l < a.create.length; ++l)
                    a.create[l](Ze, e);
                isDef(t = e.data.hook) && (isDef(t.create) && t.create(Ze, e),
                isDef(t.insert) && n.push(e))
            }
            function setScope(e) {
                var t;
                if (isDef(t = e.fnScopeId))
                    f.setStyleScope(e.elm, t);
                else
                    for (var n = e; n; )
                        isDef(t = n.context) && isDef(t = t.$options._scopeId) && f.setStyleScope(e.elm, t),
                        n = n.parent;
                isDef(t = ye) && t !== e.context && t !== e.fnContext && isDef(t = t.$options._scopeId) && f.setStyleScope(e.elm, t)
            }
            function addVnodes(e, t, n, a, l, f) {
                for (; a <= l; ++a)
                    createElm(n[a], f, e, t, !1, n, a)
            }
            function invokeDestroyHook(e) {
                var t, n, l = e.data;
                if (isDef(l))
                    for (isDef(t = l.hook) && isDef(t = t.destroy) && t(e),
                    t = 0; t < a.destroy.length; ++t)
                        a.destroy[t](e);
                if (isDef(t = e.children))
                    for (n = 0; n < e.children.length; ++n)
                        invokeDestroyHook(e.children[n])
            }
            function removeVnodes(e, t, n) {
                for (; t <= n; ++t) {
                    var a = e[t];
                    isDef(a) && (isDef(a.tag) ? (removeAndInvokeRemoveHook(a),
                    invokeDestroyHook(a)) : removeNode(a.elm))
                }
            }
            function removeAndInvokeRemoveHook(e, t) {
                if (isDef(t) || isDef(e.data)) {
                    var n, l = a.remove.length + 1;
                    for (isDef(t) ? t.listeners += l : t = function createRmCb(e, t) {
                        function remove$$1() {
                            0 == --remove$$1.listeners && removeNode(e)
                        }
                        return remove$$1.listeners = t,
                        remove$$1
                    }(e.elm, l),
                    isDef(n = e.componentInstance) && isDef(n = n._vnode) && isDef(n.data) && removeAndInvokeRemoveHook(n, t),
                    n = 0; n < a.remove.length; ++n)
                        a.remove[n](e, t);
                    isDef(n = e.data.hook) && isDef(n = n.remove) ? n(e, t) : t()
                } else
                    removeNode(e.elm)
            }
            function findIdxInOld(e, t, n, a) {
                for (var l = n; l < a; l++) {
                    var f = t[l];
                    if (isDef(f) && sameVnode(e, f))
                        return l
                }
            }
            function patchVnode(e, t, n, l, h, p) {
                if (e !== t) {
                    isDef(t.elm) && isDef(l) && (t = l[h] = cloneVNode(t));
                    var m = t.elm = e.elm;
                    if (isTrue(e.isAsyncPlaceholder))
                        isDef(t.asyncFactory.resolved) ? hydrate(e.elm, t, n) : t.isAsyncPlaceholder = !0;
                    else if (isTrue(t.isStatic) && isTrue(e.isStatic) && t.key === e.key && (isTrue(t.isCloned) || isTrue(t.isOnce)))
                        t.componentInstance = e.componentInstance;
                    else {
                        var g, v = t.data;
                        isDef(v) && isDef(g = v.hook) && isDef(g = g.prepatch) && g(e, t);
                        var y = e.children
                          , b = t.children;
                        if (isDef(v) && isPatchable(t)) {
                            for (g = 0; g < a.update.length; ++g)
                                a.update[g](e, t);
                            isDef(g = v.hook) && isDef(g = g.update) && g(e, t)
                        }
                        isUndef(t.text) ? isDef(y) && isDef(b) ? y !== b && function updateChildren(e, t, n, a, l) {
                            var h, p, m, g = 0, v = 0, y = t.length - 1, b = t[0], _ = t[y], C = n.length - 1, A = n[0], S = n[C], x = !l;
                            for (; g <= y && v <= C; )
                                isUndef(b) ? b = t[++g] : isUndef(_) ? _ = t[--y] : sameVnode(b, A) ? (patchVnode(b, A, a, n, v),
                                b = t[++g],
                                A = n[++v]) : sameVnode(_, S) ? (patchVnode(_, S, a, n, C),
                                _ = t[--y],
                                S = n[--C]) : sameVnode(b, S) ? (patchVnode(b, S, a, n, C),
                                x && f.insertBefore(e, b.elm, f.nextSibling(_.elm)),
                                b = t[++g],
                                S = n[--C]) : sameVnode(_, A) ? (patchVnode(_, A, a, n, v),
                                x && f.insertBefore(e, _.elm, b.elm),
                                _ = t[--y],
                                A = n[++v]) : (isUndef(h) && (h = createKeyToOldIdx(t, g, y)),
                                isUndef(p = isDef(A.key) ? h[A.key] : findIdxInOld(A, t, g, y)) ? createElm(A, a, e, b.elm, !1, n, v) : sameVnode(m = t[p], A) ? (patchVnode(m, A, a, n, v),
                                t[p] = void 0,
                                x && f.insertBefore(e, m.elm, b.elm)) : createElm(A, a, e, b.elm, !1, n, v),
                                A = n[++v]);
                            g > y ? addVnodes(e, isUndef(n[C + 1]) ? null : n[C + 1].elm, n, v, C, a) : v > C && removeVnodes(t, g, y)
                        }(m, y, b, n, p) : isDef(b) ? (isDef(e.text) && f.setTextContent(m, ""),
                        addVnodes(m, null, b, 0, b.length - 1, n)) : isDef(y) ? removeVnodes(y, 0, y.length - 1) : isDef(e.text) && f.setTextContent(m, "") : e.text !== t.text && f.setTextContent(m, t.text),
                        isDef(v) && isDef(g = v.hook) && isDef(g = g.postpatch) && g(e, t)
                    }
                }
            }
            function invokeInsertHook(e, t, n) {
                if (isTrue(n) && isDef(e.parent))
                    e.parent.data.pendingInsert = t;
                else
                    for (var a = 0; a < t.length; ++a)
                        t[a].data.hook.insert(t[a])
            }
            var h = makeMap("attrs,class,staticClass,staticStyle,key");
            function hydrate(e, t, n, a) {
                var l, f = t.tag, p = t.data, m = t.children;
                if (a = a || p && p.pre,
                t.elm = e,
                isTrue(t.isComment) && isDef(t.asyncFactory))
                    return t.isAsyncPlaceholder = !0,
                    !0;
                if (isDef(p) && (isDef(l = p.hook) && isDef(l = l.init) && l(t, !0),
                isDef(l = t.componentInstance)))
                    return initComponent(t, n),
                    !0;
                if (isDef(f)) {
                    if (isDef(m))
                        if (e.hasChildNodes())
                            if (isDef(l = p) && isDef(l = l.domProps) && isDef(l = l.innerHTML)) {
                                if (l !== e.innerHTML)
                                    return !1
                            } else {
                                for (var g = !0, v = e.firstChild, y = 0; y < m.length; y++) {
                                    if (!v || !hydrate(v, m[y], n, a)) {
                                        g = !1;
                                        break
                                    }
                                    v = v.nextSibling
                                }
                                if (!g || v)
                                    return !1
                            }
                        else
                            createChildren(t, m, n);
                    if (isDef(p)) {
                        var b = !1;
                        for (var _ in p)
                            if (!h(_)) {
                                b = !0,
                                invokeCreateHooks(t, n);
                                break
                            }
                        !b && p.class && traverse(p.class)
                    }
                } else
                    e.data !== t.text && (e.data = t.text);
                return !0
            }
            return function patch(e, t, n, l) {
                if (!isUndef(t)) {
                    var h = !1
                      , p = [];
                    if (isUndef(e))
                        h = !0,
                        createElm(t, p);
                    else {
                        var m = isDef(e.nodeType);
                        if (!m && sameVnode(e, t))
                            patchVnode(e, t, p, null, null, l);
                        else {
                            if (m) {
                                if (1 === e.nodeType && e.hasAttribute(C) && (e.removeAttribute(C),
                                n = !0),
                                isTrue(n) && hydrate(e, t, p))
                                    return invokeInsertHook(t, p, !0),
                                    e;
                                e = function emptyNodeAt(e) {
                                    return new Z(f.tagName(e).toLowerCase(),{},[],void 0,e)
                                }(e)
                            }
                            var g = e.elm
                              , v = f.parentNode(g);
                            if (createElm(t, p, g._leaveCb ? null : v, f.nextSibling(g)),
                            isDef(t.parent))
                                for (var y = t.parent, b = isPatchable(t); y; ) {
                                    for (var _ = 0; _ < a.destroy.length; ++_)
                                        a.destroy[_](y);
                                    if (y.elm = t.elm,
                                    b) {
                                        for (var A = 0; A < a.create.length; ++A)
                                            a.create[A](Ze, y);
                                        var S = y.data.hook.insert;
                                        if (S.merged)
                                            for (var x = 1; x < S.fns.length; x++)
                                                S.fns[x]()
                                    } else
                                        registerRef(y);
                                    y = y.parent
                                }
                            isDef(v) ? removeVnodes([e], 0, 0) : isDef(e.tag) && invokeDestroyHook(e)
                        }
                    }
                    return invokeInsertHook(t, p, h),
                    t.elm
                }
                isDef(e) && invokeDestroyHook(e)
            }
        }({
            nodeOps: We,
            modules: [et, st, ht, pt, Ct, k ? {
                create: _enter,
                activate: _enter,
                remove: function remove$$1(e, t) {
                    !0 !== e.data.show ? leave(e, t) : t()
                }
            } : {}].concat(Je)
        });
        L && document.addEventListener("selectionchange", (function() {
            var e = document.activeElement;
            e && e.vmodel && trigger(e, "input")
        }
        ));
        var Rt = {
            inserted: function inserted(e, t, n, a) {
                "select" === n.tag ? (a.elm && !a.elm._vOptions ? mergeVNodeHook(n, "postpatch", (function() {
                    Rt.componentUpdated(e, t, n)
                }
                )) : setSelected(e, t, n.context),
                e._vOptions = [].map.call(e.options, getValue)) : ("textarea" === n.tag || ze(e.type)) && (e._vModifiers = t.modifiers,
                t.modifiers.lazy || (e.addEventListener("compositionstart", onCompositionStart),
                e.addEventListener("compositionend", onCompositionEnd),
                e.addEventListener("change", onCompositionEnd),
                L && (e.vmodel = !0)))
            },
            componentUpdated: function componentUpdated(e, t, n) {
                if ("select" === n.tag) {
                    setSelected(e, t, n.context);
                    var a = e._vOptions
                      , l = e._vOptions = [].map.call(e.options, getValue);
                    if (l.some((function(e, t) {
                        return !looseEqual(e, a[t])
                    }
                    )))
                        (e.multiple ? t.value.some((function(e) {
                            return hasNoMatchingOption(e, l)
                        }
                        )) : t.value !== t.oldValue && hasNoMatchingOption(t.value, l)) && trigger(e, "change")
                }
            }
        };
        function setSelected(e, t, n) {
            actuallySetSelected(e, t, n),
            (R || D) && setTimeout((function() {
                actuallySetSelected(e, t, n)
            }
            ), 0)
        }
        function actuallySetSelected(e, t, n) {
            var a = t.value
              , l = e.multiple;
            if (!l || Array.isArray(a)) {
                for (var f, h, p = 0, m = e.options.length; p < m; p++)
                    if (h = e.options[p],
                    l)
                        f = looseIndexOf(a, getValue(h)) > -1,
                        h.selected !== f && (h.selected = f);
                    else if (looseEqual(getValue(h), a))
                        return void (e.selectedIndex !== p && (e.selectedIndex = p));
                l || (e.selectedIndex = -1)
            }
        }
        function hasNoMatchingOption(e, t) {
            return t.every((function(t) {
                return !looseEqual(t, e)
            }
            ))
        }
        function getValue(e) {
            return "_value"in e ? e._value : e.value
        }
        function onCompositionStart(e) {
            e.target.composing = !0
        }
        function onCompositionEnd(e) {
            e.target.composing && (e.target.composing = !1,
            trigger(e.target, "input"))
        }
        function trigger(e, t) {
            var n = document.createEvent("HTMLEvents");
            n.initEvent(t, !0, !0),
            e.dispatchEvent(n)
        }
        function locateNode(e) {
            return !e.componentInstance || e.data && e.data.transition ? e : locateNode(e.componentInstance._vnode)
        }
        var Lt = {
            bind: function bind(e, t, n) {
                var a = t.value
                  , l = (n = locateNode(n)).data && n.data.transition
                  , f = e.__vOriginalDisplay = "none" === e.style.display ? "" : e.style.display;
                a && l ? (n.data.show = !0,
                enter(n, (function() {
                    e.style.display = f
                }
                ))) : e.style.display = a ? f : "none"
            },
            update: function update(e, t, n) {
                var a = t.value;
                !a != !t.oldValue && ((n = locateNode(n)).data && n.data.transition ? (n.data.show = !0,
                a ? enter(n, (function() {
                    e.style.display = e.__vOriginalDisplay
                }
                )) : leave(n, (function() {
                    e.style.display = "none"
                }
                ))) : e.style.display = a ? e.__vOriginalDisplay : "none")
            },
            unbind: function unbind(e, t, n, a, l) {
                l || (e.style.display = e.__vOriginalDisplay)
            }
        }
          , Dt = {
            model: Rt,
            show: Lt
        }
          , Bt = {
            name: String,
            appear: Boolean,
            css: Boolean,
            mode: String,
            type: String,
            enterClass: String,
            leaveClass: String,
            enterToClass: String,
            leaveToClass: String,
            enterActiveClass: String,
            leaveActiveClass: String,
            appearClass: String,
            appearActiveClass: String,
            appearToClass: String,
            duration: [Number, String, Object]
        };
        function getRealChild(e) {
            var t = e && e.componentOptions;
            return t && t.Ctor.options.abstract ? getRealChild(getFirstComponentChild(t.children)) : e
        }
        function extractTransitionData(e) {
            var t = {}
              , n = e.$options;
            for (var a in n.propsData)
                t[a] = e[a];
            var l = n._parentListeners;
            for (var f in l)
                t[g(f)] = l[f];
            return t
        }
        function placeholder(e, t) {
            if (/\d-keep-alive$/.test(t.tag))
                return e("keep-alive", {
                    props: t.componentOptions.propsData
                })
        }
        var isNotTextNode = function(e) {
            return e.tag || isAsyncPlaceholder(e)
        }
          , isVShowDirective = function(e) {
            return "show" === e.name
        }
          , $t = {
            name: "transition",
            props: Bt,
            abstract: !0,
            render: function render(e) {
                var t = this
                  , n = this.$slots.default;
                if (n && (n = n.filter(isNotTextNode)).length) {
                    0;
                    var a = this.mode;
                    0;
                    var l = n[0];
                    if (function hasParentTransition(e) {
                        for (; e = e.parent; )
                            if (e.data.transition)
                                return !0
                    }(this.$vnode))
                        return l;
                    var f = getRealChild(l);
                    if (!f)
                        return l;
                    if (this._leaving)
                        return placeholder(e, l);
                    var h = "__transition-" + this._uid + "-";
                    f.key = null == f.key ? f.isComment ? h + "comment" : h + f.tag : isPrimitive(f.key) ? 0 === String(f.key).indexOf(h) ? f.key : h + f.key : f.key;
                    var p = (f.data || (f.data = {})).transition = extractTransitionData(this)
                      , m = this._vnode
                      , g = getRealChild(m);
                    if (f.data.directives && f.data.directives.some(isVShowDirective) && (f.data.show = !0),
                    g && g.data && !function isSameChild(e, t) {
                        return t.key === e.key && t.tag === e.tag
                    }(f, g) && !isAsyncPlaceholder(g) && (!g.componentInstance || !g.componentInstance._vnode.isComment)) {
                        var v = g.data.transition = extend({}, p);
                        if ("out-in" === a)
                            return this._leaving = !0,
                            mergeVNodeHook(v, "afterLeave", (function() {
                                t._leaving = !1,
                                t.$forceUpdate()
                            }
                            )),
                            placeholder(e, l);
                        if ("in-out" === a) {
                            if (isAsyncPlaceholder(f))
                                return m;
                            var y, performLeave = function() {
                                y()
                            };
                            mergeVNodeHook(p, "afterEnter", performLeave),
                            mergeVNodeHook(p, "enterCancelled", performLeave),
                            mergeVNodeHook(v, "delayLeave", (function(e) {
                                y = e
                            }
                            ))
                        }
                    }
                    return l
                }
            }
        }
          , Ft = extend({
            tag: String,
            moveClass: String
        }, Bt);
        function callPendingCbs(e) {
            e.elm._moveCb && e.elm._moveCb(),
            e.elm._enterCb && e.elm._enterCb()
        }
        function recordPosition(e) {
            e.data.newPos = e.elm.getBoundingClientRect()
        }
        function applyTranslation(e) {
            var t = e.data.pos
              , n = e.data.newPos
              , a = t.left - n.left
              , l = t.top - n.top;
            if (a || l) {
                e.data.moved = !0;
                var f = e.elm.style;
                f.transform = f.WebkitTransform = "translate(" + a + "px," + l + "px)",
                f.transitionDuration = "0s"
            }
        }
        delete Ft.mode;
        var Ht = {
            Transition: $t,
            TransitionGroup: {
                props: Ft,
                beforeMount: function beforeMount() {
                    var e = this
                      , t = this._update;
                    this._update = function(n, a) {
                        var l = setActiveInstance(e);
                        e.__patch__(e._vnode, e.kept, !1, !0),
                        e._vnode = e.kept,
                        l(),
                        t.call(e, n, a)
                    }
                },
                render: function render(e) {
                    for (var t = this.tag || this.$vnode.data.tag || "span", n = Object.create(null), a = this.prevChildren = this.children, l = this.$slots.default || [], f = this.children = [], h = extractTransitionData(this), p = 0; p < l.length; p++) {
                        var m = l[p];
                        if (m.tag)
                            if (null != m.key && 0 !== String(m.key).indexOf("__vlist"))
                                f.push(m),
                                n[m.key] = m,
                                (m.data || (m.data = {})).transition = h;
                            else
                                ;
                    }
                    if (a) {
                        for (var g = [], v = [], y = 0; y < a.length; y++) {
                            var b = a[y];
                            b.data.transition = h,
                            b.data.pos = b.elm.getBoundingClientRect(),
                            n[b.key] ? g.push(b) : v.push(b)
                        }
                        this.kept = e(t, null, g),
                        this.removed = v
                    }
                    return e(t, null, f)
                },
                updated: function updated() {
                    var e = this.prevChildren
                      , t = this.moveClass || (this.name || "v") + "-move";
                    e.length && this.hasMove(e[0].elm, t) && (e.forEach(callPendingCbs),
                    e.forEach(recordPosition),
                    e.forEach(applyTranslation),
                    this._reflow = document.body.offsetHeight,
                    e.forEach((function(e) {
                        if (e.data.moved) {
                            var n = e.elm
                              , a = n.style;
                            addTransitionClass(n, t),
                            a.transform = a.WebkitTransform = a.transitionDuration = "",
                            n.addEventListener(Tt, n._moveCb = function cb(e) {
                                e && e.target !== n || e && !/transform$/.test(e.propertyName) || (n.removeEventListener(Tt, cb),
                                n._moveCb = null,
                                removeTransitionClass(n, t))
                            }
                            )
                        }
                    }
                    )))
                },
                methods: {
                    hasMove: function hasMove(e, t) {
                        if (!St)
                            return !1;
                        if (this._hasMove)
                            return this._hasMove;
                        var n = e.cloneNode();
                        e._transitionClasses && e._transitionClasses.forEach((function(e) {
                            removeClass(n, e)
                        }
                        )),
                        addClass(n, t),
                        n.style.display = "none",
                        this.$el.appendChild(n);
                        var a = getTransitionInfo(n);
                        return this.$el.removeChild(n),
                        this._hasMove = a.hasTransform
                    }
                }
            }
        };
        Vue.config.mustUseProp = mustUseProp,
        Vue.config.isReservedTag = isReservedTag,
        Vue.config.isReservedAttr = De,
        Vue.config.getTagNamespace = getTagNamespace,
        Vue.config.isUnknownElement = function isUnknownElement(e) {
            if (!k)
                return !0;
            if (isReservedTag(e))
                return !1;
            if (e = e.toLowerCase(),
            null != qe[e])
                return qe[e];
            var t = document.createElement(e);
            return e.indexOf("-") > -1 ? qe[e] = t.constructor === window.HTMLUnknownElement || t.constructor === window.HTMLElement : qe[e] = /HTMLUnknownElement/.test(t.toString())
        }
        ,
        extend(Vue.options.directives, Dt),
        extend(Vue.options.components, Ht),
        Vue.prototype.__patch__ = k ? Nt : noop,
        Vue.prototype.$mount = function(e, t) {
            return function mountComponent(e, t, n) {
                var a;
                return e.$el = t,
                e.$options.render || (e.$options.render = createEmptyVNode),
                callHook(e, "beforeMount"),
                a = function() {
                    e._update(e._render(), n)
                }
                ,
                new Me(e,a,noop,{
                    before: function before() {
                        e._isMounted && !e._isDestroyed && callHook(e, "beforeUpdate")
                    }
                },!0),
                n = !1,
                null == e.$vnode && (e._isMounted = !0,
                callHook(e, "mounted")),
                e
            }(this, e = e && k ? query(e) : void 0, t)
        }
        ,
        k && setTimeout((function() {
            x.devtools && U && U.emit("init", Vue)
        }
        ), 0);
        var jt = /\{\{((?:.|\r?\n)+?)\}\}/g
          , Ut = /[-.*+?^${}()|[\]\/\\]/g
          , Vt = cached((function(e) {
            var t = e[0].replace(Ut, "\\$&")
              , n = e[1].replace(Ut, "\\$&");
            return new RegExp(t + "((?:.|\\n)+?)" + n,"g")
        }
        ));
        var Gt = {
            staticKeys: ["staticClass"],
            transformNode: function transformNode(e, t) {
                t.warn;
                var n = getAndRemoveAttr(e, "class");
                n && (e.staticClass = JSON.stringify(n));
                var a = getBindingAttr(e, "class", !1);
                a && (e.classBinding = a)
            },
            genData: function genData(e) {
                var t = "";
                return e.staticClass && (t += "staticClass:" + e.staticClass + ","),
                e.classBinding && (t += "class:" + e.classBinding + ","),
                t
            }
        };
        var qt, zt = {
            staticKeys: ["staticStyle"],
            transformNode: function transformNode$1(e, t) {
                t.warn;
                var n = getAndRemoveAttr(e, "style");
                n && (e.staticStyle = JSON.stringify(mt(n)));
                var a = getBindingAttr(e, "style", !1);
                a && (e.styleBinding = a)
            },
            genData: function genData$1(e) {
                var t = "";
                return e.staticStyle && (t += "staticStyle:" + e.staticStyle + ","),
                e.styleBinding && (t += "style:(" + e.styleBinding + "),"),
                t
            }
        }, Wt = function decode(e) {
            return (qt = qt || document.createElement("div")).innerHTML = e,
            qt.textContent
        }, Kt = makeMap("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"), Zt = makeMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"), Xt = makeMap("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"), Qt = /^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/, Yt = /^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/, Jt = "[a-zA-Z_][\\-\\.0-9_a-zA-Z" + w.source + "]*", en = "((?:" + Jt + "\\:)?" + Jt + ")", tn = new RegExp("^<" + en), nn = /^\s*(\/?)>/, rn = new RegExp("^<\\/" + en + "[^>]*>"), an = /^<!DOCTYPE [^>]+>/i, sn = /^<!\--/, un = /^<!\[/, cn = makeMap("script,style,textarea", !0), ln = {}, dn = {
            "&lt;": "<",
            "&gt;": ">",
            "&quot;": '"',
            "&amp;": "&",
            "&#10;": "\n",
            "&#9;": "\t",
            "&#39;": "'"
        }, fn = /&(?:lt|gt|quot|amp|#39);/g, hn = /&(?:lt|gt|quot|amp|#39|#10|#9);/g, pn = makeMap("pre,textarea", !0), shouldIgnoreFirstNewline = function(e, t) {
            return e && pn(e) && "\n" === t[0]
        };
        function decodeAttr(e, t) {
            var n = t ? hn : fn;
            return e.replace(n, (function(e) {
                return dn[e]
            }
            ))
        }
        var mn, gn, vn, yn, bn, _n, Cn, En, An = /^@|^v-on:/, Sn = /^v-|^@|^:|^#/, xn = /([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/, wn = /,([^,\}\]]*)(?:,([^,\}\]]*))?$/, Pn = /^\(|\)$/g, Tn = /^\[.*\]$/, Mn = /:(.*)$/, kn = /^:|^\.|^v-bind:/, In = /\.[^.\]]+(?=[^\]]*$)/g, On = /^v-slot(:|$)|^#/, Nn = /[\r\n]/, Rn = /[ \f\t\r\n]+/g, Ln = cached(Wt), Dn = "_empty_";
        function createASTElement(e, t, n) {
            return {
                type: 1,
                tag: e,
                attrsList: t,
                attrsMap: makeAttrsMap(t),
                rawAttrsMap: {},
                parent: n,
                children: []
            }
        }
        function parse(e, t) {
            mn = t.warn || baseWarn,
            _n = t.isPreTag || no,
            Cn = t.mustUseProp || no,
            En = t.getTagNamespace || no;
            var n = t.isReservedTag || no;
            (function(e) {
                return !(!(e.component || e.attrsMap[":is"] || e.attrsMap["v-bind:is"]) && (e.attrsMap.is ? n(e.attrsMap.is) : n(e.tag)))
            }
            ),
            vn = pluckModuleFunction(t.modules, "transformNode"),
            yn = pluckModuleFunction(t.modules, "preTransformNode"),
            bn = pluckModuleFunction(t.modules, "postTransformNode"),
            gn = t.delimiters;
            var a, l, f = [], h = !1 !== t.preserveWhitespace, p = t.whitespace, m = !1, g = !1;
            function closeElement(e) {
                if (trimEndingWhitespace(e),
                m || e.processed || (e = processElement(e, t)),
                f.length || e === a || a.if && (e.elseif || e.else) && addIfCondition(a, {
                    exp: e.elseif,
                    block: e
                }),
                l && !e.forbidden)
                    if (e.elseif || e.else)
                        !function processIfConditions(e, t) {
                            var n = function findPrevElement(e) {
                                var t = e.length;
                                for (; t--; ) {
                                    if (1 === e[t].type)
                                        return e[t];
                                    e.pop()
                                }
                            }(t.children);
                            n && n.if && addIfCondition(n, {
                                exp: e.elseif,
                                block: e
                            })
                        }(e, l);
                    else {
                        if (e.slotScope) {
                            var n = e.slotTarget || '"default"';
                            (l.scopedSlots || (l.scopedSlots = {}))[n] = e
                        }
                        l.children.push(e),
                        e.parent = l
                    }
                e.children = e.children.filter((function(e) {
                    return !e.slotScope
                }
                )),
                trimEndingWhitespace(e),
                e.pre && (m = !1),
                _n(e.tag) && (g = !1);
                for (var h = 0; h < bn.length; h++)
                    bn[h](e, t)
            }
            function trimEndingWhitespace(e) {
                if (!g)
                    for (var t; (t = e.children[e.children.length - 1]) && 3 === t.type && " " === t.text; )
                        e.children.pop()
            }
            return function parseHTML(e, t) {
                for (var n, a, l = [], f = t.expectHTML, h = t.isUnaryTag || no, p = t.canBeLeftOpenTag || no, m = 0; e; ) {
                    if (n = e,
                    a && cn(a)) {
                        var g = 0
                          , v = a.toLowerCase()
                          , y = ln[v] || (ln[v] = new RegExp("([\\s\\S]*?)(</" + v + "[^>]*>)","i"))
                          , b = e.replace(y, (function(e, n, a) {
                            return g = a.length,
                            cn(v) || "noscript" === v || (n = n.replace(/<!\--([\s\S]*?)-->/g, "$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g, "$1")),
                            shouldIgnoreFirstNewline(v, n) && (n = n.slice(1)),
                            t.chars && t.chars(n),
                            ""
                        }
                        ));
                        m += e.length - b.length,
                        e = b,
                        parseEndTag(v, m - g, m)
                    } else {
                        var _ = e.indexOf("<");
                        if (0 === _) {
                            if (sn.test(e)) {
                                var C = e.indexOf("--\x3e");
                                if (C >= 0) {
                                    t.shouldKeepComment && t.comment(e.substring(4, C), m, m + C + 3),
                                    advance(C + 3);
                                    continue
                                }
                            }
                            if (un.test(e)) {
                                var A = e.indexOf("]>");
                                if (A >= 0) {
                                    advance(A + 2);
                                    continue
                                }
                            }
                            var S = e.match(an);
                            if (S) {
                                advance(S[0].length);
                                continue
                            }
                            var x = e.match(rn);
                            if (x) {
                                var w = m;
                                advance(x[0].length),
                                parseEndTag(x[1], w, m);
                                continue
                            }
                            var P = parseStartTag();
                            if (P) {
                                handleStartTag(P),
                                shouldIgnoreFirstNewline(P.tagName, e) && advance(1);
                                continue
                            }
                        }
                        var T = void 0
                          , M = void 0
                          , k = void 0;
                        if (_ >= 0) {
                            for (M = e.slice(_); !(rn.test(M) || tn.test(M) || sn.test(M) || un.test(M) || (k = M.indexOf("<", 1)) < 0); )
                                _ += k,
                                M = e.slice(_);
                            T = e.substring(0, _)
                        }
                        _ < 0 && (T = e),
                        T && advance(T.length),
                        t.chars && T && t.chars(T, m - T.length, m)
                    }
                    if (e === n) {
                        t.chars && t.chars(e);
                        break
                    }
                }
                function advance(t) {
                    m += t,
                    e = e.substring(t)
                }
                function parseStartTag() {
                    var t = e.match(tn);
                    if (t) {
                        var n, a, l = {
                            tagName: t[1],
                            attrs: [],
                            start: m
                        };
                        for (advance(t[0].length); !(n = e.match(nn)) && (a = e.match(Yt) || e.match(Qt)); )
                            a.start = m,
                            advance(a[0].length),
                            a.end = m,
                            l.attrs.push(a);
                        if (n)
                            return l.unarySlash = n[1],
                            advance(n[0].length),
                            l.end = m,
                            l
                    }
                }
                function handleStartTag(e) {
                    var n = e.tagName
                      , m = e.unarySlash;
                    f && ("p" === a && Xt(n) && parseEndTag(a),
                    p(n) && a === n && parseEndTag(n));
                    for (var g = h(n) || !!m, v = e.attrs.length, y = new Array(v), b = 0; b < v; b++) {
                        var _ = e.attrs[b]
                          , C = _[3] || _[4] || _[5] || ""
                          , A = "a" === n && "href" === _[1] ? t.shouldDecodeNewlinesForHref : t.shouldDecodeNewlines;
                        y[b] = {
                            name: _[1],
                            value: decodeAttr(C, A)
                        }
                    }
                    g || (l.push({
                        tag: n,
                        lowerCasedTag: n.toLowerCase(),
                        attrs: y,
                        start: e.start,
                        end: e.end
                    }),
                    a = n),
                    t.start && t.start(n, y, g, e.start, e.end)
                }
                function parseEndTag(e, n, f) {
                    var h, p;
                    if (null == n && (n = m),
                    null == f && (f = m),
                    e)
                        for (p = e.toLowerCase(),
                        h = l.length - 1; h >= 0 && l[h].lowerCasedTag !== p; h--)
                            ;
                    else
                        h = 0;
                    if (h >= 0) {
                        for (var g = l.length - 1; g >= h; g--)
                            t.end && t.end(l[g].tag, n, f);
                        l.length = h,
                        a = h && l[h - 1].tag
                    } else
                        "br" === p ? t.start && t.start(e, [], !0, n, f) : "p" === p && (t.start && t.start(e, [], !1, n, f),
                        t.end && t.end(e, n, f))
                }
                parseEndTag()
            }(e, {
                warn: mn,
                expectHTML: t.expectHTML,
                isUnaryTag: t.isUnaryTag,
                canBeLeftOpenTag: t.canBeLeftOpenTag,
                shouldDecodeNewlines: t.shouldDecodeNewlines,
                shouldDecodeNewlinesForHref: t.shouldDecodeNewlinesForHref,
                shouldKeepComment: t.comments,
                outputSourceRange: t.outputSourceRange,
                start: function start(e, n, h, p, v) {
                    var y = l && l.ns || En(e);
                    R && "svg" === y && (n = function guardIESVGBug(e) {
                        for (var t = [], n = 0; n < e.length; n++) {
                            var a = e[n];
                            Bn.test(a.name) || (a.name = a.name.replace($n, ""),
                            t.push(a))
                        }
                        return t
                    }(n));
                    var b = createASTElement(e, n, l);
                    y && (b.ns = y),
                    function isForbiddenTag(e) {
                        return "style" === e.tag || "script" === e.tag && (!e.attrsMap.type || "text/javascript" === e.attrsMap.type)
                    }(b) && !isServerRendering() && (b.forbidden = !0);
                    for (var _ = 0; _ < yn.length; _++)
                        b = yn[_](b, t) || b;
                    m || (!function processPre(e) {
                        null != getAndRemoveAttr(e, "v-pre") && (e.pre = !0)
                    }(b),
                    b.pre && (m = !0)),
                    _n(b.tag) && (g = !0),
                    m ? function processRawAttrs(e) {
                        var t = e.attrsList
                          , n = t.length;
                        if (n)
                            for (var a = e.attrs = new Array(n), l = 0; l < n; l++)
                                a[l] = {
                                    name: t[l].name,
                                    value: JSON.stringify(t[l].value)
                                },
                                null != t[l].start && (a[l].start = t[l].start,
                                a[l].end = t[l].end);
                        else
                            e.pre || (e.plain = !0)
                    }(b) : b.processed || (processFor(b),
                    function processIf(e) {
                        var t = getAndRemoveAttr(e, "v-if");
                        if (t)
                            e.if = t,
                            addIfCondition(e, {
                                exp: t,
                                block: e
                            });
                        else {
                            null != getAndRemoveAttr(e, "v-else") && (e.else = !0);
                            var n = getAndRemoveAttr(e, "v-else-if");
                            n && (e.elseif = n)
                        }
                    }(b),
                    function processOnce(e) {
                        null != getAndRemoveAttr(e, "v-once") && (e.once = !0)
                    }(b)),
                    a || (a = b),
                    h ? closeElement(b) : (l = b,
                    f.push(b))
                },
                end: function end(e, t, n) {
                    var a = f[f.length - 1];
                    f.length -= 1,
                    l = f[f.length - 1],
                    closeElement(a)
                },
                chars: function chars(e, t, n) {
                    if (l && (!R || "textarea" !== l.tag || l.attrsMap.placeholder !== e)) {
                        var a, f, v = l.children;
                        if (e = g || e.trim() ? function isTextTag(e) {
                            return "script" === e.tag || "style" === e.tag
                        }(l) ? e : Ln(e) : v.length ? p ? "condense" === p && Nn.test(e) ? "" : " " : h ? " " : "" : "")
                            g || "condense" !== p || (e = e.replace(Rn, " ")),
                            !m && " " !== e && (a = function parseText(e, t) {
                                var n = t ? Vt(t) : jt;
                                if (n.test(e)) {
                                    for (var a, l, f, h = [], p = [], m = n.lastIndex = 0; a = n.exec(e); ) {
                                        (l = a.index) > m && (p.push(f = e.slice(m, l)),
                                        h.push(JSON.stringify(f)));
                                        var g = parseFilters(a[1].trim());
                                        h.push("_s(" + g + ")"),
                                        p.push({
                                            "@binding": g
                                        }),
                                        m = l + a[0].length
                                    }
                                    return m < e.length && (p.push(f = e.slice(m)),
                                    h.push(JSON.stringify(f))),
                                    {
                                        expression: h.join("+"),
                                        tokens: p
                                    }
                                }
                            }(e, gn)) ? f = {
                                type: 2,
                                expression: a.expression,
                                tokens: a.tokens,
                                text: e
                            } : " " === e && v.length && " " === v[v.length - 1].text || (f = {
                                type: 3,
                                text: e
                            }),
                            f && v.push(f)
                    }
                },
                comment: function comment(e, t, n) {
                    if (l) {
                        var a = {
                            type: 3,
                            text: e,
                            isComment: !0
                        };
                        0,
                        l.children.push(a)
                    }
                }
            }),
            a
        }
        function processElement(e, t) {
            !function processKey(e) {
                var t = getBindingAttr(e, "key");
                if (t) {
                    e.key = t
                }
            }(e),
            e.plain = !e.key && !e.scopedSlots && !e.attrsList.length,
            function processRef(e) {
                var t = getBindingAttr(e, "ref");
                t && (e.ref = t,
                e.refInFor = function checkInFor(e) {
                    var t = e;
                    for (; t; ) {
                        if (void 0 !== t.for)
                            return !0;
                        t = t.parent
                    }
                    return !1
                }(e))
            }(e),
            function processSlotContent(e) {
                var t;
                "template" === e.tag ? (t = getAndRemoveAttr(e, "scope"),
                e.slotScope = t || getAndRemoveAttr(e, "slot-scope")) : (t = getAndRemoveAttr(e, "slot-scope")) && (e.slotScope = t);
                var n = getBindingAttr(e, "slot");
                n && (e.slotTarget = '""' === n ? '"default"' : n,
                e.slotTargetDynamic = !(!e.attrsMap[":slot"] && !e.attrsMap["v-bind:slot"]),
                "template" === e.tag || e.slotScope || addAttr(e, "slot", n, function getRawBindingAttr(e, t) {
                    return e.rawAttrsMap[":" + t] || e.rawAttrsMap["v-bind:" + t] || e.rawAttrsMap[t]
                }(e, "slot")));
                if ("template" === e.tag) {
                    var a = getAndRemoveAttrByRegex(e, On);
                    if (a) {
                        0;
                        var l = getSlotName(a)
                          , f = l.name
                          , h = l.dynamic;
                        e.slotTarget = f,
                        e.slotTargetDynamic = h,
                        e.slotScope = a.value || Dn
                    }
                } else {
                    var p = getAndRemoveAttrByRegex(e, On);
                    if (p) {
                        0;
                        var m = e.scopedSlots || (e.scopedSlots = {})
                          , g = getSlotName(p)
                          , v = g.name
                          , y = g.dynamic
                          , b = m[v] = createASTElement("template", [], e);
                        b.slotTarget = v,
                        b.slotTargetDynamic = y,
                        b.children = e.children.filter((function(e) {
                            if (!e.slotScope)
                                return e.parent = b,
                                !0
                        }
                        )),
                        b.slotScope = p.value || Dn,
                        e.children = [],
                        e.plain = !1
                    }
                }
            }(e),
            function processSlotOutlet(e) {
                "slot" === e.tag && (e.slotName = getBindingAttr(e, "name"))
            }(e),
            function processComponent(e) {
                var t;
                (t = getBindingAttr(e, "is")) && (e.component = t);
                null != getAndRemoveAttr(e, "inline-template") && (e.inlineTemplate = !0)
            }(e);
            for (var n = 0; n < vn.length; n++)
                e = vn[n](e, t) || e;
            return function processAttrs(e) {
                var t, n, a, l, f, h, p, m, v = e.attrsList;
                for (t = 0,
                n = v.length; t < n; t++) {
                    if (a = l = v[t].name,
                    f = v[t].value,
                    Sn.test(a))
                        if (e.hasBindings = !0,
                        (h = parseModifiers(a.replace(Sn, ""))) && (a = a.replace(In, "")),
                        kn.test(a))
                            a = a.replace(kn, ""),
                            f = parseFilters(f),
                            (m = Tn.test(a)) && (a = a.slice(1, -1)),
                            h && (h.prop && !m && "innerHtml" === (a = g(a)) && (a = "innerHTML"),
                            h.camel && !m && (a = g(a)),
                            h.sync && (p = genAssignmentCode(f, "$event"),
                            m ? addHandler(e, '"update:"+(' + a + ")", p, null, !1, 0, v[t], !0) : (addHandler(e, "update:" + g(a), p, null, !1, 0, v[t]),
                            b(a) !== g(a) && addHandler(e, "update:" + b(a), p, null, !1, 0, v[t])))),
                            h && h.prop || !e.component && Cn(e.tag, e.attrsMap.type, a) ? addProp(e, a, f, v[t], m) : addAttr(e, a, f, v[t], m);
                        else if (An.test(a))
                            a = a.replace(An, ""),
                            (m = Tn.test(a)) && (a = a.slice(1, -1)),
                            addHandler(e, a, f, h, !1, 0, v[t], m);
                        else {
                            var y = (a = a.replace(Sn, "")).match(Mn)
                              , _ = y && y[1];
                            m = !1,
                            _ && (a = a.slice(0, -(_.length + 1)),
                            Tn.test(_) && (_ = _.slice(1, -1),
                            m = !0)),
                            addDirective(e, a, l, f, _, m, h, v[t])
                        }
                    else
                        addAttr(e, a, JSON.stringify(f), v[t]),
                        !e.component && "muted" === a && Cn(e.tag, e.attrsMap.type, a) && addProp(e, a, "true", v[t])
                }
            }(e),
            e
        }
        function processFor(e) {
            var t;
            if (t = getAndRemoveAttr(e, "v-for")) {
                var n = function parseFor(e) {
                    var t = e.match(xn);
                    if (!t)
                        return;
                    var n = {};
                    n.for = t[2].trim();
                    var a = t[1].trim().replace(Pn, "")
                      , l = a.match(wn);
                    l ? (n.alias = a.replace(wn, "").trim(),
                    n.iterator1 = l[1].trim(),
                    l[2] && (n.iterator2 = l[2].trim())) : n.alias = a;
                    return n
                }(t);
                n && extend(e, n)
            }
        }
        function addIfCondition(e, t) {
            e.ifConditions || (e.ifConditions = []),
            e.ifConditions.push(t)
        }
        function getSlotName(e) {
            var t = e.name.replace(On, "");
            return t || "#" !== e.name[0] && (t = "default"),
            Tn.test(t) ? {
                name: t.slice(1, -1),
                dynamic: !0
            } : {
                name: '"' + t + '"',
                dynamic: !1
            }
        }
        function parseModifiers(e) {
            var t = e.match(In);
            if (t) {
                var n = {};
                return t.forEach((function(e) {
                    n[e.slice(1)] = !0
                }
                )),
                n
            }
        }
        function makeAttrsMap(e) {
            for (var t = {}, n = 0, a = e.length; n < a; n++)
                t[e[n].name] = e[n].value;
            return t
        }
        var Bn = /^xmlns:NS\d+/
          , $n = /^NS\d+:/;
        function cloneASTElement(e) {
            return createASTElement(e.tag, e.attrsList.slice(), e.parent)
        }
        var Fn = [Gt, zt, {
            preTransformNode: function preTransformNode(e, t) {
                if ("input" === e.tag) {
                    var n, a = e.attrsMap;
                    if (!a["v-model"])
                        return;
                    if ((a[":type"] || a["v-bind:type"]) && (n = getBindingAttr(e, "type")),
                    a.type || n || !a["v-bind"] || (n = "(" + a["v-bind"] + ").type"),
                    n) {
                        var l = getAndRemoveAttr(e, "v-if", !0)
                          , f = l ? "&&(" + l + ")" : ""
                          , h = null != getAndRemoveAttr(e, "v-else", !0)
                          , p = getAndRemoveAttr(e, "v-else-if", !0)
                          , m = cloneASTElement(e);
                        processFor(m),
                        addRawAttr(m, "type", "checkbox"),
                        processElement(m, t),
                        m.processed = !0,
                        m.if = "(" + n + ")==='checkbox'" + f,
                        addIfCondition(m, {
                            exp: m.if,
                            block: m
                        });
                        var g = cloneASTElement(e);
                        getAndRemoveAttr(g, "v-for", !0),
                        addRawAttr(g, "type", "radio"),
                        processElement(g, t),
                        addIfCondition(m, {
                            exp: "(" + n + ")==='radio'" + f,
                            block: g
                        });
                        var v = cloneASTElement(e);
                        return getAndRemoveAttr(v, "v-for", !0),
                        addRawAttr(v, ":type", n),
                        processElement(v, t),
                        addIfCondition(m, {
                            exp: l,
                            block: v
                        }),
                        h ? m.else = !0 : p && (m.elseif = p),
                        m
                    }
                }
            }
        }];
        var Hn, jn, Un = {
            model: function model(e, t, n) {
                n;
                var a = t.value
                  , l = t.modifiers
                  , f = e.tag
                  , h = e.attrsMap.type;
                if (e.component)
                    return genComponentModel(e, a, l),
                    !1;
                if ("select" === f)
                    !function genSelect(e, t, n) {
                        var a = 'var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return ' + (n && n.number ? "_n(val)" : "val") + "});";
                        a = a + " " + genAssignmentCode(t, "$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),
                        addHandler(e, "change", a, null, !0)
                    }(e, a, l);
                else if ("input" === f && "checkbox" === h)
                    !function genCheckboxModel(e, t, n) {
                        var a = n && n.number
                          , l = getBindingAttr(e, "value") || "null"
                          , f = getBindingAttr(e, "true-value") || "true"
                          , h = getBindingAttr(e, "false-value") || "false";
                        addProp(e, "checked", "Array.isArray(" + t + ")?_i(" + t + "," + l + ")>-1" + ("true" === f ? ":(" + t + ")" : ":_q(" + t + "," + f + ")")),
                        addHandler(e, "change", "var $$a=" + t + ",$$el=$event.target,$$c=$$el.checked?(" + f + "):(" + h + ");if(Array.isArray($$a)){var $$v=" + (a ? "_n(" + l + ")" : l) + ",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&(" + genAssignmentCode(t, "$$a.concat([$$v])") + ")}else{$$i>-1&&(" + genAssignmentCode(t, "$$a.slice(0,$$i).concat($$a.slice($$i+1))") + ")}}else{" + genAssignmentCode(t, "$$c") + "}", null, !0)
                    }(e, a, l);
                else if ("input" === f && "radio" === h)
                    !function genRadioModel(e, t, n) {
                        var a = n && n.number
                          , l = getBindingAttr(e, "value") || "null";
                        addProp(e, "checked", "_q(" + t + "," + (l = a ? "_n(" + l + ")" : l) + ")"),
                        addHandler(e, "change", genAssignmentCode(t, l), null, !0)
                    }(e, a, l);
                else if ("input" === f || "textarea" === f)
                    !function genDefaultModel(e, t, n) {
                        var a = e.attrsMap.type;
                        0;
                        var l = n || {}
                          , f = l.lazy
                          , h = l.number
                          , p = l.trim
                          , m = !f && "range" !== a
                          , g = f ? "change" : "range" === a ? lt : "input"
                          , v = "$event.target.value";
                        p && (v = "$event.target.value.trim()");
                        h && (v = "_n(" + v + ")");
                        var y = genAssignmentCode(t, v);
                        m && (y = "if($event.target.composing)return;" + y);
                        addProp(e, "value", "(" + t + ")"),
                        addHandler(e, g, y, null, !0),
                        (p || h) && addHandler(e, "blur", "$forceUpdate()")
                    }(e, a, l);
                else {
                    if (!x.isReservedTag(f))
                        return genComponentModel(e, a, l),
                        !1
                }
                return !0
            },
            text: function text(e, t) {
                t.value && addProp(e, "textContent", "_s(" + t.value + ")", t)
            },
            html: function html(e, t) {
                t.value && addProp(e, "innerHTML", "_s(" + t.value + ")", t)
            }
        }, Vn = {
            expectHTML: !0,
            modules: Fn,
            directives: Un,
            isPreTag: function(e) {
                return "pre" === e
            },
            isUnaryTag: Kt,
            mustUseProp: mustUseProp,
            canBeLeftOpenTag: Zt,
            isReservedTag: isReservedTag,
            getTagNamespace: getTagNamespace,
            staticKeys: function genStaticKeys(e) {
                return e.reduce((function(e, t) {
                    return e.concat(t.staticKeys || [])
                }
                ), []).join(",")
            }(Fn)
        }, Gn = cached((function genStaticKeys$1(e) {
            return makeMap("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap" + (e ? "," + e : ""))
        }
        ));
        function optimize(e, t) {
            e && (Hn = Gn(t.staticKeys || ""),
            jn = t.isReservedTag || no,
            markStatic$1(e),
            markStaticRoots(e, !1))
        }
        function markStatic$1(e) {
            if (e.static = function isStatic(e) {
                if (2 === e.type)
                    return !1;
                if (3 === e.type)
                    return !0;
                return !(!e.pre && (e.hasBindings || e.if || e.for || f(e.tag) || !jn(e.tag) || function isDirectChildOfTemplateFor(e) {
                    for (; e.parent; ) {
                        if ("template" !== (e = e.parent).tag)
                            return !1;
                        if (e.for)
                            return !0
                    }
                    return !1
                }(e) || !Object.keys(e).every(Hn)))
            }(e),
            1 === e.type) {
                if (!jn(e.tag) && "slot" !== e.tag && null == e.attrsMap["inline-template"])
                    return;
                for (var t = 0, n = e.children.length; t < n; t++) {
                    var a = e.children[t];
                    markStatic$1(a),
                    a.static || (e.static = !1)
                }
                if (e.ifConditions)
                    for (var l = 1, h = e.ifConditions.length; l < h; l++) {
                        var p = e.ifConditions[l].block;
                        markStatic$1(p),
                        p.static || (e.static = !1)
                    }
            }
        }
        function markStaticRoots(e, t) {
            if (1 === e.type) {
                if ((e.static || e.once) && (e.staticInFor = t),
                e.static && e.children.length && (1 !== e.children.length || 3 !== e.children[0].type))
                    return void (e.staticRoot = !0);
                if (e.staticRoot = !1,
                e.children)
                    for (var n = 0, a = e.children.length; n < a; n++)
                        markStaticRoots(e.children[n], t || !!e.for);
                if (e.ifConditions)
                    for (var l = 1, f = e.ifConditions.length; l < f; l++)
                        markStaticRoots(e.ifConditions[l].block, t)
            }
        }
        var qn = /^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/
          , zn = /\([^)]*?\);*$/
          , Wn = /^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/
          , Kn = {
            esc: 27,
            tab: 9,
            enter: 13,
            space: 32,
            up: 38,
            left: 37,
            right: 39,
            down: 40,
            delete: [8, 46]
        }
          , Zn = {
            esc: ["Esc", "Escape"],
            tab: "Tab",
            enter: "Enter",
            space: [" ", "Spacebar"],
            up: ["Up", "ArrowUp"],
            left: ["Left", "ArrowLeft"],
            right: ["Right", "ArrowRight"],
            down: ["Down", "ArrowDown"],
            delete: ["Backspace", "Delete", "Del"]
        }
          , genGuard = function(e) {
            return "if(" + e + ")return null;"
        }
          , Xn = {
            stop: "$event.stopPropagation();",
            prevent: "$event.preventDefault();",
            self: genGuard("$event.target !== $event.currentTarget"),
            ctrl: genGuard("!$event.ctrlKey"),
            shift: genGuard("!$event.shiftKey"),
            alt: genGuard("!$event.altKey"),
            meta: genGuard("!$event.metaKey"),
            left: genGuard("'button' in $event && $event.button !== 0"),
            middle: genGuard("'button' in $event && $event.button !== 1"),
            right: genGuard("'button' in $event && $event.button !== 2")
        };
        function genHandlers(e, t) {
            var n = t ? "nativeOn:" : "on:"
              , a = ""
              , l = "";
            for (var f in e) {
                var h = genHandler(e[f]);
                e[f] && e[f].dynamic ? l += f + "," + h + "," : a += '"' + f + '":' + h + ","
            }
            return a = "{" + a.slice(0, -1) + "}",
            l ? n + "_d(" + a + ",[" + l.slice(0, -1) + "])" : n + a
        }
        function genHandler(e) {
            if (!e)
                return "function(){}";
            if (Array.isArray(e))
                return "[" + e.map((function(e) {
                    return genHandler(e)
                }
                )).join(",") + "]";
            var t = Wn.test(e.value)
              , n = qn.test(e.value)
              , a = Wn.test(e.value.replace(zn, ""));
            if (e.modifiers) {
                var l = ""
                  , f = ""
                  , h = [];
                for (var p in e.modifiers)
                    if (Xn[p])
                        f += Xn[p],
                        Kn[p] && h.push(p);
                    else if ("exact" === p) {
                        var m = e.modifiers;
                        f += genGuard(["ctrl", "shift", "alt", "meta"].filter((function(e) {
                            return !m[e]
                        }
                        )).map((function(e) {
                            return "$event." + e + "Key"
                        }
                        )).join("||"))
                    } else
                        h.push(p);
                return h.length && (l += function genKeyFilter(e) {
                    return "if(!$event.type.indexOf('key')&&" + e.map(genFilterCode).join("&&") + ")return null;"
                }(h)),
                f && (l += f),
                "function($event){" + l + (t ? "return " + e.value + ".apply(null, arguments)" : n ? "return (" + e.value + ").apply(null, arguments)" : a ? "return " + e.value : e.value) + "}"
            }
            return t || n ? e.value : "function($event){" + (a ? "return " + e.value : e.value) + "}"
        }
        function genFilterCode(e) {
            var t = parseInt(e, 10);
            if (t)
                return "$event.keyCode!==" + t;
            var n = Kn[e]
              , a = Zn[e];
            return "_k($event.keyCode," + JSON.stringify(e) + "," + JSON.stringify(n) + ",$event.key," + JSON.stringify(a) + ")"
        }
        var Qn = {
            on: function on(e, t) {
                e.wrapListeners = function(e) {
                    return "_g(" + e + "," + t.value + ")"
                }
            },
            bind: function bind$1(e, t) {
                e.wrapData = function(n) {
                    return "_b(" + n + ",'" + e.tag + "'," + t.value + "," + (t.modifiers && t.modifiers.prop ? "true" : "false") + (t.modifiers && t.modifiers.sync ? ",true" : "") + ")"
                }
            },
            cloak: noop
        }
          , Yn = function CodegenState(e) {
            this.options = e,
            this.warn = e.warn || baseWarn,
            this.transforms = pluckModuleFunction(e.modules, "transformCode"),
            this.dataGenFns = pluckModuleFunction(e.modules, "genData"),
            this.directives = extend(extend({}, Qn), e.directives);
            var t = e.isReservedTag || no;
            this.maybeComponent = function(e) {
                return !!e.component || !t(e.tag)
            }
            ,
            this.onceId = 0,
            this.staticRenderFns = [],
            this.pre = !1
        };
        function generate(e, t) {
            var n = new Yn(t);
            return {
                render: "with(this){return " + (e ? "script" === e.tag ? "null" : genElement(e, n) : '_c("div")') + "}",
                staticRenderFns: n.staticRenderFns
            }
        }
        function genElement(e, t) {
            if (e.parent && (e.pre = e.pre || e.parent.pre),
            e.staticRoot && !e.staticProcessed)
                return genStatic(e, t);
            if (e.once && !e.onceProcessed)
                return genOnce(e, t);
            if (e.for && !e.forProcessed)
                return genFor(e, t);
            if (e.if && !e.ifProcessed)
                return genIf(e, t);
            if ("template" !== e.tag || e.slotTarget || t.pre) {
                if ("slot" === e.tag)
                    return function genSlot(e, t) {
                        var n = e.slotName || '"default"'
                          , a = genChildren(e, t)
                          , l = "_t(" + n + (a ? ",function(){return " + a + "}" : "")
                          , f = e.attrs || e.dynamicAttrs ? genProps((e.attrs || []).concat(e.dynamicAttrs || []).map((function(e) {
                            return {
                                name: g(e.name),
                                value: e.value,
                                dynamic: e.dynamic
                            }
                        }
                        ))) : null
                          , h = e.attrsMap["v-bind"];
                        !f && !h || a || (l += ",null");
                        f && (l += "," + f);
                        h && (l += (f ? "" : ",null") + "," + h);
                        return l + ")"
                    }(e, t);
                var n;
                if (e.component)
                    n = function genComponent(e, t, n) {
                        var a = t.inlineTemplate ? null : genChildren(t, n, !0);
                        return "_c(" + e + "," + genData$2(t, n) + (a ? "," + a : "") + ")"
                    }(e.component, e, t);
                else {
                    var a;
                    (!e.plain || e.pre && t.maybeComponent(e)) && (a = genData$2(e, t));
                    var l = e.inlineTemplate ? null : genChildren(e, t, !0);
                    n = "_c('" + e.tag + "'" + (a ? "," + a : "") + (l ? "," + l : "") + ")"
                }
                for (var f = 0; f < t.transforms.length; f++)
                    n = t.transforms[f](e, n);
                return n
            }
            return genChildren(e, t) || "void 0"
        }
        function genStatic(e, t) {
            e.staticProcessed = !0;
            var n = t.pre;
            return e.pre && (t.pre = e.pre),
            t.staticRenderFns.push("with(this){return " + genElement(e, t) + "}"),
            t.pre = n,
            "_m(" + (t.staticRenderFns.length - 1) + (e.staticInFor ? ",true" : "") + ")"
        }
        function genOnce(e, t) {
            if (e.onceProcessed = !0,
            e.if && !e.ifProcessed)
                return genIf(e, t);
            if (e.staticInFor) {
                for (var n = "", a = e.parent; a; ) {
                    if (a.for) {
                        n = a.key;
                        break
                    }
                    a = a.parent
                }
                return n ? "_o(" + genElement(e, t) + "," + t.onceId++ + "," + n + ")" : genElement(e, t)
            }
            return genStatic(e, t)
        }
        function genIf(e, t, n, a) {
            return e.ifProcessed = !0,
            genIfConditions(e.ifConditions.slice(), t, n, a)
        }
        function genIfConditions(e, t, n, a) {
            if (!e.length)
                return a || "_e()";
            var l = e.shift();
            return l.exp ? "(" + l.exp + ")?" + genTernaryExp(l.block) + ":" + genIfConditions(e, t, n, a) : "" + genTernaryExp(l.block);
            function genTernaryExp(e) {
                return n ? n(e, t) : e.once ? genOnce(e, t) : genElement(e, t)
            }
        }
        function genFor(e, t, n, a) {
            var l = e.for
              , f = e.alias
              , h = e.iterator1 ? "," + e.iterator1 : ""
              , p = e.iterator2 ? "," + e.iterator2 : "";
            return e.forProcessed = !0,
            (a || "_l") + "((" + l + "),function(" + f + h + p + "){return " + (n || genElement)(e, t) + "})"
        }
        function genData$2(e, t) {
            var n = "{"
              , a = function genDirectives(e, t) {
                var n = e.directives;
                if (!n)
                    return;
                var a, l, f, h, p = "directives:[", m = !1;
                for (a = 0,
                l = n.length; a < l; a++) {
                    f = n[a],
                    h = !0;
                    var g = t.directives[f.name];
                    g && (h = !!g(e, f, t.warn)),
                    h && (m = !0,
                    p += '{name:"' + f.name + '",rawName:"' + f.rawName + '"' + (f.value ? ",value:(" + f.value + "),expression:" + JSON.stringify(f.value) : "") + (f.arg ? ",arg:" + (f.isDynamicArg ? f.arg : '"' + f.arg + '"') : "") + (f.modifiers ? ",modifiers:" + JSON.stringify(f.modifiers) : "") + "},")
                }
                if (m)
                    return p.slice(0, -1) + "]"
            }(e, t);
            a && (n += a + ","),
            e.key && (n += "key:" + e.key + ","),
            e.ref && (n += "ref:" + e.ref + ","),
            e.refInFor && (n += "refInFor:true,"),
            e.pre && (n += "pre:true,"),
            e.component && (n += 'tag:"' + e.tag + '",');
            for (var l = 0; l < t.dataGenFns.length; l++)
                n += t.dataGenFns[l](e);
            if (e.attrs && (n += "attrs:" + genProps(e.attrs) + ","),
            e.props && (n += "domProps:" + genProps(e.props) + ","),
            e.events && (n += genHandlers(e.events, !1) + ","),
            e.nativeEvents && (n += genHandlers(e.nativeEvents, !0) + ","),
            e.slotTarget && !e.slotScope && (n += "slot:" + e.slotTarget + ","),
            e.scopedSlots && (n += function genScopedSlots(e, t, n) {
                var a = e.for || Object.keys(t).some((function(e) {
                    var n = t[e];
                    return n.slotTargetDynamic || n.if || n.for || containsSlotChild(n)
                }
                ))
                  , l = !!e.if;
                if (!a)
                    for (var f = e.parent; f; ) {
                        if (f.slotScope && f.slotScope !== Dn || f.for) {
                            a = !0;
                            break
                        }
                        f.if && (l = !0),
                        f = f.parent
                    }
                var h = Object.keys(t).map((function(e) {
                    return genScopedSlot(t[e], n)
                }
                )).join(",");
                return "scopedSlots:_u([" + h + "]" + (a ? ",null,true" : "") + (!a && l ? ",null,false," + function hash(e) {
                    var t = 5381
                      , n = e.length;
                    for (; n; )
                        t = 33 * t ^ e.charCodeAt(--n);
                    return t >>> 0
                }(h) : "") + ")"
            }(e, e.scopedSlots, t) + ","),
            e.model && (n += "model:{value:" + e.model.value + ",callback:" + e.model.callback + ",expression:" + e.model.expression + "},"),
            e.inlineTemplate) {
                var f = function genInlineTemplate(e, t) {
                    var n = e.children[0];
                    0;
                    if (n && 1 === n.type) {
                        var a = generate(n, t.options);
                        return "inlineTemplate:{render:function(){" + a.render + "},staticRenderFns:[" + a.staticRenderFns.map((function(e) {
                            return "function(){" + e + "}"
                        }
                        )).join(",") + "]}"
                    }
                }(e, t);
                f && (n += f + ",")
            }
            return n = n.replace(/,$/, "") + "}",
            e.dynamicAttrs && (n = "_b(" + n + ',"' + e.tag + '",' + genProps(e.dynamicAttrs) + ")"),
            e.wrapData && (n = e.wrapData(n)),
            e.wrapListeners && (n = e.wrapListeners(n)),
            n
        }
        function containsSlotChild(e) {
            return 1 === e.type && ("slot" === e.tag || e.children.some(containsSlotChild))
        }
        function genScopedSlot(e, t) {
            var n = e.attrsMap["slot-scope"];
            if (e.if && !e.ifProcessed && !n)
                return genIf(e, t, genScopedSlot, "null");
            if (e.for && !e.forProcessed)
                return genFor(e, t, genScopedSlot);
            var a = e.slotScope === Dn ? "" : String(e.slotScope)
              , l = "function(" + a + "){return " + ("template" === e.tag ? e.if && n ? "(" + e.if + ")?" + (genChildren(e, t) || "undefined") + ":undefined" : genChildren(e, t) || "undefined" : genElement(e, t)) + "}"
              , f = a ? "" : ",proxy:true";
            return "{key:" + (e.slotTarget || '"default"') + ",fn:" + l + f + "}"
        }
        function genChildren(e, t, n, a, l) {
            var f = e.children;
            if (f.length) {
                var h = f[0];
                if (1 === f.length && h.for && "template" !== h.tag && "slot" !== h.tag) {
                    var p = n ? t.maybeComponent(h) ? ",1" : ",0" : "";
                    return "" + (a || genElement)(h, t) + p
                }
                var m = n ? function getNormalizationType(e, t) {
                    for (var n = 0, a = 0; a < e.length; a++) {
                        var l = e[a];
                        if (1 === l.type) {
                            if (needsNormalization(l) || l.ifConditions && l.ifConditions.some((function(e) {
                                return needsNormalization(e.block)
                            }
                            ))) {
                                n = 2;
                                break
                            }
                            (t(l) || l.ifConditions && l.ifConditions.some((function(e) {
                                return t(e.block)
                            }
                            ))) && (n = 1)
                        }
                    }
                    return n
                }(f, t.maybeComponent) : 0
                  , g = l || genNode;
                return "[" + f.map((function(e) {
                    return g(e, t)
                }
                )).join(",") + "]" + (m ? "," + m : "")
            }
        }
        function needsNormalization(e) {
            return void 0 !== e.for || "template" === e.tag || "slot" === e.tag
        }
        function genNode(e, t) {
            return 1 === e.type ? genElement(e, t) : 3 === e.type && e.isComment ? function genComment(e) {
                return "_e(" + JSON.stringify(e.text) + ")"
            }(e) : function genText(e) {
                return "_v(" + (2 === e.type ? e.expression : transformSpecialNewlines(JSON.stringify(e.text))) + ")"
            }(e)
        }
        function genProps(e) {
            for (var t = "", n = "", a = 0; a < e.length; a++) {
                var l = e[a]
                  , f = transformSpecialNewlines(l.value);
                l.dynamic ? n += l.name + "," + f + "," : t += '"' + l.name + '":' + f + ","
            }
            return t = "{" + t.slice(0, -1) + "}",
            n ? "_d(" + t + ",[" + n.slice(0, -1) + "])" : t
        }
        function transformSpecialNewlines(e) {
            return e.replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029")
        }
        new RegExp("\\b" + "do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b") + "\\b"),
        new RegExp("\\b" + "delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b") + "\\s*\\([^\\)]*\\)");
        function createFunction(e, t) {
            try {
                return new Function(e)
            } catch (n) {
                return t.push({
                    err: n,
                    code: e
                }),
                noop
            }
        }
        function createCompileToFunctionFn(e) {
            var t = Object.create(null);
            return function compileToFunctions(n, a, l) {
                (a = extend({}, a)).warn;
                delete a.warn;
                var f = a.delimiters ? String(a.delimiters) + n : n;
                if (t[f])
                    return t[f];
                var h = e(n, a);
                var p = {}
                  , m = [];
                return p.render = createFunction(h.render, m),
                p.staticRenderFns = h.staticRenderFns.map((function(e) {
                    return createFunction(e, m)
                }
                )),
                t[f] = p
            }
        }
        var Jn, er = function createCompilerCreator(e) {
            return function createCompiler(t) {
                function compile(n, a) {
                    var l = Object.create(t)
                      , f = []
                      , h = [];
                    if (a)
                        for (var p in a.modules && (l.modules = (t.modules || []).concat(a.modules)),
                        a.directives && (l.directives = extend(Object.create(t.directives || null), a.directives)),
                        a)
                            "modules" !== p && "directives" !== p && (l[p] = a[p]);
                    l.warn = function(e, t, n) {
                        (n ? h : f).push(e)
                    }
                    ;
                    var m = e(n.trim(), l);
                    return m.errors = f,
                    m.tips = h,
                    m
                }
                return {
                    compile: compile,
                    compileToFunctions: createCompileToFunctionFn(compile)
                }
            }
        }((function baseCompile(e, t) {
            var n = parse(e.trim(), t);
            !1 !== t.optimize && optimize(n, t);
            var a = generate(n, t);
            return {
                ast: n,
                render: a.render,
                staticRenderFns: a.staticRenderFns
            }
        }
        )), tr = er(Vn), nr = (tr.compile,
        tr.compileToFunctions);
        function getShouldDecode(e) {
            return (Jn = Jn || document.createElement("div")).innerHTML = e ? '<a href="\n"/>' : '<div a="\n"/>',
            Jn.innerHTML.indexOf("&#10;") > 0
        }
        var rr = !!k && getShouldDecode(!1)
          , ir = !!k && getShouldDecode(!0)
          , ar = cached((function(e) {
            var t = query(e);
            return t && t.innerHTML
        }
        ))
          , sr = Vue.prototype.$mount;
        Vue.prototype.$mount = function(e, t) {
            if ((e = e && query(e)) === document.body || e === document.documentElement)
                return this;
            var n = this.$options;
            if (!n.render) {
                var a = n.template;
                if (a)
                    if ("string" == typeof a)
                        "#" === a.charAt(0) && (a = ar(a));
                    else {
                        if (!a.nodeType)
                            return this;
                        a = a.innerHTML
                    }
                else
                    e && (a = function getOuterHTML(e) {
                        if (e.outerHTML)
                            return e.outerHTML;
                        var t = document.createElement("div");
                        return t.appendChild(e.cloneNode(!0)),
                        t.innerHTML
                    }(e));
                if (a) {
                    0;
                    var l = nr(a, {
                        outputSourceRange: !1,
                        shouldDecodeNewlines: rr,
                        shouldDecodeNewlinesForHref: ir,
                        delimiters: n.delimiters,
                        comments: n.comments
                    }, this)
                      , f = l.render
                      , h = l.staticRenderFns;
                    n.render = f,
                    n.staticRenderFns = h
                }
            }
            return sr.call(this, e, t)
        }
        ,
        Vue.compile = nr,
        t.Z = Vue
    },
    20629: function(e, t, n) {
        "use strict";
        n.d(t, {
            OI: function() {
                return y
            },
            rn: function() {
                return v
            }
        });
        var a = ("undefined" != typeof window ? window : void 0 !== n.g ? n.g : {}).__VUE_DEVTOOLS_GLOBAL_HOOK__;
        function deepCopy(e, t) {
            if (void 0 === t && (t = []),
            null === e || "object" != typeof e)
                return e;
            var n = function find(e, t) {
                return e.filter(t)[0]
            }(t, (function(t) {
                return t.original === e
            }
            ));
            if (n)
                return n.copy;
            var a = Array.isArray(e) ? [] : {};
            return t.push({
                original: e,
                copy: a
            }),
            Object.keys(e).forEach((function(n) {
                a[n] = deepCopy(e[n], t)
            }
            )),
            a
        }
        function forEachValue(e, t) {
            Object.keys(e).forEach((function(n) {
                return t(e[n], n)
            }
            ))
        }
        function isObject(e) {
            return null !== e && "object" == typeof e
        }
        var l = function Module(e, t) {
            this.runtime = t,
            this._children = Object.create(null),
            this._rawModule = e;
            var n = e.state;
            this.state = ("function" == typeof n ? n() : n) || {}
        }
          , f = {
            namespaced: {
                configurable: !0
            }
        };
        f.namespaced.get = function() {
            return !!this._rawModule.namespaced
        }
        ,
        l.prototype.addChild = function addChild(e, t) {
            this._children[e] = t
        }
        ,
        l.prototype.removeChild = function removeChild(e) {
            delete this._children[e]
        }
        ,
        l.prototype.getChild = function getChild(e) {
            return this._children[e]
        }
        ,
        l.prototype.hasChild = function hasChild(e) {
            return e in this._children
        }
        ,
        l.prototype.update = function update(e) {
            this._rawModule.namespaced = e.namespaced,
            e.actions && (this._rawModule.actions = e.actions),
            e.mutations && (this._rawModule.mutations = e.mutations),
            e.getters && (this._rawModule.getters = e.getters)
        }
        ,
        l.prototype.forEachChild = function forEachChild(e) {
            forEachValue(this._children, e)
        }
        ,
        l.prototype.forEachGetter = function forEachGetter(e) {
            this._rawModule.getters && forEachValue(this._rawModule.getters, e)
        }
        ,
        l.prototype.forEachAction = function forEachAction(e) {
            this._rawModule.actions && forEachValue(this._rawModule.actions, e)
        }
        ,
        l.prototype.forEachMutation = function forEachMutation(e) {
            this._rawModule.mutations && forEachValue(this._rawModule.mutations, e)
        }
        ,
        Object.defineProperties(l.prototype, f);
        var h = function ModuleCollection(e) {
            this.register([], e, !1)
        };
        function update(e, t, n) {
            if (t.update(n),
            n.modules)
                for (var a in n.modules) {
                    if (!t.getChild(a))
                        return void 0;
                    update(e.concat(a), t.getChild(a), n.modules[a])
                }
        }
        h.prototype.get = function get(e) {
            return e.reduce((function(e, t) {
                return e.getChild(t)
            }
            ), this.root)
        }
        ,
        h.prototype.getNamespace = function getNamespace(e) {
            var t = this.root;
            return e.reduce((function(e, n) {
                return e + ((t = t.getChild(n)).namespaced ? n + "/" : "")
            }
            ), "")
        }
        ,
        h.prototype.update = function update$1(e) {
            update([], this.root, e)
        }
        ,
        h.prototype.register = function register(e, t, n) {
            var a = this;
            void 0 === n && (n = !0);
            var f = new l(t,n);
            0 === e.length ? this.root = f : this.get(e.slice(0, -1)).addChild(e[e.length - 1], f);
            t.modules && forEachValue(t.modules, (function(t, l) {
                a.register(e.concat(l), t, n)
            }
            ))
        }
        ,
        h.prototype.unregister = function unregister(e) {
            var t = this.get(e.slice(0, -1))
              , n = e[e.length - 1]
              , a = t.getChild(n);
            a && a.runtime && t.removeChild(n)
        }
        ,
        h.prototype.isRegistered = function isRegistered(e) {
            var t = this.get(e.slice(0, -1))
              , n = e[e.length - 1];
            return !!t && t.hasChild(n)
        }
        ;
        var p;
        var m = function Store(e) {
            var t = this;
            void 0 === e && (e = {}),
            !p && "undefined" != typeof window && window.Vue && install(window.Vue);
            var n = e.plugins;
            void 0 === n && (n = []);
            var l = e.strict;
            void 0 === l && (l = !1),
            this._committing = !1,
            this._actions = Object.create(null),
            this._actionSubscribers = [],
            this._mutations = Object.create(null),
            this._wrappedGetters = Object.create(null),
            this._modules = new h(e),
            this._modulesNamespaceMap = Object.create(null),
            this._subscribers = [],
            this._watcherVM = new p,
            this._makeLocalGettersCache = Object.create(null);
            var f = this
              , m = this.dispatch
              , g = this.commit;
            this.dispatch = function boundDispatch(e, t) {
                return m.call(f, e, t)
            }
            ,
            this.commit = function boundCommit(e, t, n) {
                return g.call(f, e, t, n)
            }
            ,
            this.strict = l;
            var v = this._modules.root.state;
            installModule(this, v, [], this._modules.root),
            resetStoreVM(this, v),
            n.forEach((function(e) {
                return e(t)
            }
            )),
            (void 0 !== e.devtools ? e.devtools : p.config.devtools) && function devtoolPlugin(e) {
                a && (e._devtoolHook = a,
                a.emit("vuex:init", e),
                a.on("vuex:travel-to-state", (function(t) {
                    e.replaceState(t)
                }
                )),
                e.subscribe((function(e, t) {
                    a.emit("vuex:mutation", e, t)
                }
                ), {
                    prepend: !0
                }),
                e.subscribeAction((function(e, t) {
                    a.emit("vuex:action", e, t)
                }
                ), {
                    prepend: !0
                }))
            }(this)
        }
          , g = {
            state: {
                configurable: !0
            }
        };
        function genericSubscribe(e, t, n) {
            return t.indexOf(e) < 0 && (n && n.prepend ? t.unshift(e) : t.push(e)),
            function() {
                var n = t.indexOf(e);
                n > -1 && t.splice(n, 1)
            }
        }
        function resetStore(e, t) {
            e._actions = Object.create(null),
            e._mutations = Object.create(null),
            e._wrappedGetters = Object.create(null),
            e._modulesNamespaceMap = Object.create(null);
            var n = e.state;
            installModule(e, n, [], e._modules.root, !0),
            resetStoreVM(e, n, t)
        }
        function resetStoreVM(e, t, n) {
            var a = e._vm;
            e.getters = {},
            e._makeLocalGettersCache = Object.create(null);
            var l = e._wrappedGetters
              , f = {};
            forEachValue(l, (function(t, n) {
                f[n] = function partial(e, t) {
                    return function() {
                        return e(t)
                    }
                }(t, e),
                Object.defineProperty(e.getters, n, {
                    get: function() {
                        return e._vm[n]
                    },
                    enumerable: !0
                })
            }
            ));
            var h = p.config.silent;
            p.config.silent = !0,
            e._vm = new p({
                data: {
                    $$state: t
                },
                computed: f
            }),
            p.config.silent = h,
            e.strict && function enableStrictMode(e) {
                e._vm.$watch((function() {
                    return this._data.$$state
                }
                ), (function() {
                    0
                }
                ), {
                    deep: !0,
                    sync: !0
                })
            }(e),
            a && (n && e._withCommit((function() {
                a._data.$$state = null
            }
            )),
            p.nextTick((function() {
                return a.$destroy()
            }
            )))
        }
        function installModule(e, t, n, a, l) {
            var f = !n.length
              , h = e._modules.getNamespace(n);
            if (a.namespaced && (e._modulesNamespaceMap[h],
            e._modulesNamespaceMap[h] = a),
            !f && !l) {
                var m = getNestedState(t, n.slice(0, -1))
                  , g = n[n.length - 1];
                e._withCommit((function() {
                    p.set(m, g, a.state)
                }
                ))
            }
            var v = a.context = function makeLocalContext(e, t, n) {
                var a = "" === t
                  , l = {
                    dispatch: a ? e.dispatch : function(n, a, l) {
                        var f = unifyObjectStyle(n, a, l)
                          , h = f.payload
                          , p = f.options
                          , m = f.type;
                        return p && p.root || (m = t + m),
                        e.dispatch(m, h)
                    }
                    ,
                    commit: a ? e.commit : function(n, a, l) {
                        var f = unifyObjectStyle(n, a, l)
                          , h = f.payload
                          , p = f.options
                          , m = f.type;
                        p && p.root || (m = t + m),
                        e.commit(m, h, p)
                    }
                };
                return Object.defineProperties(l, {
                    getters: {
                        get: a ? function() {
                            return e.getters
                        }
                        : function() {
                            return function makeLocalGetters(e, t) {
                                if (!e._makeLocalGettersCache[t]) {
                                    var n = {}
                                      , a = t.length;
                                    Object.keys(e.getters).forEach((function(l) {
                                        if (l.slice(0, a) === t) {
                                            var f = l.slice(a);
                                            Object.defineProperty(n, f, {
                                                get: function() {
                                                    return e.getters[l]
                                                },
                                                enumerable: !0
                                            })
                                        }
                                    }
                                    )),
                                    e._makeLocalGettersCache[t] = n
                                }
                                return e._makeLocalGettersCache[t]
                            }(e, t)
                        }
                    },
                    state: {
                        get: function() {
                            return getNestedState(e.state, n)
                        }
                    }
                }),
                l
            }(e, h, n);
            a.forEachMutation((function(t, n) {
                !function registerMutation(e, t, n, a) {
                    (e._mutations[t] || (e._mutations[t] = [])).push((function wrappedMutationHandler(t) {
                        n.call(e, a.state, t)
                    }
                    ))
                }(e, h + n, t, v)
            }
            )),
            a.forEachAction((function(t, n) {
                var a = t.root ? n : h + n
                  , l = t.handler || t;
                !function registerAction(e, t, n, a) {
                    (e._actions[t] || (e._actions[t] = [])).push((function wrappedActionHandler(t) {
                        var l = n.call(e, {
                            dispatch: a.dispatch,
                            commit: a.commit,
                            getters: a.getters,
                            state: a.state,
                            rootGetters: e.getters,
                            rootState: e.state
                        }, t);
                        return function isPromise(e) {
                            return e && "function" == typeof e.then
                        }(l) || (l = Promise.resolve(l)),
                        e._devtoolHook ? l.catch((function(t) {
                            throw e._devtoolHook.emit("vuex:error", t),
                            t
                        }
                        )) : l
                    }
                    ))
                }(e, a, l, v)
            }
            )),
            a.forEachGetter((function(t, n) {
                !function registerGetter(e, t, n, a) {
                    if (e._wrappedGetters[t])
                        return void 0;
                    e._wrappedGetters[t] = function wrappedGetter(e) {
                        return n(a.state, a.getters, e.state, e.getters)
                    }
                }(e, h + n, t, v)
            }
            )),
            a.forEachChild((function(a, f) {
                installModule(e, t, n.concat(f), a, l)
            }
            ))
        }
        function getNestedState(e, t) {
            return t.reduce((function(e, t) {
                return e[t]
            }
            ), e)
        }
        function unifyObjectStyle(e, t, n) {
            return isObject(e) && e.type && (n = t,
            t = e,
            e = e.type),
            {
                type: e,
                payload: t,
                options: n
            }
        }
        function install(e) {
            p && e === p || /*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
            function applyMixin(e) {
                if (Number(e.version.split(".")[0]) >= 2)
                    e.mixin({
                        beforeCreate: vuexInit
                    });
                else {
                    var t = e.prototype._init;
                    e.prototype._init = function(e) {
                        void 0 === e && (e = {}),
                        e.init = e.init ? [vuexInit].concat(e.init) : vuexInit,
                        t.call(this, e)
                    }
                }
                function vuexInit() {
                    var e = this.$options;
                    e.store ? this.$store = "function" == typeof e.store ? e.store() : e.store : e.parent && e.parent.$store && (this.$store = e.parent.$store)
                }
            }(p = e)
        }
        g.state.get = function() {
            return this._vm._data.$$state
        }
        ,
        g.state.set = function(e) {
            0
        }
        ,
        m.prototype.commit = function commit(e, t, n) {
            var a = this
              , l = unifyObjectStyle(e, t, n)
              , f = l.type
              , h = l.payload
              , p = (l.options,
            {
                type: f,
                payload: h
            })
              , m = this._mutations[f];
            m && (this._withCommit((function() {
                m.forEach((function commitIterator(e) {
                    e(h)
                }
                ))
            }
            )),
            this._subscribers.slice().forEach((function(e) {
                return e(p, a.state)
            }
            )))
        }
        ,
        m.prototype.dispatch = function dispatch(e, t) {
            var n = this
              , a = unifyObjectStyle(e, t)
              , l = a.type
              , f = a.payload
              , h = {
                type: l,
                payload: f
            }
              , p = this._actions[l];
            if (p) {
                try {
                    this._actionSubscribers.slice().filter((function(e) {
                        return e.before
                    }
                    )).forEach((function(e) {
                        return e.before(h, n.state)
                    }
                    ))
                } catch (g) {
                    0
                }
                var m = p.length > 1 ? Promise.all(p.map((function(e) {
                    return e(f)
                }
                ))) : p[0](f);
                return new Promise((function(e, t) {
                    m.then((function(t) {
                        try {
                            n._actionSubscribers.filter((function(e) {
                                return e.after
                            }
                            )).forEach((function(e) {
                                return e.after(h, n.state)
                            }
                            ))
                        } catch (g) {
                            0
                        }
                        e(t)
                    }
                    ), (function(e) {
                        try {
                            n._actionSubscribers.filter((function(e) {
                                return e.error
                            }
                            )).forEach((function(t) {
                                return t.error(h, n.state, e)
                            }
                            ))
                        } catch (g) {
                            0
                        }
                        t(e)
                    }
                    ))
                }
                ))
            }
        }
        ,
        m.prototype.subscribe = function subscribe(e, t) {
            return genericSubscribe(e, this._subscribers, t)
        }
        ,
        m.prototype.subscribeAction = function subscribeAction(e, t) {
            return genericSubscribe("function" == typeof e ? {
                before: e
            } : e, this._actionSubscribers, t)
        }
        ,
        m.prototype.watch = function watch(e, t, n) {
            var a = this;
            return this._watcherVM.$watch((function() {
                return e(a.state, a.getters)
            }
            ), t, n)
        }
        ,
        m.prototype.replaceState = function replaceState(e) {
            var t = this;
            this._withCommit((function() {
                t._vm._data.$$state = e
            }
            ))
        }
        ,
        m.prototype.registerModule = function registerModule(e, t, n) {
            void 0 === n && (n = {}),
            "string" == typeof e && (e = [e]),
            this._modules.register(e, t),
            installModule(this, this.state, e, this._modules.get(e), n.preserveState),
            resetStoreVM(this, this.state)
        }
        ,
        m.prototype.unregisterModule = function unregisterModule(e) {
            var t = this;
            "string" == typeof e && (e = [e]),
            this._modules.unregister(e),
            this._withCommit((function() {
                var n = getNestedState(t.state, e.slice(0, -1));
                p.delete(n, e[e.length - 1])
            }
            )),
            resetStore(this)
        }
        ,
        m.prototype.hasModule = function hasModule(e) {
            return "string" == typeof e && (e = [e]),
            this._modules.isRegistered(e)
        }
        ,
        m.prototype.hotUpdate = function hotUpdate(e) {
            this._modules.update(e),
            resetStore(this, !0)
        }
        ,
        m.prototype._withCommit = function _withCommit(e) {
            var t = this._committing;
            this._committing = !0,
            e(),
            this._committing = t
        }
        ,
        Object.defineProperties(m.prototype, g);
        var v = normalizeNamespace((function(e, t) {
            var n = {};
            return normalizeMap(t).forEach((function(t) {
                var a = t.key
                  , l = t.val;
                n[a] = function mappedState() {
                    var t = this.$store.state
                      , n = this.$store.getters;
                    if (e) {
                        var a = getModuleByNamespace(this.$store, "mapState", e);
                        if (!a)
                            return;
                        t = a.context.state,
                        n = a.context.getters
                    }
                    return "function" == typeof l ? l.call(this, t, n) : t[l]
                }
                ,
                n[a].vuex = !0
            }
            )),
            n
        }
        ))
          , y = normalizeNamespace((function(e, t) {
            var n = {};
            return normalizeMap(t).forEach((function(t) {
                var a = t.key
                  , l = t.val;
                n[a] = function mappedMutation() {
                    for (var t = [], n = arguments.length; n--; )
                        t[n] = arguments[n];
                    var a = this.$store.commit;
                    if (e) {
                        var f = getModuleByNamespace(this.$store, "mapMutations", e);
                        if (!f)
                            return;
                        a = f.context.commit
                    }
                    return "function" == typeof l ? l.apply(this, [a].concat(t)) : a.apply(this.$store, [l].concat(t))
                }
            }
            )),
            n
        }
        ))
          , b = normalizeNamespace((function(e, t) {
            var n = {};
            return normalizeMap(t).forEach((function(t) {
                var a = t.key
                  , l = t.val;
                l = e + l,
                n[a] = function mappedGetter() {
                    if (!e || getModuleByNamespace(this.$store, "mapGetters", e))
                        return this.$store.getters[l]
                }
                ,
                n[a].vuex = !0
            }
            )),
            n
        }
        ))
          , _ = normalizeNamespace((function(e, t) {
            var n = {};
            return normalizeMap(t).forEach((function(t) {
                var a = t.key
                  , l = t.val;
                n[a] = function mappedAction() {
                    for (var t = [], n = arguments.length; n--; )
                        t[n] = arguments[n];
                    var a = this.$store.dispatch;
                    if (e) {
                        var f = getModuleByNamespace(this.$store, "mapActions", e);
                        if (!f)
                            return;
                        a = f.context.dispatch
                    }
                    return "function" == typeof l ? l.apply(this, [a].concat(t)) : a.apply(this.$store, [l].concat(t))
                }
            }
            )),
            n
        }
        ));
        function normalizeMap(e) {
            return function isValidMap(e) {
                return Array.isArray(e) || isObject(e)
            }(e) ? Array.isArray(e) ? e.map((function(e) {
                return {
                    key: e,
                    val: e
                }
            }
            )) : Object.keys(e).map((function(t) {
                return {
                    key: t,
                    val: e[t]
                }
            }
            )) : []
        }
        function normalizeNamespace(e) {
            return function(t, n) {
                return "string" != typeof t ? (n = t,
                t = "") : "/" !== t.charAt(t.length - 1) && (t += "/"),
                e(t, n)
            }
        }
        function getModuleByNamespace(e, t, n) {
            return e._modulesNamespaceMap[n]
        }
        function startMessage(e, t, n) {
            var a = n ? e.groupCollapsed : e.group;
            try {
                a.call(e, t)
            } catch (l) {
                e.log(t)
            }
        }
        function endMessage(e) {
            try {
                e.groupEnd()
            } catch (t) {
                e.log("â€”â€” log end â€”â€”")
            }
        }
        function getFormattedTime() {
            var e = new Date;
            return " @ " + pad(e.getHours(), 2) + ":" + pad(e.getMinutes(), 2) + ":" + pad(e.getSeconds(), 2) + "." + pad(e.getMilliseconds(), 3)
        }
        function pad(e, t) {
            return function repeat(e, t) {
                return new Array(t + 1).join(e)
            }("0", t - e.toString().length) + e
        }
        var C = {
            Store: m,
            install: install,
            version: "3.6.2",
            mapState: v,
            mapMutations: y,
            mapGetters: b,
            mapActions: _,
            createNamespacedHelpers: function(e) {
                return {
                    mapState: v.bind(null, e),
                    mapGetters: b.bind(null, e),
                    mapMutations: y.bind(null, e),
                    mapActions: _.bind(null, e)
                }
            },
            createLogger: function createLogger(e) {
                void 0 === e && (e = {});
                var t = e.collapsed;
                void 0 === t && (t = !0);
                var n = e.filter;
                void 0 === n && (n = function(e, t, n) {
                    return !0
                }
                );
                var a = e.transformer;
                void 0 === a && (a = function(e) {
                    return e
                }
                );
                var l = e.mutationTransformer;
                void 0 === l && (l = function(e) {
                    return e
                }
                );
                var f = e.actionFilter;
                void 0 === f && (f = function(e, t) {
                    return !0
                }
                );
                var h = e.actionTransformer;
                void 0 === h && (h = function(e) {
                    return e
                }
                );
                var p = e.logMutations;
                void 0 === p && (p = !0);
                var m = e.logActions;
                void 0 === m && (m = !0);
                var g = e.logger;
                return void 0 === g && (g = console),
                function(e) {
                    var v = deepCopy(e.state);
                    void 0 !== g && (p && e.subscribe((function(e, f) {
                        var h = deepCopy(f);
                        if (n(e, v, h)) {
                            var p = getFormattedTime()
                              , m = l(e)
                              , y = "mutation " + e.type + p;
                            startMessage(g, y, t),
                            g.log("%c prev state", "color: #9E9E9E; font-weight: bold", a(v)),
                            g.log("%c mutation", "color: #03A9F4; font-weight: bold", m),
                            g.log("%c next state", "color: #4CAF50; font-weight: bold", a(h)),
                            endMessage(g)
                        }
                        v = h
                    }
                    )),
                    m && e.subscribeAction((function(e, n) {
                        if (f(e, n)) {
                            var a = getFormattedTime()
                              , l = h(e)
                              , p = "action " + e.type + a;
                            startMessage(g, p, t),
                            g.log("%c action", "color: #03A9F4; font-weight: bold", l),
                            endMessage(g)
                        }
                    }
                    )))
                }
            }
        };
        t.ZP = C
    },
    17685: function(e, t, n) {
        "use strict";
        var a = n(66092).Z.Symbol;
        t.Z = a
    },
    87668: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return v
            }
        });
        var a = function baseTimes(e, t) {
            for (var n = -1, a = Array(e); ++n < e; )
                a[n] = t(n);
            return a
        }
          , l = n(29169)
          , f = n(27771)
          , h = n(77008)
          , p = n(56009)
          , m = n(18843)
          , g = Object.prototype.hasOwnProperty;
        var v = function arrayLikeKeys(e, t) {
            var n = (0,
            f.Z)(e)
              , v = !n && (0,
            l.Z)(e)
              , y = !n && !v && (0,
            h.Z)(e)
              , b = !n && !v && !y && (0,
            m.Z)(e)
              , _ = n || v || y || b
              , C = _ ? a(e.length, String) : []
              , A = C.length;
            for (var S in e)
                !t && !g.call(e, S) || _ && ("length" == S || y && ("offset" == S || "parent" == S) || b && ("buffer" == S || "byteLength" == S || "byteOffset" == S) || (0,
                p.Z)(S, A)) || C.push(S);
            return C
        }
    },
    61395: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return a
            }
        });
        var a = function createBaseFor(e) {
            return function(t, n, a) {
                for (var l = -1, f = Object(t), h = a(t), p = h.length; p--; ) {
                    var m = h[e ? p : ++l];
                    if (!1 === n(f[m], m, f))
                        break
                }
                return t
            }
        }()
    },
    93589: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return b
            }
        });
        var a = n(17685)
          , l = Object.prototype
          , f = l.hasOwnProperty
          , h = l.toString
          , p = a.Z ? a.Z.toStringTag : void 0;
        var m = function getRawTag(e) {
            var t = f.call(e, p)
              , n = e[p];
            try {
                e[p] = void 0;
                var a = !0
            } catch (m) {}
            var l = h.call(e);
            return a && (t ? e[p] = n : delete e[p]),
            l
        }
          , g = Object.prototype.toString;
        var v = function objectToString(e) {
            return g.call(e)
        }
          , y = a.Z ? a.Z.toStringTag : void 0;
        var b = function baseGetTag(e) {
            return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : y && y in Object(e) ? m(e) : v(e)
        }
    },
    21162: function(e, t) {
        "use strict";
        t.Z = function baseUnary(e) {
            return function(t) {
                return e(t)
            }
        }
    },
    13413: function(e, t) {
        "use strict";
        var n = "object" == typeof global && global && global.Object === Object && global;
        t.Z = n
    },
    56009: function(e, t) {
        "use strict";
        var n = /^(?:0|[1-9]\d*)$/;
        t.Z = function isIndex(e, t) {
            var a = typeof e;
            return !!(t = null == t ? 9007199254740991 : t) && ("number" == a || "symbol" != a && n.test(e)) && e > -1 && e % 1 == 0 && e < t
        }
    },
    72764: function(e, t) {
        "use strict";
        var n = Object.prototype;
        t.Z = function isPrototype(e) {
            var t = e && e.constructor;
            return e === ("function" == typeof t && t.prototype || n)
        }
    },
    98351: function(e, t, n) {
        "use strict";
        var a = n(13413)
          , l = "object" == typeof exports && exports && !exports.nodeType && exports
          , f = l && "object" == typeof module && module && !module.nodeType && module
          , h = f && f.exports === l && a.Z.process
          , p = function() {
            try {
                var e = f && f.require && f.require("util").types;
                return e || h && h.binding && h.binding("util")
            } catch (t) {}
        }();
        t.Z = p
    },
    1851: function(e, t) {
        "use strict";
        t.Z = function overArg(e, t) {
            return function(n) {
                return e(t(n))
            }
        }
    },
    66092: function(e, t, n) {
        "use strict";
        var a = n(13413)
          , l = "object" == typeof self && self && self.Object === Object && self
          , f = a.Z || l || Function("return this")();
        t.Z = f
    },
    36409: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return m
            }
        });
        var a = n(77226)
          , l = n(66092)
          , lodash_es_now = function() {
            return l.Z.Date.now()
        }
          , f = n(43878)
          , h = Math.max
          , p = Math.min;
        var m = function debounce(e, t, n) {
            var l, m, g, v, y, b, _ = 0, C = !1, A = !1, S = !0;
            if ("function" != typeof e)
                throw new TypeError("Expected a function");
            function invokeFunc(t) {
                var n = l
                  , a = m;
                return l = m = void 0,
                _ = t,
                v = e.apply(a, n)
            }
            function leadingEdge(e) {
                return _ = e,
                y = setTimeout(timerExpired, t),
                C ? invokeFunc(e) : v
            }
            function shouldInvoke(e) {
                var n = e - b;
                return void 0 === b || n >= t || n < 0 || A && e - _ >= g
            }
            function timerExpired() {
                var e = lodash_es_now();
                if (shouldInvoke(e))
                    return trailingEdge(e);
                y = setTimeout(timerExpired, function remainingWait(e) {
                    var n = t - (e - b);
                    return A ? p(n, g - (e - _)) : n
                }(e))
            }
            function trailingEdge(e) {
                return y = void 0,
                S && l ? invokeFunc(e) : (l = m = void 0,
                v)
            }
            function debounced() {
                var e = lodash_es_now()
                  , n = shouldInvoke(e);
                if (l = arguments,
                m = this,
                b = e,
                n) {
                    if (void 0 === y)
                        return leadingEdge(b);
                    if (A)
                        return clearTimeout(y),
                        y = setTimeout(timerExpired, t),
                        invokeFunc(b)
                }
                return void 0 === y && (y = setTimeout(timerExpired, t)),
                v
            }
            return t = (0,
            f.Z)(t) || 0,
            (0,
            a.Z)(n) && (C = !!n.leading,
            g = (A = "maxWait"in n) ? h((0,
            f.Z)(n.maxWait) || 0, t) : g,
            S = "trailing"in n ? !!n.trailing : S),
            debounced.cancel = function cancel() {
                void 0 !== y && clearTimeout(y),
                _ = 0,
                l = b = m = y = void 0
            }
            ,
            debounced.flush = function flush() {
                return void 0 === y ? v : trailingEdge(lodash_es_now())
            }
            ,
            debounced
        }
    },
    45898: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return m
            }
        });
        var a = n(61395)
          , l = n(14329);
        var f = function baseForOwn(e, t) {
            return e && (0,
            a.Z)(e, t, l.Z)
        }
          , h = n(69203);
        var p = function castFunction(e) {
            return "function" == typeof e ? e : h.Z
        };
        var m = function forOwn(e, t) {
            return e && f(e, p(t))
        }
    },
    69203: function(e, t) {
        "use strict";
        t.Z = function identity(e) {
            return e
        }
    },
    29169: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return v
            }
        });
        var a = n(93589)
          , l = n(18533);
        var f = function baseIsArguments(e) {
            return (0,
            l.Z)(e) && "[object Arguments]" == (0,
            a.Z)(e)
        }
          , h = Object.prototype
          , p = h.hasOwnProperty
          , m = h.propertyIsEnumerable
          , g = f(function() {
            return arguments
        }()) ? f : function(e) {
            return (0,
            l.Z)(e) && p.call(e, "callee") && !m.call(e, "callee")
        }
          , v = g
    },
    27771: function(e, t) {
        "use strict";
        var n = Array.isArray;
        t.Z = n
    },
    50585: function(e, t, n) {
        "use strict";
        var a = n(73234)
          , l = n(1656);
        t.Z = function isArrayLike(e) {
            return null != e && (0,
            l.Z)(e.length) && !(0,
            a.Z)(e)
        }
    },
    77008: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return m
            }
        });
        var a = n(66092);
        var l = function stubFalse() {
            return !1
        }
          , f = "object" == typeof exports && exports && !exports.nodeType && exports
          , h = f && "object" == typeof module && module && !module.nodeType && module
          , p = h && h.exports === f ? a.Z.Buffer : void 0
          , m = (p ? p.isBuffer : void 0) || l
    },
    73234: function(e, t, n) {
        "use strict";
        var a = n(93589)
          , l = n(77226);
        t.Z = function isFunction(e) {
            if (!(0,
            l.Z)(e))
                return !1;
            var t = (0,
            a.Z)(e);
            return "[object Function]" == t || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t
        }
    },
    1656: function(e, t) {
        "use strict";
        t.Z = function isLength(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991
        }
    },
    77226: function(e, t) {
        "use strict";
        t.Z = function isObject(e) {
            var t = typeof e;
            return null != e && ("object" == t || "function" == t)
        }
    },
    18533: function(e, t) {
        "use strict";
        t.Z = function isObjectLike(e) {
            return null != e && "object" == typeof e
        }
    },
    18843: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return y
            }
        });
        var a = n(93589)
          , l = n(1656)
          , f = n(18533)
          , h = {};
        h["[object Float32Array]"] = h["[object Float64Array]"] = h["[object Int8Array]"] = h["[object Int16Array]"] = h["[object Int32Array]"] = h["[object Uint8Array]"] = h["[object Uint8ClampedArray]"] = h["[object Uint16Array]"] = h["[object Uint32Array]"] = !0,
        h["[object Arguments]"] = h["[object Array]"] = h["[object ArrayBuffer]"] = h["[object Boolean]"] = h["[object DataView]"] = h["[object Date]"] = h["[object Error]"] = h["[object Function]"] = h["[object Map]"] = h["[object Number]"] = h["[object Object]"] = h["[object RegExp]"] = h["[object Set]"] = h["[object String]"] = h["[object WeakMap]"] = !1;
        var p = function baseIsTypedArray(e) {
            return (0,
            f.Z)(e) && (0,
            l.Z)(e.length) && !!h[(0,
            a.Z)(e)]
        }
          , m = n(21162)
          , g = n(98351)
          , v = g.Z && g.Z.isTypedArray
          , y = v ? (0,
        m.Z)(v) : p
    },
    14329: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return g
            }
        });
        var a = n(87668)
          , l = n(72764)
          , f = (0,
        n(1851).Z)(Object.keys, Object)
          , h = Object.prototype.hasOwnProperty;
        var p = function baseKeys(e) {
            if (!(0,
            l.Z)(e))
                return f(e);
            var t = [];
            for (var n in Object(e))
                h.call(e, n) && "constructor" != n && t.push(n);
            return t
        }
          , m = n(50585);
        var g = function keys(e) {
            return (0,
            m.Z)(e) ? (0,
            a.Z)(e) : p(e)
        }
    },
    111: function(e, t, n) {
        "use strict";
        var a = n(36409)
          , l = n(77226);
        t.Z = function throttle(e, t, n) {
            var f = !0
              , h = !0;
            if ("function" != typeof e)
                throw new TypeError("Expected a function");
            return (0,
            l.Z)(n) && (f = "leading"in n ? !!n.leading : f,
            h = "trailing"in n ? !!n.trailing : h),
            (0,
            a.Z)(e, t, {
                leading: f,
                maxWait: t,
                trailing: h
            })
        }
    },
    43878: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return b
            }
        });
        var a = n(77226)
          , l = n(93589)
          , f = n(18533);
        var h = function isSymbol(e) {
            return "symbol" == typeof e || (0,
            f.Z)(e) && "[object Symbol]" == (0,
            l.Z)(e)
        }
          , p = /^\s+|\s+$/g
          , m = /^[-+]0x[0-9a-f]+$/i
          , g = /^0b[01]+$/i
          , v = /^0o[0-7]+$/i
          , y = parseInt;
        var b = function toNumber(e) {
            if ("number" == typeof e)
                return e;
            if (h(e))
                return NaN;
            if ((0,
            a.Z)(e)) {
                var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                e = (0,
                a.Z)(t) ? t + "" : t
            }
            if ("string" != typeof e)
                return 0 === e ? e : +e;
            e = e.replace(p, "");
            var n = g.test(e);
            return n || v.test(e) ? y(e.slice(2), n ? 2 : 8) : m.test(e) ? NaN : +e
        }
    }
}]);
